!function(e){var t={};function i(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=t,i.d=function(e,t,o){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(o,r,function(t){return e[t]}.bind(null,r));return o},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=6)}([function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=i(2),r=i(3);window.firebase.initializeApp({apiKey:"AIzaSyC4PKlVTVWpQbN4459w9QfO-q3Ta3SzoZs",authDomain:"english-verbs-game.firebaseapp.com",databaseURL:"https://english-verbs-game.firebaseio.com",projectId:"english-verbs-game",storageBucket:"english-verbs-game.appspot.com",messagingSenderId:"878642607039",appId:"1:878642607039:web:e1d0c5a1c6d78c20e8670a",measurementId:"G-NZ5V5BZDXH"});var s=new window.firebase.auth.GoogleAuthProvider;function n(e,t,i){window.firebase.database().ref("users/"+e).set({points:t,name:i})}function a(){localStorage.setItem("isRedirecting",""),window.firebase.auth().signInWithRedirect(s)}s.setCustomParameters({prompt:"select_account"}),window.firebase.auth().languageCode="pl",window.firebase.auth().getRedirectResult().then((function(e){if(e.credential){console.log("logged");let t,i=e.user;window.firebase.database().ref("/users/"+i.uid).once("value").then((function(e){if(null!==e.val()){t=e.val().points;o.showTheGame(i.displayName,i.email,i.uid,t,"Witaj ponownie")}else{t={A2:0,B1:0,B2:0,C1:0,C2:0,All:0},n(i.uid,t,i.displayName);o.showTheGame(i.displayName,i.email,i.uid,t,"Dziękujemy za rejestrację")}localStorage.setItem("user-info",JSON.stringify({user:i})),localStorage.setItem("points",JSON.stringify({points:t}))}))}})).catch((function(e){var t=e.message;console.log(t);r.showLog("Coś poszło nie tak","Spróbuj ponownie za kilka minut",!1,!0)})),t.writeUserData=n,t.reportBugToServer=function(e,t){console.log(t),window.firebase.database().ref("users/"+e).push(t)},t.redirectingSignUp=a,document.querySelector("#nowekonto").addEventListener("click",a),document.querySelector("#zaloguj").addEventListener("click",a),null==localStorage.getItem("isRedirecting")&&document.body.classList.add("ready")},function(e,t,i){"use strict";i.r(t);
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
const o=new WeakMap,r=e=>"function"==typeof e&&o.has(e),s=void 0!==window.customElements&&void 0!==window.customElements.polyfillWrapFlushCallback,n=(e,t,i=null,o=null)=>{for(;t!==i;){const i=t.nextSibling;e.insertBefore(t,o),t=i}},a=(e,t,i=null)=>{for(;t!==i;){const i=t.nextSibling;e.removeChild(t),t=i}},l={},c={},d=`{{lit-${String(Math.random()).slice(2)}}}`,u=`\x3c!--${d}--\x3e`,h=new RegExp(`${d}|${u}`),p="$lit$";class m{constructor(e,t){this.parts=[],this.element=t;const i=[],o=[],r=document.createTreeWalker(t.content,133,null,!1);let s=0,n=-1,a=0;const{strings:l,values:{length:c}}=e;for(;a<c;){const e=r.nextNode();if(null!==e){if(n++,1===e.nodeType){if(e.hasAttributes()){const t=e.attributes,{length:i}=t;let o=0;for(let e=0;e<i;e++)f(t[e].name,p)&&o++;for(;o-- >0;){const t=l[a],i=y.exec(t)[2],o=i.toLowerCase()+p,r=e.getAttribute(o);e.removeAttribute(o);const s=r.split(h);this.parts.push({type:"attribute",index:n,name:i,strings:s}),a+=s.length-1}}"TEMPLATE"===e.tagName&&(o.push(e),r.currentNode=e.content)}else if(3===e.nodeType){const t=e.data;if(t.indexOf(d)>=0){const o=e.parentNode,r=t.split(h),s=r.length-1;for(let t=0;t<s;t++){let i,s=r[t];if(""===s)i=w();else{const e=y.exec(s);null!==e&&f(e[2],p)&&(s=s.slice(0,e.index)+e[1]+e[2].slice(0,-p.length)+e[3]),i=document.createTextNode(s)}o.insertBefore(i,e),this.parts.push({type:"node",index:++n})}""===r[s]?(o.insertBefore(w(),e),i.push(e)):e.data=r[s],a+=s}}else if(8===e.nodeType)if(e.data===d){const t=e.parentNode;null!==e.previousSibling&&n!==s||(n++,t.insertBefore(w(),e)),s=n,this.parts.push({type:"node",index:n}),null===e.nextSibling?e.data="":(i.push(e),n--),a++}else{let t=-1;for(;-1!==(t=e.data.indexOf(d,t+1));)this.parts.push({type:"node",index:-1}),a++}}else r.currentNode=o.pop()}for(const e of i)e.parentNode.removeChild(e)}}const f=(e,t)=>{const i=e.length-t.length;return i>=0&&e.slice(i)===t},g=e=>-1!==e.index,w=()=>document.createComment(""),y=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F "'>=/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/;
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
class b{constructor(e,t,i){this.__parts=[],this.template=e,this.processor=t,this.options=i}update(e){let t=0;for(const i of this.__parts)void 0!==i&&i.setValue(e[t]),t++;for(const e of this.__parts)void 0!==e&&e.commit()}_clone(){const e=s?this.template.element.content.cloneNode(!0):document.importNode(this.template.element.content,!0),t=[],i=this.template.parts,o=document.createTreeWalker(e,133,null,!1);let r,n=0,a=0,l=o.nextNode();for(;n<i.length;)if(r=i[n],g(r)){for(;a<r.index;)a++,"TEMPLATE"===l.nodeName&&(t.push(l),o.currentNode=l.content),null===(l=o.nextNode())&&(o.currentNode=t.pop(),l=o.nextNode());if("node"===r.type){const e=this.processor.handleTextExpression(this.options);e.insertAfterNode(l.previousSibling),this.__parts.push(e)}else this.__parts.push(...this.processor.handleAttributeExpressions(l,r.name,r.strings,this.options));n++}else this.__parts.push(void 0),n++;return s&&(document.adoptNode(e),customElements.upgrade(e)),e}}
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const v=` ${d} `;class k{constructor(e,t,i,o){this.strings=e,this.values=t,this.type=i,this.processor=o}getHTML(){const e=this.strings.length-1;let t="",i=!1;for(let o=0;o<e;o++){const e=this.strings[o],r=e.lastIndexOf("\x3c!--");i=(r>-1||i)&&-1===e.indexOf("--\x3e",r+1);const s=y.exec(e);t+=null===s?e+(i?v:u):e.substr(0,s.index)+s[1]+s[2]+p+s[3]+d}return t+=this.strings[e]}getTemplateElement(){const e=document.createElement("template");return e.innerHTML=this.getHTML(),e}}class x extends k{getHTML(){return`<svg>${super.getHTML()}</svg>`}getTemplateElement(){const e=super.getTemplateElement(),t=e.content,i=t.firstChild;return t.removeChild(i),n(t,i.firstChild),e}}
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const _=e=>null===e||!("object"==typeof e||"function"==typeof e),z=e=>Array.isArray(e)||!(!e||!e[Symbol.iterator]);class S{constructor(e,t,i){this.dirty=!0,this.element=e,this.name=t,this.strings=i,this.parts=[];for(let e=0;e<i.length-1;e++)this.parts[e]=this._createPart()}_createPart(){return new C(this)}_getValue(){const e=this.strings,t=e.length-1;let i="";for(let o=0;o<t;o++){i+=e[o];const t=this.parts[o];if(void 0!==t){const e=t.value;if(_(e)||!z(e))i+="string"==typeof e?e:String(e);else for(const t of e)i+="string"==typeof t?t:String(t)}}return i+=e[t]}commit(){this.dirty&&(this.dirty=!1,this.element.setAttribute(this.name,this._getValue()))}}class C{constructor(e){this.value=void 0,this.committer=e}setValue(e){e===l||_(e)&&e===this.value||(this.value=e,r(e)||(this.committer.dirty=!0))}commit(){for(;r(this.value);){const e=this.value;this.value=l,e(this)}this.value!==l&&this.committer.commit()}}class P{constructor(e){this.value=void 0,this.__pendingValue=void 0,this.options=e}appendInto(e){this.startNode=e.appendChild(w()),this.endNode=e.appendChild(w())}insertAfterNode(e){this.startNode=e,this.endNode=e.nextSibling}appendIntoPart(e){e.__insert(this.startNode=w()),e.__insert(this.endNode=w())}insertAfterPart(e){e.__insert(this.startNode=w()),this.endNode=e.endNode,e.endNode=this.startNode}setValue(e){this.__pendingValue=e}commit(){for(;r(this.__pendingValue);){const e=this.__pendingValue;this.__pendingValue=l,e(this)}const e=this.__pendingValue;e!==l&&(_(e)?e!==this.value&&this.__commitText(e):e instanceof k?this.__commitTemplateResult(e):e instanceof Node?this.__commitNode(e):z(e)?this.__commitIterable(e):e===c?(this.value=c,this.clear()):this.__commitText(e))}__insert(e){this.endNode.parentNode.insertBefore(e,this.endNode)}__commitNode(e){this.value!==e&&(this.clear(),this.__insert(e),this.value=e)}__commitText(e){const t=this.startNode.nextSibling,i="string"==typeof(e=null==e?"":e)?e:String(e);t===this.endNode.previousSibling&&3===t.nodeType?t.data=i:this.__commitNode(document.createTextNode(i)),this.value=e}__commitTemplateResult(e){const t=this.options.templateFactory(e);if(this.value instanceof b&&this.value.template===t)this.value.update(e.values);else{const i=new b(t,e.processor,this.options),o=i._clone();i.update(e.values),this.__commitNode(o),this.value=i}}__commitIterable(e){Array.isArray(this.value)||(this.value=[],this.clear());const t=this.value;let i,o=0;for(const r of e)void 0===(i=t[o])&&(i=new P(this.options),t.push(i),0===o?i.appendIntoPart(this):i.insertAfterPart(t[o-1])),i.setValue(r),i.commit(),o++;o<t.length&&(t.length=o,this.clear(i&&i.endNode))}clear(e=this.startNode){a(this.startNode.parentNode,e.nextSibling,this.endNode)}}class A{constructor(e,t,i){if(this.value=void 0,this.__pendingValue=void 0,2!==i.length||""!==i[0]||""!==i[1])throw new Error("Boolean attributes can only contain a single expression");this.element=e,this.name=t,this.strings=i}setValue(e){this.__pendingValue=e}commit(){for(;r(this.__pendingValue);){const e=this.__pendingValue;this.__pendingValue=l,e(this)}if(this.__pendingValue===l)return;const e=!!this.__pendingValue;this.value!==e&&(e?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name),this.value=e),this.__pendingValue=l}}class j extends S{constructor(e,t,i){super(e,t,i),this.single=2===i.length&&""===i[0]&&""===i[1]}_createPart(){return new N(this)}_getValue(){return this.single?this.parts[0].value:super._getValue()}commit(){this.dirty&&(this.dirty=!1,this.element[this.name]=this._getValue())}}class N extends C{}let T=!1;try{const e={get capture(){return T=!0,!1}};window.addEventListener("test",e,e),window.removeEventListener("test",e,e)}catch(e){}class E{constructor(e,t,i){this.value=void 0,this.__pendingValue=void 0,this.element=e,this.eventName=t,this.eventContext=i,this.__boundHandleEvent=e=>this.handleEvent(e)}setValue(e){this.__pendingValue=e}commit(){for(;r(this.__pendingValue);){const e=this.__pendingValue;this.__pendingValue=l,e(this)}if(this.__pendingValue===l)return;const e=this.__pendingValue,t=this.value,i=null==e||null!=t&&(e.capture!==t.capture||e.once!==t.once||e.passive!==t.passive),o=null!=e&&(null==t||i);i&&this.element.removeEventListener(this.eventName,this.__boundHandleEvent,this.__options),o&&(this.__options=q(e),this.element.addEventListener(this.eventName,this.__boundHandleEvent,this.__options)),this.value=e,this.__pendingValue=l}handleEvent(e){"function"==typeof this.value?this.value.call(this.eventContext||this.element,e):this.value.handleEvent(e)}}const q=e=>e&&(T?{capture:e.capture,passive:e.passive,once:e.once}:e.capture);
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const O=new class{handleAttributeExpressions(e,t,i,o){const r=t[0];if("."===r){return new j(e,t.slice(1),i).parts}return"@"===r?[new E(e,t.slice(1),o.eventContext)]:"?"===r?[new A(e,t.slice(1),i)]:new S(e,t,i).parts}handleTextExpression(e){return new P(e)}};
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */function R(e){let t=$.get(e.type);void 0===t&&(t={stringsArray:new WeakMap,keyString:new Map},$.set(e.type,t));let i=t.stringsArray.get(e.strings);if(void 0!==i)return i;const o=e.strings.join(d);return void 0===(i=t.keyString.get(o))&&(i=new m(e,e.getTemplateElement()),t.keyString.set(o,i)),t.stringsArray.set(e.strings,i),i}const $=new Map,V=new WeakMap;
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
(window.litHtmlVersions||(window.litHtmlVersions=[])).push("1.1.2");const M=(e,...t)=>new k(e,t,"html",O),U=(e,...t)=>new x(e,t,"svg",O),I=133;function L(e,t){const{element:{content:i},parts:o}=e,r=document.createTreeWalker(i,I,null,!1);let s=W(o),n=o[s],a=-1,l=0;const c=[];let d=null;for(;r.nextNode();){a++;const e=r.currentNode;for(e.previousSibling===d&&(d=null),t.has(e)&&(c.push(e),null===d&&(d=e)),null!==d&&l++;void 0!==n&&n.index===a;)n.index=null!==d?-1:n.index-l,n=o[s=W(o,s)]}c.forEach(e=>e.parentNode.removeChild(e))}const B=e=>{let t=11===e.nodeType?0:1;const i=document.createTreeWalker(e,I,null,!1);for(;i.nextNode();)t++;return t},W=(e,t=-1)=>{for(let i=t+1;i<e.length;i++){const t=e[i];if(g(t))return i}return-1};
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
const F=(e,t)=>`${e}--${t}`;let H=!0;void 0===window.ShadyCSS?H=!1:void 0===window.ShadyCSS.prepareTemplateDom&&(console.warn("Incompatible ShadyCSS version detected. Please update to at least @webcomponents/webcomponentsjs@2.0.2 and @webcomponents/shadycss@1.3.1."),H=!1);const J=e=>t=>{const i=F(t.type,e);let o=$.get(i);void 0===o&&(o={stringsArray:new WeakMap,keyString:new Map},$.set(i,o));let r=o.stringsArray.get(t.strings);if(void 0!==r)return r;const s=t.strings.join(d);if(void 0===(r=o.keyString.get(s))){const i=t.getTemplateElement();H&&window.ShadyCSS.prepareTemplateDom(i,e),r=new m(t,i),o.keyString.set(s,r)}return o.stringsArray.set(t.strings,r),r},X=["html","svg"],D=new Set,G=(e,t,i)=>{D.add(e);const o=i?i.element:document.createElement("template"),r=t.querySelectorAll("style"),{length:s}=r;if(0===s)return void window.ShadyCSS.prepareTemplateStyles(o,e);const n=document.createElement("style");for(let e=0;e<s;e++){const t=r[e];t.parentNode.removeChild(t),n.textContent+=t.textContent}(e=>{X.forEach(t=>{const i=$.get(F(t,e));void 0!==i&&i.keyString.forEach(e=>{const{element:{content:t}}=e,i=new Set;Array.from(t.querySelectorAll("style")).forEach(e=>{i.add(e)}),L(e,i)})})})(e);const a=o.content;i?function(e,t,i=null){const{element:{content:o},parts:r}=e;if(null==i)return void o.appendChild(t);const s=document.createTreeWalker(o,I,null,!1);let n=W(r),a=0,l=-1;for(;s.nextNode();){for(l++,s.currentNode===i&&(a=B(t),i.parentNode.insertBefore(t,i));-1!==n&&r[n].index===l;){if(a>0){for(;-1!==n;)r[n].index+=a,n=W(r,n);return}n=W(r,n)}}}(i,n,a.firstChild):a.insertBefore(n,a.firstChild),window.ShadyCSS.prepareTemplateStyles(o,e);const l=a.querySelector("style");if(window.ShadyCSS.nativeShadow&&null!==l)t.insertBefore(l.cloneNode(!0),t.firstChild);else if(i){a.insertBefore(n,a.firstChild);const e=new Set;e.add(n),L(i,e)}};window.JSCompiler_renameProperty=(e,t)=>e;const Z={toAttribute(e,t){switch(t){case Boolean:return e?"":null;case Object:case Array:return null==e?e:JSON.stringify(e)}return e},fromAttribute(e,t){switch(t){case Boolean:return null!==e;case Number:return null===e?null:Number(e);case Object:case Array:return JSON.parse(e)}return e}},Y=(e,t)=>t!==e&&(t==t||e==e),K={attribute:!0,type:String,converter:Z,reflect:!1,hasChanged:Y},Q=Promise.resolve(!0),ee=1,te=4,ie=8,oe=16,re=32,se="finalized";class ne extends HTMLElement{constructor(){super(),this._updateState=0,this._instanceProperties=void 0,this._updatePromise=Q,this._hasConnectedResolver=void 0,this._changedProperties=new Map,this._reflectingProperties=void 0,this.initialize()}static get observedAttributes(){this.finalize();const e=[];return this._classProperties.forEach((t,i)=>{const o=this._attributeNameForProperty(i,t);void 0!==o&&(this._attributeToPropertyMap.set(o,i),e.push(o))}),e}static _ensureClassProperties(){if(!this.hasOwnProperty(JSCompiler_renameProperty("_classProperties",this))){this._classProperties=new Map;const e=Object.getPrototypeOf(this)._classProperties;void 0!==e&&e.forEach((e,t)=>this._classProperties.set(t,e))}}static createProperty(e,t=K){if(this._ensureClassProperties(),this._classProperties.set(e,t),t.noAccessor||this.prototype.hasOwnProperty(e))return;const i="symbol"==typeof e?Symbol():`__${e}`;Object.defineProperty(this.prototype,e,{get(){return this[i]},set(t){const o=this[e];this[i]=t,this._requestUpdate(e,o)},configurable:!0,enumerable:!0})}static finalize(){const e=Object.getPrototypeOf(this);if(e.hasOwnProperty(se)||e.finalize(),this[se]=!0,this._ensureClassProperties(),this._attributeToPropertyMap=new Map,this.hasOwnProperty(JSCompiler_renameProperty("properties",this))){const e=this.properties,t=[...Object.getOwnPropertyNames(e),..."function"==typeof Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e):[]];for(const i of t)this.createProperty(i,e[i])}}static _attributeNameForProperty(e,t){const i=t.attribute;return!1===i?void 0:"string"==typeof i?i:"string"==typeof e?e.toLowerCase():void 0}static _valueHasChanged(e,t,i=Y){return i(e,t)}static _propertyValueFromAttribute(e,t){const i=t.type,o=t.converter||Z,r="function"==typeof o?o:o.fromAttribute;return r?r(e,i):e}static _propertyValueToAttribute(e,t){if(void 0===t.reflect)return;const i=t.type,o=t.converter;return(o&&o.toAttribute||Z.toAttribute)(e,i)}initialize(){this._saveInstanceProperties(),this._requestUpdate()}_saveInstanceProperties(){this.constructor._classProperties.forEach((e,t)=>{if(this.hasOwnProperty(t)){const e=this[t];delete this[t],this._instanceProperties||(this._instanceProperties=new Map),this._instanceProperties.set(t,e)}})}_applyInstanceProperties(){this._instanceProperties.forEach((e,t)=>this[t]=e),this._instanceProperties=void 0}connectedCallback(){this._updateState=this._updateState|re,this._hasConnectedResolver&&(this._hasConnectedResolver(),this._hasConnectedResolver=void 0)}disconnectedCallback(){}attributeChangedCallback(e,t,i){t!==i&&this._attributeToProperty(e,i)}_propertyToAttribute(e,t,i=K){const o=this.constructor,r=o._attributeNameForProperty(e,i);if(void 0!==r){const e=o._propertyValueToAttribute(t,i);if(void 0===e)return;this._updateState=this._updateState|ie,null==e?this.removeAttribute(r):this.setAttribute(r,e),this._updateState=this._updateState&~ie}}_attributeToProperty(e,t){if(this._updateState&ie)return;const i=this.constructor,o=i._attributeToPropertyMap.get(e);if(void 0!==o){const e=i._classProperties.get(o)||K;this._updateState=this._updateState|oe,this[o]=i._propertyValueFromAttribute(t,e),this._updateState=this._updateState&~oe}}_requestUpdate(e,t){let i=!0;if(void 0!==e){const o=this.constructor,r=o._classProperties.get(e)||K;o._valueHasChanged(this[e],t,r.hasChanged)?(this._changedProperties.has(e)||this._changedProperties.set(e,t),!0!==r.reflect||this._updateState&oe||(void 0===this._reflectingProperties&&(this._reflectingProperties=new Map),this._reflectingProperties.set(e,r))):i=!1}!this._hasRequestedUpdate&&i&&this._enqueueUpdate()}requestUpdate(e,t){return this._requestUpdate(e,t),this.updateComplete}async _enqueueUpdate(){let e,t;this._updateState=this._updateState|te;const i=this._updatePromise;this._updatePromise=new Promise((i,o)=>{e=i,t=o});try{await i}catch(e){}this._hasConnected||await new Promise(e=>this._hasConnectedResolver=e);try{const e=this.performUpdate();null!=e&&await e}catch(e){t(e)}e(!this._hasRequestedUpdate)}get _hasConnected(){return this._updateState&re}get _hasRequestedUpdate(){return this._updateState&te}get hasUpdated(){return this._updateState&ee}performUpdate(){this._instanceProperties&&this._applyInstanceProperties();let e=!1;const t=this._changedProperties;try{(e=this.shouldUpdate(t))&&this.update(t)}catch(t){throw e=!1,t}finally{this._markUpdated()}e&&(this._updateState&ee||(this._updateState=this._updateState|ee,this.firstUpdated(t)),this.updated(t))}_markUpdated(){this._changedProperties=new Map,this._updateState=this._updateState&~te}get updateComplete(){return this._getUpdateComplete()}_getUpdateComplete(){return this._updatePromise}shouldUpdate(e){return!0}update(e){void 0!==this._reflectingProperties&&this._reflectingProperties.size>0&&(this._reflectingProperties.forEach((e,t)=>this._propertyToAttribute(t,this[t],e)),this._reflectingProperties=void 0)}updated(e){}firstUpdated(e){}}ne[se]=!0;
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
const ae=e=>t=>"function"==typeof t?((e,t)=>(window.customElements.define(e,t),t))(e,t):((e,t)=>{const{kind:i,elements:o}=t;return{kind:i,elements:o,finisher(t){window.customElements.define(e,t)}}})(e,t),le=(e,t)=>"method"!==t.kind||!t.descriptor||"value"in t.descriptor?{kind:"field",key:Symbol(),placement:"own",descriptor:{},initializer(){"function"==typeof t.initializer&&(this[t.key]=t.initializer.call(this))},finisher(i){i.createProperty(t.key,e)}}:Object.assign({},t,{finisher(i){i.createProperty(t.key,e)}}),ce=(e,t,i)=>{t.constructor.createProperty(i,e)};function de(e){return(t,i)=>void 0!==i?ce(e,t,i):le(e,t)}function ue(e){return(t,i)=>{const o={get(){return this.renderRoot.querySelector(e)},enumerable:!0,configurable:!0};return void 0!==i?pe(o,t,i):me(o,t)}}function he(e){return(t,i)=>{const o={get(){return this.renderRoot.querySelectorAll(e)},enumerable:!0,configurable:!0};return void 0!==i?pe(o,t,i):me(o,t)}}const pe=(e,t,i)=>{Object.defineProperty(t,i,e)},me=(e,t)=>({kind:"method",placement:"prototype",key:t.key,descriptor:e}),fe=e=>(t,i)=>void 0!==i?((e,t,i)=>{Object.assign(t[i],e)})(e,t,i):((e,t)=>Object.assign({},t,{finisher(i){Object.assign(i.prototype[t.key],e)}}))(e,t),ge="adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,we=Symbol();class ye{constructor(e,t){if(t!==we)throw new Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e}get styleSheet(){return void 0===this._styleSheet&&(ge?(this._styleSheet=new CSSStyleSheet,this._styleSheet.replaceSync(this.cssText)):this._styleSheet=null),this._styleSheet}toString(){return this.cssText}}const be=e=>new ye(String(e),we),ve=(e,...t)=>{const i=t.reduce((t,i,o)=>t+(e=>{if(e instanceof ye)return e.cssText;if("number"==typeof e)return e;throw new Error(`Value passed to 'css' function must be a 'css' function result: ${e}. Use 'unsafeCSS' to pass non-literal values, but\n            take care to ensure page security.`)})(i)+e[o+1],e[0]);return new ye(i,we)};i.d(t,"LitElement",(function(){return xe})),i.d(t,"defaultConverter",(function(){return Z})),i.d(t,"notEqual",(function(){return Y})),i.d(t,"UpdatingElement",(function(){return ne})),i.d(t,"customElement",(function(){return ae})),i.d(t,"property",(function(){return de})),i.d(t,"query",(function(){return ue})),i.d(t,"queryAll",(function(){return he})),i.d(t,"eventOptions",(function(){return fe})),i.d(t,"html",(function(){return M})),i.d(t,"svg",(function(){return U})),i.d(t,"TemplateResult",(function(){return k})),i.d(t,"SVGTemplateResult",(function(){return x})),i.d(t,"supportsAdoptingStyleSheets",(function(){return ge})),i.d(t,"CSSResult",(function(){return ye})),i.d(t,"unsafeCSS",(function(){return be})),i.d(t,"css",(function(){return ve})),
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
(window.litElementVersions||(window.litElementVersions=[])).push("2.2.1");const ke=e=>e.flat?e.flat(1/0):function e(t,i=[]){for(let o=0,r=t.length;o<r;o++){const r=t[o];Array.isArray(r)?e(r,i):i.push(r)}return i}(e);class xe extends ne{static finalize(){super.finalize.call(this),this._styles=this.hasOwnProperty(JSCompiler_renameProperty("styles",this))?this._getUniqueStyles():this._styles||[]}static _getUniqueStyles(){const e=this.styles,t=[];if(Array.isArray(e)){ke(e).reduceRight((e,t)=>(e.add(t),e),new Set).forEach(e=>t.unshift(e))}else e&&t.push(e);return t}initialize(){super.initialize(),this.renderRoot=this.createRenderRoot(),window.ShadowRoot&&this.renderRoot instanceof window.ShadowRoot&&this.adoptStyles()}createRenderRoot(){return this.attachShadow({mode:"open"})}adoptStyles(){const e=this.constructor._styles;0!==e.length&&(void 0===window.ShadyCSS||window.ShadyCSS.nativeShadow?ge?this.renderRoot.adoptedStyleSheets=e.map(e=>e.styleSheet):this._needsShimAdoptedStyleSheets=!0:window.ShadyCSS.ScopingShim.prepareAdoptedCssText(e.map(e=>e.cssText),this.localName))}connectedCallback(){super.connectedCallback(),this.hasUpdated&&void 0!==window.ShadyCSS&&window.ShadyCSS.styleElement(this)}update(e){super.update(e);const t=this.render();t instanceof k&&this.constructor.render(t,this.renderRoot,{scopeName:this.localName,eventContext:this}),this._needsShimAdoptedStyleSheets&&(this._needsShimAdoptedStyleSheets=!1,this.constructor._styles.forEach(e=>{const t=document.createElement("style");t.textContent=e.cssText,this.renderRoot.appendChild(t)}))}render(){}}xe.finalized=!0,xe.render=(e,t,i)=>{if(!i||"object"!=typeof i||!i.scopeName)throw new Error("The `scopeName` option is required.");const o=i.scopeName,r=V.has(t),s=H&&11===t.nodeType&&!!t.host,n=s&&!D.has(o),l=n?document.createDocumentFragment():t;if(((e,t,i)=>{let o=V.get(t);void 0===o&&(a(t,t.firstChild),V.set(t,o=new P(Object.assign({templateFactory:R},i))),o.appendInto(t)),o.setValue(e),o.commit()})(e,l,Object.assign({templateFactory:J(o)},i)),n){const e=V.get(l);V.delete(l);const i=e.value instanceof b?e.value.template:void 0;G(o,l,i),a(t,t.firstChild),t.appendChild(l),V.set(t,e)}!r&&s&&window.ShadyCSS.styleElement(t.host)}},function(e,t,i){"use strict";var o=this&&this.__awaiter||function(e,t,i,o){return new(i||(i=Promise))((function(r,s){function n(e){try{l(o.next(e))}catch(e){s(e)}}function a(e){try{l(o.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(n,a)}l((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const r=i(1),s=i(7),n=i(0),a=i(4),l=i(3);class c extends r.LitElement{constructor(){super(...arguments),this.points=0,this.levels=a.levels,this.i=0,this.n=0,this.l=0,this.ref=!1,this.speech=window.speechSynthesis,this.oldValue="A2"}static get properties(){return{}}static get styles(){return[r.css`
        :host {
          background: white;
          width: 100vw;
          height: 100vh;
          
          --global-font: "Cabin", sans-serif;
          --global-color: #3AAA35;
          --mobile-background-color: #ccd4e0;
          --mobile-top: linear-gradient(to bottom, #a57fff, #63bda2);
          --mobile-bottom: linear-gradient(to top, #a57fff, #63bda2);
          --mobile-global: #87c0c0;
          --desktop-color: #F9B233;
          --warn-color: #CB454E;
          --bad-color: #d65b63;
          --good-color: #7dffaf;
          overflow: hidden;
        }
        
        #title {
          font-family: var(--global-font);
          font-size: 2rem;
        }
        #menubutton:hover{
          transform: scale(1.2);
          cursor: pointer;
        }
        #container {
          display: flex;
          width: 100%;
          justify-content: center;
          text-align: center;
          height: 100%;
        }
        input {
          outline: 1px solid white;
          border: none;
          animation: borderFlicker 0.4s infinite alternate-reverse;
        }

        @keyframes borderFlicker {
          100% {
            outline: 1px var(--global-color) solid;
          }
        }
        @keyframes wrong {
          to {
            background-color: var(--bad-color);
            color: white;
            outline: 1px solid var(--bad-color);
          }
        }
        #translationparrot{
          width: 4rem;
          height: 4rem;
          -webkit-transform: scaleX(-1);
  transform: scaleX(-1);

        }
        input,
        .theword {
          width: 20vw;
          height: 30vh;
          font-size: 200%;
          display: flex;
          align-items: center;
          justify-content: center;
          text-align: center;
          font-family: var(--global-font);
         
        }
        input{
          background-color:  transparent;
          color: var(--global-color);
          outline: 1px solid transparent;
        }
 
        @keyframes stop {
          to {
            outline: 1px solid var(--global-color);
          }
        }
        .theword {
          cursor: pointer;
          border: 1px solid var(--global-color);
          background-color:  var(--global-color);
          color: white;
        }
        select {
          justify-self: flex-start;
          padding: 0.6rem;
          width: max-content;
          background-color: white;
          font-family: var(--global-font);
          color: black;
          border: 1px solid black;
          margin-top: .6rem;
        }

        option {
          padding: 0.4rem;
          font-family: var(--global-font);
          font-size: 120%;
          background-color: white;
          color: black;
          border: 1px solid black;
        }

        #below {
          display: flex;
          margin-top: 6vh;
          width: 100%;
          height: 2.4rem;
          font-size: 140%;
          justify-content: center;
          color: black;
          font-family: var(--global-font);
        }
       

        .icon {
          object-fit: contain;
          background-color: transparent;
          width: 4.2rem;
          height: 1.8rem;
          margin-left: 1rem;
        }

        .flip-card {
          background-color: transparent;
          width: 20vw;
          height: 30vh;
          perspective: 1000px;
        }

        .flip-card-inner {
          position: relative;
          width: 100%;
          height: 100%;
          text-align: center;
          transition: transform 0.8s;
          transform-style: preserve-3d;
        }

        .flip-card-front,
        .flip-card-back {
          position: absolute;
          width: 100%;
          height: 100%;
          backface-visibility: hidden;
          -webkit-backface-visibility: hidden;
        }
        #points {
            border: none;
            background: transparent;
            color: white;
          width: max-content;
          height: max-content;
          font-size: 1rem;
        
          font-family: var(--global-font);
        }

        .flip-card-back {
          cursor: pointer;
          background-color: var(--global-color);
          color: white;
          display: flex;
          justify-content: center;
          align-items: center;
          font-family: var(--global-font);
          font-size: 200%;
          transform: rotateY(180deg);
          outline: 1px solid var(--global-color);
        }
        #translationbox {
          width: 100%;
          text-align: center;
          height: max-content;
          background-color: transparent;
          color: black;
          padding: 0.2rem;
          font-size: 130%;
          margin-top: 16vh;
          margin-bottom: 4vh;
          z-index: 997;
          font-family: var(--global-font);
        }

        #speaker {
          font-family: Arial, Helvetica, sans-serif;
          font-size: 80%;
          margin-left: 0.7rem;
          width: 1.6rem;
          height: 1.6rem;
        }

        .hoverable {
          cursor: pointer;
          transform: scale(1.1);
        }

        #buttons {
          display:flex;
            background: var(--desktop-color);
            justify-content: space-between;
            height: 10vh;
            align-items: center;
            padding-left: 2%;
            padding-right: 2%;
            width: 96%;
            color: white;
          }
        
        .modal {
          display: flex;
          justify-content: center;
          align-items: center;
          position: fixed;
          top: 0;
          left: 0;
          width: 100%;
          height: 100vh;
          z-index: 999;
        }
        
        
        @keyframes accepted {
          to {
            background-color: var(--global-color);
            color: white;
            outline: 1px solid var(--global-color);
          }
        }

        .box {
          font-size: 2rem;
          background-color: white;
          display: flex;
          flex-direction: row;
          justify-content: center;
          color: black;
          width: max-content;
          padding: 1rem;
          box-shadow: 3px 3px 6px gray;
          font-family: var(--global-font);
          text-align: center;
        }
        .box>img{
          width: 8rem;
          height: 8rem;
          align-self: flex-start;
          margin-right: 4rem; -webkit-transform: scaleX(-1);
  transform: scaleX(-1);
  overflow: hidden;
        }

        @media only screen and (max-width: 600px) {
          :host {
            background-image: none;
           
          }
          .flip-card,
          input,
          .theword {
            width: 30vw;
            height: 20vh;
            font-size: 80%;
            padding-left: 0.1rem;
            padding-right: 0.1rem;
          }
          .flip-card-back {
            font-size: 90%;
          }
          #below {
            position: absolute;
            bottom: 0;
            left: 0;
            display: flex;
            margin-bottom: 0;
            background: var(--desktop-color);
            height: 8vh;
            align-items: center;
            color: black;
            width: 100%;
            justify-content: center;
            color: white;

          }
          #points {
            border: none;
            background: transparent;
            color: white;
          }
          #buttons {

            background: var(--desktop-color);
         
          }
          
        #title{
          font-size: 1rem;
        }
        #wrapper {
      
           display: flex;
          flex-direction: column;
          align-content: center;
          align-items: center;
          justify-content: center;
          justify-items: center;
          width: 100%;
          height: 100%;
          position: absolute;
          top: 0;
          left: 0;
          margin: 0;
          padding: 0;
        }
          #translationbox  {
            margin-top: 22vh;
            height: max-content;
            width: 80vw;
            text-align: center;
          }
         
          #buttons > svg {
            fill: white;
          }
          #speaker {
            margin-left: 0.3rem;
            font-size: 100%;
            width: 1rem;
            height: 1rem;
          }
          
          #box {
            font-size: 1.4rem;
            width: 90%;
            box-shadow: 3px 3px 3px gray;
          }
        }
      `]}firstUpdated(e){super.firstUpdated(e),this.profileCard=this.shadowRoot.querySelector("#settings"),this.points=this.pointCollection.A2,this.container=this.shadowRoot.querySelector("#container"),this.congratulations=this.shadowRoot.querySelector("#congratulations"),this.congratulations.style.display="none",this.data=this.levels.A2,this.l=Object.entries(this.data).length,this.i=Math.floor(Math.random()*this.l),this.n=Math.floor(3*Math.random());let t=Object.entries(this.data)[this.i];t[0].includes(" ")?this.translation=Object.values(t)[0].toString():this.translation=t[0];let i=t.slice(0);this.correctWord=Array.from(i[1]),this.greet(),this.requestUpdate()}greet(){setTimeout(()=>{this.shadowRoot.querySelector("#greeting").style.display="none",this.wordsAnimation()},2400)}wordsAnimation(){requestAnimationFrame(()=>{Array.from(this.shadowRoot.querySelectorAll(".theword, input")).forEach((e,t)=>{e.animate([{transform:"translateY(-20px)"},{transform:"translateY(0px)"}],{duration:600,delay:100*t})})})}selectionChoice(e){"All"===e?Object.values(this.levels).map(e=>this.data=Object.assign({},e)):this.data=this.levels[`${e}`],this.points=this.pointCollection[`${e}`],requestAnimationFrame(()=>{this.wordsAnimation()}),this.refreshNumber()}menuFunctionality(){this.profileCard.style.transform="translateX(0vw)",requestAnimationFrame(()=>{this.shadowRoot.querySelector("#wrapper").onclick=()=>{this.profileCard.style.transform="translateX(-80vw)",requestAnimationFrame(()=>{this.shadowRoot.querySelector("#wrapper").onclick=null})}})}pointsAddition(){this.points=this.points+1,this.pointCollection[`${this.oldValue}`]=this.points,n.writeUserData(this.user.uid,this.pointCollection,this.user.name),this.requestUpdate(),this.profileCard.requestUpdate()}showTheAnswer(){this.shadowRoot.querySelector(".flip-card-inner").style.transform="rotateY(180deg)",this.requestUpdate()}congratulate(){let e=this.shadowRoot.querySelector("#points");if(this.points%5==0&&(document.querySelector("#canvas").style.display="block",e.animate([{transform:"scale(1.2) rotate(5deg) translateX(-10px)"},{transform:"scale(1.3) rotate(-5deg) translateX(-10px)"},{transform:"scale(1) rotate(0deg) translateX(0px)"}],{duration:1e3}),this.points%10==0)){let e={target:"canvas"};new s.default(e).render(),this.points%60==0&&(this.congratulations.style.display="flex")}}logingOut(){window.firebase.auth().signOut().then(()=>{this.user=null,localStorage.removeItem("user-info"),localStorage.removeItem("points"),l.showLog("Zostałeś wylogowany","Wracaj szybciutko, już tęsknimy!",!0,!1)})}hoverable(e){e.preventDefault(),e.target.classList.add("hoverable"),e.target.addEventListener("mouseout",e=>{e.target.classList.remove("hoverable")})}flicker(){if(1===this.points){Array.from(this.shadowRoot.querySelectorAll(".theword")).forEach(e=>{e.style.opacity="0",e.style.transition=".3s"})}}refreshNumber(){requestAnimationFrame(()=>{"none"===this.congratulations.style.display&&setTimeout((function(){document.querySelector("#canvas").style.display="none"}),1e3),Array.from(this.shadowRoot.querySelectorAll(".theword")).forEach(e=>{e.style.opacity="1"}),this.n=Math.floor(3*Math.random()),this.l=Object.entries(this.data).length,this.i=Math.floor(Math.random()*this.l);let e=Object.entries(this.data)[this.i];e[0].includes(" ")?this.translation=Object.values(e)[0].toString():this.translation=e[0];let t=e.slice(0);this.correctWord=Array.from(t[1]),this.shadowRoot.querySelector("#input").value="",this.shadowRoot.querySelector("#input").style.animation="borderFlicker .6s infinite alternate-reverse",this.ref=!1,this.shadowRoot.querySelector(".flip-card-inner").style.transform="rotateY(0deg)",this.requestUpdate()})}readTheWord(e){return o(this,void 0,void 0,(function*(){this.shadowRoot.querySelector("#translationparrot").src="./img/parotfacespeak.svg";let t=new SpeechSynthesisUtterance(e);t.rate=.7;let i=this.speech.getVoices();t.voice=i[10],t.lang="en-US",this.speech.speak(t),setTimeout(()=>{this.shadowRoot.querySelector("#translationparrot").src="./img/parrotface.svg"},1e3)}))}updated(e){super.updated(e),requestAnimationFrame(()=>{this.shadowRoot.querySelector("#input").focus()})}render(){return r.html`
   <profile-card @logout="${this.logingOut}" @previousValue="${e=>{this.oldValue=e.detail.oldValue()}}" @valueSelected="${e=>{this.selectionChoice(e.detail.newValue())}}" id="settings" .userName="${this.user.name}" .userEmail="${this.user.email}" .userid="${this.user.uid}" .pointCollection="${this.pointCollection}"></profile-card>
 <div class="modal" id="greeting"> 
           <div class="box"><img src="./img/parrottalk.svg"> <p> ${this.greetingMessage}, ${this.user.name.split(" ")[0]}!</p></div>
        </div>
    <div class="modal" id="congratulations" @click="${()=>{this.congratulations.style.display="none",setTimeout((function(){document.querySelector("#canvas").style.display="none"}),1e3)}}"> 
        <div class="box">
            <p>Świetnie Ci idzie, ${this.user.name.split(" ")}!</p>
            <p>Może pora przenieść się na wyższy poziom?</p></div>
          
        </div></div>
 <div id="wrapper">
    <div id="buttons">
    <img id="menubutton" src="./img/burger.svg" @click="${this.menuFunctionality}">
      <p id="title">English Verbs Game</p>
<div id="points">${"All"!==this.oldValue?`Poziom ${this.oldValue}:`:"Wymieszane poziomy:"} ${this.points}</div>
</div>
<div id="translationbox"><img id="translationparrot" src="./img/parrotface.svg">Tłumaczenie: ${this.translation}</div>
    <div id="container">
    
    ${void 0===this.correctWord?void 0:this.correctWord.map((e,t)=>t!==this.n?r.html`
          <div
            class="theword"
            @click="${()=>{this.readTheWord(e)}}"
            @mouseover="${e=>{this.hoverable(e)}}"
          >
            <span class="word"
              >${Array.isArray(e)?e.join(" "):e}</span
            ><span id="speaker"><img src="./img/soundwhite.svg"/></span>
          </div>
        `:r.html`
            <div class="flip-card">
  <div class="flip-card-inner">
    <div class="flip-card-front">
    <input id="input" data-value="${e}" type="text" @keydown="${t=>{if(this.profileCard.style.transform="translateX(-80vw)",0!==t.target.value.length&&(t.target.style.animation="stop .3s forwards"),13===t.keyCode)if(Array.isArray(e)){e.join().toLowerCase().includes(t.target.value.toString().toLowerCase())?(this.pointsAddition(),this.flicker(),this.congratulate(),1===this.points?(t.target.style.animation="accepted .3s forwards .1s",setTimeout(()=>{this.refreshNumber()},1200)):(t.target.style.animation="accepted .3s forwards",setTimeout(()=>{this.refreshNumber()},400))):(t.target.style.animation="wrong .3s forwards",this.ref=!0,this.requestUpdate())}else t.target.value.toLowerCase()===e?(this.pointsAddition(),this.flicker(),this.congratulate(),1===this.points?(t.target.style.animation="accepted .3s forwards .1s",setTimeout(()=>{this.refreshNumber()},1200)):(t.target.style.animation="accepted .3s forwards",setTimeout(()=>{this.refreshNumber()},400))):(t.target.style.animation="wrong .3s forwards .1s",this.ref=!0,this.requestUpdate())}}">
    </div>
    <div  @click="${()=>{this.readTheWord(e)}}" class="flip-card-back">
      <span class="word">${Array.isArray(e)?e.join(" "):e}</span><span id="speaker"><img src="./img/soundwhite.svg"></span></span>
    </div>
  </div>
</div>
            `)}
               
    </div>
    
    
   <div id="below"><a id="skip" @mouseover="${e=>{this.hoverable(e)}}" @click="${this.refreshNumber}">Inne słowo</a> ${this.ref?r.html`
            <a @click="${this.showTheAnswer}"
              ><img
                @mouseover="${e=>{this.hoverable(e)}}"
                class="icon"
                src="./img/eye.svg"
            /></a>
          `:void 0}</div></div>
  
    `}}t.EnglishVerbsGame=c,customElements.define("english-verbs",c),t.showTheGame=function(e,t,i,r,s="Witaj"){return o(this,void 0,void 0,(function*(){document.body.classList.add("ready"),localStorage.removeItem("isRedirecting");const o=yield new c;return o.greetingMessage=s,o.user={email:t,uid:i,name:e},o.pointCollection=r,null===document.querySelector(".welcome")?document.body.removeChild(document.querySelector("#log")):(null!==document.querySelector("#log")&&document.body.removeChild(document.querySelector("#log")),document.body.removeChild(document.querySelector(".welcome"))),document.body.appendChild(o),o}))}},function(e,t,i){"use strict";var o=this&&this.__awaiter||function(e,t,i,o){return new(i||(i=Promise))((function(r,s){function n(e){try{l(o.next(e))}catch(e){s(e)}}function a(e){try{l(o.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(n,a)}l((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const r=i(1),s=i(0);class n extends r.LitElement{static get styles(){return[r.css`
				.welcome {
					width: 100%;
					height: 100vh;
					display: flex;
					flex-direction: row;
					align-items: center;
					justify-content: center;
					background-image: url("./img/wave1.svg");
					background-size: contain;
					background-repeat: repeat-x;
					background-position: bottom;
				}
				.wiadomosc {
					margin-right: 13rem;
					display: flex;
					flex-direction: column;
					align-items: center;
					justify-content: center;
					width: 20vw;
					height: max-content;
				}
				.wiadomoscoff {
					display: flex;
					flex-direction: column;
					align-items: center;
					justify-content: center;
					width: 30vw;
					height: max-content;
					background: white;
					box-shadow: 1px 4px 6px gray;
					padding: 2rem;
				}
				#witaj,
				.info {
					font-family: 'Montserrat', sans-serif;
					font-size: 1.3rem;
					text-align: center;
				}
				.logowanie {
					cursor: pointer;
					justify-self: flex-start;
					padding: .6rem;
					width: max-content;
					background-color: transparent;
					font-size: 1.2rem;
					border: 1px solid black;
					box-shadow: 1px 1px 3px gray;
				}

				.sadcat {
					width: 6rem;
					height: 6rem;
				}
				#nowekonto {
					cursor: pointer;
					border: none;
					background: none;
					font-size: 1rem;
					margin-top: .2rem;
				}

				.logowanie:hover {
					transition: 1s;
					color: white;
					border: 1px solid white;
					background: linear-gradient(to top, #a57fff, #63bda2);
				}
				@media screen and (max-width: 600px) {
					.wiadomosc,
					.wiadomoscoff {
						width: 68vw;
						background: white;
						box-shadow: 1px 3px 6px gray;
						margin: 0;
						padding-bottom: 2rem;
					}
				}
			`]}logOut(){this.dispatchEvent(new CustomEvent("logout",{bubbles:!0,composed:!0})),this.requestUpdate()}render(){return r.html`   
		<div class="welcome">
		<div class="wiadomoscoff">
		<img class="sadcat" src="./img/parrotcry.svg">
		
		<p id="witaj">${this.title}</p>
		<p class="info">${this.message}</p>
		${this.logButton?r.html`<button class="logowanie" @click="${s.redirectingSignUp}">Zaloguj się ponownie</button>`:void 0}
		
	</div></div>
	  `}}t.LogScreen=n,customElements.define("log-screen",n),t.showLog=function(e,t,i=!1,r=!1){return o(this,void 0,void 0,(function*(){const o=yield new n;return o.title=e,o.message=t,o.sadCat=r,o.logButton=i,o.id="log",document.body.removeChild(document.body.lastChild),document.body.appendChild(o),o}))}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.levels={A2:{"śnić, marzyć":["dream",["dreamed","dreamt"],["dreamed","dreamt"]],"być":["be","was","been"],"robić":["do","did","done"],"stawać się":["become","became","become"],"łamać, pękać, rozbić, tłuc":["break","broke","broken"],"przynosić, przyprowadzić":["bring","brought","brought"],"budować":["build","built","built"],"kupować":["buy","bought","bought"],"łapać":["catch","caught","caught"],"wybierać":["choose","chose","chosen"],"przyjść, przyjechać":["come","came","come"],"kosztować":["cost","cost","cost"],"ciąć, kroić, skaleczyć":["cut","cut","cut"],"rysować, pociągnąć, remisować":["draw","drew","drawn"],"prowadzić, kierować się czymś":["drive","drove","driven"],"pić":["drink","drank","drunk"],"jeść":["eat","ate","eaten"],"padać, upadać, spadać":["fall","fell","fallen"],"czuć":["feel","felt","felt"],"znaleźć":["find","found","found"],"latać":["fly","flew","flown"],"dostawać":["get","got","got"],"dawać":["give","gave","given"],"iść":["go","went","gone"],"rosnąć":["grow","grew","grown"],"mieć":["have","had","had"],"słyszeć":["hear","heard","heard"],"uderzać":["hit","hit","hit"],"trzymać, utrzymywać, podtrzymywać":["hold","held","held"],"ranić, boleć":["hurt","hurt","hurt"],"trzymać":["keep","kept","kept"],"znać, wiedzieć":["know","knew","known"],"uczyć się":["learn",["learnt","learned"],["learnt","learned"]],"opuszczać, wyjeżdżać, zostawiać":["leave","left","left"],"pożyczać (komuś)":["lend","lent","lent"],"tracić, zgubić":["lose","lost","lost"],"robić, wykonywać":["make","made","made"],"znaczyć, oznaczać, mieć na myśli":["mean","meant","meant"],"spotykać, poznać":["meet","met","met"],"płacić":["pay","paid","paid"],"kłaść":["put","put","put"],"czytać":["read","read","read"],"jeździć":["ride","rode","ridden"],"dzwonić":["ring","rang","rung"],biec:["run","ran","run"],"mowić":["say","said","said"],"widzieć":["see","saw","seen"],"sprzedawać":["sell","sold","sold"],"wysyłać, słać":["send","sent","sent"],"pokazywać":["show","showed","shown"],"zamykać":["shut","shut","shut"],"śpiewać":["sing","sang","sung"],"siedzieć, siadać":["sit","sat","sat"],"spać":["sleep","slept","slept"],"mówić, rozmawiać":["speak","spoke","spoken"],"spędzać, wydawać":["spend","spent","spent"],"stać":["stand","stood","stood"],"kraść":["steal","stole","stolen"],"pływać":["swim","swam","swum"],"brać":["take","took","taken"],"uczyć (kogoś)":["teach","taught","taught"],"powiedzieć, opowiedzieć":["tell","told","told"],"myśleć, sądzić, uważać":["think","thought","thought"],"rzucać":["throw","threw","thrown"],"budzić":["wake","woke","woken"],"nosić, zakładać":["wear","wore","worn"],"rozumieć":["understand","understood","understood"],"wygrywać":["win","won","won"],"pisać":["write","wrote","written"]},B1:{"obudzić":["awake","awoke","awoken"],"bić":["beat","beat","beaten"],"ugryźc":["bite","bit","bitten"],"krwawić":["bleed","bled","bled"],"wiać, dmuchać":["blow","blew","blown"],"palić, parzyć, płonąć":["burn",["burned","burnt"],["burned","burnt"]],"kopać (np ziemię)":["dig","dug","dug"],"karmić, żywić":["feed","fed","fed"],"walczyć, bić się":["fight","fought","fought"],"zapominać":["forget","forgot","forgotten"],"wybaczać":["forgive","forgave","forgiven"],"zamarzać":["freeze","froze","frozen"],"zawieszać (coś, np obraz)":["hang","hung","hung"],"chować, ukrywać":["hide","hid","hidden"],"pozwalać":["let","let","let"],"leżeć, kłaść się":["lie","lay","lain"],"zapalać, rozpalać, oświetlać":["light",["lighted","lit"],["ligthed","lit"]],"rzucać, opuszczać":["quit","quit","quit"],"podnosić, wzrastać":["rise","rose","risen"],"trząść, potrząsać":["shake","shook","shaken"],"świecić, błyszczeć":["shine","shone","shone"],"strzelać":["shoot","shot","shot"],"tonąć (o statku), zapadać się":["sink","sank","sunk"],"wbijać, wtykać, przyklejać, wystawić":["stick","stuck","stuck"],"uderzyć, wybijać":["strike","struck","struck"],"drzeć, rozdzierać":["tear","tore","torn"]},B2:{"znosić, udźwignąć coś, żywić urazę":["bear","bore","borne"],"zginać, nachylać":["bend","bent","bent"],"hodować, wychować, rozmażać się":["breed","bred","bread"],"rzucić, zrzucić":["cast","cast","cast"],"rozdawać, postępować, mieć do czynienia, radzić sobie":["deal","dealt","dealt"],"zabraniać":["forbid","forbade","forbidden"],"klęczeć, klękać":["kneel",["kneeled","knelt"],["kneeled","knelt"]],"robić na drutach":["knit",["knit","knitted"],["knit","knitted"]],"prowadzić":["lead","led","led"],"szukać, poszukiwać":["seek","sought","sought"],"umieszczać, ustawiać, zachodzić (o słońcu), osadzić, nastawić, wyznaczyć":["set","set","set"],"kurczyć się, zbiegać":["shrink","shrank","shrunk"],"ślizgać się, zjeżdżać":["slide","slid","slid"],"dzielić, rozdzielać":["split","split","split"],"rozchodzić się, rozprzestrzeniać, rozkładać, rozpościerać, rozsmarować":["spread","spread","spread"],"przysięgać, przeklinać":["swear","swore","sworn"],"zamiatać, zmiatać":["sweep","swept","swept"],"machnąć, zakołysać":["swing","swung","swung"]},C1:{"pojawić się":["arise","arose","arisen"],"zakładać, obstawiać":["bet","bet","bet"],"umykać, uciekać, opuścić":["flee","fled","fled"],"położyć, kłaść":["lay","laid","laid"],"kręcić, zakręcić czymś/się, obrócić":["spin","spun","spun"],"śmierdzieć, cuchnąć":["stink","stank","stunk"]},C2:{"wiązać, złączyć, oprawić (książkę)":["bind","bound","bound"],"przywrzeć, uczepić się, trzymać się kurczowo":["cling","clung","clung"],"skradać się, zakradać, piąć się, podchodzić":["creep","crept","crept"],"rzucić, cisnąć":["fling","flung","flung"],"porzucać, zaniechać, opuścić":["forsake","forsook","forsaken"],"przepowiadać, przewidywać":["foretell","foretold","foretold"],"zemleć, rozkruszyć, zgrzytać, ostrzyć, trzeć":["grind","ground","ground"],"skakać":["leap",["leaped","lept"],["leaped","lept"]],"piłować":["saw","sawed","sawn"],"zrzucać, pozbywać się":["shed","shed","shed"],"zabijać":["slay","slew","slain"],"cisnąć, miotać":["sling","slung","slung"],"przeskakiwać, wyskakiwać":["spring","sprang","sprung"],"żądlić":["sting","stung","stung"],"zmagać się z czymś, dążyć, starać się, podejmować wysiłek":["strive","strove","striven"],"kroczyć, stąpać, deptać":["tread","trod","trodden"],"płakać, szlochać":["weep","wept","wept"],"nawijać, nakręcać, wić się":["wind","wound","wound"],"wykręcić, wyżąć coś, wycisnąć":["wring","wrung","wrung"]}}},function(e,t,i){"use strict";var o=this&&this.__awaiter||function(e,t,i,o){return new(i||(i=Promise))((function(r,s){function n(e){try{l(o.next(e))}catch(e){s(e)}}function a(e){try{l(o.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(n,a)}l((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const r=i(1),s=i(0);class n extends r.LitElement{static get styles(){return[r.css`
				:host {
					position: absolute;
					top: 0;
					left: 0;
					width: 100%;
					height: 100vh;
					display: flex;
					flex-direction: row;
					align-items: center;
					justify-content: center;
					z-index: 999;
				}
				.wiadomosc {
					margin-right: 13rem;
					display: flex;
					flex-direction: column;
					align-items: center;
					justify-content: center;
					width: 20vw;
					height: max-content;
				}
				.wiadomoscoff {
					display: flex;
					flex-direction: column;
					align-items: center;
					justify-content: center;
					width: 30vw;
					height: max-content;
					background: white;
					box-shadow: 1px 4px 6px gray;
					padding: 2rem;
				}
				#witaj,
				.info {
					font-family: 'Montserrat', sans-serif;
					font-size: 1.3rem;
					text-align: center;
					width: 100%;
				}
				.info {
					resize: none;
					font-size: 1rem;
					height: 20vh;
					text-align: left;
					margin-bottom: 1rem;
					text-overflow: scroll;
				}

				.logowanie {
					cursor: pointer;
					justify-self: flex-start;
					padding: .6rem;
					width: max-content;
					background-color: transparent;
					font-size: 1.2rem;
					border: 1px solid black;
					box-shadow: 1px 1px 3px gray;
				}
				#close {
					cursor: pointer;
					margin-top: -1rem;
					align-self: flex-end;
					font-family: 'Montserrat', sans-serif;
				}

				.sadcat {
					width: 6rem;
					height: 6rem;
				}
				#nowekonto {
					cursor: pointer;
					border: none;
					background: none;
					font-size: 1rem;
					margin-top: .2rem;
				}

				.logowanie:hover {
					transition: 1s;
					color: white;
					border: 1px solid white;
					background: linear-gradient(to top, #a57fff, #63bda2);
				}
				@media screen and (max-width: 600px) {
					.wiadomosc,
					.wiadomoscoff {
						width: 80vw;
						background: white;
						box-shadow: 1px 3px 6px gray;
						margin: 0;
						padding-bottom: 2rem;
					}
				}
			`]}sendInfo(e){e.preventDefault();let t=this.shadowRoot.querySelector(".info").value;s.reportBugToServer(this.userid,t),this.shadowRoot.querySelector("#witaj").textContent="Dziękujemy za zgłoszenie",this.shadowRoot.querySelector(".info").style.display="none",this.shadowRoot.querySelector(".logowanie").style.display="none",this.shadowRoot.querySelector("#close").style.display="none",setTimeout((function(){document.body.removeChild(document.querySelector("#reportbug"))}),3e3)}render(){return r.html` 
		<form @submit="${e=>{this.sendInfo(e)}}">
		<div class="wiadomoscoff">
		<span @click="${e=>{this.addEventListener("click",()=>{document.body.removeChild(document.querySelector("#reportbug"))})}}" id="close">X</span>
		<p id="witaj">Opisz swój problem w okienku poniżej:</p>
		<textarea class="info"></textarea>
		<button type="submit" class="logowanie">Wyślij</button>
		
	</div>
	</form>
	  `}}t.ReportBug=n,customElements.define("report-bug",n),t.reportBug=function(e){return o(this,void 0,void 0,(function*(){const t=yield new n;return t.userid=e,t.id="reportbug",document.body.appendChild(t),t}))}},function(e,t,i){"use strict";var o=this&&this.__awaiter||function(e,t,i,o){return new(i||(i=Promise))((function(r,s){function n(e){try{l(o.next(e))}catch(e){s(e)}}function a(e){try{l(o.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(n,a)}l((o=o.apply(e,t||[])).next())}))};function r(e){for(var i in e)t.hasOwnProperty(i)||(t[i]=e[i])}Object.defineProperty(t,"__esModule",{value:!0}),r(i(2)),r(i(4)),r(i(0)),r(i(8)),r(i(3)),r(i(5));const s=i(2);"localhost"!==location.hostname&&"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("sw.js")}),window.onload=e=>{!function(){o(this,void 0,void 0,(function*(){if(null!==localStorage.getItem("user-info")){let e=JSON.parse(localStorage.getItem("user-info")).user.uid;yield window.firebase.database().ref("/users/"+e).once("value").then((function(e){let t=e.val()&&e.val().points||{A2:0,B1:0,B2:0,C1:0,C2:0,All:0};localStorage.setItem("points",JSON.stringify({points:t}))}));s.showTheGame(JSON.parse(localStorage.getItem("user-info")).user.displayName,JSON.parse(localStorage.getItem("user-info")).user.email,JSON.parse(localStorage.getItem("user-info")).user.uid,JSON.parse(localStorage.getItem("points")).points)}}))}()}},function(e,t,i){"use strict";i.r(t),t.default=function(e){var t={target:"confetti-holder",max:80,size:1,animate:!0,props:["circle","square","triangle","line"],colors:[[165,104,246],[230,61,135],[0,199,228],[253,214,126]],clock:25,interval:null,rotate:!1,width:window.innerWidth,height:window.innerHeight};e&&(e.target&&(t.target=e.target),e.max&&(t.max=e.max),e.size&&(t.size=e.size),void 0!==e.animate&&null!==e.animate&&(t.animate=e.animate),e.props&&(t.props=e.props),e.colors&&(t.colors=e.colors),e.clock&&(t.clock=e.clock),e.width&&(t.width=e.width),e.height&&(t.height=e.height),void 0!==e.rotate&&null!==e.rotate&&(t.rotate=e.rotate));var i=document.getElementById(t.target),o=i.getContext("2d"),r=[];function s(e,t){e||(e=1);var i=Math.random()*e;return t?Math.floor(i):i}var n=t.props.reduce((function(e,t){return e+(t.weight||1)}),0);function a(){var e=t.props[function(){for(var e=Math.random()*n,i=0;i<t.props.length;++i){var o=t.props[i].weight||1;if(e<o)return i;e-=o}}()];return{prop:e.type?e.type:e,x:s(t.width),y:s(t.height),src:e.src,radius:s(4)+1,size:e.size,rotate:t.rotate,line:Math.floor(s(65)-30),angles:[s(10,!0)+2,s(10,!0)+2,s(10,!0)+2,s(10,!0)+2],color:t.colors[s(t.colors.length,!0)],rotation:s(360,!0)*Math.PI/180,speed:s(t.clock/7)+t.clock/30}}function l(e){var i=e.radius<=3?.4:.8;switch(o.fillStyle=o.strokeStyle="rgba("+e.color+", "+i+")",o.beginPath(),e.prop){case"circle":o.moveTo(e.x,e.y),o.arc(e.x,e.y,e.radius*t.size,0,2*Math.PI,!0),o.fill();break;case"triangle":o.moveTo(e.x,e.y),o.lineTo(e.x+e.angles[0]*t.size,e.y+e.angles[1]*t.size),o.lineTo(e.x+e.angles[2]*t.size,e.y+e.angles[3]*t.size),o.closePath(),o.fill();break;case"line":o.moveTo(e.x,e.y),o.lineTo(e.x+e.line*t.size,e.y+5*e.radius),o.lineWidth=2*t.size,o.stroke();break;case"square":o.save(),o.translate(e.x+15,e.y+5),o.rotate(e.rotation),o.fillRect(-15*t.size,-5*t.size,15*t.size,5*t.size),o.restore();break;case"svg":o.save();var r=new Image;r.src=e.src;var s=e.size||15;o.translate(e.x+s/2,e.y+s/2),e.rotate&&o.rotate(e.rotation),o.drawImage(r,-s/2*t.size,-s/2*t.size,s*t.size,s*t.size),o.restore()}}return{render:function(){i.width=t.width,i.height=t.height,r=[];for(var e=0;e<t.max;e++)r.push(a());return requestAnimationFrame((function e(){for(var i in o.clearRect(0,0,t.width,t.height),r)l(r[i]);!function(){for(var e=0;e<t.max;e++){var i=r[e];t.animate&&(i.y+=i.speed),i.rotate&&(i.rotation+=i.speed/35),(i.speed>=0&&i.y>t.height||i.speed<0&&i.y<0)&&(r[e]=i,r[e].x=s(t.width,!0),r[e].y=i.speed>=0?-10:parseFloat(t.height))}}(),t.animate&&requestAnimationFrame(e)}))},clear:function(){t.animate=!1,clearInterval(t.interval),requestAnimationFrame((function(){o.clearRect(0,0,i.width,i.height);var e=i.width;i.width=1,i.width=e}))}}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=i(1),r=i(5);class s extends o.LitElement{static get properties(){return{userName:{type:String,reflect:!0},userEmail:{type:String,reflect:!0},pointCollection:{type:Object,attribute:"pointcollection",reflect:!0}}}static get styles(){return[o.css`
				:host {
					transition: 1s;
					height: 100%;
					position: absolute;
					top: 0;
					left: 0;
					width: 20vw;
					background-color: gray;
					z-index: 998;
					transform: translateX(-80vw);
					display: flex;
					flex-direction: column;
					align-content: flex-start;
					font-family: var(--global-font);
					text-align: left;
					padding-left: 1vw;
					color: white;
				}
				#x {
					margin: 1rem 1rem 0 0;
					align-self: flex-end;
					color: white;
					cursor: pointer;
				}

				#signout,
				#bug {
					cursor: pointer;
				}
				p {
					margin-top: .8rem;
					margin-bottom: .8rem;
				}
				h1 {
					font-size: 1.4rem;
				}
				select {
					outline: 1px white solid;
					margin-top: .3rem;
					margin-left: none;
					padding: .3rem;
					border: none;
					background: white;
					color: black;
					width: 80%;
					-webkit-appearance: menulist;
					align-self: flex-start;
				}
				select > option {
					color: black;
				}
				label {
					align-self: flex-start;
				}
				#x:hover {
					transform: scale(1.2);
					cursor: pointer;
				}

				@media only screen and (max-width: 600px) {
					:host {
						width: 60vw;
					}
					p {
						margin-top: .8rem;
						margin-bottom: .8rem;
					}
					h1 {
						font-size: 1.4rem;
					}
				}
			`]}logOut(){this.dispatchEvent(new CustomEvent("logout",{bubbles:!0,composed:!0})),this.requestUpdate()}render(){return o.html`
  <h1>${this.userName}</h1>
  <p>${this.userEmail}</p>
  <label for="select">Zmień poziom:</label>
    <select @click="${e=>{this.dispatchEvent(new CustomEvent("previousValue",{bubbles:!0,composed:!0,detail:{oldValue:()=>this.shadowRoot.querySelector("#select").value}}))}}" @change="${e=>{this.dispatchEvent(new CustomEvent("valueSelected",{bubbles:!0,composed:!0,detail:{newValue:()=>this.shadowRoot.querySelector("#select").value}}))}}" id="select">
    ${Object.entries(this.pointCollection).map(([e,t])=>o.html`
  <option value="${e}">${"All"!=e?`Poziom ${e},`:"Wymieszane poziomy,"} punkty: ${t}</option>`)}
</select>

<p @click="${e=>{r.reportBug(this.userid)}}" id="bug">Zgłoś błąd</p>
<p id="signout" @click="${this.logOut}">Wyloguj</p>

    `}}t.ProfileCard=s,customElements.define("profile-card",s)}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWwudHMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xpdC1odG1sL2xpYi9kaXJlY3RpdmUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xpdC1odG1sL2xpYi9kb20uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xpdC1odG1sL2xpYi9wYXJ0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9saXQtaHRtbC9saWIvdGVtcGxhdGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xpdC1odG1sL2xpYi90ZW1wbGF0ZS1pbnN0YW5jZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbGl0LWh0bWwvbGliL3RlbXBsYXRlLXJlc3VsdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbGl0LWh0bWwvbGliL3BhcnRzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9saXQtaHRtbC9saWIvZGVmYXVsdC10ZW1wbGF0ZS1wcm9jZXNzb3IuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xpdC1odG1sL2xpYi90ZW1wbGF0ZS1mYWN0b3J5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9saXQtaHRtbC9saWIvcmVuZGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9saXQtaHRtbC9saXQtaHRtbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbGl0LWh0bWwvbGliL21vZGlmeS10ZW1wbGF0ZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbGl0LWh0bWwvbGliL3NoYWR5LXJlbmRlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbGl0LWVsZW1lbnQvbGliL3VwZGF0aW5nLWVsZW1lbnQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xpdC1lbGVtZW50L2xpYi9kZWNvcmF0b3JzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9saXQtZWxlbWVudC9saWIvY3NzLXRhZy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbGl0LWVsZW1lbnQvbGl0LWVsZW1lbnQuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2VuZ2xpc2gudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2xvZy1zY3JlZW4udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2RhdGEudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3JlcG9ydC1idWcudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LnRzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb25mZXR0aS1qcy9kaXN0L2luZGV4LmVzLmpzIiwid2VicGFjazovLy8uL3NyYy9wcm9maWxlLWNhcmQudHMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJ3aW5kb3ciLCJmaXJlYmFzZSIsImluaXRpYWxpemVBcHAiLCJhcGlLZXkiLCJhdXRoRG9tYWluIiwiZGF0YWJhc2VVUkwiLCJwcm9qZWN0SWQiLCJzdG9yYWdlQnVja2V0IiwibWVzc2FnaW5nU2VuZGVySWQiLCJhcHBJZCIsIm1lYXN1cmVtZW50SWQiLCJwcm92aWRlciIsImF1dGgiLCJHb29nbGVBdXRoUHJvdmlkZXIiLCJ3cml0ZVVzZXJEYXRhIiwidXNlcklkIiwicG9pbnRjb2xsZWN0aW9uIiwiZGF0YWJhc2UiLCJyZWYiLCJzZXQiLCJwb2ludHMiLCJyZWRpcmVjdGluZ1NpZ25VcCIsImxvY2FsU3RvcmFnZSIsInNldEl0ZW0iLCJzaWduSW5XaXRoUmVkaXJlY3QiLCJzZXRDdXN0b21QYXJhbWV0ZXJzIiwicHJvbXB0IiwibGFuZ3VhZ2VDb2RlIiwiZ2V0UmVkaXJlY3RSZXN1bHQiLCJ0aGVuIiwicmVzdWx0IiwiY3JlZGVudGlhbCIsImNvbnNvbGUiLCJsb2ciLCJ1c2VyIiwidWlkIiwib25jZSIsInNuYXBzaG90IiwidmFsIiwic2hvd1RoZUdhbWUiLCJkaXNwbGF5TmFtZSIsImVtYWlsIiwiQTIiLCJCMSIsIkIyIiwiQzEiLCJDMiIsIkFsbCIsIkpTT04iLCJzdHJpbmdpZnkiLCJjYXRjaCIsImVycm9yIiwiZXJyb3JNZXNzYWdlIiwibWVzc2FnZSIsInNob3dMb2ciLCJidWdNZXNzYWdlIiwicHVzaCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImFkZEV2ZW50TGlzdGVuZXIiLCJnZXRJdGVtIiwiYm9keSIsImNsYXNzTGlzdCIsImFkZCIsImRpcmVjdGl2ZXMiLCJXZWFrTWFwIiwiaXNEaXJlY3RpdmUiLCJoYXMiLCJpc0NFUG9seWZpbGwiLCJ1bmRlZmluZWQiLCJjdXN0b21FbGVtZW50cyIsInBvbHlmaWxsV3JhcEZsdXNoQ2FsbGJhY2siLCJyZXBhcmVudE5vZGVzIiwiY29udGFpbmVyIiwic3RhcnQiLCJlbmQiLCJiZWZvcmUiLCJuZXh0U2libGluZyIsImluc2VydEJlZm9yZSIsInJlbW92ZU5vZGVzIiwicmVtb3ZlQ2hpbGQiLCJub0NoYW5nZSIsIm5vdGhpbmciLCJtYXJrZXIiLCJTdHJpbmciLCJNYXRoIiwicmFuZG9tIiwic2xpY2UiLCJub2RlTWFya2VyIiwibWFya2VyUmVnZXgiLCJSZWdFeHAiLCJib3VuZEF0dHJpYnV0ZVN1ZmZpeCIsIlRlbXBsYXRlIiwiZWxlbWVudCIsInRoaXMiLCJwYXJ0cyIsIm5vZGVzVG9SZW1vdmUiLCJzdGFjayIsIndhbGtlciIsImNyZWF0ZVRyZWVXYWxrZXIiLCJjb250ZW50IiwibGFzdFBhcnRJbmRleCIsImluZGV4IiwicGFydEluZGV4Iiwic3RyaW5ncyIsInZhbHVlcyIsImxlbmd0aCIsIm5vZGUiLCJuZXh0Tm9kZSIsIm5vZGVUeXBlIiwiaGFzQXR0cmlidXRlcyIsImF0dHJpYnV0ZXMiLCJjb3VudCIsImVuZHNXaXRoIiwic3RyaW5nRm9yUGFydCIsImxhc3RBdHRyaWJ1dGVOYW1lUmVnZXgiLCJleGVjIiwiYXR0cmlidXRlTG9va3VwTmFtZSIsInRvTG93ZXJDYXNlIiwiYXR0cmlidXRlVmFsdWUiLCJnZXRBdHRyaWJ1dGUiLCJyZW1vdmVBdHRyaWJ1dGUiLCJzdGF0aWNzIiwic3BsaXQiLCJ0eXBlIiwidGFnTmFtZSIsImN1cnJlbnROb2RlIiwiZGF0YSIsImluZGV4T2YiLCJwYXJlbnQiLCJwYXJlbnROb2RlIiwibGFzdEluZGV4IiwiaW5zZXJ0IiwiY3JlYXRlTWFya2VyIiwibWF0Y2giLCJjcmVhdGVUZXh0Tm9kZSIsInByZXZpb3VzU2libGluZyIsInBvcCIsInN0ciIsInN1ZmZpeCIsImlzVGVtcGxhdGVQYXJ0QWN0aXZlIiwicGFydCIsImNyZWF0ZUNvbW1lbnQiLCJ0ZW1wbGF0ZSIsInByb2Nlc3NvciIsIm9wdGlvbnMiLCJfX3BhcnRzIiwic2V0VmFsdWUiLCJjb21taXQiLCJmcmFnbWVudCIsImNsb25lTm9kZSIsImltcG9ydE5vZGUiLCJub2RlSW5kZXgiLCJub2RlTmFtZSIsImhhbmRsZVRleHRFeHByZXNzaW9uIiwiaW5zZXJ0QWZ0ZXJOb2RlIiwiaGFuZGxlQXR0cmlidXRlRXhwcmVzc2lvbnMiLCJhZG9wdE5vZGUiLCJ1cGdyYWRlIiwiY29tbWVudE1hcmtlciIsImh0bWwiLCJpc0NvbW1lbnRCaW5kaW5nIiwiY29tbWVudE9wZW4iLCJsYXN0SW5kZXhPZiIsImF0dHJpYnV0ZU1hdGNoIiwic3Vic3RyIiwiY3JlYXRlRWxlbWVudCIsImlubmVySFRNTCIsImdldEhUTUwiLCJzdXBlciIsImdldFRlbXBsYXRlRWxlbWVudCIsInN2Z0VsZW1lbnQiLCJmaXJzdENoaWxkIiwiaXNQcmltaXRpdmUiLCJpc0l0ZXJhYmxlIiwiQXJyYXkiLCJpc0FycmF5IiwiaXRlcmF0b3IiLCJBdHRyaWJ1dGVDb21taXR0ZXIiLCJkaXJ0eSIsIl9jcmVhdGVQYXJ0IiwidGV4dCIsInYiLCJzZXRBdHRyaWJ1dGUiLCJfZ2V0VmFsdWUiLCJjb21taXR0ZXIiLCJkaXJlY3RpdmUiLCJfX3BlbmRpbmdWYWx1ZSIsInN0YXJ0Tm9kZSIsImFwcGVuZENoaWxkIiwiZW5kTm9kZSIsIl9faW5zZXJ0IiwiX19jb21taXRUZXh0IiwiX19jb21taXRUZW1wbGF0ZVJlc3VsdCIsIk5vZGUiLCJfX2NvbW1pdE5vZGUiLCJfX2NvbW1pdEl0ZXJhYmxlIiwiY2xlYXIiLCJ2YWx1ZUFzU3RyaW5nIiwidGVtcGxhdGVGYWN0b3J5IiwidXBkYXRlIiwiaW5zdGFuY2UiLCJfY2xvbmUiLCJpdGVtUGFydHMiLCJpdGVtUGFydCIsIml0ZW0iLCJhcHBlbmRJbnRvUGFydCIsImluc2VydEFmdGVyUGFydCIsIkVycm9yIiwiUHJvcGVydHlDb21taXR0ZXIiLCJzaW5nbGUiLCJQcm9wZXJ0eVBhcnQiLCJldmVudE9wdGlvbnNTdXBwb3J0ZWQiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiX2UiLCJldmVudE5hbWUiLCJldmVudENvbnRleHQiLCJfX2JvdW5kSGFuZGxlRXZlbnQiLCJlIiwiaGFuZGxlRXZlbnQiLCJuZXdMaXN0ZW5lciIsIm9sZExpc3RlbmVyIiwic2hvdWxkUmVtb3ZlTGlzdGVuZXIiLCJjYXB0dXJlIiwicGFzc2l2ZSIsInNob3VsZEFkZExpc3RlbmVyIiwiX19vcHRpb25zIiwiZ2V0T3B0aW9ucyIsImV2ZW50IiwiZGVmYXVsdFRlbXBsYXRlUHJvY2Vzc29yIiwicHJlZml4IiwidGVtcGxhdGVDYWNoZSIsInRlbXBsYXRlQ2FjaGVzIiwic3RyaW5nc0FycmF5Iiwia2V5U3RyaW5nIiwiTWFwIiwiam9pbiIsInN2ZyIsIndhbGtlck5vZGVGaWx0ZXIiLCJyZW1vdmVOb2Rlc0Zyb21UZW1wbGF0ZSIsIm5leHRBY3RpdmVJbmRleEluVGVtcGxhdGVQYXJ0cyIsInJlbW92ZUNvdW50Iiwibm9kZXNUb1JlbW92ZUluVGVtcGxhdGUiLCJjdXJyZW50UmVtb3ZpbmdOb2RlIiwiZm9yRWFjaCIsImNvdW50Tm9kZXMiLCJzdGFydEluZGV4IiwiZ2V0VGVtcGxhdGVDYWNoZUtleSIsInNjb3BlTmFtZSIsImNvbXBhdGlibGVTaGFkeUNTU1ZlcnNpb24iLCJTaGFkeUNTUyIsInByZXBhcmVUZW1wbGF0ZURvbSIsIndhcm4iLCJzaGFkeVRlbXBsYXRlRmFjdG9yeSIsImNhY2hlS2V5IiwiVEVNUExBVEVfVFlQRVMiLCJzaGFkeVJlbmRlclNldCIsIlNldCIsInByZXBhcmVUZW1wbGF0ZVN0eWxlcyIsInJlbmRlcmVkRE9NIiwidGVtcGxhdGVFbGVtZW50Iiwic3R5bGVzIiwicXVlcnlTZWxlY3RvckFsbCIsImNvbmRlbnNlZFN0eWxlIiwic3R5bGUiLCJ0ZXh0Q29udGVudCIsInRlbXBsYXRlcyIsImZyb20iLCJyZW1vdmVTdHlsZXNGcm9tTGl0VGVtcGxhdGVzIiwicmVmTm9kZSIsImluc2VydENvdW50Iiwid2Fsa2VySW5kZXgiLCJpbnNlcnROb2RlSW50b1RlbXBsYXRlIiwibmF0aXZlU2hhZG93IiwicmVtb3ZlcyIsIkpTQ29tcGlsZXJfcmVuYW1lUHJvcGVydHkiLCJwcm9wIiwiX29iaiIsImRlZmF1bHRDb252ZXJ0ZXIiLCJCb29sZWFuIiwiTnVtYmVyIiwicGFyc2UiLCJub3RFcXVhbCIsIm9sZCIsImRlZmF1bHRQcm9wZXJ0eURlY2xhcmF0aW9uIiwiYXR0cmlidXRlIiwiY29udmVydGVyIiwicmVmbGVjdCIsImhhc0NoYW5nZWQiLCJtaWNyb3Rhc2tQcm9taXNlIiwiUHJvbWlzZSIsInJlc29sdmUiLCJTVEFURV9IQVNfVVBEQVRFRCIsIlNUQVRFX1VQREFURV9SRVFVRVNURUQiLCJTVEFURV9JU19SRUZMRUNUSU5HX1RPX0FUVFJJQlVURSIsIlNUQVRFX0lTX1JFRkxFQ1RJTkdfVE9fUFJPUEVSVFkiLCJTVEFURV9IQVNfQ09OTkVDVEVEIiwiZmluYWxpemVkIiwiVXBkYXRpbmdFbGVtZW50IiwiSFRNTEVsZW1lbnQiLCJfdXBkYXRlU3RhdGUiLCJfaW5zdGFuY2VQcm9wZXJ0aWVzIiwiX3VwZGF0ZVByb21pc2UiLCJfaGFzQ29ubmVjdGVkUmVzb2x2ZXIiLCJfY2hhbmdlZFByb3BlcnRpZXMiLCJfcmVmbGVjdGluZ1Byb3BlcnRpZXMiLCJpbml0aWFsaXplIiwiZmluYWxpemUiLCJfY2xhc3NQcm9wZXJ0aWVzIiwiYXR0ciIsIl9hdHRyaWJ1dGVOYW1lRm9yUHJvcGVydHkiLCJfYXR0cmlidXRlVG9Qcm9wZXJ0eU1hcCIsInN1cGVyUHJvcGVydGllcyIsImdldFByb3RvdHlwZU9mIiwiayIsIl9lbnN1cmVDbGFzc1Byb3BlcnRpZXMiLCJub0FjY2Vzc29yIiwib2xkVmFsdWUiLCJfcmVxdWVzdFVwZGF0ZSIsImNvbmZpZ3VyYWJsZSIsInN1cGVyQ3RvciIsInByb3BzIiwicHJvcGVydGllcyIsInByb3BLZXlzIiwiZ2V0T3duUHJvcGVydHlOYW1lcyIsImdldE93blByb3BlcnR5U3ltYm9scyIsImNyZWF0ZVByb3BlcnR5IiwiZnJvbUF0dHJpYnV0ZSIsInRvQXR0cmlidXRlIiwiX3NhdmVJbnN0YW5jZVByb3BlcnRpZXMiLCJjb25zdHJ1Y3RvciIsIl92IiwiX2F0dHJpYnV0ZVRvUHJvcGVydHkiLCJjdG9yIiwiYXR0clZhbHVlIiwiX3Byb3BlcnR5VmFsdWVUb0F0dHJpYnV0ZSIsInByb3BOYW1lIiwiX3Byb3BlcnR5VmFsdWVGcm9tQXR0cmlidXRlIiwic2hvdWxkUmVxdWVzdFVwZGF0ZSIsIl92YWx1ZUhhc0NoYW5nZWQiLCJfaGFzUmVxdWVzdGVkVXBkYXRlIiwiX2VucXVldWVVcGRhdGUiLCJ1cGRhdGVDb21wbGV0ZSIsInJlamVjdCIsInByZXZpb3VzVXBkYXRlUHJvbWlzZSIsInJlcyIsInJlaiIsIl9oYXNDb25uZWN0ZWQiLCJwZXJmb3JtVXBkYXRlIiwiX2FwcGx5SW5zdGFuY2VQcm9wZXJ0aWVzIiwic2hvdWxkVXBkYXRlIiwiY2hhbmdlZFByb3BlcnRpZXMiLCJfbWFya1VwZGF0ZWQiLCJmaXJzdFVwZGF0ZWQiLCJ1cGRhdGVkIiwiX2dldFVwZGF0ZUNvbXBsZXRlIiwic2l6ZSIsIl9wcm9wZXJ0eVRvQXR0cmlidXRlIiwiY3VzdG9tRWxlbWVudCIsImNsYXNzT3JEZXNjcmlwdG9yIiwiY2xhenoiLCJkZWZpbmUiLCJsZWdhY3lDdXN0b21FbGVtZW50IiwiZGVzY3JpcHRvciIsImtpbmQiLCJlbGVtZW50cyIsInN0YW5kYXJkQ3VzdG9tRWxlbWVudCIsInN0YW5kYXJkUHJvcGVydHkiLCJwbGFjZW1lbnQiLCJpbml0aWFsaXplciIsImFzc2lnbiIsImxlZ2FjeVByb3BlcnR5IiwicHJvdG8iLCJwcm90b09yRGVzY3JpcHRvciIsInF1ZXJ5Iiwic2VsZWN0b3IiLCJyZW5kZXJSb290IiwibGVnYWN5UXVlcnkiLCJzdGFuZGFyZFF1ZXJ5IiwicXVlcnlBbGwiLCJldmVudE9wdGlvbnMiLCJsZWdhY3lFdmVudE9wdGlvbnMiLCJzdGFuZGFyZEV2ZW50T3B0aW9ucyIsInN1cHBvcnRzQWRvcHRpbmdTdHlsZVNoZWV0cyIsIkRvY3VtZW50IiwiQ1NTU3R5bGVTaGVldCIsImNvbnN0cnVjdGlvblRva2VuIiwiQ1NTUmVzdWx0IiwiY3NzVGV4dCIsInNhZmVUb2tlbiIsIl9zdHlsZVNoZWV0IiwicmVwbGFjZVN5bmMiLCJ1bnNhZmVDU1MiLCJjc3MiLCJyZWR1Y2UiLCJhY2MiLCJpZHgiLCJ0ZXh0RnJvbUNTU1Jlc3VsdCIsImZsYXR0ZW5TdHlsZXMiLCJmbGF0IiwiSW5maW5pdHkiLCJhcnJheUZsYXQiLCJfc3R5bGVzIiwiX2dldFVuaXF1ZVN0eWxlcyIsInVzZXJTdHlsZXMiLCJyZWR1Y2VSaWdodCIsInVuc2hpZnQiLCJjcmVhdGVSZW5kZXJSb290IiwiU2hhZG93Um9vdCIsImFkb3B0U3R5bGVzIiwiYXR0YWNoU2hhZG93IiwiYWRvcHRlZFN0eWxlU2hlZXRzIiwibWFwIiwic3R5bGVTaGVldCIsIl9uZWVkc1NoaW1BZG9wdGVkU3R5bGVTaGVldHMiLCJTY29waW5nU2hpbSIsInByZXBhcmVBZG9wdGVkQ3NzVGV4dCIsImxvY2FsTmFtZSIsImNvbm5lY3RlZENhbGxiYWNrIiwiaGFzVXBkYXRlZCIsInN0eWxlRWxlbWVudCIsInRlbXBsYXRlUmVzdWx0IiwicmVuZGVyIiwiaGFzUmVuZGVyZWQiLCJuZWVkc1Njb3BpbmciLCJob3N0IiwiZmlyc3RTY29wZVJlbmRlciIsInJlbmRlckNvbnRhaW5lciIsImNyZWF0ZURvY3VtZW50RnJhZ21lbnQiLCJhcHBlbmRJbnRvIiwiZGVsZXRlIiwiRW5nbGlzaFZlcmJzR2FtZSIsIkxpdEVsZW1lbnQiLCJsZXZlbHMiLCJzcGVlY2giLCJzcGVlY2hTeW50aGVzaXMiLCJhIiwicHJvZmlsZUNhcmQiLCJzaGFkb3dSb290IiwicG9pbnRDb2xsZWN0aW9uIiwiY29uZ3JhdHVsYXRpb25zIiwiZGlzcGxheSIsImVudHJpZXMiLCJmbG9vciIsIndvcmQiLCJpbmNsdWRlcyIsInRyYW5zbGF0aW9uIiwidG9TdHJpbmciLCJ0aGVyZXN0IiwiY29ycmVjdFdvcmQiLCJncmVldCIsInJlcXVlc3RVcGRhdGUiLCJzZXRUaW1lb3V0Iiwid29yZHNBbmltYXRpb24iLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJib3giLCJhbmltYXRlIiwidHJhbnNmb3JtIiwiZHVyYXRpb24iLCJkZWxheSIsIm5ld1ZhbHVlIiwibGV2ZWwiLCJyZWZyZXNoTnVtYmVyIiwib25jbGljayIsInBvaW50Ym94IiwiY29uZmV0dGlTZXR0aW5ncyIsInRhcmdldCIsInNpZ25PdXQiLCJyZW1vdmVJdGVtIiwicHJldmVudERlZmF1bHQiLCJyZW1vdmUiLCJvcGFjaXR5IiwidHJhbnNpdGlvbiIsImFuaW1hdGlvbiIsImZvcm0iLCJzcmMiLCJtc2ciLCJTcGVlY2hTeW50aGVzaXNVdHRlcmFuY2UiLCJyYXRlIiwidm9pY2VzIiwiZ2V0Vm9pY2VzIiwidm9pY2UiLCJsYW5nIiwic3BlYWsiLCJmb2N1cyIsImxvZ2luZ091dCIsImRldGFpbCIsInNlbGVjdGlvbkNob2ljZSIsImdyZWV0aW5nTWVzc2FnZSIsIm1lbnVGdW5jdGlvbmFsaXR5IiwicmVhZFRoZVdvcmQiLCJob3ZlcmFibGUiLCJrZXlDb2RlIiwicG9pbnRzQWRkaXRpb24iLCJmbGlja2VyIiwiY29uZ3JhdHVsYXRlIiwic2hvd1RoZUFuc3dlciIsImdyZWV0aW5nIiwiJGdhbWUiLCJMb2dTY3JlZW4iLCJkaXNwYXRjaEV2ZW50IiwiQ3VzdG9tRXZlbnQiLCJidWJibGVzIiwiY29tcG9zZWQiLCJ0aXRsZSIsImxvZ0J1dHRvbiIsInNhZENhdCIsIiRsb2dzY3JlZW4iLCJpZCIsImxhc3RDaGlsZCIsImJ5xIciLCJyb2JpxIciLCJidWRvd2HEhyIsImt1cG93YcSHIiwixYJhcGHEhyIsInd5YmllcmHEhyIsImtvc3p0b3dhxIciLCJwacSHIiwiamXFm8SHIiwiY3p1xIciLCJ6bmFsZcW6xIciLCJsYXRhxIciLCJkb3N0YXdhxIciLCJkYXdhxIciLCJpxZvEhyIsInJvc27EhcSHIiwibWllxIciLCJzxYJ5c3plxIciLCJ1ZGVyemHEhyIsInRyenltYcSHIiwicMWCYWNpxIciLCJrxYJhxZvEhyIsImN6eXRhxIciLCJqZcW6ZHppxIciLCJkendvbmnEhyIsImJpZWMiLCJtb3dpxIciLCJ3aWR6aWXEhyIsInNwcnplZGF3YcSHIiwicG9rYXp5d2HEhyIsInphbXlrYcSHIiwixZtwaWV3YcSHIiwic3BhxIciLCJzdGHEhyIsImtyYcWbxIciLCJwxYJ5d2HEhyIsImJyYcSHIiwicnp1Y2HEhyIsImJ1ZHppxIciLCJyb3p1bWllxIciLCJ3eWdyeXdhxIciLCJwaXNhxIciLCJvYnVkemnEhyIsImJpxIciLCJ1Z3J5xbpjIiwia3J3YXdpxIciLCJ6YXBvbWluYcSHIiwid3liYWN6YcSHIiwiemFtYXJ6YcSHIiwicG96d2FsYcSHIiwic3RyemVsYcSHIiwiemFicmFuaWHEhyIsInByb3dhZHppxIciLCJza2FrYcSHIiwicGnFgm93YcSHIiwiemFiaWphxIciLCLFvMSFZGxpxIciLCJSZXBvcnRCdWciLCJyZXBvcnRCdWdUb1NlcnZlciIsInVzZXJpZCIsInNlbmRJbmZvIiwiJHJlcG9ydGJ1ZyIsImxvY2F0aW9uIiwiaG9zdG5hbWUiLCJuYXZpZ2F0b3IiLCJzZXJ2aWNlV29ya2VyIiwicmVnaXN0ZXIiLCJvbmxvYWQiLCJjaGVja1VwZGF0ZXMiLCJwYXJhbXMiLCJhcHBzdGF0ZSIsIm1heCIsImNvbG9ycyIsImNsb2NrIiwiaW50ZXJ2YWwiLCJyb3RhdGUiLCJ3aWR0aCIsImlubmVyV2lkdGgiLCJoZWlnaHQiLCJpbm5lckhlaWdodCIsImN2IiwiZ2V0RWxlbWVudEJ5SWQiLCJjdHgiLCJnZXRDb250ZXh0IiwicGFydGljbGVzIiwicmFuZCIsImxpbWl0IiwidG90YWxXZWlnaHQiLCJ3ZWlnaHQiLCJwYXJ0aWNsZUZhY3RvcnkiLCJzZWxlY3RQcm9wIiwieCIsInkiLCJyYWRpdXMiLCJsaW5lIiwiYW5nbGVzIiwiY29sb3IiLCJyb3RhdGlvbiIsIlBJIiwic3BlZWQiLCJwYXJ0aWNsZURyYXciLCJvcCIsImZpbGxTdHlsZSIsInN0cm9rZVN0eWxlIiwiYmVnaW5QYXRoIiwibW92ZVRvIiwiYXJjIiwiZmlsbCIsImxpbmVUbyIsImNsb3NlUGF0aCIsImxpbmVXaWR0aCIsInN0cm9rZSIsInNhdmUiLCJ0cmFuc2xhdGUiLCJmaWxsUmVjdCIsInJlc3RvcmUiLCJpbWFnZSIsIkltYWdlIiwiZHJhd0ltYWdlIiwiZHJhdyIsImNsZWFyUmVjdCIsInBhcnNlRmxvYXQiLCJjbGVhckludGVydmFsIiwidyIsIlByb2ZpbGVDYXJkIiwidXNlck5hbWUiLCJ1c2VyRW1haWwiLCJyZXBvcnRCdWciLCJsb2dPdXQiXSwibWFwcGluZ3MiOiJhQUNFLElBQUlBLEVBQW1CLEdBR3ZCLFNBQVNDLEVBQW9CQyxHQUc1QixHQUFHRixF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ZCxLQUFLZ2lCOztPQXZJL0IsZ0JBNElBeGpCLGVBQWVtUyxPQUFPLGVBQWdCaVIiLCJmaWxlIjoibWFpbi5idW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gNik7XG4iLCJpbXBvcnQgeyBzaG93VGhlR2FtZSB9IGZyb20gJy4vZW5nbGlzaCc7XHJcbmltcG9ydCB7IHNob3dMb2cgfSBmcm9tICcuL2xvZy1zY3JlZW4nO1xyXG5kZWNsYXJlIGdsb2JhbCB7XHJcblx0aW50ZXJmYWNlIFdpbmRvdyB7XHJcblx0XHRmaXJlYmFzZTogYW55O1xyXG5cdH1cclxufVxyXG50eXBlIFBvaW50Q29sbGVjdGlvbiA9IHsgW2tleTogc3RyaW5nXTogbnVtYmVyIH07XHJcbi8vIFlvdXIgd2ViIGFwcCdzIEZpcmViYXNlIGNvbmZpZ3VyYXRpb25cclxudmFyIGZpcmViYXNlQ29uZmlnID0ge1xyXG5cdGFwaUtleTogJ0FJemFTeUM0UEtsVlRWV3BRYk40NDU5dzlRZk8tcTNUYTNTem9acycsXHJcblx0YXV0aERvbWFpbjogJ2VuZ2xpc2gtdmVyYnMtZ2FtZS5maXJlYmFzZWFwcC5jb20nLFxyXG5cdGRhdGFiYXNlVVJMOiAnaHR0cHM6Ly9lbmdsaXNoLXZlcmJzLWdhbWUuZmlyZWJhc2Vpby5jb20nLFxyXG5cdHByb2plY3RJZDogJ2VuZ2xpc2gtdmVyYnMtZ2FtZScsXHJcblx0c3RvcmFnZUJ1Y2tldDogJ2VuZ2xpc2gtdmVyYnMtZ2FtZS5hcHBzcG90LmNvbScsXHJcblx0bWVzc2FnaW5nU2VuZGVySWQ6ICc4Nzg2NDI2MDcwMzknLFxyXG5cdGFwcElkOiAnMTo4Nzg2NDI2MDcwMzk6d2ViOmUxZDBjNWExYzZkNzhjMjBlODY3MGEnLFxyXG5cdG1lYXN1cmVtZW50SWQ6ICdHLU5aNVY1QlpEWEgnXHJcbn07XHJcbi8vIEluaXRpYWxpemUgRmlyZWJhc2Vcclxud2luZG93LmZpcmViYXNlLmluaXRpYWxpemVBcHAoZmlyZWJhc2VDb25maWcpO1xyXG52YXIgcHJvdmlkZXIgPSBuZXcgd2luZG93LmZpcmViYXNlLmF1dGguR29vZ2xlQXV0aFByb3ZpZGVyKCk7XHJcbnByb3ZpZGVyLnNldEN1c3RvbVBhcmFtZXRlcnMoe1xyXG5cdHByb21wdDogJ3NlbGVjdF9hY2NvdW50J1xyXG59KTtcclxud2luZG93LmZpcmViYXNlLmF1dGgoKS5sYW5ndWFnZUNvZGUgPSAncGwnO1xyXG53aW5kb3cuZmlyZWJhc2VcclxuXHQuYXV0aCgpXHJcblx0LmdldFJlZGlyZWN0UmVzdWx0KClcclxuXHQudGhlbihmdW5jdGlvbihyZXN1bHQ6IGFueSkge1xyXG5cdFx0aWYgKHJlc3VsdC5jcmVkZW50aWFsKSB7XHJcblx0XHRcdGNvbnNvbGUubG9nKCdsb2dnZWQnKTtcclxuXHRcdFx0bGV0IHVzZXIgPSByZXN1bHQudXNlcjtcclxuXHRcdFx0bGV0IHBvaW50czogUG9pbnRDb2xsZWN0aW9uO1xyXG5cdFx0XHR3aW5kb3cuZmlyZWJhc2UuZGF0YWJhc2UoKS5yZWYoJy91c2Vycy8nICsgdXNlci51aWQpLm9uY2UoJ3ZhbHVlJykudGhlbihmdW5jdGlvbihzbmFwc2hvdDogYW55KSB7XHJcblx0XHRcdFx0aWYgKCEoc25hcHNob3QudmFsKCkgPT09IG51bGwpKSB7XHJcblx0XHRcdFx0XHRwb2ludHMgPSBzbmFwc2hvdC52YWwoKS5wb2ludHM7XHJcblxyXG5cdFx0XHRcdFx0bGV0IGdhbWUgPSBzaG93VGhlR2FtZSh1c2VyLmRpc3BsYXlOYW1lLCB1c2VyLmVtYWlsLCB1c2VyLnVpZCwgcG9pbnRzLCAnV2l0YWogcG9ub3duaWUnKTtcclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0cG9pbnRzID0ge1xyXG5cdFx0XHRcdFx0XHRBMjogMCxcclxuXHRcdFx0XHRcdFx0QjE6IDAsXHJcblx0XHRcdFx0XHRcdEIyOiAwLFxyXG5cdFx0XHRcdFx0XHRDMTogMCxcclxuXHRcdFx0XHRcdFx0QzI6IDAsXHJcblx0XHRcdFx0XHRcdEFsbDogMFxyXG5cdFx0XHRcdFx0fTtcclxuXHRcdFx0XHRcdHdyaXRlVXNlckRhdGEodXNlci51aWQsIHBvaW50cywgdXNlci5kaXNwbGF5TmFtZSk7XHJcblx0XHRcdFx0XHRsZXQgZ2FtZSA9IHNob3dUaGVHYW1lKHVzZXIuZGlzcGxheU5hbWUsIHVzZXIuZW1haWwsIHVzZXIudWlkLCBwb2ludHMsICdEemnEmWt1amVteSB6YSByZWplc3RyYWNqxJknKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0bG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3VzZXItaW5mbycsIEpTT04uc3RyaW5naWZ5KHsgdXNlciB9KSk7XHJcblx0XHRcdFx0bG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3BvaW50cycsIEpTT04uc3RyaW5naWZ5KHsgcG9pbnRzIH0pKTtcclxuXHRcdFx0fSk7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gUmVtb3ZlIGlzUmVkaXJlY3RpbmcgZnJvbSBsb2NhbHN0b3JhZ2VcclxuXHR9KVxyXG5cdC5jYXRjaChmdW5jdGlvbihlcnJvcjogRXJyb3IpIHtcclxuXHRcdHZhciBlcnJvck1lc3NhZ2UgPSBlcnJvci5tZXNzYWdlO1xyXG5cdFx0Y29uc29sZS5sb2coZXJyb3JNZXNzYWdlKTtcclxuXHRcdGxldCBzaG93bG9nID0gc2hvd0xvZygnQ2/FmyBwb3N6xYJvIG5pZSB0YWsnLCAnU3Byw7NidWogcG9ub3duaWUgemEga2lsa2EgbWludXQnLCBmYWxzZSwgdHJ1ZSk7XHJcblx0fSk7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gd3JpdGVVc2VyRGF0YSh1c2VySWQ6IG51bWJlciwgcG9pbnRjb2xsZWN0aW9uOiBQb2ludENvbGxlY3Rpb24sIG5hbWU6IHN0cmluZykge1xyXG5cdHdpbmRvdy5maXJlYmFzZS5kYXRhYmFzZSgpLnJlZigndXNlcnMvJyArIHVzZXJJZCkuc2V0KHtcclxuXHRcdHBvaW50czogcG9pbnRjb2xsZWN0aW9uLFxyXG5cdFx0bmFtZTogbmFtZVxyXG5cdH0pO1xyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiByZXBvcnRCdWdUb1NlcnZlcih1c2VySWQ6IG51bWJlciwgYnVnTWVzc2FnZTogc3RyaW5nKSB7XHJcblx0Y29uc29sZS5sb2coYnVnTWVzc2FnZSk7XHJcblx0d2luZG93LmZpcmViYXNlLmRhdGFiYXNlKCkucmVmKCd1c2Vycy8nICsgdXNlcklkKS5wdXNoKGJ1Z01lc3NhZ2UpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcmVkaXJlY3RpbmdTaWduVXAoKSB7XHJcblx0bG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2lzUmVkaXJlY3RpbmcnLCAnJyk7XHJcblx0d2luZG93LmZpcmViYXNlLmF1dGgoKS5zaWduSW5XaXRoUmVkaXJlY3QocHJvdmlkZXIpO1xyXG59XHJcblxyXG5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbm93ZWtvbnRvJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCByZWRpcmVjdGluZ1NpZ25VcCk7XHJcbmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN6YWxvZ3VqJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCByZWRpcmVjdGluZ1NpZ25VcCk7XHJcblxyXG4vLyBDaGVjayB3aGV0aGVyIHdlIGFyZSByZWRpcmVjdGluZy4gSWYgd2UgYXJlLCB3ZSBhbHJlYWR5IG5vdyBtYXJrIHRoZSBwYWdlIGFzIHJlYWR5LlxyXG5pZiAobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2lzUmVkaXJlY3RpbmcnKSA9PSBudWxsKSB7XHJcblx0ZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKCdyZWFkeScpO1xyXG59XHJcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBUaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG4gKiBDb2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuICogc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4gKi9cbmNvbnN0IGRpcmVjdGl2ZXMgPSBuZXcgV2Vha01hcCgpO1xuLyoqXG4gKiBCcmFuZHMgYSBmdW5jdGlvbiBhcyBhIGRpcmVjdGl2ZSBmYWN0b3J5IGZ1bmN0aW9uIHNvIHRoYXQgbGl0LWh0bWwgd2lsbCBjYWxsXG4gKiB0aGUgZnVuY3Rpb24gZHVyaW5nIHRlbXBsYXRlIHJlbmRlcmluZywgcmF0aGVyIHRoYW4gcGFzc2luZyBhcyBhIHZhbHVlLlxuICpcbiAqIEEgX2RpcmVjdGl2ZV8gaXMgYSBmdW5jdGlvbiB0aGF0IHRha2VzIGEgUGFydCBhcyBhbiBhcmd1bWVudC4gSXQgaGFzIHRoZVxuICogc2lnbmF0dXJlOiBgKHBhcnQ6IFBhcnQpID0+IHZvaWRgLlxuICpcbiAqIEEgZGlyZWN0aXZlIF9mYWN0b3J5XyBpcyBhIGZ1bmN0aW9uIHRoYXQgdGFrZXMgYXJndW1lbnRzIGZvciBkYXRhIGFuZFxuICogY29uZmlndXJhdGlvbiBhbmQgcmV0dXJucyBhIGRpcmVjdGl2ZS4gVXNlcnMgb2YgZGlyZWN0aXZlIHVzdWFsbHkgcmVmZXIgdG9cbiAqIHRoZSBkaXJlY3RpdmUgZmFjdG9yeSBhcyB0aGUgZGlyZWN0aXZlLiBGb3IgZXhhbXBsZSwgXCJUaGUgcmVwZWF0IGRpcmVjdGl2ZVwiLlxuICpcbiAqIFVzdWFsbHkgYSB0ZW1wbGF0ZSBhdXRob3Igd2lsbCBpbnZva2UgYSBkaXJlY3RpdmUgZmFjdG9yeSBpbiB0aGVpciB0ZW1wbGF0ZVxuICogd2l0aCByZWxldmFudCBhcmd1bWVudHMsIHdoaWNoIHdpbGwgdGhlbiByZXR1cm4gYSBkaXJlY3RpdmUgZnVuY3Rpb24uXG4gKlxuICogSGVyZSdzIGFuIGV4YW1wbGUgb2YgdXNpbmcgdGhlIGByZXBlYXQoKWAgZGlyZWN0aXZlIGZhY3RvcnkgdGhhdCB0YWtlcyBhblxuICogYXJyYXkgYW5kIGEgZnVuY3Rpb24gdG8gcmVuZGVyIGFuIGl0ZW06XG4gKlxuICogYGBganNcbiAqIGh0bWxgPHVsPjwke3JlcGVhdChpdGVtcywgKGl0ZW0pID0+IGh0bWxgPGxpPiR7aXRlbX08L2xpPmApfTwvdWw+YFxuICogYGBgXG4gKlxuICogV2hlbiBgcmVwZWF0YCBpcyBpbnZva2VkLCBpdCByZXR1cm5zIGEgZGlyZWN0aXZlIGZ1bmN0aW9uIHRoYXQgY2xvc2VzIG92ZXJcbiAqIGBpdGVtc2AgYW5kIHRoZSB0ZW1wbGF0ZSBmdW5jdGlvbi4gV2hlbiB0aGUgb3V0ZXIgdGVtcGxhdGUgaXMgcmVuZGVyZWQsIHRoZVxuICogcmV0dXJuIGRpcmVjdGl2ZSBmdW5jdGlvbiBpcyBjYWxsZWQgd2l0aCB0aGUgUGFydCBmb3IgdGhlIGV4cHJlc3Npb24uXG4gKiBgcmVwZWF0YCB0aGVuIHBlcmZvcm1zIGl0J3MgY3VzdG9tIGxvZ2ljIHRvIHJlbmRlciBtdWx0aXBsZSBpdGVtcy5cbiAqXG4gKiBAcGFyYW0gZiBUaGUgZGlyZWN0aXZlIGZhY3RvcnkgZnVuY3Rpb24uIE11c3QgYmUgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYVxuICogZnVuY3Rpb24gb2YgdGhlIHNpZ25hdHVyZSBgKHBhcnQ6IFBhcnQpID0+IHZvaWRgLiBUaGUgcmV0dXJuZWQgZnVuY3Rpb24gd2lsbFxuICogYmUgY2FsbGVkIHdpdGggdGhlIHBhcnQgb2JqZWN0LlxuICpcbiAqIEBleGFtcGxlXG4gKlxuICogaW1wb3J0IHtkaXJlY3RpdmUsIGh0bWx9IGZyb20gJ2xpdC1odG1sJztcbiAqXG4gKiBjb25zdCBpbW11dGFibGUgPSBkaXJlY3RpdmUoKHYpID0+IChwYXJ0KSA9PiB7XG4gKiAgIGlmIChwYXJ0LnZhbHVlICE9PSB2KSB7XG4gKiAgICAgcGFydC5zZXRWYWx1ZSh2KVxuICogICB9XG4gKiB9KTtcbiAqL1xuZXhwb3J0IGNvbnN0IGRpcmVjdGl2ZSA9IChmKSA9PiAoKC4uLmFyZ3MpID0+IHtcbiAgICBjb25zdCBkID0gZiguLi5hcmdzKTtcbiAgICBkaXJlY3RpdmVzLnNldChkLCB0cnVlKTtcbiAgICByZXR1cm4gZDtcbn0pO1xuZXhwb3J0IGNvbnN0IGlzRGlyZWN0aXZlID0gKG8pID0+IHtcbiAgICByZXR1cm4gdHlwZW9mIG8gPT09ICdmdW5jdGlvbicgJiYgZGlyZWN0aXZlcy5oYXMobyk7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGlyZWN0aXZlLmpzLm1hcCIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBUaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG4gKiBDb2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuICogc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4gKi9cbi8qKlxuICogVHJ1ZSBpZiB0aGUgY3VzdG9tIGVsZW1lbnRzIHBvbHlmaWxsIGlzIGluIHVzZS5cbiAqL1xuZXhwb3J0IGNvbnN0IGlzQ0VQb2x5ZmlsbCA9IHdpbmRvdy5jdXN0b21FbGVtZW50cyAhPT0gdW5kZWZpbmVkICYmXG4gICAgd2luZG93LmN1c3RvbUVsZW1lbnRzLnBvbHlmaWxsV3JhcEZsdXNoQ2FsbGJhY2sgIT09XG4gICAgICAgIHVuZGVmaW5lZDtcbi8qKlxuICogUmVwYXJlbnRzIG5vZGVzLCBzdGFydGluZyBmcm9tIGBzdGFydGAgKGluY2x1c2l2ZSkgdG8gYGVuZGAgKGV4Y2x1c2l2ZSksXG4gKiBpbnRvIGFub3RoZXIgY29udGFpbmVyIChjb3VsZCBiZSB0aGUgc2FtZSBjb250YWluZXIpLCBiZWZvcmUgYGJlZm9yZWAuIElmXG4gKiBgYmVmb3JlYCBpcyBudWxsLCBpdCBhcHBlbmRzIHRoZSBub2RlcyB0byB0aGUgY29udGFpbmVyLlxuICovXG5leHBvcnQgY29uc3QgcmVwYXJlbnROb2RlcyA9IChjb250YWluZXIsIHN0YXJ0LCBlbmQgPSBudWxsLCBiZWZvcmUgPSBudWxsKSA9PiB7XG4gICAgd2hpbGUgKHN0YXJ0ICE9PSBlbmQpIHtcbiAgICAgICAgY29uc3QgbiA9IHN0YXJ0Lm5leHRTaWJsaW5nO1xuICAgICAgICBjb250YWluZXIuaW5zZXJ0QmVmb3JlKHN0YXJ0LCBiZWZvcmUpO1xuICAgICAgICBzdGFydCA9IG47XG4gICAgfVxufTtcbi8qKlxuICogUmVtb3ZlcyBub2Rlcywgc3RhcnRpbmcgZnJvbSBgc3RhcnRgIChpbmNsdXNpdmUpIHRvIGBlbmRgIChleGNsdXNpdmUpLCBmcm9tXG4gKiBgY29udGFpbmVyYC5cbiAqL1xuZXhwb3J0IGNvbnN0IHJlbW92ZU5vZGVzID0gKGNvbnRhaW5lciwgc3RhcnQsIGVuZCA9IG51bGwpID0+IHtcbiAgICB3aGlsZSAoc3RhcnQgIT09IGVuZCkge1xuICAgICAgICBjb25zdCBuID0gc3RhcnQubmV4dFNpYmxpbmc7XG4gICAgICAgIGNvbnRhaW5lci5yZW1vdmVDaGlsZChzdGFydCk7XG4gICAgICAgIHN0YXJ0ID0gbjtcbiAgICB9XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZG9tLmpzLm1hcCIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAoYykgMjAxOCBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBUaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG4gKiBDb2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuICogc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4gKi9cbi8qKlxuICogQSBzZW50aW5lbCB2YWx1ZSB0aGF0IHNpZ25hbHMgdGhhdCBhIHZhbHVlIHdhcyBoYW5kbGVkIGJ5IGEgZGlyZWN0aXZlIGFuZFxuICogc2hvdWxkIG5vdCBiZSB3cml0dGVuIHRvIHRoZSBET00uXG4gKi9cbmV4cG9ydCBjb25zdCBub0NoYW5nZSA9IHt9O1xuLyoqXG4gKiBBIHNlbnRpbmVsIHZhbHVlIHRoYXQgc2lnbmFscyBhIE5vZGVQYXJ0IHRvIGZ1bGx5IGNsZWFyIGl0cyBjb250ZW50LlxuICovXG5leHBvcnQgY29uc3Qgbm90aGluZyA9IHt9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFydC5qcy5tYXAiLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuICogQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbiAqIHN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuICovXG4vKipcbiAqIEFuIGV4cHJlc3Npb24gbWFya2VyIHdpdGggZW1iZWRkZWQgdW5pcXVlIGtleSB0byBhdm9pZCBjb2xsaXNpb24gd2l0aFxuICogcG9zc2libGUgdGV4dCBpbiB0ZW1wbGF0ZXMuXG4gKi9cbmV4cG9ydCBjb25zdCBtYXJrZXIgPSBge3tsaXQtJHtTdHJpbmcoTWF0aC5yYW5kb20oKSkuc2xpY2UoMil9fX1gO1xuLyoqXG4gKiBBbiBleHByZXNzaW9uIG1hcmtlciB1c2VkIHRleHQtcG9zaXRpb25zLCBtdWx0aS1iaW5kaW5nIGF0dHJpYnV0ZXMsIGFuZFxuICogYXR0cmlidXRlcyB3aXRoIG1hcmt1cC1saWtlIHRleHQgdmFsdWVzLlxuICovXG5leHBvcnQgY29uc3Qgbm9kZU1hcmtlciA9IGA8IS0tJHttYXJrZXJ9LS0+YDtcbmV4cG9ydCBjb25zdCBtYXJrZXJSZWdleCA9IG5ldyBSZWdFeHAoYCR7bWFya2VyfXwke25vZGVNYXJrZXJ9YCk7XG4vKipcbiAqIFN1ZmZpeCBhcHBlbmRlZCB0byBhbGwgYm91bmQgYXR0cmlidXRlIG5hbWVzLlxuICovXG5leHBvcnQgY29uc3QgYm91bmRBdHRyaWJ1dGVTdWZmaXggPSAnJGxpdCQnO1xuLyoqXG4gKiBBbiB1cGRhdGVhYmxlIFRlbXBsYXRlIHRoYXQgdHJhY2tzIHRoZSBsb2NhdGlvbiBvZiBkeW5hbWljIHBhcnRzLlxuICovXG5leHBvcnQgY2xhc3MgVGVtcGxhdGUge1xuICAgIGNvbnN0cnVjdG9yKHJlc3VsdCwgZWxlbWVudCkge1xuICAgICAgICB0aGlzLnBhcnRzID0gW107XG4gICAgICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgICAgIGNvbnN0IG5vZGVzVG9SZW1vdmUgPSBbXTtcbiAgICAgICAgY29uc3Qgc3RhY2sgPSBbXTtcbiAgICAgICAgLy8gRWRnZSBuZWVkcyBhbGwgNCBwYXJhbWV0ZXJzIHByZXNlbnQ7IElFMTEgbmVlZHMgM3JkIHBhcmFtZXRlciB0byBiZSBudWxsXG4gICAgICAgIGNvbnN0IHdhbGtlciA9IGRvY3VtZW50LmNyZWF0ZVRyZWVXYWxrZXIoZWxlbWVudC5jb250ZW50LCAxMzMgLyogTm9kZUZpbHRlci5TSE9XX3tFTEVNRU5UfENPTU1FTlR8VEVYVH0gKi8sIG51bGwsIGZhbHNlKTtcbiAgICAgICAgLy8gS2VlcHMgdHJhY2sgb2YgdGhlIGxhc3QgaW5kZXggYXNzb2NpYXRlZCB3aXRoIGEgcGFydC4gV2UgdHJ5IHRvIGRlbGV0ZVxuICAgICAgICAvLyB1bm5lY2Vzc2FyeSBub2RlcywgYnV0IHdlIG5ldmVyIHdhbnQgdG8gYXNzb2NpYXRlIHR3byBkaWZmZXJlbnQgcGFydHNcbiAgICAgICAgLy8gdG8gdGhlIHNhbWUgaW5kZXguIFRoZXkgbXVzdCBoYXZlIGEgY29uc3RhbnQgbm9kZSBiZXR3ZWVuLlxuICAgICAgICBsZXQgbGFzdFBhcnRJbmRleCA9IDA7XG4gICAgICAgIGxldCBpbmRleCA9IC0xO1xuICAgICAgICBsZXQgcGFydEluZGV4ID0gMDtcbiAgICAgICAgY29uc3QgeyBzdHJpbmdzLCB2YWx1ZXM6IHsgbGVuZ3RoIH0gfSA9IHJlc3VsdDtcbiAgICAgICAgd2hpbGUgKHBhcnRJbmRleCA8IGxlbmd0aCkge1xuICAgICAgICAgICAgY29uc3Qgbm9kZSA9IHdhbGtlci5uZXh0Tm9kZSgpO1xuICAgICAgICAgICAgaWYgKG5vZGUgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAvLyBXZSd2ZSBleGhhdXN0ZWQgdGhlIGNvbnRlbnQgaW5zaWRlIGEgbmVzdGVkIHRlbXBsYXRlIGVsZW1lbnQuXG4gICAgICAgICAgICAgICAgLy8gQmVjYXVzZSB3ZSBzdGlsbCBoYXZlIHBhcnRzICh0aGUgb3V0ZXIgZm9yLWxvb3ApLCB3ZSBrbm93OlxuICAgICAgICAgICAgICAgIC8vIC0gVGhlcmUgaXMgYSB0ZW1wbGF0ZSBpbiB0aGUgc3RhY2tcbiAgICAgICAgICAgICAgICAvLyAtIFRoZSB3YWxrZXIgd2lsbCBmaW5kIGEgbmV4dE5vZGUgb3V0c2lkZSB0aGUgdGVtcGxhdGVcbiAgICAgICAgICAgICAgICB3YWxrZXIuY3VycmVudE5vZGUgPSBzdGFjay5wb3AoKTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGluZGV4Kys7XG4gICAgICAgICAgICBpZiAobm9kZS5ub2RlVHlwZSA9PT0gMSAvKiBOb2RlLkVMRU1FTlRfTk9ERSAqLykge1xuICAgICAgICAgICAgICAgIGlmIChub2RlLmhhc0F0dHJpYnV0ZXMoKSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBhdHRyaWJ1dGVzID0gbm9kZS5hdHRyaWJ1dGVzO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB7IGxlbmd0aCB9ID0gYXR0cmlidXRlcztcbiAgICAgICAgICAgICAgICAgICAgLy8gUGVyXG4gICAgICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9OYW1lZE5vZGVNYXAsXG4gICAgICAgICAgICAgICAgICAgIC8vIGF0dHJpYnV0ZXMgYXJlIG5vdCBndWFyYW50ZWVkIHRvIGJlIHJldHVybmVkIGluIGRvY3VtZW50IG9yZGVyLlxuICAgICAgICAgICAgICAgICAgICAvLyBJbiBwYXJ0aWN1bGFyLCBFZGdlL0lFIGNhbiByZXR1cm4gdGhlbSBvdXQgb2Ygb3JkZXIsIHNvIHdlIGNhbm5vdFxuICAgICAgICAgICAgICAgICAgICAvLyBhc3N1bWUgYSBjb3JyZXNwb25kZW5jZSBiZXR3ZWVuIHBhcnQgaW5kZXggYW5kIGF0dHJpYnV0ZSBpbmRleC5cbiAgICAgICAgICAgICAgICAgICAgbGV0IGNvdW50ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVuZHNXaXRoKGF0dHJpYnV0ZXNbaV0ubmFtZSwgYm91bmRBdHRyaWJ1dGVTdWZmaXgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY291bnQrKztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB3aGlsZSAoY291bnQtLSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEdldCB0aGUgdGVtcGxhdGUgbGl0ZXJhbCBzZWN0aW9uIGxlYWRpbmcgdXAgdG8gdGhlIGZpcnN0XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBleHByZXNzaW9uIGluIHRoaXMgYXR0cmlidXRlXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzdHJpbmdGb3JQYXJ0ID0gc3RyaW5nc1twYXJ0SW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRmluZCB0aGUgYXR0cmlidXRlIG5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5hbWUgPSBsYXN0QXR0cmlidXRlTmFtZVJlZ2V4LmV4ZWMoc3RyaW5nRm9yUGFydClbMl07XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBGaW5kIHRoZSBjb3JyZXNwb25kaW5nIGF0dHJpYnV0ZVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQWxsIGJvdW5kIGF0dHJpYnV0ZXMgaGF2ZSBoYWQgYSBzdWZmaXggYWRkZWQgaW5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRlbXBsYXRlUmVzdWx0I2dldEhUTUwgdG8gb3B0IG91dCBvZiBzcGVjaWFsIGF0dHJpYnV0ZVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaGFuZGxpbmcuIFRvIGxvb2sgdXAgdGhlIGF0dHJpYnV0ZSB2YWx1ZSB3ZSBhbHNvIG5lZWQgdG8gYWRkXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGUgc3VmZml4LlxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYXR0cmlidXRlTG9va3VwTmFtZSA9IG5hbWUudG9Mb3dlckNhc2UoKSArIGJvdW5kQXR0cmlidXRlU3VmZml4O1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYXR0cmlidXRlVmFsdWUgPSBub2RlLmdldEF0dHJpYnV0ZShhdHRyaWJ1dGVMb29rdXBOYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUucmVtb3ZlQXR0cmlidXRlKGF0dHJpYnV0ZUxvb2t1cE5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RhdGljcyA9IGF0dHJpYnV0ZVZhbHVlLnNwbGl0KG1hcmtlclJlZ2V4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGFydHMucHVzaCh7IHR5cGU6ICdhdHRyaWJ1dGUnLCBpbmRleCwgbmFtZSwgc3RyaW5nczogc3RhdGljcyB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcnRJbmRleCArPSBzdGF0aWNzLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG5vZGUudGFnTmFtZSA9PT0gJ1RFTVBMQVRFJykge1xuICAgICAgICAgICAgICAgICAgICBzdGFjay5wdXNoKG5vZGUpO1xuICAgICAgICAgICAgICAgICAgICB3YWxrZXIuY3VycmVudE5vZGUgPSBub2RlLmNvbnRlbnQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAobm9kZS5ub2RlVHlwZSA9PT0gMyAvKiBOb2RlLlRFWFRfTk9ERSAqLykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBub2RlLmRhdGE7XG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuaW5kZXhPZihtYXJrZXIpID49IDApIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFyZW50ID0gbm9kZS5wYXJlbnROb2RlO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzdHJpbmdzID0gZGF0YS5zcGxpdChtYXJrZXJSZWdleCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGxhc3RJbmRleCA9IHN0cmluZ3MubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgICAgICAgICAgLy8gR2VuZXJhdGUgYSBuZXcgdGV4dCBub2RlIGZvciBlYWNoIGxpdGVyYWwgc2VjdGlvblxuICAgICAgICAgICAgICAgICAgICAvLyBUaGVzZSBub2RlcyBhcmUgYWxzbyB1c2VkIGFzIHRoZSBtYXJrZXJzIGZvciBub2RlIHBhcnRzXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGFzdEluZGV4OyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBpbnNlcnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgcyA9IHN0cmluZ3NbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocyA9PT0gJycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnNlcnQgPSBjcmVhdGVNYXJrZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1hdGNoID0gbGFzdEF0dHJpYnV0ZU5hbWVSZWdleC5leGVjKHMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtYXRjaCAhPT0gbnVsbCAmJiBlbmRzV2l0aChtYXRjaFsyXSwgYm91bmRBdHRyaWJ1dGVTdWZmaXgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMgPSBzLnNsaWNlKDAsIG1hdGNoLmluZGV4KSArIG1hdGNoWzFdICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoWzJdLnNsaWNlKDAsIC1ib3VuZEF0dHJpYnV0ZVN1ZmZpeC5sZW5ndGgpICsgbWF0Y2hbM107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluc2VydCA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50Lmluc2VydEJlZm9yZShpbnNlcnQsIG5vZGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXJ0cy5wdXNoKHsgdHlwZTogJ25vZGUnLCBpbmRleDogKytpbmRleCB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGVyZSdzIG5vIHRleHQsIHdlIG11c3QgaW5zZXJ0IGEgY29tbWVudCB0byBtYXJrIG91ciBwbGFjZS5cbiAgICAgICAgICAgICAgICAgICAgLy8gRWxzZSwgd2UgY2FuIHRydXN0IGl0IHdpbGwgc3RpY2sgYXJvdW5kIGFmdGVyIGNsb25pbmcuXG4gICAgICAgICAgICAgICAgICAgIGlmIChzdHJpbmdzW2xhc3RJbmRleF0gPT09ICcnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnQuaW5zZXJ0QmVmb3JlKGNyZWF0ZU1hcmtlcigpLCBub2RlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGVzVG9SZW1vdmUucHVzaChub2RlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUuZGF0YSA9IHN0cmluZ3NbbGFzdEluZGV4XTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBXZSBoYXZlIGEgcGFydCBmb3IgZWFjaCBtYXRjaCBmb3VuZFxuICAgICAgICAgICAgICAgICAgICBwYXJ0SW5kZXggKz0gbGFzdEluZGV4O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKG5vZGUubm9kZVR5cGUgPT09IDggLyogTm9kZS5DT01NRU5UX05PREUgKi8pIHtcbiAgICAgICAgICAgICAgICBpZiAobm9kZS5kYXRhID09PSBtYXJrZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFyZW50ID0gbm9kZS5wYXJlbnROb2RlO1xuICAgICAgICAgICAgICAgICAgICAvLyBBZGQgYSBuZXcgbWFya2VyIG5vZGUgdG8gYmUgdGhlIHN0YXJ0Tm9kZSBvZiB0aGUgUGFydCBpZiBhbnkgb2ZcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhlIGZvbGxvd2luZyBhcmUgdHJ1ZTpcbiAgICAgICAgICAgICAgICAgICAgLy8gICogV2UgZG9uJ3QgaGF2ZSBhIHByZXZpb3VzU2libGluZ1xuICAgICAgICAgICAgICAgICAgICAvLyAgKiBUaGUgcHJldmlvdXNTaWJsaW5nIGlzIGFscmVhZHkgdGhlIHN0YXJ0IG9mIGEgcHJldmlvdXMgcGFydFxuICAgICAgICAgICAgICAgICAgICBpZiAobm9kZS5wcmV2aW91c1NpYmxpbmcgPT09IG51bGwgfHwgaW5kZXggPT09IGxhc3RQYXJ0SW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4Kys7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnQuaW5zZXJ0QmVmb3JlKGNyZWF0ZU1hcmtlcigpLCBub2RlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBsYXN0UGFydEluZGV4ID0gaW5kZXg7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGFydHMucHVzaCh7IHR5cGU6ICdub2RlJywgaW5kZXggfSk7XG4gICAgICAgICAgICAgICAgICAgIC8vIElmIHdlIGRvbid0IGhhdmUgYSBuZXh0U2libGluZywga2VlcCB0aGlzIG5vZGUgc28gd2UgaGF2ZSBhbiBlbmQuXG4gICAgICAgICAgICAgICAgICAgIC8vIEVsc2UsIHdlIGNhbiByZW1vdmUgaXQgdG8gc2F2ZSBmdXR1cmUgY29zdHMuXG4gICAgICAgICAgICAgICAgICAgIGlmIChub2RlLm5leHRTaWJsaW5nID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlLmRhdGEgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGVzVG9SZW1vdmUucHVzaChub2RlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4LS07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcGFydEluZGV4Kys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBsZXQgaSA9IC0xO1xuICAgICAgICAgICAgICAgICAgICB3aGlsZSAoKGkgPSBub2RlLmRhdGEuaW5kZXhPZihtYXJrZXIsIGkgKyAxKSkgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDb21tZW50IG5vZGUgaGFzIGEgYmluZGluZyBtYXJrZXIgaW5zaWRlLCBtYWtlIGFuIGluYWN0aXZlIHBhcnRcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoZSBiaW5kaW5nIHdvbid0IHdvcmssIGJ1dCBzdWJzZXF1ZW50IGJpbmRpbmdzIHdpbGxcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRPRE8gKGp1c3RpbmZhZ25hbmkpOiBjb25zaWRlciB3aGV0aGVyIGl0J3MgZXZlbiB3b3J0aCBpdCB0b1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbWFrZSBiaW5kaW5ncyBpbiBjb21tZW50cyB3b3JrXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcnRzLnB1c2goeyB0eXBlOiAnbm9kZScsIGluZGV4OiAtMSB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcnRJbmRleCsrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIFJlbW92ZSB0ZXh0IGJpbmRpbmcgbm9kZXMgYWZ0ZXIgdGhlIHdhbGsgdG8gbm90IGRpc3R1cmIgdGhlIFRyZWVXYWxrZXJcbiAgICAgICAgZm9yIChjb25zdCBuIG9mIG5vZGVzVG9SZW1vdmUpIHtcbiAgICAgICAgICAgIG4ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChuKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmNvbnN0IGVuZHNXaXRoID0gKHN0ciwgc3VmZml4KSA9PiB7XG4gICAgY29uc3QgaW5kZXggPSBzdHIubGVuZ3RoIC0gc3VmZml4Lmxlbmd0aDtcbiAgICByZXR1cm4gaW5kZXggPj0gMCAmJiBzdHIuc2xpY2UoaW5kZXgpID09PSBzdWZmaXg7XG59O1xuZXhwb3J0IGNvbnN0IGlzVGVtcGxhdGVQYXJ0QWN0aXZlID0gKHBhcnQpID0+IHBhcnQuaW5kZXggIT09IC0xO1xuLy8gQWxsb3dzIGBkb2N1bWVudC5jcmVhdGVDb21tZW50KCcnKWAgdG8gYmUgcmVuYW1lZCBmb3IgYVxuLy8gc21hbGwgbWFudWFsIHNpemUtc2F2aW5ncy5cbmV4cG9ydCBjb25zdCBjcmVhdGVNYXJrZXIgPSAoKSA9PiBkb2N1bWVudC5jcmVhdGVDb21tZW50KCcnKTtcbi8qKlxuICogVGhpcyByZWdleCBleHRyYWN0cyB0aGUgYXR0cmlidXRlIG5hbWUgcHJlY2VkaW5nIGFuIGF0dHJpYnV0ZS1wb3NpdGlvblxuICogZXhwcmVzc2lvbi4gSXQgZG9lcyB0aGlzIGJ5IG1hdGNoaW5nIHRoZSBzeW50YXggYWxsb3dlZCBmb3IgYXR0cmlidXRlc1xuICogYWdhaW5zdCB0aGUgc3RyaW5nIGxpdGVyYWwgZGlyZWN0bHkgcHJlY2VkaW5nIHRoZSBleHByZXNzaW9uLCBhc3N1bWluZyB0aGF0XG4gKiB0aGUgZXhwcmVzc2lvbiBpcyBpbiBhbiBhdHRyaWJ1dGUtdmFsdWUgcG9zaXRpb24uXG4gKlxuICogU2VlIGF0dHJpYnV0ZXMgaW4gdGhlIEhUTUwgc3BlYzpcbiAqIGh0dHBzOi8vd3d3LnczLm9yZy9UUi9odG1sNS9zeW50YXguaHRtbCNlbGVtZW50cy1hdHRyaWJ1dGVzXG4gKlxuICogXCIgXFx4MDlcXHgwYVxceDBjXFx4MGRcIiBhcmUgSFRNTCBzcGFjZSBjaGFyYWN0ZXJzOlxuICogaHR0cHM6Ly93d3cudzMub3JnL1RSL2h0bWw1L2luZnJhc3RydWN0dXJlLmh0bWwjc3BhY2UtY2hhcmFjdGVyc1xuICpcbiAqIFwiXFwwLVxceDFGXFx4N0YtXFx4OUZcIiBhcmUgVW5pY29kZSBjb250cm9sIGNoYXJhY3RlcnMsIHdoaWNoIGluY2x1ZGVzIGV2ZXJ5XG4gKiBzcGFjZSBjaGFyYWN0ZXIgZXhjZXB0IFwiIFwiLlxuICpcbiAqIFNvIGFuIGF0dHJpYnV0ZSBpczpcbiAqICAqIFRoZSBuYW1lOiBhbnkgY2hhcmFjdGVyIGV4Y2VwdCBhIGNvbnRyb2wgY2hhcmFjdGVyLCBzcGFjZSBjaGFyYWN0ZXIsICgnKSxcbiAqICAgIChcIiksIFwiPlwiLCBcIj1cIiwgb3IgXCIvXCJcbiAqICAqIEZvbGxvd2VkIGJ5IHplcm8gb3IgbW9yZSBzcGFjZSBjaGFyYWN0ZXJzXG4gKiAgKiBGb2xsb3dlZCBieSBcIj1cIlxuICogICogRm9sbG93ZWQgYnkgemVybyBvciBtb3JlIHNwYWNlIGNoYXJhY3RlcnNcbiAqICAqIEZvbGxvd2VkIGJ5OlxuICogICAgKiBBbnkgY2hhcmFjdGVyIGV4Y2VwdCBzcGFjZSwgKCcpLCAoXCIpLCBcIjxcIiwgXCI+XCIsIFwiPVwiLCAoYCksIG9yXG4gKiAgICAqIChcIikgdGhlbiBhbnkgbm9uLShcIiksIG9yXG4gKiAgICAqICgnKSB0aGVuIGFueSBub24tKCcpXG4gKi9cbmV4cG9ydCBjb25zdCBsYXN0QXR0cmlidXRlTmFtZVJlZ2V4ID0gLyhbIFxceDA5XFx4MGFcXHgwY1xceDBkXSkoW15cXDAtXFx4MUZcXHg3Ri1cXHg5RiBcIic+PS9dKykoWyBcXHgwOVxceDBhXFx4MGNcXHgwZF0qPVsgXFx4MDlcXHgwYVxceDBjXFx4MGRdKig/OlteIFxceDA5XFx4MGFcXHgwY1xceDBkXCInYDw+PV0qfFwiW15cIl0qfCdbXiddKikpJC87XG4vLyMgc291cmNlTWFwcGluZ1VSTD10ZW1wbGF0ZS5qcy5tYXAiLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuICogQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbiAqIHN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuICovXG4vKipcbiAqIEBtb2R1bGUgbGl0LWh0bWxcbiAqL1xuaW1wb3J0IHsgaXNDRVBvbHlmaWxsIH0gZnJvbSAnLi9kb20uanMnO1xuaW1wb3J0IHsgaXNUZW1wbGF0ZVBhcnRBY3RpdmUgfSBmcm9tICcuL3RlbXBsYXRlLmpzJztcbi8qKlxuICogQW4gaW5zdGFuY2Ugb2YgYSBgVGVtcGxhdGVgIHRoYXQgY2FuIGJlIGF0dGFjaGVkIHRvIHRoZSBET00gYW5kIHVwZGF0ZWRcbiAqIHdpdGggbmV3IHZhbHVlcy5cbiAqL1xuZXhwb3J0IGNsYXNzIFRlbXBsYXRlSW5zdGFuY2Uge1xuICAgIGNvbnN0cnVjdG9yKHRlbXBsYXRlLCBwcm9jZXNzb3IsIG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5fX3BhcnRzID0gW107XG4gICAgICAgIHRoaXMudGVtcGxhdGUgPSB0ZW1wbGF0ZTtcbiAgICAgICAgdGhpcy5wcm9jZXNzb3IgPSBwcm9jZXNzb3I7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgfVxuICAgIHVwZGF0ZSh2YWx1ZXMpIHtcbiAgICAgICAgbGV0IGkgPSAwO1xuICAgICAgICBmb3IgKGNvbnN0IHBhcnQgb2YgdGhpcy5fX3BhcnRzKSB7XG4gICAgICAgICAgICBpZiAocGFydCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgcGFydC5zZXRWYWx1ZSh2YWx1ZXNbaV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaSsrO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgcGFydCBvZiB0aGlzLl9fcGFydHMpIHtcbiAgICAgICAgICAgIGlmIChwYXJ0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBwYXJ0LmNvbW1pdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIF9jbG9uZSgpIHtcbiAgICAgICAgLy8gVGhlcmUgYXJlIGEgbnVtYmVyIG9mIHN0ZXBzIGluIHRoZSBsaWZlY3ljbGUgb2YgYSB0ZW1wbGF0ZSBpbnN0YW5jZSdzXG4gICAgICAgIC8vIERPTSBmcmFnbWVudDpcbiAgICAgICAgLy8gIDEuIENsb25lIC0gY3JlYXRlIHRoZSBpbnN0YW5jZSBmcmFnbWVudFxuICAgICAgICAvLyAgMi4gQWRvcHQgLSBhZG9wdCBpbnRvIHRoZSBtYWluIGRvY3VtZW50XG4gICAgICAgIC8vICAzLiBQcm9jZXNzIC0gZmluZCBwYXJ0IG1hcmtlcnMgYW5kIGNyZWF0ZSBwYXJ0c1xuICAgICAgICAvLyAgNC4gVXBncmFkZSAtIHVwZ3JhZGUgY3VzdG9tIGVsZW1lbnRzXG4gICAgICAgIC8vICA1LiBVcGRhdGUgLSBzZXQgbm9kZSwgYXR0cmlidXRlLCBwcm9wZXJ0eSwgZXRjLiwgdmFsdWVzXG4gICAgICAgIC8vICA2LiBDb25uZWN0IC0gY29ubmVjdCB0byB0aGUgZG9jdW1lbnQuIE9wdGlvbmFsIGFuZCBvdXRzaWRlIG9mIHRoaXNcbiAgICAgICAgLy8gICAgIG1ldGhvZC5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gV2UgaGF2ZSBhIGZldyBjb25zdHJhaW50cyBvbiB0aGUgb3JkZXJpbmcgb2YgdGhlc2Ugc3RlcHM6XG4gICAgICAgIC8vICAqIFdlIG5lZWQgdG8gdXBncmFkZSBiZWZvcmUgdXBkYXRpbmcsIHNvIHRoYXQgcHJvcGVydHkgdmFsdWVzIHdpbGwgcGFzc1xuICAgICAgICAvLyAgICB0aHJvdWdoIGFueSBwcm9wZXJ0eSBzZXR0ZXJzLlxuICAgICAgICAvLyAgKiBXZSB3b3VsZCBsaWtlIHRvIHByb2Nlc3MgYmVmb3JlIHVwZ3JhZGluZyBzbyB0aGF0IHdlJ3JlIHN1cmUgdGhhdCB0aGVcbiAgICAgICAgLy8gICAgY2xvbmVkIGZyYWdtZW50IGlzIGluZXJ0IGFuZCBub3QgZGlzdHVyYmVkIGJ5IHNlbGYtbW9kaWZ5aW5nIERPTS5cbiAgICAgICAgLy8gICogV2Ugd2FudCBjdXN0b20gZWxlbWVudHMgdG8gdXBncmFkZSBldmVuIGluIGRpc2Nvbm5lY3RlZCBmcmFnbWVudHMuXG4gICAgICAgIC8vXG4gICAgICAgIC8vIEdpdmVuIHRoZXNlIGNvbnN0cmFpbnRzLCB3aXRoIGZ1bGwgY3VzdG9tIGVsZW1lbnRzIHN1cHBvcnQgd2Ugd291bGRcbiAgICAgICAgLy8gcHJlZmVyIHRoZSBvcmRlcjogQ2xvbmUsIFByb2Nlc3MsIEFkb3B0LCBVcGdyYWRlLCBVcGRhdGUsIENvbm5lY3RcbiAgICAgICAgLy9cbiAgICAgICAgLy8gQnV0IFNhZmFyaSBkb29lcyBub3QgaW1wbGVtZW50IEN1c3RvbUVsZW1lbnRSZWdpc3RyeSN1cGdyYWRlLCBzbyB3ZVxuICAgICAgICAvLyBjYW4gbm90IGltcGxlbWVudCB0aGF0IG9yZGVyIGFuZCBzdGlsbCBoYXZlIHVwZ3JhZGUtYmVmb3JlLXVwZGF0ZSBhbmRcbiAgICAgICAgLy8gdXBncmFkZSBkaXNjb25uZWN0ZWQgZnJhZ21lbnRzLiBTbyB3ZSBpbnN0ZWFkIHNhY3JpZmljZSB0aGVcbiAgICAgICAgLy8gcHJvY2Vzcy1iZWZvcmUtdXBncmFkZSBjb25zdHJhaW50LCBzaW5jZSBpbiBDdXN0b20gRWxlbWVudHMgdjEgZWxlbWVudHNcbiAgICAgICAgLy8gbXVzdCBub3QgbW9kaWZ5IHRoZWlyIGxpZ2h0IERPTSBpbiB0aGUgY29uc3RydWN0b3IuIFdlIHN0aWxsIGhhdmUgaXNzdWVzXG4gICAgICAgIC8vIHdoZW4gY28tZXhpc3Rpbmcgd2l0aCBDRXYwIGVsZW1lbnRzIGxpa2UgUG9seW1lciAxLCBhbmQgd2l0aCBwb2x5ZmlsbHNcbiAgICAgICAgLy8gdGhhdCBkb24ndCBzdHJpY3RseSBhZGhlcmUgdG8gdGhlIG5vLW1vZGlmaWNhdGlvbiBydWxlIGJlY2F1c2Ugc2hhZG93XG4gICAgICAgIC8vIERPTSwgd2hpY2ggbWF5IGJlIGNyZWF0ZWQgaW4gdGhlIGNvbnN0cnVjdG9yLCBpcyBlbXVsYXRlZCBieSBiZWluZyBwbGFjZWRcbiAgICAgICAgLy8gaW4gdGhlIGxpZ2h0IERPTS5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gVGhlIHJlc3VsdGluZyBvcmRlciBpcyBvbiBuYXRpdmUgaXM6IENsb25lLCBBZG9wdCwgVXBncmFkZSwgUHJvY2VzcyxcbiAgICAgICAgLy8gVXBkYXRlLCBDb25uZWN0LiBkb2N1bWVudC5pbXBvcnROb2RlKCkgcGVyZm9ybXMgQ2xvbmUsIEFkb3B0LCBhbmQgVXBncmFkZVxuICAgICAgICAvLyBpbiBvbmUgc3RlcC5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gVGhlIEN1c3RvbSBFbGVtZW50cyB2MSBwb2x5ZmlsbCBzdXBwb3J0cyB1cGdyYWRlKCksIHNvIHRoZSBvcmRlciB3aGVuXG4gICAgICAgIC8vIHBvbHlmaWxsZWQgaXMgdGhlIG1vcmUgaWRlYWw6IENsb25lLCBQcm9jZXNzLCBBZG9wdCwgVXBncmFkZSwgVXBkYXRlLFxuICAgICAgICAvLyBDb25uZWN0LlxuICAgICAgICBjb25zdCBmcmFnbWVudCA9IGlzQ0VQb2x5ZmlsbCA/XG4gICAgICAgICAgICB0aGlzLnRlbXBsYXRlLmVsZW1lbnQuY29udGVudC5jbG9uZU5vZGUodHJ1ZSkgOlxuICAgICAgICAgICAgZG9jdW1lbnQuaW1wb3J0Tm9kZSh0aGlzLnRlbXBsYXRlLmVsZW1lbnQuY29udGVudCwgdHJ1ZSk7XG4gICAgICAgIGNvbnN0IHN0YWNrID0gW107XG4gICAgICAgIGNvbnN0IHBhcnRzID0gdGhpcy50ZW1wbGF0ZS5wYXJ0cztcbiAgICAgICAgLy8gRWRnZSBuZWVkcyBhbGwgNCBwYXJhbWV0ZXJzIHByZXNlbnQ7IElFMTEgbmVlZHMgM3JkIHBhcmFtZXRlciB0byBiZSBudWxsXG4gICAgICAgIGNvbnN0IHdhbGtlciA9IGRvY3VtZW50LmNyZWF0ZVRyZWVXYWxrZXIoZnJhZ21lbnQsIDEzMyAvKiBOb2RlRmlsdGVyLlNIT1dfe0VMRU1FTlR8Q09NTUVOVHxURVhUfSAqLywgbnVsbCwgZmFsc2UpO1xuICAgICAgICBsZXQgcGFydEluZGV4ID0gMDtcbiAgICAgICAgbGV0IG5vZGVJbmRleCA9IDA7XG4gICAgICAgIGxldCBwYXJ0O1xuICAgICAgICBsZXQgbm9kZSA9IHdhbGtlci5uZXh0Tm9kZSgpO1xuICAgICAgICAvLyBMb29wIHRocm91Z2ggYWxsIHRoZSBub2RlcyBhbmQgcGFydHMgb2YgYSB0ZW1wbGF0ZVxuICAgICAgICB3aGlsZSAocGFydEluZGV4IDwgcGFydHMubGVuZ3RoKSB7XG4gICAgICAgICAgICBwYXJ0ID0gcGFydHNbcGFydEluZGV4XTtcbiAgICAgICAgICAgIGlmICghaXNUZW1wbGF0ZVBhcnRBY3RpdmUocGFydCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9fcGFydHMucHVzaCh1bmRlZmluZWQpO1xuICAgICAgICAgICAgICAgIHBhcnRJbmRleCsrO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gUHJvZ3Jlc3MgdGhlIHRyZWUgd2Fsa2VyIHVudGlsIHdlIGZpbmQgb3VyIG5leHQgcGFydCdzIG5vZGUuXG4gICAgICAgICAgICAvLyBOb3RlIHRoYXQgbXVsdGlwbGUgcGFydHMgbWF5IHNoYXJlIHRoZSBzYW1lIG5vZGUgKGF0dHJpYnV0ZSBwYXJ0c1xuICAgICAgICAgICAgLy8gb24gYSBzaW5nbGUgZWxlbWVudCksIHNvIHRoaXMgbG9vcCBtYXkgbm90IHJ1biBhdCBhbGwuXG4gICAgICAgICAgICB3aGlsZSAobm9kZUluZGV4IDwgcGFydC5pbmRleCkge1xuICAgICAgICAgICAgICAgIG5vZGVJbmRleCsrO1xuICAgICAgICAgICAgICAgIGlmIChub2RlLm5vZGVOYW1lID09PSAnVEVNUExBVEUnKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YWNrLnB1c2gobm9kZSk7XG4gICAgICAgICAgICAgICAgICAgIHdhbGtlci5jdXJyZW50Tm9kZSA9IG5vZGUuY29udGVudDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKChub2RlID0gd2Fsa2VyLm5leHROb2RlKCkpID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFdlJ3ZlIGV4aGF1c3RlZCB0aGUgY29udGVudCBpbnNpZGUgYSBuZXN0ZWQgdGVtcGxhdGUgZWxlbWVudC5cbiAgICAgICAgICAgICAgICAgICAgLy8gQmVjYXVzZSB3ZSBzdGlsbCBoYXZlIHBhcnRzICh0aGUgb3V0ZXIgZm9yLWxvb3ApLCB3ZSBrbm93OlxuICAgICAgICAgICAgICAgICAgICAvLyAtIFRoZXJlIGlzIGEgdGVtcGxhdGUgaW4gdGhlIHN0YWNrXG4gICAgICAgICAgICAgICAgICAgIC8vIC0gVGhlIHdhbGtlciB3aWxsIGZpbmQgYSBuZXh0Tm9kZSBvdXRzaWRlIHRoZSB0ZW1wbGF0ZVxuICAgICAgICAgICAgICAgICAgICB3YWxrZXIuY3VycmVudE5vZGUgPSBzdGFjay5wb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgbm9kZSA9IHdhbGtlci5uZXh0Tm9kZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFdlJ3ZlIGFycml2ZWQgYXQgb3VyIHBhcnQncyBub2RlLlxuICAgICAgICAgICAgaWYgKHBhcnQudHlwZSA9PT0gJ25vZGUnKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFydCA9IHRoaXMucHJvY2Vzc29yLmhhbmRsZVRleHRFeHByZXNzaW9uKHRoaXMub3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgcGFydC5pbnNlcnRBZnRlck5vZGUobm9kZS5wcmV2aW91c1NpYmxpbmcpO1xuICAgICAgICAgICAgICAgIHRoaXMuX19wYXJ0cy5wdXNoKHBhcnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fX3BhcnRzLnB1c2goLi4udGhpcy5wcm9jZXNzb3IuaGFuZGxlQXR0cmlidXRlRXhwcmVzc2lvbnMobm9kZSwgcGFydC5uYW1lLCBwYXJ0LnN0cmluZ3MsIHRoaXMub3B0aW9ucykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcGFydEluZGV4Kys7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzQ0VQb2x5ZmlsbCkge1xuICAgICAgICAgICAgZG9jdW1lbnQuYWRvcHROb2RlKGZyYWdtZW50KTtcbiAgICAgICAgICAgIGN1c3RvbUVsZW1lbnRzLnVwZ3JhZGUoZnJhZ21lbnQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmcmFnbWVudDtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD10ZW1wbGF0ZS1pbnN0YW5jZS5qcy5tYXAiLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuICogQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbiAqIHN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuICovXG4vKipcbiAqIEBtb2R1bGUgbGl0LWh0bWxcbiAqL1xuaW1wb3J0IHsgcmVwYXJlbnROb2RlcyB9IGZyb20gJy4vZG9tLmpzJztcbmltcG9ydCB7IGJvdW5kQXR0cmlidXRlU3VmZml4LCBsYXN0QXR0cmlidXRlTmFtZVJlZ2V4LCBtYXJrZXIsIG5vZGVNYXJrZXIgfSBmcm9tICcuL3RlbXBsYXRlLmpzJztcbmNvbnN0IGNvbW1lbnRNYXJrZXIgPSBgICR7bWFya2VyfSBgO1xuLyoqXG4gKiBUaGUgcmV0dXJuIHR5cGUgb2YgYGh0bWxgLCB3aGljaCBob2xkcyBhIFRlbXBsYXRlIGFuZCB0aGUgdmFsdWVzIGZyb21cbiAqIGludGVycG9sYXRlZCBleHByZXNzaW9ucy5cbiAqL1xuZXhwb3J0IGNsYXNzIFRlbXBsYXRlUmVzdWx0IHtcbiAgICBjb25zdHJ1Y3RvcihzdHJpbmdzLCB2YWx1ZXMsIHR5cGUsIHByb2Nlc3Nvcikge1xuICAgICAgICB0aGlzLnN0cmluZ3MgPSBzdHJpbmdzO1xuICAgICAgICB0aGlzLnZhbHVlcyA9IHZhbHVlcztcbiAgICAgICAgdGhpcy50eXBlID0gdHlwZTtcbiAgICAgICAgdGhpcy5wcm9jZXNzb3IgPSBwcm9jZXNzb3I7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBzdHJpbmcgb2YgSFRNTCB1c2VkIHRvIGNyZWF0ZSBhIGA8dGVtcGxhdGU+YCBlbGVtZW50LlxuICAgICAqL1xuICAgIGdldEhUTUwoKSB7XG4gICAgICAgIGNvbnN0IGwgPSB0aGlzLnN0cmluZ3MubGVuZ3RoIC0gMTtcbiAgICAgICAgbGV0IGh0bWwgPSAnJztcbiAgICAgICAgbGV0IGlzQ29tbWVudEJpbmRpbmcgPSBmYWxzZTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHMgPSB0aGlzLnN0cmluZ3NbaV07XG4gICAgICAgICAgICAvLyBGb3IgZWFjaCBiaW5kaW5nIHdlIHdhbnQgdG8gZGV0ZXJtaW5lIHRoZSBraW5kIG9mIG1hcmtlciB0byBpbnNlcnRcbiAgICAgICAgICAgIC8vIGludG8gdGhlIHRlbXBsYXRlIHNvdXJjZSBiZWZvcmUgaXQncyBwYXJzZWQgYnkgdGhlIGJyb3dzZXIncyBIVE1MXG4gICAgICAgICAgICAvLyBwYXJzZXIuIFRoZSBtYXJrZXIgdHlwZSBpcyBiYXNlZCBvbiB3aGV0aGVyIHRoZSBleHByZXNzaW9uIGlzIGluIGFuXG4gICAgICAgICAgICAvLyBhdHRyaWJ1dGUsIHRleHQsIG9yIGNvbW1lbnQgcG9pc2l0aW9uLlxuICAgICAgICAgICAgLy8gICAqIEZvciBub2RlLXBvc2l0aW9uIGJpbmRpbmdzIHdlIGluc2VydCBhIGNvbW1lbnQgd2l0aCB0aGUgbWFya2VyXG4gICAgICAgICAgICAvLyAgICAgc2VudGluZWwgYXMgaXRzIHRleHQgY29udGVudCwgbGlrZSA8IS0te3tsaXQtZ3VpZH19LS0+LlxuICAgICAgICAgICAgLy8gICAqIEZvciBhdHRyaWJ1dGUgYmluZGluZ3Mgd2UgaW5zZXJ0IGp1c3QgdGhlIG1hcmtlciBzZW50aW5lbCBmb3IgdGhlXG4gICAgICAgICAgICAvLyAgICAgZmlyc3QgYmluZGluZywgc28gdGhhdCB3ZSBzdXBwb3J0IHVucXVvdGVkIGF0dHJpYnV0ZSBiaW5kaW5ncy5cbiAgICAgICAgICAgIC8vICAgICBTdWJzZXF1ZW50IGJpbmRpbmdzIGNhbiB1c2UgYSBjb21tZW50IG1hcmtlciBiZWNhdXNlIG11bHRpLWJpbmRpbmdcbiAgICAgICAgICAgIC8vICAgICBhdHRyaWJ1dGVzIG11c3QgYmUgcXVvdGVkLlxuICAgICAgICAgICAgLy8gICAqIEZvciBjb21tZW50IGJpbmRpbmdzIHdlIGluc2VydCBqdXN0IHRoZSBtYXJrZXIgc2VudGluZWwgc28gd2UgZG9uJ3RcbiAgICAgICAgICAgIC8vICAgICBjbG9zZSB0aGUgY29tbWVudC5cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvLyBUaGUgZm9sbG93aW5nIGNvZGUgc2NhbnMgdGhlIHRlbXBsYXRlIHNvdXJjZSwgYnV0IGlzICpub3QqIGFuIEhUTUxcbiAgICAgICAgICAgIC8vIHBhcnNlci4gV2UgZG9uJ3QgbmVlZCB0byB0cmFjayB0aGUgdHJlZSBzdHJ1Y3R1cmUgb2YgdGhlIEhUTUwsIG9ubHlcbiAgICAgICAgICAgIC8vIHdoZXRoZXIgYSBiaW5kaW5nIGlzIGluc2lkZSBhIGNvbW1lbnQsIGFuZCBpZiBub3QsIGlmIGl0IGFwcGVhcnMgdG8gYmVcbiAgICAgICAgICAgIC8vIHRoZSBmaXJzdCBiaW5kaW5nIGluIGFuIGF0dHJpYnV0ZS5cbiAgICAgICAgICAgIGNvbnN0IGNvbW1lbnRPcGVuID0gcy5sYXN0SW5kZXhPZignPCEtLScpO1xuICAgICAgICAgICAgLy8gV2UncmUgaW4gY29tbWVudCBwb3NpdGlvbiBpZiB3ZSBoYXZlIGEgY29tbWVudCBvcGVuIHdpdGggbm8gZm9sbG93aW5nXG4gICAgICAgICAgICAvLyBjb21tZW50IGNsb3NlLiBCZWNhdXNlIDwtLSBjYW4gYXBwZWFyIGluIGFuIGF0dHJpYnV0ZSB2YWx1ZSB0aGVyZSBjYW5cbiAgICAgICAgICAgIC8vIGJlIGZhbHNlIHBvc2l0aXZlcy5cbiAgICAgICAgICAgIGlzQ29tbWVudEJpbmRpbmcgPSAoY29tbWVudE9wZW4gPiAtMSB8fCBpc0NvbW1lbnRCaW5kaW5nKSAmJlxuICAgICAgICAgICAgICAgIHMuaW5kZXhPZignLS0+JywgY29tbWVudE9wZW4gKyAxKSA9PT0gLTE7XG4gICAgICAgICAgICAvLyBDaGVjayB0byBzZWUgaWYgd2UgaGF2ZSBhbiBhdHRyaWJ1dGUtbGlrZSBzZXF1ZW5jZSBwcmVjZWVkaW5nIHRoZVxuICAgICAgICAgICAgLy8gZXhwcmVzc2lvbi4gVGhpcyBjYW4gbWF0Y2ggXCJuYW1lPXZhbHVlXCIgbGlrZSBzdHJ1Y3R1cmVzIGluIHRleHQsXG4gICAgICAgICAgICAvLyBjb21tZW50cywgYW5kIGF0dHJpYnV0ZSB2YWx1ZXMsIHNvIHRoZXJlIGNhbiBiZSBmYWxzZS1wb3NpdGl2ZXMuXG4gICAgICAgICAgICBjb25zdCBhdHRyaWJ1dGVNYXRjaCA9IGxhc3RBdHRyaWJ1dGVOYW1lUmVnZXguZXhlYyhzKTtcbiAgICAgICAgICAgIGlmIChhdHRyaWJ1dGVNYXRjaCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIC8vIFdlJ3JlIG9ubHkgaW4gdGhpcyBicmFuY2ggaWYgd2UgZG9uJ3QgaGF2ZSBhIGF0dHJpYnV0ZS1saWtlXG4gICAgICAgICAgICAgICAgLy8gcHJlY2VlZGluZyBzZXF1ZW5jZS4gRm9yIGNvbW1lbnRzLCB0aGlzIGd1YXJkcyBhZ2FpbnN0IHVudXN1YWxcbiAgICAgICAgICAgICAgICAvLyBhdHRyaWJ1dGUgdmFsdWVzIGxpa2UgPGRpdiBmb289XCI8IS0tJHsnYmFyJ31cIj4uIENhc2VzIGxpa2VcbiAgICAgICAgICAgICAgICAvLyA8IS0tIGZvbz0keydiYXInfS0tPiBhcmUgaGFuZGxlZCBjb3JyZWN0bHkgaW4gdGhlIGF0dHJpYnV0ZSBicmFuY2hcbiAgICAgICAgICAgICAgICAvLyBiZWxvdy5cbiAgICAgICAgICAgICAgICBodG1sICs9IHMgKyAoaXNDb21tZW50QmluZGluZyA/IGNvbW1lbnRNYXJrZXIgOiBub2RlTWFya2VyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIEZvciBhdHRyaWJ1dGVzIHdlIHVzZSBqdXN0IGEgbWFya2VyIHNlbnRpbmVsLCBhbmQgYWxzbyBhcHBlbmQgYVxuICAgICAgICAgICAgICAgIC8vICRsaXQkIHN1ZmZpeCB0byB0aGUgbmFtZSB0byBvcHQtb3V0IG9mIGF0dHJpYnV0ZS1zcGVjaWZpYyBwYXJzaW5nXG4gICAgICAgICAgICAgICAgLy8gdGhhdCBJRSBhbmQgRWRnZSBkbyBmb3Igc3R5bGUgYW5kIGNlcnRhaW4gU1ZHIGF0dHJpYnV0ZXMuXG4gICAgICAgICAgICAgICAgaHRtbCArPSBzLnN1YnN0cigwLCBhdHRyaWJ1dGVNYXRjaC5pbmRleCkgKyBhdHRyaWJ1dGVNYXRjaFsxXSArXG4gICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZU1hdGNoWzJdICsgYm91bmRBdHRyaWJ1dGVTdWZmaXggKyBhdHRyaWJ1dGVNYXRjaFszXSArXG4gICAgICAgICAgICAgICAgICAgIG1hcmtlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBodG1sICs9IHRoaXMuc3RyaW5nc1tsXTtcbiAgICAgICAgcmV0dXJuIGh0bWw7XG4gICAgfVxuICAgIGdldFRlbXBsYXRlRWxlbWVudCgpIHtcbiAgICAgICAgY29uc3QgdGVtcGxhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZW1wbGF0ZScpO1xuICAgICAgICB0ZW1wbGF0ZS5pbm5lckhUTUwgPSB0aGlzLmdldEhUTUwoKTtcbiAgICAgICAgcmV0dXJuIHRlbXBsYXRlO1xuICAgIH1cbn1cbi8qKlxuICogQSBUZW1wbGF0ZVJlc3VsdCBmb3IgU1ZHIGZyYWdtZW50cy5cbiAqXG4gKiBUaGlzIGNsYXNzIHdyYXBzIEhUTUwgaW4gYW4gYDxzdmc+YCB0YWcgaW4gb3JkZXIgdG8gcGFyc2UgaXRzIGNvbnRlbnRzIGluIHRoZVxuICogU1ZHIG5hbWVzcGFjZSwgdGhlbiBtb2RpZmllcyB0aGUgdGVtcGxhdGUgdG8gcmVtb3ZlIHRoZSBgPHN2Zz5gIHRhZyBzbyB0aGF0XG4gKiBjbG9uZXMgb25seSBjb250YWluZXIgdGhlIG9yaWdpbmFsIGZyYWdtZW50LlxuICovXG5leHBvcnQgY2xhc3MgU1ZHVGVtcGxhdGVSZXN1bHQgZXh0ZW5kcyBUZW1wbGF0ZVJlc3VsdCB7XG4gICAgZ2V0SFRNTCgpIHtcbiAgICAgICAgcmV0dXJuIGA8c3ZnPiR7c3VwZXIuZ2V0SFRNTCgpfTwvc3ZnPmA7XG4gICAgfVxuICAgIGdldFRlbXBsYXRlRWxlbWVudCgpIHtcbiAgICAgICAgY29uc3QgdGVtcGxhdGUgPSBzdXBlci5nZXRUZW1wbGF0ZUVsZW1lbnQoKTtcbiAgICAgICAgY29uc3QgY29udGVudCA9IHRlbXBsYXRlLmNvbnRlbnQ7XG4gICAgICAgIGNvbnN0IHN2Z0VsZW1lbnQgPSBjb250ZW50LmZpcnN0Q2hpbGQ7XG4gICAgICAgIGNvbnRlbnQucmVtb3ZlQ2hpbGQoc3ZnRWxlbWVudCk7XG4gICAgICAgIHJlcGFyZW50Tm9kZXMoY29udGVudCwgc3ZnRWxlbWVudC5maXJzdENoaWxkKTtcbiAgICAgICAgcmV0dXJuIHRlbXBsYXRlO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRlbXBsYXRlLXJlc3VsdC5qcy5tYXAiLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuICogQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbiAqIHN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuICovXG4vKipcbiAqIEBtb2R1bGUgbGl0LWh0bWxcbiAqL1xuaW1wb3J0IHsgaXNEaXJlY3RpdmUgfSBmcm9tICcuL2RpcmVjdGl2ZS5qcyc7XG5pbXBvcnQgeyByZW1vdmVOb2RlcyB9IGZyb20gJy4vZG9tLmpzJztcbmltcG9ydCB7IG5vQ2hhbmdlLCBub3RoaW5nIH0gZnJvbSAnLi9wYXJ0LmpzJztcbmltcG9ydCB7IFRlbXBsYXRlSW5zdGFuY2UgfSBmcm9tICcuL3RlbXBsYXRlLWluc3RhbmNlLmpzJztcbmltcG9ydCB7IFRlbXBsYXRlUmVzdWx0IH0gZnJvbSAnLi90ZW1wbGF0ZS1yZXN1bHQuanMnO1xuaW1wb3J0IHsgY3JlYXRlTWFya2VyIH0gZnJvbSAnLi90ZW1wbGF0ZS5qcyc7XG5leHBvcnQgY29uc3QgaXNQcmltaXRpdmUgPSAodmFsdWUpID0+IHtcbiAgICByZXR1cm4gKHZhbHVlID09PSBudWxsIHx8XG4gICAgICAgICEodHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyB8fCB0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbicpKTtcbn07XG5leHBvcnQgY29uc3QgaXNJdGVyYWJsZSA9ICh2YWx1ZSkgPT4ge1xuICAgIHJldHVybiBBcnJheS5pc0FycmF5KHZhbHVlKSB8fFxuICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tYW55XG4gICAgICAgICEhKHZhbHVlICYmIHZhbHVlW1N5bWJvbC5pdGVyYXRvcl0pO1xufTtcbi8qKlxuICogV3JpdGVzIGF0dHJpYnV0ZSB2YWx1ZXMgdG8gdGhlIERPTSBmb3IgYSBncm91cCBvZiBBdHRyaWJ1dGVQYXJ0cyBib3VuZCB0byBhXG4gKiBzaW5nbGUgYXR0aWJ1dGUuIFRoZSB2YWx1ZSBpcyBvbmx5IHNldCBvbmNlIGV2ZW4gaWYgdGhlcmUgYXJlIG11bHRpcGxlIHBhcnRzXG4gKiBmb3IgYW4gYXR0cmlidXRlLlxuICovXG5leHBvcnQgY2xhc3MgQXR0cmlidXRlQ29tbWl0dGVyIHtcbiAgICBjb25zdHJ1Y3RvcihlbGVtZW50LCBuYW1lLCBzdHJpbmdzKSB7XG4gICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgICAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgICB0aGlzLnN0cmluZ3MgPSBzdHJpbmdzO1xuICAgICAgICB0aGlzLnBhcnRzID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3RyaW5ncy5sZW5ndGggLSAxOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMucGFydHNbaV0gPSB0aGlzLl9jcmVhdGVQYXJ0KCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHNpbmdsZSBwYXJ0LiBPdmVycmlkZSB0aGlzIHRvIGNyZWF0ZSBhIGRpZmZlcm50IHR5cGUgb2YgcGFydC5cbiAgICAgKi9cbiAgICBfY3JlYXRlUGFydCgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBBdHRyaWJ1dGVQYXJ0KHRoaXMpO1xuICAgIH1cbiAgICBfZ2V0VmFsdWUoKSB7XG4gICAgICAgIGNvbnN0IHN0cmluZ3MgPSB0aGlzLnN0cmluZ3M7XG4gICAgICAgIGNvbnN0IGwgPSBzdHJpbmdzLmxlbmd0aCAtIDE7XG4gICAgICAgIGxldCB0ZXh0ID0gJyc7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICB0ZXh0ICs9IHN0cmluZ3NbaV07XG4gICAgICAgICAgICBjb25zdCBwYXJ0ID0gdGhpcy5wYXJ0c1tpXTtcbiAgICAgICAgICAgIGlmIChwYXJ0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB2ID0gcGFydC52YWx1ZTtcbiAgICAgICAgICAgICAgICBpZiAoaXNQcmltaXRpdmUodikgfHwgIWlzSXRlcmFibGUodikpIHtcbiAgICAgICAgICAgICAgICAgICAgdGV4dCArPSB0eXBlb2YgdiA9PT0gJ3N0cmluZycgPyB2IDogU3RyaW5nKHYpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCB0IG9mIHYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQgKz0gdHlwZW9mIHQgPT09ICdzdHJpbmcnID8gdCA6IFN0cmluZyh0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0ZXh0ICs9IHN0cmluZ3NbbF07XG4gICAgICAgIHJldHVybiB0ZXh0O1xuICAgIH1cbiAgICBjb21taXQoKSB7XG4gICAgICAgIGlmICh0aGlzLmRpcnR5KSB7XG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQuc2V0QXR0cmlidXRlKHRoaXMubmFtZSwgdGhpcy5fZ2V0VmFsdWUoKSk7XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIEEgUGFydCB0aGF0IGNvbnRyb2xzIGFsbCBvciBwYXJ0IG9mIGFuIGF0dHJpYnV0ZSB2YWx1ZS5cbiAqL1xuZXhwb3J0IGNsYXNzIEF0dHJpYnV0ZVBhcnQge1xuICAgIGNvbnN0cnVjdG9yKGNvbW1pdHRlcikge1xuICAgICAgICB0aGlzLnZhbHVlID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmNvbW1pdHRlciA9IGNvbW1pdHRlcjtcbiAgICB9XG4gICAgc2V0VmFsdWUodmFsdWUpIHtcbiAgICAgICAgaWYgKHZhbHVlICE9PSBub0NoYW5nZSAmJiAoIWlzUHJpbWl0aXZlKHZhbHVlKSB8fCB2YWx1ZSAhPT0gdGhpcy52YWx1ZSkpIHtcbiAgICAgICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgICAgIC8vIElmIHRoZSB2YWx1ZSBpcyBhIG5vdCBhIGRpcmVjdGl2ZSwgZGlydHkgdGhlIGNvbW1pdHRlciBzbyB0aGF0IGl0J2xsXG4gICAgICAgICAgICAvLyBjYWxsIHNldEF0dHJpYnV0ZS4gSWYgdGhlIHZhbHVlIGlzIGEgZGlyZWN0aXZlLCBpdCdsbCBkaXJ0eSB0aGVcbiAgICAgICAgICAgIC8vIGNvbW1pdHRlciBpZiBpdCBjYWxscyBzZXRWYWx1ZSgpLlxuICAgICAgICAgICAgaWYgKCFpc0RpcmVjdGl2ZSh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbW1pdHRlci5kaXJ0eSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29tbWl0KCkge1xuICAgICAgICB3aGlsZSAoaXNEaXJlY3RpdmUodGhpcy52YWx1ZSkpIHtcbiAgICAgICAgICAgIGNvbnN0IGRpcmVjdGl2ZSA9IHRoaXMudmFsdWU7XG4gICAgICAgICAgICB0aGlzLnZhbHVlID0gbm9DaGFuZ2U7XG4gICAgICAgICAgICBkaXJlY3RpdmUodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMudmFsdWUgPT09IG5vQ2hhbmdlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jb21taXR0ZXIuY29tbWl0KCk7XG4gICAgfVxufVxuLyoqXG4gKiBBIFBhcnQgdGhhdCBjb250cm9scyBhIGxvY2F0aW9uIHdpdGhpbiBhIE5vZGUgdHJlZS4gTGlrZSBhIFJhbmdlLCBOb2RlUGFydFxuICogaGFzIHN0YXJ0IGFuZCBlbmQgbG9jYXRpb25zIGFuZCBjYW4gc2V0IGFuZCB1cGRhdGUgdGhlIE5vZGVzIGJldHdlZW4gdGhvc2VcbiAqIGxvY2F0aW9ucy5cbiAqXG4gKiBOb2RlUGFydHMgc3VwcG9ydCBzZXZlcmFsIHZhbHVlIHR5cGVzOiBwcmltaXRpdmVzLCBOb2RlcywgVGVtcGxhdGVSZXN1bHRzLFxuICogYXMgd2VsbCBhcyBhcnJheXMgYW5kIGl0ZXJhYmxlcyBvZiB0aG9zZSB0eXBlcy5cbiAqL1xuZXhwb3J0IGNsYXNzIE5vZGVQYXJ0IHtcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgICAgIHRoaXMudmFsdWUgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuX19wZW5kaW5nVmFsdWUgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFwcGVuZHMgdGhpcyBwYXJ0IGludG8gYSBjb250YWluZXIuXG4gICAgICpcbiAgICAgKiBUaGlzIHBhcnQgbXVzdCBiZSBlbXB0eSwgYXMgaXRzIGNvbnRlbnRzIGFyZSBub3QgYXV0b21hdGljYWxseSBtb3ZlZC5cbiAgICAgKi9cbiAgICBhcHBlbmRJbnRvKGNvbnRhaW5lcikge1xuICAgICAgICB0aGlzLnN0YXJ0Tm9kZSA9IGNvbnRhaW5lci5hcHBlbmRDaGlsZChjcmVhdGVNYXJrZXIoKSk7XG4gICAgICAgIHRoaXMuZW5kTm9kZSA9IGNvbnRhaW5lci5hcHBlbmRDaGlsZChjcmVhdGVNYXJrZXIoKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEluc2VydHMgdGhpcyBwYXJ0IGFmdGVyIHRoZSBgcmVmYCBub2RlIChiZXR3ZWVuIGByZWZgIGFuZCBgcmVmYCdzIG5leHRcbiAgICAgKiBzaWJsaW5nKS4gQm90aCBgcmVmYCBhbmQgaXRzIG5leHQgc2libGluZyBtdXN0IGJlIHN0YXRpYywgdW5jaGFuZ2luZyBub2Rlc1xuICAgICAqIHN1Y2ggYXMgdGhvc2UgdGhhdCBhcHBlYXIgaW4gYSBsaXRlcmFsIHNlY3Rpb24gb2YgYSB0ZW1wbGF0ZS5cbiAgICAgKlxuICAgICAqIFRoaXMgcGFydCBtdXN0IGJlIGVtcHR5LCBhcyBpdHMgY29udGVudHMgYXJlIG5vdCBhdXRvbWF0aWNhbGx5IG1vdmVkLlxuICAgICAqL1xuICAgIGluc2VydEFmdGVyTm9kZShyZWYpIHtcbiAgICAgICAgdGhpcy5zdGFydE5vZGUgPSByZWY7XG4gICAgICAgIHRoaXMuZW5kTm9kZSA9IHJlZi5uZXh0U2libGluZztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQXBwZW5kcyB0aGlzIHBhcnQgaW50byBhIHBhcmVudCBwYXJ0LlxuICAgICAqXG4gICAgICogVGhpcyBwYXJ0IG11c3QgYmUgZW1wdHksIGFzIGl0cyBjb250ZW50cyBhcmUgbm90IGF1dG9tYXRpY2FsbHkgbW92ZWQuXG4gICAgICovXG4gICAgYXBwZW5kSW50b1BhcnQocGFydCkge1xuICAgICAgICBwYXJ0Ll9faW5zZXJ0KHRoaXMuc3RhcnROb2RlID0gY3JlYXRlTWFya2VyKCkpO1xuICAgICAgICBwYXJ0Ll9faW5zZXJ0KHRoaXMuZW5kTm9kZSA9IGNyZWF0ZU1hcmtlcigpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW5zZXJ0cyB0aGlzIHBhcnQgYWZ0ZXIgdGhlIGByZWZgIHBhcnQuXG4gICAgICpcbiAgICAgKiBUaGlzIHBhcnQgbXVzdCBiZSBlbXB0eSwgYXMgaXRzIGNvbnRlbnRzIGFyZSBub3QgYXV0b21hdGljYWxseSBtb3ZlZC5cbiAgICAgKi9cbiAgICBpbnNlcnRBZnRlclBhcnQocmVmKSB7XG4gICAgICAgIHJlZi5fX2luc2VydCh0aGlzLnN0YXJ0Tm9kZSA9IGNyZWF0ZU1hcmtlcigpKTtcbiAgICAgICAgdGhpcy5lbmROb2RlID0gcmVmLmVuZE5vZGU7XG4gICAgICAgIHJlZi5lbmROb2RlID0gdGhpcy5zdGFydE5vZGU7XG4gICAgfVxuICAgIHNldFZhbHVlKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuX19wZW5kaW5nVmFsdWUgPSB2YWx1ZTtcbiAgICB9XG4gICAgY29tbWl0KCkge1xuICAgICAgICB3aGlsZSAoaXNEaXJlY3RpdmUodGhpcy5fX3BlbmRpbmdWYWx1ZSkpIHtcbiAgICAgICAgICAgIGNvbnN0IGRpcmVjdGl2ZSA9IHRoaXMuX19wZW5kaW5nVmFsdWU7XG4gICAgICAgICAgICB0aGlzLl9fcGVuZGluZ1ZhbHVlID0gbm9DaGFuZ2U7XG4gICAgICAgICAgICBkaXJlY3RpdmUodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdmFsdWUgPSB0aGlzLl9fcGVuZGluZ1ZhbHVlO1xuICAgICAgICBpZiAodmFsdWUgPT09IG5vQ2hhbmdlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzUHJpbWl0aXZlKHZhbHVlKSkge1xuICAgICAgICAgICAgaWYgKHZhbHVlICE9PSB0aGlzLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fX2NvbW1pdFRleHQodmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHZhbHVlIGluc3RhbmNlb2YgVGVtcGxhdGVSZXN1bHQpIHtcbiAgICAgICAgICAgIHRoaXMuX19jb21taXRUZW1wbGF0ZVJlc3VsdCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodmFsdWUgaW5zdGFuY2VvZiBOb2RlKSB7XG4gICAgICAgICAgICB0aGlzLl9fY29tbWl0Tm9kZSh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNJdGVyYWJsZSh2YWx1ZSkpIHtcbiAgICAgICAgICAgIHRoaXMuX19jb21taXRJdGVyYWJsZSh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodmFsdWUgPT09IG5vdGhpbmcpIHtcbiAgICAgICAgICAgIHRoaXMudmFsdWUgPSBub3RoaW5nO1xuICAgICAgICAgICAgdGhpcy5jbGVhcigpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gRmFsbGJhY2ssIHdpbGwgcmVuZGVyIHRoZSBzdHJpbmcgcmVwcmVzZW50YXRpb25cbiAgICAgICAgICAgIHRoaXMuX19jb21taXRUZXh0KHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfX2luc2VydChub2RlKSB7XG4gICAgICAgIHRoaXMuZW5kTm9kZS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShub2RlLCB0aGlzLmVuZE5vZGUpO1xuICAgIH1cbiAgICBfX2NvbW1pdE5vZGUodmFsdWUpIHtcbiAgICAgICAgaWYgKHRoaXMudmFsdWUgPT09IHZhbHVlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jbGVhcigpO1xuICAgICAgICB0aGlzLl9faW5zZXJ0KHZhbHVlKTtcbiAgICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgIH1cbiAgICBfX2NvbW1pdFRleHQodmFsdWUpIHtcbiAgICAgICAgY29uc3Qgbm9kZSA9IHRoaXMuc3RhcnROb2RlLm5leHRTaWJsaW5nO1xuICAgICAgICB2YWx1ZSA9IHZhbHVlID09IG51bGwgPyAnJyA6IHZhbHVlO1xuICAgICAgICAvLyBJZiBgdmFsdWVgIGlzbid0IGFscmVhZHkgYSBzdHJpbmcsIHdlIGV4cGxpY2l0bHkgY29udmVydCBpdCBoZXJlIGluIGNhc2VcbiAgICAgICAgLy8gaXQgY2FuJ3QgYmUgaW1wbGljaXRseSBjb252ZXJ0ZWQgLSBpLmUuIGl0J3MgYSBzeW1ib2wuXG4gICAgICAgIGNvbnN0IHZhbHVlQXNTdHJpbmcgPSB0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnID8gdmFsdWUgOiBTdHJpbmcodmFsdWUpO1xuICAgICAgICBpZiAobm9kZSA9PT0gdGhpcy5lbmROb2RlLnByZXZpb3VzU2libGluZyAmJlxuICAgICAgICAgICAgbm9kZS5ub2RlVHlwZSA9PT0gMyAvKiBOb2RlLlRFWFRfTk9ERSAqLykge1xuICAgICAgICAgICAgLy8gSWYgd2Ugb25seSBoYXZlIGEgc2luZ2xlIHRleHQgbm9kZSBiZXR3ZWVuIHRoZSBtYXJrZXJzLCB3ZSBjYW4ganVzdFxuICAgICAgICAgICAgLy8gc2V0IGl0cyB2YWx1ZSwgcmF0aGVyIHRoYW4gcmVwbGFjaW5nIGl0LlxuICAgICAgICAgICAgLy8gVE9ETyhqdXN0aW5mYWduYW5pKTogQ2FuIHdlIGp1c3QgY2hlY2sgaWYgdGhpcy52YWx1ZSBpcyBwcmltaXRpdmU/XG4gICAgICAgICAgICBub2RlLmRhdGEgPSB2YWx1ZUFzU3RyaW5nO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fX2NvbW1pdE5vZGUoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUodmFsdWVBc1N0cmluZykpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICB9XG4gICAgX19jb21taXRUZW1wbGF0ZVJlc3VsdCh2YWx1ZSkge1xuICAgICAgICBjb25zdCB0ZW1wbGF0ZSA9IHRoaXMub3B0aW9ucy50ZW1wbGF0ZUZhY3RvcnkodmFsdWUpO1xuICAgICAgICBpZiAodGhpcy52YWx1ZSBpbnN0YW5jZW9mIFRlbXBsYXRlSW5zdGFuY2UgJiZcbiAgICAgICAgICAgIHRoaXMudmFsdWUudGVtcGxhdGUgPT09IHRlbXBsYXRlKSB7XG4gICAgICAgICAgICB0aGlzLnZhbHVlLnVwZGF0ZSh2YWx1ZS52YWx1ZXMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gTWFrZSBzdXJlIHdlIHByb3BhZ2F0ZSB0aGUgdGVtcGxhdGUgcHJvY2Vzc29yIGZyb20gdGhlIFRlbXBsYXRlUmVzdWx0XG4gICAgICAgICAgICAvLyBzbyB0aGF0IHdlIHVzZSBpdHMgc3ludGF4IGV4dGVuc2lvbiwgZXRjLiBUaGUgdGVtcGxhdGUgZmFjdG9yeSBjb21lc1xuICAgICAgICAgICAgLy8gZnJvbSB0aGUgcmVuZGVyIGZ1bmN0aW9uIG9wdGlvbnMgc28gdGhhdCBpdCBjYW4gY29udHJvbCB0ZW1wbGF0ZVxuICAgICAgICAgICAgLy8gY2FjaGluZyBhbmQgcHJlcHJvY2Vzc2luZy5cbiAgICAgICAgICAgIGNvbnN0IGluc3RhbmNlID0gbmV3IFRlbXBsYXRlSW5zdGFuY2UodGVtcGxhdGUsIHZhbHVlLnByb2Nlc3NvciwgdGhpcy5vcHRpb25zKTtcbiAgICAgICAgICAgIGNvbnN0IGZyYWdtZW50ID0gaW5zdGFuY2UuX2Nsb25lKCk7XG4gICAgICAgICAgICBpbnN0YW5jZS51cGRhdGUodmFsdWUudmFsdWVzKTtcbiAgICAgICAgICAgIHRoaXMuX19jb21taXROb2RlKGZyYWdtZW50KTtcbiAgICAgICAgICAgIHRoaXMudmFsdWUgPSBpbnN0YW5jZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfX2NvbW1pdEl0ZXJhYmxlKHZhbHVlKSB7XG4gICAgICAgIC8vIEZvciBhbiBJdGVyYWJsZSwgd2UgY3JlYXRlIGEgbmV3IEluc3RhbmNlUGFydCBwZXIgaXRlbSwgdGhlbiBzZXQgaXRzXG4gICAgICAgIC8vIHZhbHVlIHRvIHRoZSBpdGVtLiBUaGlzIGlzIGEgbGl0dGxlIGJpdCBvZiBvdmVyaGVhZCBmb3IgZXZlcnkgaXRlbSBpblxuICAgICAgICAvLyBhbiBJdGVyYWJsZSwgYnV0IGl0IGxldHMgdXMgcmVjdXJzZSBlYXNpbHkgYW5kIGVmZmljaWVudGx5IHVwZGF0ZSBBcnJheXNcbiAgICAgICAgLy8gb2YgVGVtcGxhdGVSZXN1bHRzIHRoYXQgd2lsbCBiZSBjb21tb25seSByZXR1cm5lZCBmcm9tIGV4cHJlc3Npb25zIGxpa2U6XG4gICAgICAgIC8vIGFycmF5Lm1hcCgoaSkgPT4gaHRtbGAke2l9YCksIGJ5IHJldXNpbmcgZXhpc3RpbmcgVGVtcGxhdGVJbnN0YW5jZXMuXG4gICAgICAgIC8vIElmIF92YWx1ZSBpcyBhbiBhcnJheSwgdGhlbiB0aGUgcHJldmlvdXMgcmVuZGVyIHdhcyBvZiBhblxuICAgICAgICAvLyBpdGVyYWJsZSBhbmQgX3ZhbHVlIHdpbGwgY29udGFpbiB0aGUgTm9kZVBhcnRzIGZyb20gdGhlIHByZXZpb3VzXG4gICAgICAgIC8vIHJlbmRlci4gSWYgX3ZhbHVlIGlzIG5vdCBhbiBhcnJheSwgY2xlYXIgdGhpcyBwYXJ0IGFuZCBtYWtlIGEgbmV3XG4gICAgICAgIC8vIGFycmF5IGZvciBOb2RlUGFydHMuXG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheSh0aGlzLnZhbHVlKSkge1xuICAgICAgICAgICAgdGhpcy52YWx1ZSA9IFtdO1xuICAgICAgICAgICAgdGhpcy5jbGVhcigpO1xuICAgICAgICB9XG4gICAgICAgIC8vIExldHMgdXMga2VlcCB0cmFjayBvZiBob3cgbWFueSBpdGVtcyB3ZSBzdGFtcGVkIHNvIHdlIGNhbiBjbGVhciBsZWZ0b3ZlclxuICAgICAgICAvLyBpdGVtcyBmcm9tIGEgcHJldmlvdXMgcmVuZGVyXG4gICAgICAgIGNvbnN0IGl0ZW1QYXJ0cyA9IHRoaXMudmFsdWU7XG4gICAgICAgIGxldCBwYXJ0SW5kZXggPSAwO1xuICAgICAgICBsZXQgaXRlbVBhcnQ7XG4gICAgICAgIGZvciAoY29uc3QgaXRlbSBvZiB2YWx1ZSkge1xuICAgICAgICAgICAgLy8gVHJ5IHRvIHJldXNlIGFuIGV4aXN0aW5nIHBhcnRcbiAgICAgICAgICAgIGl0ZW1QYXJ0ID0gaXRlbVBhcnRzW3BhcnRJbmRleF07XG4gICAgICAgICAgICAvLyBJZiBubyBleGlzdGluZyBwYXJ0LCBjcmVhdGUgYSBuZXcgb25lXG4gICAgICAgICAgICBpZiAoaXRlbVBhcnQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGl0ZW1QYXJ0ID0gbmV3IE5vZGVQYXJ0KHRoaXMub3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgaXRlbVBhcnRzLnB1c2goaXRlbVBhcnQpO1xuICAgICAgICAgICAgICAgIGlmIChwYXJ0SW5kZXggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgaXRlbVBhcnQuYXBwZW5kSW50b1BhcnQodGhpcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpdGVtUGFydC5pbnNlcnRBZnRlclBhcnQoaXRlbVBhcnRzW3BhcnRJbmRleCAtIDFdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpdGVtUGFydC5zZXRWYWx1ZShpdGVtKTtcbiAgICAgICAgICAgIGl0ZW1QYXJ0LmNvbW1pdCgpO1xuICAgICAgICAgICAgcGFydEluZGV4Kys7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhcnRJbmRleCA8IGl0ZW1QYXJ0cy5sZW5ndGgpIHtcbiAgICAgICAgICAgIC8vIFRydW5jYXRlIHRoZSBwYXJ0cyBhcnJheSBzbyBfdmFsdWUgcmVmbGVjdHMgdGhlIGN1cnJlbnQgc3RhdGVcbiAgICAgICAgICAgIGl0ZW1QYXJ0cy5sZW5ndGggPSBwYXJ0SW5kZXg7XG4gICAgICAgICAgICB0aGlzLmNsZWFyKGl0ZW1QYXJ0ICYmIGl0ZW1QYXJ0LmVuZE5vZGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNsZWFyKHN0YXJ0Tm9kZSA9IHRoaXMuc3RhcnROb2RlKSB7XG4gICAgICAgIHJlbW92ZU5vZGVzKHRoaXMuc3RhcnROb2RlLnBhcmVudE5vZGUsIHN0YXJ0Tm9kZS5uZXh0U2libGluZywgdGhpcy5lbmROb2RlKTtcbiAgICB9XG59XG4vKipcbiAqIEltcGxlbWVudHMgYSBib29sZWFuIGF0dHJpYnV0ZSwgcm91Z2hseSBhcyBkZWZpbmVkIGluIHRoZSBIVE1MXG4gKiBzcGVjaWZpY2F0aW9uLlxuICpcbiAqIElmIHRoZSB2YWx1ZSBpcyB0cnV0aHksIHRoZW4gdGhlIGF0dHJpYnV0ZSBpcyBwcmVzZW50IHdpdGggYSB2YWx1ZSBvZlxuICogJycuIElmIHRoZSB2YWx1ZSBpcyBmYWxzZXksIHRoZSBhdHRyaWJ1dGUgaXMgcmVtb3ZlZC5cbiAqL1xuZXhwb3J0IGNsYXNzIEJvb2xlYW5BdHRyaWJ1dGVQYXJ0IHtcbiAgICBjb25zdHJ1Y3RvcihlbGVtZW50LCBuYW1lLCBzdHJpbmdzKSB7XG4gICAgICAgIHRoaXMudmFsdWUgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuX19wZW5kaW5nVmFsdWUgPSB1bmRlZmluZWQ7XG4gICAgICAgIGlmIChzdHJpbmdzLmxlbmd0aCAhPT0gMiB8fCBzdHJpbmdzWzBdICE9PSAnJyB8fCBzdHJpbmdzWzFdICE9PSAnJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdCb29sZWFuIGF0dHJpYnV0ZXMgY2FuIG9ubHkgY29udGFpbiBhIHNpbmdsZSBleHByZXNzaW9uJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgdGhpcy5zdHJpbmdzID0gc3RyaW5ncztcbiAgICB9XG4gICAgc2V0VmFsdWUodmFsdWUpIHtcbiAgICAgICAgdGhpcy5fX3BlbmRpbmdWYWx1ZSA9IHZhbHVlO1xuICAgIH1cbiAgICBjb21taXQoKSB7XG4gICAgICAgIHdoaWxlIChpc0RpcmVjdGl2ZSh0aGlzLl9fcGVuZGluZ1ZhbHVlKSkge1xuICAgICAgICAgICAgY29uc3QgZGlyZWN0aXZlID0gdGhpcy5fX3BlbmRpbmdWYWx1ZTtcbiAgICAgICAgICAgIHRoaXMuX19wZW5kaW5nVmFsdWUgPSBub0NoYW5nZTtcbiAgICAgICAgICAgIGRpcmVjdGl2ZSh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fX3BlbmRpbmdWYWx1ZSA9PT0gbm9DaGFuZ2UpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB2YWx1ZSA9ICEhdGhpcy5fX3BlbmRpbmdWYWx1ZTtcbiAgICAgICAgaWYgKHRoaXMudmFsdWUgIT09IHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQuc2V0QXR0cmlidXRlKHRoaXMubmFtZSwgJycpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSh0aGlzLm5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX19wZW5kaW5nVmFsdWUgPSBub0NoYW5nZTtcbiAgICB9XG59XG4vKipcbiAqIFNldHMgYXR0cmlidXRlIHZhbHVlcyBmb3IgUHJvcGVydHlQYXJ0cywgc28gdGhhdCB0aGUgdmFsdWUgaXMgb25seSBzZXQgb25jZVxuICogZXZlbiBpZiB0aGVyZSBhcmUgbXVsdGlwbGUgcGFydHMgZm9yIGEgcHJvcGVydHkuXG4gKlxuICogSWYgYW4gZXhwcmVzc2lvbiBjb250cm9scyB0aGUgd2hvbGUgcHJvcGVydHkgdmFsdWUsIHRoZW4gdGhlIHZhbHVlIGlzIHNpbXBseVxuICogYXNzaWduZWQgdG8gdGhlIHByb3BlcnR5IHVuZGVyIGNvbnRyb2wuIElmIHRoZXJlIGFyZSBzdHJpbmcgbGl0ZXJhbHMgb3JcbiAqIG11bHRpcGxlIGV4cHJlc3Npb25zLCB0aGVuIHRoZSBzdHJpbmdzIGFyZSBleHByZXNzaW9ucyBhcmUgaW50ZXJwb2xhdGVkIGludG9cbiAqIGEgc3RyaW5nIGZpcnN0LlxuICovXG5leHBvcnQgY2xhc3MgUHJvcGVydHlDb21taXR0ZXIgZXh0ZW5kcyBBdHRyaWJ1dGVDb21taXR0ZXIge1xuICAgIGNvbnN0cnVjdG9yKGVsZW1lbnQsIG5hbWUsIHN0cmluZ3MpIHtcbiAgICAgICAgc3VwZXIoZWxlbWVudCwgbmFtZSwgc3RyaW5ncyk7XG4gICAgICAgIHRoaXMuc2luZ2xlID1cbiAgICAgICAgICAgIChzdHJpbmdzLmxlbmd0aCA9PT0gMiAmJiBzdHJpbmdzWzBdID09PSAnJyAmJiBzdHJpbmdzWzFdID09PSAnJyk7XG4gICAgfVxuICAgIF9jcmVhdGVQYXJ0KCkge1xuICAgICAgICByZXR1cm4gbmV3IFByb3BlcnR5UGFydCh0aGlzKTtcbiAgICB9XG4gICAgX2dldFZhbHVlKCkge1xuICAgICAgICBpZiAodGhpcy5zaW5nbGUpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnBhcnRzWzBdLnZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdXBlci5fZ2V0VmFsdWUoKTtcbiAgICB9XG4gICAgY29tbWl0KCkge1xuICAgICAgICBpZiAodGhpcy5kaXJ0eSkge1xuICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xuICAgICAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWFueVxuICAgICAgICAgICAgdGhpcy5lbGVtZW50W3RoaXMubmFtZV0gPSB0aGlzLl9nZXRWYWx1ZSgpO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFByb3BlcnR5UGFydCBleHRlbmRzIEF0dHJpYnV0ZVBhcnQge1xufVxuLy8gRGV0ZWN0IGV2ZW50IGxpc3RlbmVyIG9wdGlvbnMgc3VwcG9ydC4gSWYgdGhlIGBjYXB0dXJlYCBwcm9wZXJ0eSBpcyByZWFkXG4vLyBmcm9tIHRoZSBvcHRpb25zIG9iamVjdCwgdGhlbiBvcHRpb25zIGFyZSBzdXBwb3J0ZWQuIElmIG5vdCwgdGhlbiB0aGUgdGhyaWRcbi8vIGFyZ3VtZW50IHRvIGFkZC9yZW1vdmVFdmVudExpc3RlbmVyIGlzIGludGVycHJldGVkIGFzIHRoZSBib29sZWFuIGNhcHR1cmVcbi8vIHZhbHVlIHNvIHdlIHNob3VsZCBvbmx5IHBhc3MgdGhlIGBjYXB0dXJlYCBwcm9wZXJ0eS5cbmxldCBldmVudE9wdGlvbnNTdXBwb3J0ZWQgPSBmYWxzZTtcbnRyeSB7XG4gICAgY29uc3Qgb3B0aW9ucyA9IHtcbiAgICAgICAgZ2V0IGNhcHR1cmUoKSB7XG4gICAgICAgICAgICBldmVudE9wdGlvbnNTdXBwb3J0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tYW55XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Rlc3QnLCBvcHRpb25zLCBvcHRpb25zKTtcbiAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tYW55XG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Rlc3QnLCBvcHRpb25zLCBvcHRpb25zKTtcbn1cbmNhdGNoIChfZSkge1xufVxuZXhwb3J0IGNsYXNzIEV2ZW50UGFydCB7XG4gICAgY29uc3RydWN0b3IoZWxlbWVudCwgZXZlbnROYW1lLCBldmVudENvbnRleHQpIHtcbiAgICAgICAgdGhpcy52YWx1ZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5fX3BlbmRpbmdWYWx1ZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcbiAgICAgICAgdGhpcy5ldmVudE5hbWUgPSBldmVudE5hbWU7XG4gICAgICAgIHRoaXMuZXZlbnRDb250ZXh0ID0gZXZlbnRDb250ZXh0O1xuICAgICAgICB0aGlzLl9fYm91bmRIYW5kbGVFdmVudCA9IChlKSA9PiB0aGlzLmhhbmRsZUV2ZW50KGUpO1xuICAgIH1cbiAgICBzZXRWYWx1ZSh2YWx1ZSkge1xuICAgICAgICB0aGlzLl9fcGVuZGluZ1ZhbHVlID0gdmFsdWU7XG4gICAgfVxuICAgIGNvbW1pdCgpIHtcbiAgICAgICAgd2hpbGUgKGlzRGlyZWN0aXZlKHRoaXMuX19wZW5kaW5nVmFsdWUpKSB7XG4gICAgICAgICAgICBjb25zdCBkaXJlY3RpdmUgPSB0aGlzLl9fcGVuZGluZ1ZhbHVlO1xuICAgICAgICAgICAgdGhpcy5fX3BlbmRpbmdWYWx1ZSA9IG5vQ2hhbmdlO1xuICAgICAgICAgICAgZGlyZWN0aXZlKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9fcGVuZGluZ1ZhbHVlID09PSBub0NoYW5nZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG5ld0xpc3RlbmVyID0gdGhpcy5fX3BlbmRpbmdWYWx1ZTtcbiAgICAgICAgY29uc3Qgb2xkTGlzdGVuZXIgPSB0aGlzLnZhbHVlO1xuICAgICAgICBjb25zdCBzaG91bGRSZW1vdmVMaXN0ZW5lciA9IG5ld0xpc3RlbmVyID09IG51bGwgfHxcbiAgICAgICAgICAgIG9sZExpc3RlbmVyICE9IG51bGwgJiZcbiAgICAgICAgICAgICAgICAobmV3TGlzdGVuZXIuY2FwdHVyZSAhPT0gb2xkTGlzdGVuZXIuY2FwdHVyZSB8fFxuICAgICAgICAgICAgICAgICAgICBuZXdMaXN0ZW5lci5vbmNlICE9PSBvbGRMaXN0ZW5lci5vbmNlIHx8XG4gICAgICAgICAgICAgICAgICAgIG5ld0xpc3RlbmVyLnBhc3NpdmUgIT09IG9sZExpc3RlbmVyLnBhc3NpdmUpO1xuICAgICAgICBjb25zdCBzaG91bGRBZGRMaXN0ZW5lciA9IG5ld0xpc3RlbmVyICE9IG51bGwgJiYgKG9sZExpc3RlbmVyID09IG51bGwgfHwgc2hvdWxkUmVtb3ZlTGlzdGVuZXIpO1xuICAgICAgICBpZiAoc2hvdWxkUmVtb3ZlTGlzdGVuZXIpIHtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKHRoaXMuZXZlbnROYW1lLCB0aGlzLl9fYm91bmRIYW5kbGVFdmVudCwgdGhpcy5fX29wdGlvbnMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzaG91bGRBZGRMaXN0ZW5lcikge1xuICAgICAgICAgICAgdGhpcy5fX29wdGlvbnMgPSBnZXRPcHRpb25zKG5ld0xpc3RlbmVyKTtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKHRoaXMuZXZlbnROYW1lLCB0aGlzLl9fYm91bmRIYW5kbGVFdmVudCwgdGhpcy5fX29wdGlvbnMpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudmFsdWUgPSBuZXdMaXN0ZW5lcjtcbiAgICAgICAgdGhpcy5fX3BlbmRpbmdWYWx1ZSA9IG5vQ2hhbmdlO1xuICAgIH1cbiAgICBoYW5kbGVFdmVudChldmVudCkge1xuICAgICAgICBpZiAodHlwZW9mIHRoaXMudmFsdWUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHRoaXMudmFsdWUuY2FsbCh0aGlzLmV2ZW50Q29udGV4dCB8fCB0aGlzLmVsZW1lbnQsIGV2ZW50KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMudmFsdWUuaGFuZGxlRXZlbnQoZXZlbnQpO1xuICAgICAgICB9XG4gICAgfVxufVxuLy8gV2UgY29weSBvcHRpb25zIGJlY2F1c2Ugb2YgdGhlIGluY29uc2lzdGVudCBiZWhhdmlvciBvZiBicm93c2VycyB3aGVuIHJlYWRpbmdcbi8vIHRoZSB0aGlyZCBhcmd1bWVudCBvZiBhZGQvcmVtb3ZlRXZlbnRMaXN0ZW5lci4gSUUxMSBkb2Vzbid0IHN1cHBvcnQgb3B0aW9uc1xuLy8gYXQgYWxsLiBDaHJvbWUgNDEgb25seSByZWFkcyBgY2FwdHVyZWAgaWYgdGhlIGFyZ3VtZW50IGlzIGFuIG9iamVjdC5cbmNvbnN0IGdldE9wdGlvbnMgPSAobykgPT4gbyAmJlxuICAgIChldmVudE9wdGlvbnNTdXBwb3J0ZWQgP1xuICAgICAgICB7IGNhcHR1cmU6IG8uY2FwdHVyZSwgcGFzc2l2ZTogby5wYXNzaXZlLCBvbmNlOiBvLm9uY2UgfSA6XG4gICAgICAgIG8uY2FwdHVyZSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYXJ0cy5qcy5tYXAiLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuICogQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbiAqIHN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuICovXG5pbXBvcnQgeyBBdHRyaWJ1dGVDb21taXR0ZXIsIEJvb2xlYW5BdHRyaWJ1dGVQYXJ0LCBFdmVudFBhcnQsIE5vZGVQYXJ0LCBQcm9wZXJ0eUNvbW1pdHRlciB9IGZyb20gJy4vcGFydHMuanMnO1xuLyoqXG4gKiBDcmVhdGVzIFBhcnRzIHdoZW4gYSB0ZW1wbGF0ZSBpcyBpbnN0YW50aWF0ZWQuXG4gKi9cbmV4cG9ydCBjbGFzcyBEZWZhdWx0VGVtcGxhdGVQcm9jZXNzb3Ige1xuICAgIC8qKlxuICAgICAqIENyZWF0ZSBwYXJ0cyBmb3IgYW4gYXR0cmlidXRlLXBvc2l0aW9uIGJpbmRpbmcsIGdpdmVuIHRoZSBldmVudCwgYXR0cmlidXRlXG4gICAgICogbmFtZSwgYW5kIHN0cmluZyBsaXRlcmFscy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBlbGVtZW50IFRoZSBlbGVtZW50IGNvbnRhaW5pbmcgdGhlIGJpbmRpbmdcbiAgICAgKiBAcGFyYW0gbmFtZSAgVGhlIGF0dHJpYnV0ZSBuYW1lXG4gICAgICogQHBhcmFtIHN0cmluZ3MgVGhlIHN0cmluZyBsaXRlcmFscy4gVGhlcmUgYXJlIGFsd2F5cyBhdCBsZWFzdCB0d28gc3RyaW5ncyxcbiAgICAgKiAgIGV2ZW50IGZvciBmdWxseS1jb250cm9sbGVkIGJpbmRpbmdzIHdpdGggYSBzaW5nbGUgZXhwcmVzc2lvbi5cbiAgICAgKi9cbiAgICBoYW5kbGVBdHRyaWJ1dGVFeHByZXNzaW9ucyhlbGVtZW50LCBuYW1lLCBzdHJpbmdzLCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHByZWZpeCA9IG5hbWVbMF07XG4gICAgICAgIGlmIChwcmVmaXggPT09ICcuJykge1xuICAgICAgICAgICAgY29uc3QgY29tbWl0dGVyID0gbmV3IFByb3BlcnR5Q29tbWl0dGVyKGVsZW1lbnQsIG5hbWUuc2xpY2UoMSksIHN0cmluZ3MpO1xuICAgICAgICAgICAgcmV0dXJuIGNvbW1pdHRlci5wYXJ0cztcbiAgICAgICAgfVxuICAgICAgICBpZiAocHJlZml4ID09PSAnQCcpIHtcbiAgICAgICAgICAgIHJldHVybiBbbmV3IEV2ZW50UGFydChlbGVtZW50LCBuYW1lLnNsaWNlKDEpLCBvcHRpb25zLmV2ZW50Q29udGV4dCldO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwcmVmaXggPT09ICc/Jykge1xuICAgICAgICAgICAgcmV0dXJuIFtuZXcgQm9vbGVhbkF0dHJpYnV0ZVBhcnQoZWxlbWVudCwgbmFtZS5zbGljZSgxKSwgc3RyaW5ncyldO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNvbW1pdHRlciA9IG5ldyBBdHRyaWJ1dGVDb21taXR0ZXIoZWxlbWVudCwgbmFtZSwgc3RyaW5ncyk7XG4gICAgICAgIHJldHVybiBjb21taXR0ZXIucGFydHM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBwYXJ0cyBmb3IgYSB0ZXh0LXBvc2l0aW9uIGJpbmRpbmcuXG4gICAgICogQHBhcmFtIHRlbXBsYXRlRmFjdG9yeVxuICAgICAqL1xuICAgIGhhbmRsZVRleHRFeHByZXNzaW9uKG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBOb2RlUGFydChvcHRpb25zKTtcbiAgICB9XG59XG5leHBvcnQgY29uc3QgZGVmYXVsdFRlbXBsYXRlUHJvY2Vzc29yID0gbmV3IERlZmF1bHRUZW1wbGF0ZVByb2Nlc3NvcigpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGVmYXVsdC10ZW1wbGF0ZS1wcm9jZXNzb3IuanMubWFwIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIFRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbiAqIENvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG4gKiBzdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiAqL1xuaW1wb3J0IHsgbWFya2VyLCBUZW1wbGF0ZSB9IGZyb20gJy4vdGVtcGxhdGUuanMnO1xuLyoqXG4gKiBUaGUgZGVmYXVsdCBUZW1wbGF0ZUZhY3Rvcnkgd2hpY2ggY2FjaGVzIFRlbXBsYXRlcyBrZXllZCBvblxuICogcmVzdWx0LnR5cGUgYW5kIHJlc3VsdC5zdHJpbmdzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdGVtcGxhdGVGYWN0b3J5KHJlc3VsdCkge1xuICAgIGxldCB0ZW1wbGF0ZUNhY2hlID0gdGVtcGxhdGVDYWNoZXMuZ2V0KHJlc3VsdC50eXBlKTtcbiAgICBpZiAodGVtcGxhdGVDYWNoZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRlbXBsYXRlQ2FjaGUgPSB7XG4gICAgICAgICAgICBzdHJpbmdzQXJyYXk6IG5ldyBXZWFrTWFwKCksXG4gICAgICAgICAgICBrZXlTdHJpbmc6IG5ldyBNYXAoKVxuICAgICAgICB9O1xuICAgICAgICB0ZW1wbGF0ZUNhY2hlcy5zZXQocmVzdWx0LnR5cGUsIHRlbXBsYXRlQ2FjaGUpO1xuICAgIH1cbiAgICBsZXQgdGVtcGxhdGUgPSB0ZW1wbGF0ZUNhY2hlLnN0cmluZ3NBcnJheS5nZXQocmVzdWx0LnN0cmluZ3MpO1xuICAgIGlmICh0ZW1wbGF0ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiB0ZW1wbGF0ZTtcbiAgICB9XG4gICAgLy8gSWYgdGhlIFRlbXBsYXRlU3RyaW5nc0FycmF5IGlzIG5ldywgZ2VuZXJhdGUgYSBrZXkgZnJvbSB0aGUgc3RyaW5nc1xuICAgIC8vIFRoaXMga2V5IGlzIHNoYXJlZCBiZXR3ZWVuIGFsbCB0ZW1wbGF0ZXMgd2l0aCBpZGVudGljYWwgY29udGVudFxuICAgIGNvbnN0IGtleSA9IHJlc3VsdC5zdHJpbmdzLmpvaW4obWFya2VyKTtcbiAgICAvLyBDaGVjayBpZiB3ZSBhbHJlYWR5IGhhdmUgYSBUZW1wbGF0ZSBmb3IgdGhpcyBrZXlcbiAgICB0ZW1wbGF0ZSA9IHRlbXBsYXRlQ2FjaGUua2V5U3RyaW5nLmdldChrZXkpO1xuICAgIGlmICh0ZW1wbGF0ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIC8vIElmIHdlIGhhdmUgbm90IHNlZW4gdGhpcyBrZXkgYmVmb3JlLCBjcmVhdGUgYSBuZXcgVGVtcGxhdGVcbiAgICAgICAgdGVtcGxhdGUgPSBuZXcgVGVtcGxhdGUocmVzdWx0LCByZXN1bHQuZ2V0VGVtcGxhdGVFbGVtZW50KCkpO1xuICAgICAgICAvLyBDYWNoZSB0aGUgVGVtcGxhdGUgZm9yIHRoaXMga2V5XG4gICAgICAgIHRlbXBsYXRlQ2FjaGUua2V5U3RyaW5nLnNldChrZXksIHRlbXBsYXRlKTtcbiAgICB9XG4gICAgLy8gQ2FjaGUgYWxsIGZ1dHVyZSBxdWVyaWVzIGZvciB0aGlzIFRlbXBsYXRlU3RyaW5nc0FycmF5XG4gICAgdGVtcGxhdGVDYWNoZS5zdHJpbmdzQXJyYXkuc2V0KHJlc3VsdC5zdHJpbmdzLCB0ZW1wbGF0ZSk7XG4gICAgcmV0dXJuIHRlbXBsYXRlO1xufVxuZXhwb3J0IGNvbnN0IHRlbXBsYXRlQ2FjaGVzID0gbmV3IE1hcCgpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGVtcGxhdGUtZmFjdG9yeS5qcy5tYXAiLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuICogQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbiAqIHN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuICovXG4vKipcbiAqIEBtb2R1bGUgbGl0LWh0bWxcbiAqL1xuaW1wb3J0IHsgcmVtb3ZlTm9kZXMgfSBmcm9tICcuL2RvbS5qcyc7XG5pbXBvcnQgeyBOb2RlUGFydCB9IGZyb20gJy4vcGFydHMuanMnO1xuaW1wb3J0IHsgdGVtcGxhdGVGYWN0b3J5IH0gZnJvbSAnLi90ZW1wbGF0ZS1mYWN0b3J5LmpzJztcbmV4cG9ydCBjb25zdCBwYXJ0cyA9IG5ldyBXZWFrTWFwKCk7XG4vKipcbiAqIFJlbmRlcnMgYSB0ZW1wbGF0ZSByZXN1bHQgb3Igb3RoZXIgdmFsdWUgdG8gYSBjb250YWluZXIuXG4gKlxuICogVG8gdXBkYXRlIGEgY29udGFpbmVyIHdpdGggbmV3IHZhbHVlcywgcmVldmFsdWF0ZSB0aGUgdGVtcGxhdGUgbGl0ZXJhbCBhbmRcbiAqIGNhbGwgYHJlbmRlcmAgd2l0aCB0aGUgbmV3IHJlc3VsdC5cbiAqXG4gKiBAcGFyYW0gcmVzdWx0IEFueSB2YWx1ZSByZW5kZXJhYmxlIGJ5IE5vZGVQYXJ0IC0gdHlwaWNhbGx5IGEgVGVtcGxhdGVSZXN1bHRcbiAqICAgICBjcmVhdGVkIGJ5IGV2YWx1YXRpbmcgYSB0ZW1wbGF0ZSB0YWcgbGlrZSBgaHRtbGAgb3IgYHN2Z2AuXG4gKiBAcGFyYW0gY29udGFpbmVyIEEgRE9NIHBhcmVudCB0byByZW5kZXIgdG8uIFRoZSBlbnRpcmUgY29udGVudHMgYXJlIGVpdGhlclxuICogICAgIHJlcGxhY2VkLCBvciBlZmZpY2llbnRseSB1cGRhdGVkIGlmIHRoZSBzYW1lIHJlc3VsdCB0eXBlIHdhcyBwcmV2aW91c1xuICogICAgIHJlbmRlcmVkIHRoZXJlLlxuICogQHBhcmFtIG9wdGlvbnMgUmVuZGVyT3B0aW9ucyBmb3IgdGhlIGVudGlyZSByZW5kZXIgdHJlZSByZW5kZXJlZCB0byB0aGlzXG4gKiAgICAgY29udGFpbmVyLiBSZW5kZXIgb3B0aW9ucyBtdXN0ICpub3QqIGNoYW5nZSBiZXR3ZWVuIHJlbmRlcnMgdG8gdGhlIHNhbWVcbiAqICAgICBjb250YWluZXIsIGFzIHRob3NlIGNoYW5nZXMgd2lsbCBub3QgZWZmZWN0IHByZXZpb3VzbHkgcmVuZGVyZWQgRE9NLlxuICovXG5leHBvcnQgY29uc3QgcmVuZGVyID0gKHJlc3VsdCwgY29udGFpbmVyLCBvcHRpb25zKSA9PiB7XG4gICAgbGV0IHBhcnQgPSBwYXJ0cy5nZXQoY29udGFpbmVyKTtcbiAgICBpZiAocGFydCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJlbW92ZU5vZGVzKGNvbnRhaW5lciwgY29udGFpbmVyLmZpcnN0Q2hpbGQpO1xuICAgICAgICBwYXJ0cy5zZXQoY29udGFpbmVyLCBwYXJ0ID0gbmV3IE5vZGVQYXJ0KE9iamVjdC5hc3NpZ24oeyB0ZW1wbGF0ZUZhY3RvcnkgfSwgb3B0aW9ucykpKTtcbiAgICAgICAgcGFydC5hcHBlbmRJbnRvKGNvbnRhaW5lcik7XG4gICAgfVxuICAgIHBhcnQuc2V0VmFsdWUocmVzdWx0KTtcbiAgICBwYXJ0LmNvbW1pdCgpO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlbmRlci5qcy5tYXAiLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuICogQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbiAqIHN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuICovXG4vKipcbiAqXG4gKiBNYWluIGxpdC1odG1sIG1vZHVsZS5cbiAqXG4gKiBNYWluIGV4cG9ydHM6XG4gKlxuICogLSAgW1todG1sXV1cbiAqIC0gIFtbc3ZnXV1cbiAqIC0gIFtbcmVuZGVyXV1cbiAqXG4gKiBAbW9kdWxlIGxpdC1odG1sXG4gKiBAcHJlZmVycmVkXG4gKi9cbi8qKlxuICogRG8gbm90IHJlbW92ZSB0aGlzIGNvbW1lbnQ7IGl0IGtlZXBzIHR5cGVkb2MgZnJvbSBtaXNwbGFjaW5nIHRoZSBtb2R1bGVcbiAqIGRvY3MuXG4gKi9cbmltcG9ydCB7IGRlZmF1bHRUZW1wbGF0ZVByb2Nlc3NvciB9IGZyb20gJy4vbGliL2RlZmF1bHQtdGVtcGxhdGUtcHJvY2Vzc29yLmpzJztcbmltcG9ydCB7IFNWR1RlbXBsYXRlUmVzdWx0LCBUZW1wbGF0ZVJlc3VsdCB9IGZyb20gJy4vbGliL3RlbXBsYXRlLXJlc3VsdC5qcyc7XG5leHBvcnQgeyBEZWZhdWx0VGVtcGxhdGVQcm9jZXNzb3IsIGRlZmF1bHRUZW1wbGF0ZVByb2Nlc3NvciB9IGZyb20gJy4vbGliL2RlZmF1bHQtdGVtcGxhdGUtcHJvY2Vzc29yLmpzJztcbmV4cG9ydCB7IGRpcmVjdGl2ZSwgaXNEaXJlY3RpdmUgfSBmcm9tICcuL2xpYi9kaXJlY3RpdmUuanMnO1xuLy8gVE9ETyhqdXN0aW5mYWduYW5pKTogcmVtb3ZlIGxpbmUgd2hlbiB3ZSBnZXQgTm9kZVBhcnQgbW92aW5nIG1ldGhvZHNcbmV4cG9ydCB7IHJlbW92ZU5vZGVzLCByZXBhcmVudE5vZGVzIH0gZnJvbSAnLi9saWIvZG9tLmpzJztcbmV4cG9ydCB7IG5vQ2hhbmdlLCBub3RoaW5nIH0gZnJvbSAnLi9saWIvcGFydC5qcyc7XG5leHBvcnQgeyBBdHRyaWJ1dGVDb21taXR0ZXIsIEF0dHJpYnV0ZVBhcnQsIEJvb2xlYW5BdHRyaWJ1dGVQYXJ0LCBFdmVudFBhcnQsIGlzSXRlcmFibGUsIGlzUHJpbWl0aXZlLCBOb2RlUGFydCwgUHJvcGVydHlDb21taXR0ZXIsIFByb3BlcnR5UGFydCB9IGZyb20gJy4vbGliL3BhcnRzLmpzJztcbmV4cG9ydCB7IHBhcnRzLCByZW5kZXIgfSBmcm9tICcuL2xpYi9yZW5kZXIuanMnO1xuZXhwb3J0IHsgdGVtcGxhdGVDYWNoZXMsIHRlbXBsYXRlRmFjdG9yeSB9IGZyb20gJy4vbGliL3RlbXBsYXRlLWZhY3RvcnkuanMnO1xuZXhwb3J0IHsgVGVtcGxhdGVJbnN0YW5jZSB9IGZyb20gJy4vbGliL3RlbXBsYXRlLWluc3RhbmNlLmpzJztcbmV4cG9ydCB7IFNWR1RlbXBsYXRlUmVzdWx0LCBUZW1wbGF0ZVJlc3VsdCB9IGZyb20gJy4vbGliL3RlbXBsYXRlLXJlc3VsdC5qcyc7XG5leHBvcnQgeyBjcmVhdGVNYXJrZXIsIGlzVGVtcGxhdGVQYXJ0QWN0aXZlLCBUZW1wbGF0ZSB9IGZyb20gJy4vbGliL3RlbXBsYXRlLmpzJztcbi8vIElNUE9SVEFOVDogZG8gbm90IGNoYW5nZSB0aGUgcHJvcGVydHkgbmFtZSBvciB0aGUgYXNzaWdubWVudCBleHByZXNzaW9uLlxuLy8gVGhpcyBsaW5lIHdpbGwgYmUgdXNlZCBpbiByZWdleGVzIHRvIHNlYXJjaCBmb3IgbGl0LWh0bWwgdXNhZ2UuXG4vLyBUT0RPKGp1c3RpbmZhZ25hbmkpOiBpbmplY3QgdmVyc2lvbiBudW1iZXIgYXQgYnVpbGQgdGltZVxuKHdpbmRvd1snbGl0SHRtbFZlcnNpb25zJ10gfHwgKHdpbmRvd1snbGl0SHRtbFZlcnNpb25zJ10gPSBbXSkpLnB1c2goJzEuMS4yJyk7XG4vKipcbiAqIEludGVycHJldHMgYSB0ZW1wbGF0ZSBsaXRlcmFsIGFzIGFuIEhUTUwgdGVtcGxhdGUgdGhhdCBjYW4gZWZmaWNpZW50bHlcbiAqIHJlbmRlciB0byBhbmQgdXBkYXRlIGEgY29udGFpbmVyLlxuICovXG5leHBvcnQgY29uc3QgaHRtbCA9IChzdHJpbmdzLCAuLi52YWx1ZXMpID0+IG5ldyBUZW1wbGF0ZVJlc3VsdChzdHJpbmdzLCB2YWx1ZXMsICdodG1sJywgZGVmYXVsdFRlbXBsYXRlUHJvY2Vzc29yKTtcbi8qKlxuICogSW50ZXJwcmV0cyBhIHRlbXBsYXRlIGxpdGVyYWwgYXMgYW4gU1ZHIHRlbXBsYXRlIHRoYXQgY2FuIGVmZmljaWVudGx5XG4gKiByZW5kZXIgdG8gYW5kIHVwZGF0ZSBhIGNvbnRhaW5lci5cbiAqL1xuZXhwb3J0IGNvbnN0IHN2ZyA9IChzdHJpbmdzLCAuLi52YWx1ZXMpID0+IG5ldyBTVkdUZW1wbGF0ZVJlc3VsdChzdHJpbmdzLCB2YWx1ZXMsICdzdmcnLCBkZWZhdWx0VGVtcGxhdGVQcm9jZXNzb3IpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bGl0LWh0bWwuanMubWFwIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIFRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbiAqIENvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG4gKiBzdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiAqL1xuLyoqXG4gKiBAbW9kdWxlIHNoYWR5LXJlbmRlclxuICovXG5pbXBvcnQgeyBpc1RlbXBsYXRlUGFydEFjdGl2ZSB9IGZyb20gJy4vdGVtcGxhdGUuanMnO1xuY29uc3Qgd2Fsa2VyTm9kZUZpbHRlciA9IDEzMyAvKiBOb2RlRmlsdGVyLlNIT1dfe0VMRU1FTlR8Q09NTUVOVHxURVhUfSAqLztcbi8qKlxuICogUmVtb3ZlcyB0aGUgbGlzdCBvZiBub2RlcyBmcm9tIGEgVGVtcGxhdGUgc2FmZWx5LiBJbiBhZGRpdGlvbiB0byByZW1vdmluZ1xuICogbm9kZXMgZnJvbSB0aGUgVGVtcGxhdGUsIHRoZSBUZW1wbGF0ZSBwYXJ0IGluZGljZXMgYXJlIHVwZGF0ZWQgdG8gbWF0Y2hcbiAqIHRoZSBtdXRhdGVkIFRlbXBsYXRlIERPTS5cbiAqXG4gKiBBcyB0aGUgdGVtcGxhdGUgaXMgd2Fsa2VkIHRoZSByZW1vdmFsIHN0YXRlIGlzIHRyYWNrZWQgYW5kXG4gKiBwYXJ0IGluZGljZXMgYXJlIGFkanVzdGVkIGFzIG5lZWRlZC5cbiAqXG4gKiBkaXZcbiAqICAgZGl2IzEgKHJlbW92ZSkgPC0tIHN0YXJ0IHJlbW92aW5nIChyZW1vdmluZyBub2RlIGlzIGRpdiMxKVxuICogICAgIGRpdlxuICogICAgICAgZGl2IzIgKHJlbW92ZSkgIDwtLSBjb250aW51ZSByZW1vdmluZyAocmVtb3Zpbmcgbm9kZSBpcyBzdGlsbCBkaXYjMSlcbiAqICAgICAgICAgZGl2XG4gKiBkaXYgPC0tIHN0b3AgcmVtb3Zpbmcgc2luY2UgcHJldmlvdXMgc2libGluZyBpcyB0aGUgcmVtb3Zpbmcgbm9kZSAoZGl2IzEsXG4gKiByZW1vdmVkIDQgbm9kZXMpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVOb2Rlc0Zyb21UZW1wbGF0ZSh0ZW1wbGF0ZSwgbm9kZXNUb1JlbW92ZSkge1xuICAgIGNvbnN0IHsgZWxlbWVudDogeyBjb250ZW50IH0sIHBhcnRzIH0gPSB0ZW1wbGF0ZTtcbiAgICBjb25zdCB3YWxrZXIgPSBkb2N1bWVudC5jcmVhdGVUcmVlV2Fsa2VyKGNvbnRlbnQsIHdhbGtlck5vZGVGaWx0ZXIsIG51bGwsIGZhbHNlKTtcbiAgICBsZXQgcGFydEluZGV4ID0gbmV4dEFjdGl2ZUluZGV4SW5UZW1wbGF0ZVBhcnRzKHBhcnRzKTtcbiAgICBsZXQgcGFydCA9IHBhcnRzW3BhcnRJbmRleF07XG4gICAgbGV0IG5vZGVJbmRleCA9IC0xO1xuICAgIGxldCByZW1vdmVDb3VudCA9IDA7XG4gICAgY29uc3Qgbm9kZXNUb1JlbW92ZUluVGVtcGxhdGUgPSBbXTtcbiAgICBsZXQgY3VycmVudFJlbW92aW5nTm9kZSA9IG51bGw7XG4gICAgd2hpbGUgKHdhbGtlci5uZXh0Tm9kZSgpKSB7XG4gICAgICAgIG5vZGVJbmRleCsrO1xuICAgICAgICBjb25zdCBub2RlID0gd2Fsa2VyLmN1cnJlbnROb2RlO1xuICAgICAgICAvLyBFbmQgcmVtb3ZhbCBpZiBzdGVwcGVkIHBhc3QgdGhlIHJlbW92aW5nIG5vZGVcbiAgICAgICAgaWYgKG5vZGUucHJldmlvdXNTaWJsaW5nID09PSBjdXJyZW50UmVtb3ZpbmdOb2RlKSB7XG4gICAgICAgICAgICBjdXJyZW50UmVtb3ZpbmdOb2RlID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICAvLyBBIG5vZGUgdG8gcmVtb3ZlIHdhcyBmb3VuZCBpbiB0aGUgdGVtcGxhdGVcbiAgICAgICAgaWYgKG5vZGVzVG9SZW1vdmUuaGFzKG5vZGUpKSB7XG4gICAgICAgICAgICBub2Rlc1RvUmVtb3ZlSW5UZW1wbGF0ZS5wdXNoKG5vZGUpO1xuICAgICAgICAgICAgLy8gVHJhY2sgbm9kZSB3ZSdyZSByZW1vdmluZ1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRSZW1vdmluZ05vZGUgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50UmVtb3ZpbmdOb2RlID0gbm9kZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBXaGVuIHJlbW92aW5nLCBpbmNyZW1lbnQgY291bnQgYnkgd2hpY2ggdG8gYWRqdXN0IHN1YnNlcXVlbnQgcGFydCBpbmRpY2VzXG4gICAgICAgIGlmIChjdXJyZW50UmVtb3ZpbmdOb2RlICE9PSBudWxsKSB7XG4gICAgICAgICAgICByZW1vdmVDb3VudCsrO1xuICAgICAgICB9XG4gICAgICAgIHdoaWxlIChwYXJ0ICE9PSB1bmRlZmluZWQgJiYgcGFydC5pbmRleCA9PT0gbm9kZUluZGV4KSB7XG4gICAgICAgICAgICAvLyBJZiBwYXJ0IGlzIGluIGEgcmVtb3ZlZCBub2RlIGRlYWN0aXZhdGUgaXQgYnkgc2V0dGluZyBpbmRleCB0byAtMSBvclxuICAgICAgICAgICAgLy8gYWRqdXN0IHRoZSBpbmRleCBhcyBuZWVkZWQuXG4gICAgICAgICAgICBwYXJ0LmluZGV4ID0gY3VycmVudFJlbW92aW5nTm9kZSAhPT0gbnVsbCA/IC0xIDogcGFydC5pbmRleCAtIHJlbW92ZUNvdW50O1xuICAgICAgICAgICAgLy8gZ28gdG8gdGhlIG5leHQgYWN0aXZlIHBhcnQuXG4gICAgICAgICAgICBwYXJ0SW5kZXggPSBuZXh0QWN0aXZlSW5kZXhJblRlbXBsYXRlUGFydHMocGFydHMsIHBhcnRJbmRleCk7XG4gICAgICAgICAgICBwYXJ0ID0gcGFydHNbcGFydEluZGV4XTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBub2Rlc1RvUmVtb3ZlSW5UZW1wbGF0ZS5mb3JFYWNoKChuKSA9PiBuLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobikpO1xufVxuY29uc3QgY291bnROb2RlcyA9IChub2RlKSA9PiB7XG4gICAgbGV0IGNvdW50ID0gKG5vZGUubm9kZVR5cGUgPT09IDExIC8qIE5vZGUuRE9DVU1FTlRfRlJBR01FTlRfTk9ERSAqLykgPyAwIDogMTtcbiAgICBjb25zdCB3YWxrZXIgPSBkb2N1bWVudC5jcmVhdGVUcmVlV2Fsa2VyKG5vZGUsIHdhbGtlck5vZGVGaWx0ZXIsIG51bGwsIGZhbHNlKTtcbiAgICB3aGlsZSAod2Fsa2VyLm5leHROb2RlKCkpIHtcbiAgICAgICAgY291bnQrKztcbiAgICB9XG4gICAgcmV0dXJuIGNvdW50O1xufTtcbmNvbnN0IG5leHRBY3RpdmVJbmRleEluVGVtcGxhdGVQYXJ0cyA9IChwYXJ0cywgc3RhcnRJbmRleCA9IC0xKSA9PiB7XG4gICAgZm9yIChsZXQgaSA9IHN0YXJ0SW5kZXggKyAxOyBpIDwgcGFydHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgcGFydCA9IHBhcnRzW2ldO1xuICAgICAgICBpZiAoaXNUZW1wbGF0ZVBhcnRBY3RpdmUocGFydCkpIHtcbiAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiAtMTtcbn07XG4vKipcbiAqIEluc2VydHMgdGhlIGdpdmVuIG5vZGUgaW50byB0aGUgVGVtcGxhdGUsIG9wdGlvbmFsbHkgYmVmb3JlIHRoZSBnaXZlblxuICogcmVmTm9kZS4gSW4gYWRkaXRpb24gdG8gaW5zZXJ0aW5nIHRoZSBub2RlIGludG8gdGhlIFRlbXBsYXRlLCB0aGUgVGVtcGxhdGVcbiAqIHBhcnQgaW5kaWNlcyBhcmUgdXBkYXRlZCB0byBtYXRjaCB0aGUgbXV0YXRlZCBUZW1wbGF0ZSBET00uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbnNlcnROb2RlSW50b1RlbXBsYXRlKHRlbXBsYXRlLCBub2RlLCByZWZOb2RlID0gbnVsbCkge1xuICAgIGNvbnN0IHsgZWxlbWVudDogeyBjb250ZW50IH0sIHBhcnRzIH0gPSB0ZW1wbGF0ZTtcbiAgICAvLyBJZiB0aGVyZSdzIG5vIHJlZk5vZGUsIHRoZW4gcHV0IG5vZGUgYXQgZW5kIG9mIHRlbXBsYXRlLlxuICAgIC8vIE5vIHBhcnQgaW5kaWNlcyBuZWVkIHRvIGJlIHNoaWZ0ZWQgaW4gdGhpcyBjYXNlLlxuICAgIGlmIChyZWZOb2RlID09PSBudWxsIHx8IHJlZk5vZGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50LmFwcGVuZENoaWxkKG5vZGUpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHdhbGtlciA9IGRvY3VtZW50LmNyZWF0ZVRyZWVXYWxrZXIoY29udGVudCwgd2Fsa2VyTm9kZUZpbHRlciwgbnVsbCwgZmFsc2UpO1xuICAgIGxldCBwYXJ0SW5kZXggPSBuZXh0QWN0aXZlSW5kZXhJblRlbXBsYXRlUGFydHMocGFydHMpO1xuICAgIGxldCBpbnNlcnRDb3VudCA9IDA7XG4gICAgbGV0IHdhbGtlckluZGV4ID0gLTE7XG4gICAgd2hpbGUgKHdhbGtlci5uZXh0Tm9kZSgpKSB7XG4gICAgICAgIHdhbGtlckluZGV4Kys7XG4gICAgICAgIGNvbnN0IHdhbGtlck5vZGUgPSB3YWxrZXIuY3VycmVudE5vZGU7XG4gICAgICAgIGlmICh3YWxrZXJOb2RlID09PSByZWZOb2RlKSB7XG4gICAgICAgICAgICBpbnNlcnRDb3VudCA9IGNvdW50Tm9kZXMobm9kZSk7XG4gICAgICAgICAgICByZWZOb2RlLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKG5vZGUsIHJlZk5vZGUpO1xuICAgICAgICB9XG4gICAgICAgIHdoaWxlIChwYXJ0SW5kZXggIT09IC0xICYmIHBhcnRzW3BhcnRJbmRleF0uaW5kZXggPT09IHdhbGtlckluZGV4KSB7XG4gICAgICAgICAgICAvLyBJZiB3ZSd2ZSBpbnNlcnRlZCB0aGUgbm9kZSwgc2ltcGx5IGFkanVzdCBhbGwgc3Vic2VxdWVudCBwYXJ0c1xuICAgICAgICAgICAgaWYgKGluc2VydENvdW50ID4gMCkge1xuICAgICAgICAgICAgICAgIHdoaWxlIChwYXJ0SW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIHBhcnRzW3BhcnRJbmRleF0uaW5kZXggKz0gaW5zZXJ0Q291bnQ7XG4gICAgICAgICAgICAgICAgICAgIHBhcnRJbmRleCA9IG5leHRBY3RpdmVJbmRleEluVGVtcGxhdGVQYXJ0cyhwYXJ0cywgcGFydEluZGV4KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcGFydEluZGV4ID0gbmV4dEFjdGl2ZUluZGV4SW5UZW1wbGF0ZVBhcnRzKHBhcnRzLCBwYXJ0SW5kZXgpO1xuICAgICAgICB9XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bW9kaWZ5LXRlbXBsYXRlLmpzLm1hcCIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBUaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG4gKiBDb2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuICogc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4gKi9cbi8qKlxuICogTW9kdWxlIHRvIGFkZCBzaGFkeSBET00vc2hhZHkgQ1NTIHBvbHlmaWxsIHN1cHBvcnQgdG8gbGl0LWh0bWwgdGVtcGxhdGVcbiAqIHJlbmRlcmluZy4gU2VlIHRoZSBbW3JlbmRlcl1dIG1ldGhvZCBmb3IgZGV0YWlscy5cbiAqXG4gKiBAbW9kdWxlIHNoYWR5LXJlbmRlclxuICogQHByZWZlcnJlZFxuICovXG4vKipcbiAqIERvIG5vdCByZW1vdmUgdGhpcyBjb21tZW50OyBpdCBrZWVwcyB0eXBlZG9jIGZyb20gbWlzcGxhY2luZyB0aGUgbW9kdWxlXG4gKiBkb2NzLlxuICovXG5pbXBvcnQgeyByZW1vdmVOb2RlcyB9IGZyb20gJy4vZG9tLmpzJztcbmltcG9ydCB7IGluc2VydE5vZGVJbnRvVGVtcGxhdGUsIHJlbW92ZU5vZGVzRnJvbVRlbXBsYXRlIH0gZnJvbSAnLi9tb2RpZnktdGVtcGxhdGUuanMnO1xuaW1wb3J0IHsgcGFydHMsIHJlbmRlciBhcyBsaXRSZW5kZXIgfSBmcm9tICcuL3JlbmRlci5qcyc7XG5pbXBvcnQgeyB0ZW1wbGF0ZUNhY2hlcyB9IGZyb20gJy4vdGVtcGxhdGUtZmFjdG9yeS5qcyc7XG5pbXBvcnQgeyBUZW1wbGF0ZUluc3RhbmNlIH0gZnJvbSAnLi90ZW1wbGF0ZS1pbnN0YW5jZS5qcyc7XG5pbXBvcnQgeyBtYXJrZXIsIFRlbXBsYXRlIH0gZnJvbSAnLi90ZW1wbGF0ZS5qcyc7XG5leHBvcnQgeyBodG1sLCBzdmcsIFRlbXBsYXRlUmVzdWx0IH0gZnJvbSAnLi4vbGl0LWh0bWwuanMnO1xuLy8gR2V0IGEga2V5IHRvIGxvb2t1cCBpbiBgdGVtcGxhdGVDYWNoZXNgLlxuY29uc3QgZ2V0VGVtcGxhdGVDYWNoZUtleSA9ICh0eXBlLCBzY29wZU5hbWUpID0+IGAke3R5cGV9LS0ke3Njb3BlTmFtZX1gO1xubGV0IGNvbXBhdGlibGVTaGFkeUNTU1ZlcnNpb24gPSB0cnVlO1xuaWYgKHR5cGVvZiB3aW5kb3cuU2hhZHlDU1MgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgY29tcGF0aWJsZVNoYWR5Q1NTVmVyc2lvbiA9IGZhbHNlO1xufVxuZWxzZSBpZiAodHlwZW9mIHdpbmRvdy5TaGFkeUNTUy5wcmVwYXJlVGVtcGxhdGVEb20gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgY29uc29sZS53YXJuKGBJbmNvbXBhdGlibGUgU2hhZHlDU1MgdmVyc2lvbiBkZXRlY3RlZC4gYCArXG4gICAgICAgIGBQbGVhc2UgdXBkYXRlIHRvIGF0IGxlYXN0IEB3ZWJjb21wb25lbnRzL3dlYmNvbXBvbmVudHNqc0AyLjAuMiBhbmQgYCArXG4gICAgICAgIGBAd2ViY29tcG9uZW50cy9zaGFkeWNzc0AxLjMuMS5gKTtcbiAgICBjb21wYXRpYmxlU2hhZHlDU1NWZXJzaW9uID0gZmFsc2U7XG59XG4vKipcbiAqIFRlbXBsYXRlIGZhY3Rvcnkgd2hpY2ggc2NvcGVzIHRlbXBsYXRlIERPTSB1c2luZyBTaGFkeUNTUy5cbiAqIEBwYXJhbSBzY29wZU5hbWUge3N0cmluZ31cbiAqL1xuY29uc3Qgc2hhZHlUZW1wbGF0ZUZhY3RvcnkgPSAoc2NvcGVOYW1lKSA9PiAocmVzdWx0KSA9PiB7XG4gICAgY29uc3QgY2FjaGVLZXkgPSBnZXRUZW1wbGF0ZUNhY2hlS2V5KHJlc3VsdC50eXBlLCBzY29wZU5hbWUpO1xuICAgIGxldCB0ZW1wbGF0ZUNhY2hlID0gdGVtcGxhdGVDYWNoZXMuZ2V0KGNhY2hlS2V5KTtcbiAgICBpZiAodGVtcGxhdGVDYWNoZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRlbXBsYXRlQ2FjaGUgPSB7XG4gICAgICAgICAgICBzdHJpbmdzQXJyYXk6IG5ldyBXZWFrTWFwKCksXG4gICAgICAgICAgICBrZXlTdHJpbmc6IG5ldyBNYXAoKVxuICAgICAgICB9O1xuICAgICAgICB0ZW1wbGF0ZUNhY2hlcy5zZXQoY2FjaGVLZXksIHRlbXBsYXRlQ2FjaGUpO1xuICAgIH1cbiAgICBsZXQgdGVtcGxhdGUgPSB0ZW1wbGF0ZUNhY2hlLnN0cmluZ3NBcnJheS5nZXQocmVzdWx0LnN0cmluZ3MpO1xuICAgIGlmICh0ZW1wbGF0ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiB0ZW1wbGF0ZTtcbiAgICB9XG4gICAgY29uc3Qga2V5ID0gcmVzdWx0LnN0cmluZ3Muam9pbihtYXJrZXIpO1xuICAgIHRlbXBsYXRlID0gdGVtcGxhdGVDYWNoZS5rZXlTdHJpbmcuZ2V0KGtleSk7XG4gICAgaWYgKHRlbXBsYXRlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29uc3QgZWxlbWVudCA9IHJlc3VsdC5nZXRUZW1wbGF0ZUVsZW1lbnQoKTtcbiAgICAgICAgaWYgKGNvbXBhdGlibGVTaGFkeUNTU1ZlcnNpb24pIHtcbiAgICAgICAgICAgIHdpbmRvdy5TaGFkeUNTUy5wcmVwYXJlVGVtcGxhdGVEb20oZWxlbWVudCwgc2NvcGVOYW1lKTtcbiAgICAgICAgfVxuICAgICAgICB0ZW1wbGF0ZSA9IG5ldyBUZW1wbGF0ZShyZXN1bHQsIGVsZW1lbnQpO1xuICAgICAgICB0ZW1wbGF0ZUNhY2hlLmtleVN0cmluZy5zZXQoa2V5LCB0ZW1wbGF0ZSk7XG4gICAgfVxuICAgIHRlbXBsYXRlQ2FjaGUuc3RyaW5nc0FycmF5LnNldChyZXN1bHQuc3RyaW5ncywgdGVtcGxhdGUpO1xuICAgIHJldHVybiB0ZW1wbGF0ZTtcbn07XG5jb25zdCBURU1QTEFURV9UWVBFUyA9IFsnaHRtbCcsICdzdmcnXTtcbi8qKlxuICogUmVtb3ZlcyBhbGwgc3R5bGUgZWxlbWVudHMgZnJvbSBUZW1wbGF0ZXMgZm9yIHRoZSBnaXZlbiBzY29wZU5hbWUuXG4gKi9cbmNvbnN0IHJlbW92ZVN0eWxlc0Zyb21MaXRUZW1wbGF0ZXMgPSAoc2NvcGVOYW1lKSA9PiB7XG4gICAgVEVNUExBVEVfVFlQRVMuZm9yRWFjaCgodHlwZSkgPT4ge1xuICAgICAgICBjb25zdCB0ZW1wbGF0ZXMgPSB0ZW1wbGF0ZUNhY2hlcy5nZXQoZ2V0VGVtcGxhdGVDYWNoZUtleSh0eXBlLCBzY29wZU5hbWUpKTtcbiAgICAgICAgaWYgKHRlbXBsYXRlcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0ZW1wbGF0ZXMua2V5U3RyaW5nLmZvckVhY2goKHRlbXBsYXRlKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBlbGVtZW50OiB7IGNvbnRlbnQgfSB9ID0gdGVtcGxhdGU7XG4gICAgICAgICAgICAgICAgLy8gSUUgMTEgZG9lc24ndCBzdXBwb3J0IHRoZSBpdGVyYWJsZSBwYXJhbSBTZXQgY29uc3RydWN0b3JcbiAgICAgICAgICAgICAgICBjb25zdCBzdHlsZXMgPSBuZXcgU2V0KCk7XG4gICAgICAgICAgICAgICAgQXJyYXkuZnJvbShjb250ZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ3N0eWxlJykpLmZvckVhY2goKHMpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgc3R5bGVzLmFkZChzKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZW1vdmVOb2Rlc0Zyb21UZW1wbGF0ZSh0ZW1wbGF0ZSwgc3R5bGVzKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSk7XG59O1xuY29uc3Qgc2hhZHlSZW5kZXJTZXQgPSBuZXcgU2V0KCk7XG4vKipcbiAqIEZvciB0aGUgZ2l2ZW4gc2NvcGUgbmFtZSwgZW5zdXJlcyB0aGF0IFNoYWR5Q1NTIHN0eWxlIHNjb3BpbmcgaXMgcGVyZm9ybWVkLlxuICogVGhpcyBpcyBkb25lIGp1c3Qgb25jZSBwZXIgc2NvcGUgbmFtZSBzbyB0aGUgZnJhZ21lbnQgYW5kIHRlbXBsYXRlIGNhbm5vdFxuICogYmUgbW9kaWZpZWQuXG4gKiAoMSkgZXh0cmFjdHMgc3R5bGVzIGZyb20gdGhlIHJlbmRlcmVkIGZyYWdtZW50IGFuZCBoYW5kcyB0aGVtIHRvIFNoYWR5Q1NTXG4gKiB0byBiZSBzY29wZWQgYW5kIGFwcGVuZGVkIHRvIHRoZSBkb2N1bWVudFxuICogKDIpIHJlbW92ZXMgc3R5bGUgZWxlbWVudHMgZnJvbSBhbGwgbGl0LWh0bWwgVGVtcGxhdGVzIGZvciB0aGlzIHNjb3BlIG5hbWUuXG4gKlxuICogTm90ZSwgPHN0eWxlPiBlbGVtZW50cyBjYW4gb25seSBiZSBwbGFjZWQgaW50byB0ZW1wbGF0ZXMgZm9yIHRoZVxuICogaW5pdGlhbCByZW5kZXJpbmcgb2YgdGhlIHNjb3BlLiBJZiA8c3R5bGU+IGVsZW1lbnRzIGFyZSBpbmNsdWRlZCBpbiB0ZW1wbGF0ZXNcbiAqIGR5bmFtaWNhbGx5IHJlbmRlcmVkIHRvIHRoZSBzY29wZSAoYWZ0ZXIgdGhlIGZpcnN0IHNjb3BlIHJlbmRlciksIHRoZXkgd2lsbFxuICogbm90IGJlIHNjb3BlZCBhbmQgdGhlIDxzdHlsZT4gd2lsbCBiZSBsZWZ0IGluIHRoZSB0ZW1wbGF0ZSBhbmQgcmVuZGVyZWRcbiAqIG91dHB1dC5cbiAqL1xuY29uc3QgcHJlcGFyZVRlbXBsYXRlU3R5bGVzID0gKHNjb3BlTmFtZSwgcmVuZGVyZWRET00sIHRlbXBsYXRlKSA9PiB7XG4gICAgc2hhZHlSZW5kZXJTZXQuYWRkKHNjb3BlTmFtZSk7XG4gICAgLy8gSWYgYHJlbmRlcmVkRE9NYCBpcyBzdGFtcGVkIGZyb20gYSBUZW1wbGF0ZSwgdGhlbiB3ZSBuZWVkIHRvIGVkaXQgdGhhdFxuICAgIC8vIFRlbXBsYXRlJ3MgdW5kZXJseWluZyB0ZW1wbGF0ZSBlbGVtZW50LiBPdGhlcndpc2UsIHdlIGNyZWF0ZSBvbmUgaGVyZVxuICAgIC8vIHRvIGdpdmUgdG8gU2hhZHlDU1MsIHdoaWNoIHN0aWxsIHJlcXVpcmVzIG9uZSB3aGlsZSBzY29waW5nLlxuICAgIGNvbnN0IHRlbXBsYXRlRWxlbWVudCA9ICEhdGVtcGxhdGUgPyB0ZW1wbGF0ZS5lbGVtZW50IDogZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGVtcGxhdGUnKTtcbiAgICAvLyBNb3ZlIHN0eWxlcyBvdXQgb2YgcmVuZGVyZWQgRE9NIGFuZCBzdG9yZS5cbiAgICBjb25zdCBzdHlsZXMgPSByZW5kZXJlZERPTS5xdWVyeVNlbGVjdG9yQWxsKCdzdHlsZScpO1xuICAgIGNvbnN0IHsgbGVuZ3RoIH0gPSBzdHlsZXM7XG4gICAgLy8gSWYgdGhlcmUgYXJlIG5vIHN0eWxlcywgc2tpcCB1bm5lY2Vzc2FyeSB3b3JrXG4gICAgaWYgKGxlbmd0aCA9PT0gMCkge1xuICAgICAgICAvLyBFbnN1cmUgcHJlcGFyZVRlbXBsYXRlU3R5bGVzIGlzIGNhbGxlZCB0byBzdXBwb3J0IGFkZGluZ1xuICAgICAgICAvLyBzdHlsZXMgdmlhIGBwcmVwYXJlQWRvcHRlZENzc1RleHRgIHNpbmNlIHRoYXQgcmVxdWlyZXMgdGhhdFxuICAgICAgICAvLyBgcHJlcGFyZVRlbXBsYXRlU3R5bGVzYCBpcyBjYWxsZWQuXG4gICAgICAgIC8vXG4gICAgICAgIC8vIFNoYWR5Q1NTIHdpbGwgb25seSB1cGRhdGUgc3R5bGVzIGNvbnRhaW5pbmcgQGFwcGx5IGluIHRoZSB0ZW1wbGF0ZVxuICAgICAgICAvLyBnaXZlbiB0byBgcHJlcGFyZVRlbXBsYXRlU3R5bGVzYC4gSWYgbm8gbGl0IFRlbXBsYXRlIHdhcyBnaXZlbixcbiAgICAgICAgLy8gU2hhZHlDU1Mgd2lsbCBub3QgYmUgYWJsZSB0byB1cGRhdGUgdXNlcyBvZiBAYXBwbHkgaW4gYW55IHJlbGV2YW50XG4gICAgICAgIC8vIHRlbXBsYXRlLiBIb3dldmVyLCB0aGlzIGlzIG5vdCBhIHByb2JsZW0gYmVjYXVzZSB3ZSBvbmx5IGNyZWF0ZSB0aGVcbiAgICAgICAgLy8gdGVtcGxhdGUgZm9yIHRoZSBwdXJwb3NlIG9mIHN1cHBvcnRpbmcgYHByZXBhcmVBZG9wdGVkQ3NzVGV4dGAsXG4gICAgICAgIC8vIHdoaWNoIGRvZXNuJ3Qgc3VwcG9ydCBAYXBwbHkgYXQgYWxsLlxuICAgICAgICB3aW5kb3cuU2hhZHlDU1MucHJlcGFyZVRlbXBsYXRlU3R5bGVzKHRlbXBsYXRlRWxlbWVudCwgc2NvcGVOYW1lKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBjb25kZW5zZWRTdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG4gICAgLy8gQ29sbGVjdCBzdHlsZXMgaW50byBhIHNpbmdsZSBzdHlsZS4gVGhpcyBoZWxwcyB1cyBtYWtlIHN1cmUgU2hhZHlDU1NcbiAgICAvLyBtYW5pcHVsYXRpb25zIHdpbGwgbm90IHByZXZlbnQgdXMgZnJvbSBiZWluZyBhYmxlIHRvIGZpeCB1cCB0ZW1wbGF0ZVxuICAgIC8vIHBhcnQgaW5kaWNlcy5cbiAgICAvLyBOT1RFOiBjb2xsZWN0aW5nIHN0eWxlcyBpcyBpbmVmZmljaWVudCBmb3IgYnJvd3NlcnMgYnV0IFNoYWR5Q1NTXG4gICAgLy8gY3VycmVudGx5IGRvZXMgdGhpcyBhbnl3YXkuIFdoZW4gaXQgZG9lcyBub3QsIHRoaXMgc2hvdWxkIGJlIGNoYW5nZWQuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBzdHlsZSA9IHN0eWxlc1tpXTtcbiAgICAgICAgc3R5bGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzdHlsZSk7XG4gICAgICAgIGNvbmRlbnNlZFN0eWxlLnRleHRDb250ZW50ICs9IHN0eWxlLnRleHRDb250ZW50O1xuICAgIH1cbiAgICAvLyBSZW1vdmUgc3R5bGVzIGZyb20gbmVzdGVkIHRlbXBsYXRlcyBpbiB0aGlzIHNjb3BlLlxuICAgIHJlbW92ZVN0eWxlc0Zyb21MaXRUZW1wbGF0ZXMoc2NvcGVOYW1lKTtcbiAgICAvLyBBbmQgdGhlbiBwdXQgdGhlIGNvbmRlbnNlZCBzdHlsZSBpbnRvIHRoZSBcInJvb3RcIiB0ZW1wbGF0ZSBwYXNzZWQgaW4gYXNcbiAgICAvLyBgdGVtcGxhdGVgLlxuICAgIGNvbnN0IGNvbnRlbnQgPSB0ZW1wbGF0ZUVsZW1lbnQuY29udGVudDtcbiAgICBpZiAoISF0ZW1wbGF0ZSkge1xuICAgICAgICBpbnNlcnROb2RlSW50b1RlbXBsYXRlKHRlbXBsYXRlLCBjb25kZW5zZWRTdHlsZSwgY29udGVudC5maXJzdENoaWxkKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNvbnRlbnQuaW5zZXJ0QmVmb3JlKGNvbmRlbnNlZFN0eWxlLCBjb250ZW50LmZpcnN0Q2hpbGQpO1xuICAgIH1cbiAgICAvLyBOb3RlLCBpdCdzIGltcG9ydGFudCB0aGF0IFNoYWR5Q1NTIGdldHMgdGhlIHRlbXBsYXRlIHRoYXQgYGxpdC1odG1sYFxuICAgIC8vIHdpbGwgYWN0dWFsbHkgcmVuZGVyIHNvIHRoYXQgaXQgY2FuIHVwZGF0ZSB0aGUgc3R5bGUgaW5zaWRlIHdoZW5cbiAgICAvLyBuZWVkZWQgKGUuZy4gQGFwcGx5IG5hdGl2ZSBTaGFkb3cgRE9NIGNhc2UpLlxuICAgIHdpbmRvdy5TaGFkeUNTUy5wcmVwYXJlVGVtcGxhdGVTdHlsZXModGVtcGxhdGVFbGVtZW50LCBzY29wZU5hbWUpO1xuICAgIGNvbnN0IHN0eWxlID0gY29udGVudC5xdWVyeVNlbGVjdG9yKCdzdHlsZScpO1xuICAgIGlmICh3aW5kb3cuU2hhZHlDU1MubmF0aXZlU2hhZG93ICYmIHN0eWxlICE9PSBudWxsKSB7XG4gICAgICAgIC8vIFdoZW4gaW4gbmF0aXZlIFNoYWRvdyBET00sIGVuc3VyZSB0aGUgc3R5bGUgY3JlYXRlZCBieSBTaGFkeUNTUyBpc1xuICAgICAgICAvLyBpbmNsdWRlZCBpbiBpbml0aWFsbHkgcmVuZGVyZWQgb3V0cHV0IChgcmVuZGVyZWRET01gKS5cbiAgICAgICAgcmVuZGVyZWRET00uaW5zZXJ0QmVmb3JlKHN0eWxlLmNsb25lTm9kZSh0cnVlKSwgcmVuZGVyZWRET00uZmlyc3RDaGlsZCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKCEhdGVtcGxhdGUpIHtcbiAgICAgICAgLy8gV2hlbiBubyBzdHlsZSBpcyBsZWZ0IGluIHRoZSB0ZW1wbGF0ZSwgcGFydHMgd2lsbCBiZSBicm9rZW4gYXMgYVxuICAgICAgICAvLyByZXN1bHQuIFRvIGZpeCB0aGlzLCB3ZSBwdXQgYmFjayB0aGUgc3R5bGUgbm9kZSBTaGFkeUNTUyByZW1vdmVkXG4gICAgICAgIC8vIGFuZCB0aGVuIHRlbGwgbGl0IHRvIHJlbW92ZSB0aGF0IG5vZGUgZnJvbSB0aGUgdGVtcGxhdGUuXG4gICAgICAgIC8vIFRoZXJlIGNhbiBiZSBubyBzdHlsZSBpbiB0aGUgdGVtcGxhdGUgaW4gMiBjYXNlcyAoMSkgd2hlbiBTaGFkeSBET01cbiAgICAgICAgLy8gaXMgaW4gdXNlLCBTaGFkeUNTUyByZW1vdmVzIGFsbCBzdHlsZXMsICgyKSB3aGVuIG5hdGl2ZSBTaGFkb3cgRE9NXG4gICAgICAgIC8vIGlzIGluIHVzZSBTaGFkeUNTUyByZW1vdmVzIHRoZSBzdHlsZSBpZiBpdCBjb250YWlucyBubyBjb250ZW50LlxuICAgICAgICAvLyBOT1RFLCBTaGFkeUNTUyBjcmVhdGVzIGl0cyBvd24gc3R5bGUgc28gd2UgY2FuIHNhZmVseSBhZGQvcmVtb3ZlXG4gICAgICAgIC8vIGBjb25kZW5zZWRTdHlsZWAgaGVyZS5cbiAgICAgICAgY29udGVudC5pbnNlcnRCZWZvcmUoY29uZGVuc2VkU3R5bGUsIGNvbnRlbnQuZmlyc3RDaGlsZCk7XG4gICAgICAgIGNvbnN0IHJlbW92ZXMgPSBuZXcgU2V0KCk7XG4gICAgICAgIHJlbW92ZXMuYWRkKGNvbmRlbnNlZFN0eWxlKTtcbiAgICAgICAgcmVtb3ZlTm9kZXNGcm9tVGVtcGxhdGUodGVtcGxhdGUsIHJlbW92ZXMpO1xuICAgIH1cbn07XG4vKipcbiAqIEV4dGVuc2lvbiB0byB0aGUgc3RhbmRhcmQgYHJlbmRlcmAgbWV0aG9kIHdoaWNoIHN1cHBvcnRzIHJlbmRlcmluZ1xuICogdG8gU2hhZG93Um9vdHMgd2hlbiB0aGUgU2hhZHlET00gKGh0dHBzOi8vZ2l0aHViLmNvbS93ZWJjb21wb25lbnRzL3NoYWR5ZG9tKVxuICogYW5kIFNoYWR5Q1NTIChodHRwczovL2dpdGh1Yi5jb20vd2ViY29tcG9uZW50cy9zaGFkeWNzcykgcG9seWZpbGxzIGFyZSB1c2VkXG4gKiBvciB3aGVuIHRoZSB3ZWJjb21wb25lbnRzanNcbiAqIChodHRwczovL2dpdGh1Yi5jb20vd2ViY29tcG9uZW50cy93ZWJjb21wb25lbnRzanMpIHBvbHlmaWxsIGlzIHVzZWQuXG4gKlxuICogQWRkcyBhIGBzY29wZU5hbWVgIG9wdGlvbiB3aGljaCBpcyB1c2VkIHRvIHNjb3BlIGVsZW1lbnQgRE9NIGFuZCBzdHlsZXNoZWV0c1xuICogd2hlbiBuYXRpdmUgU2hhZG93RE9NIGlzIHVuYXZhaWxhYmxlLiBUaGUgYHNjb3BlTmFtZWAgd2lsbCBiZSBhZGRlZCB0b1xuICogdGhlIGNsYXNzIGF0dHJpYnV0ZSBvZiBhbGwgcmVuZGVyZWQgRE9NLiBJbiBhZGRpdGlvbiwgYW55IHN0eWxlIGVsZW1lbnRzIHdpbGxcbiAqIGJlIGF1dG9tYXRpY2FsbHkgcmUtd3JpdHRlbiB3aXRoIHRoaXMgYHNjb3BlTmFtZWAgc2VsZWN0b3IgYW5kIG1vdmVkIG91dFxuICogb2YgdGhlIHJlbmRlcmVkIERPTSBhbmQgaW50byB0aGUgZG9jdW1lbnQgYDxoZWFkPmAuXG4gKlxuICogSXQgaXMgY29tbW9uIHRvIHVzZSB0aGlzIHJlbmRlciBtZXRob2QgaW4gY29uanVuY3Rpb24gd2l0aCBhIGN1c3RvbSBlbGVtZW50XG4gKiB3aGljaCByZW5kZXJzIGEgc2hhZG93Um9vdC4gV2hlbiB0aGlzIGlzIGRvbmUsIHR5cGljYWxseSB0aGUgZWxlbWVudCdzXG4gKiBgbG9jYWxOYW1lYCBzaG91bGQgYmUgdXNlZCBhcyB0aGUgYHNjb3BlTmFtZWAuXG4gKlxuICogSW4gYWRkaXRpb24gdG8gRE9NIHNjb3BpbmcsIFNoYWR5Q1NTIGFsc28gc3VwcG9ydHMgYSBiYXNpYyBzaGltIGZvciBjc3NcbiAqIGN1c3RvbSBwcm9wZXJ0aWVzIChuZWVkZWQgb25seSBvbiBvbGRlciBicm93c2VycyBsaWtlIElFMTEpIGFuZCBhIHNoaW0gZm9yXG4gKiBhIGRlcHJlY2F0ZWQgZmVhdHVyZSBjYWxsZWQgYEBhcHBseWAgdGhhdCBzdXBwb3J0cyBhcHBseWluZyBhIHNldCBvZiBjc3NcbiAqIGN1c3RvbSBwcm9wZXJ0aWVzIHRvIGEgZ2l2ZW4gbG9jYXRpb24uXG4gKlxuICogVXNhZ2UgY29uc2lkZXJhdGlvbnM6XG4gKlxuICogKiBQYXJ0IHZhbHVlcyBpbiBgPHN0eWxlPmAgZWxlbWVudHMgYXJlIG9ubHkgYXBwbGllZCB0aGUgZmlyc3QgdGltZSBhIGdpdmVuXG4gKiBgc2NvcGVOYW1lYCByZW5kZXJzLiBTdWJzZXF1ZW50IGNoYW5nZXMgdG8gcGFydHMgaW4gc3R5bGUgZWxlbWVudHMgd2lsbCBoYXZlXG4gKiBubyBlZmZlY3QuIEJlY2F1c2Ugb2YgdGhpcywgcGFydHMgaW4gc3R5bGUgZWxlbWVudHMgc2hvdWxkIG9ubHkgYmUgdXNlZCBmb3JcbiAqIHZhbHVlcyB0aGF0IHdpbGwgbmV2ZXIgY2hhbmdlLCBmb3IgZXhhbXBsZSBwYXJ0cyB0aGF0IHNldCBzY29wZS13aWRlIHRoZW1lXG4gKiB2YWx1ZXMgb3IgcGFydHMgd2hpY2ggcmVuZGVyIHNoYXJlZCBzdHlsZSBlbGVtZW50cy5cbiAqXG4gKiAqIE5vdGUsIGR1ZSB0byBhIGxpbWl0YXRpb24gb2YgdGhlIFNoYWR5RE9NIHBvbHlmaWxsLCByZW5kZXJpbmcgaW4gYVxuICogY3VzdG9tIGVsZW1lbnQncyBgY29uc3RydWN0b3JgIGlzIG5vdCBzdXBwb3J0ZWQuIEluc3RlYWQgcmVuZGVyaW5nIHNob3VsZFxuICogZWl0aGVyIGRvbmUgYXN5bmNocm9ub3VzbHksIGZvciBleGFtcGxlIGF0IG1pY3JvdGFzayB0aW1pbmcgKGZvciBleGFtcGxlXG4gKiBgUHJvbWlzZS5yZXNvbHZlKClgKSwgb3IgYmUgZGVmZXJyZWQgdW50aWwgdGhlIGZpcnN0IHRpbWUgdGhlIGVsZW1lbnQnc1xuICogYGNvbm5lY3RlZENhbGxiYWNrYCBydW5zLlxuICpcbiAqIFVzYWdlIGNvbnNpZGVyYXRpb25zIHdoZW4gdXNpbmcgc2hpbW1lZCBjdXN0b20gcHJvcGVydGllcyBvciBgQGFwcGx5YDpcbiAqXG4gKiAqIFdoZW5ldmVyIGFueSBkeW5hbWljIGNoYW5nZXMgYXJlIG1hZGUgd2hpY2ggYWZmZWN0XG4gKiBjc3MgY3VzdG9tIHByb3BlcnRpZXMsIGBTaGFkeUNTUy5zdHlsZUVsZW1lbnQoZWxlbWVudClgIG11c3QgYmUgY2FsbGVkXG4gKiB0byB1cGRhdGUgdGhlIGVsZW1lbnQuIFRoZXJlIGFyZSB0d28gY2FzZXMgd2hlbiB0aGlzIGlzIG5lZWRlZDpcbiAqICgxKSB0aGUgZWxlbWVudCBpcyBjb25uZWN0ZWQgdG8gYSBuZXcgcGFyZW50LCAoMikgYSBjbGFzcyBpcyBhZGRlZCB0byB0aGVcbiAqIGVsZW1lbnQgdGhhdCBjYXVzZXMgaXQgdG8gbWF0Y2ggZGlmZmVyZW50IGN1c3RvbSBwcm9wZXJ0aWVzLlxuICogVG8gYWRkcmVzcyB0aGUgZmlyc3QgY2FzZSB3aGVuIHJlbmRlcmluZyBhIGN1c3RvbSBlbGVtZW50LCBgc3R5bGVFbGVtZW50YFxuICogc2hvdWxkIGJlIGNhbGxlZCBpbiB0aGUgZWxlbWVudCdzIGBjb25uZWN0ZWRDYWxsYmFja2AuXG4gKlxuICogKiBTaGltbWVkIGN1c3RvbSBwcm9wZXJ0aWVzIG1heSBvbmx5IGJlIGRlZmluZWQgZWl0aGVyIGZvciBhbiBlbnRpcmVcbiAqIHNoYWRvd1Jvb3QgKGZvciBleGFtcGxlLCBpbiBhIGA6aG9zdGAgcnVsZSkgb3IgdmlhIGEgcnVsZSB0aGF0IGRpcmVjdGx5XG4gKiBtYXRjaGVzIGFuIGVsZW1lbnQgd2l0aCBhIHNoYWRvd1Jvb3QuIEluIG90aGVyIHdvcmRzLCBpbnN0ZWFkIG9mIGZsb3dpbmcgZnJvbVxuICogcGFyZW50IHRvIGNoaWxkIGFzIGRvIG5hdGl2ZSBjc3MgY3VzdG9tIHByb3BlcnRpZXMsIHNoaW1tZWQgY3VzdG9tIHByb3BlcnRpZXNcbiAqIGZsb3cgb25seSBmcm9tIHNoYWRvd1Jvb3RzIHRvIG5lc3RlZCBzaGFkb3dSb290cy5cbiAqXG4gKiAqIFdoZW4gdXNpbmcgYEBhcHBseWAgbWl4aW5nIGNzcyBzaG9ydGhhbmQgcHJvcGVydHkgbmFtZXMgd2l0aFxuICogbm9uLXNob3J0aGFuZCBuYW1lcyAoZm9yIGV4YW1wbGUgYGJvcmRlcmAgYW5kIGBib3JkZXItd2lkdGhgKSBpcyBub3RcbiAqIHN1cHBvcnRlZC5cbiAqL1xuZXhwb3J0IGNvbnN0IHJlbmRlciA9IChyZXN1bHQsIGNvbnRhaW5lciwgb3B0aW9ucykgPT4ge1xuICAgIGlmICghb3B0aW9ucyB8fCB0eXBlb2Ygb3B0aW9ucyAhPT0gJ29iamVjdCcgfHwgIW9wdGlvbnMuc2NvcGVOYW1lKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignVGhlIGBzY29wZU5hbWVgIG9wdGlvbiBpcyByZXF1aXJlZC4nKTtcbiAgICB9XG4gICAgY29uc3Qgc2NvcGVOYW1lID0gb3B0aW9ucy5zY29wZU5hbWU7XG4gICAgY29uc3QgaGFzUmVuZGVyZWQgPSBwYXJ0cy5oYXMoY29udGFpbmVyKTtcbiAgICBjb25zdCBuZWVkc1Njb3BpbmcgPSBjb21wYXRpYmxlU2hhZHlDU1NWZXJzaW9uICYmXG4gICAgICAgIGNvbnRhaW5lci5ub2RlVHlwZSA9PT0gMTEgLyogTm9kZS5ET0NVTUVOVF9GUkFHTUVOVF9OT0RFICovICYmXG4gICAgICAgICEhY29udGFpbmVyLmhvc3Q7XG4gICAgLy8gSGFuZGxlIGZpcnN0IHJlbmRlciB0byBhIHNjb3BlIHNwZWNpYWxseS4uLlxuICAgIGNvbnN0IGZpcnN0U2NvcGVSZW5kZXIgPSBuZWVkc1Njb3BpbmcgJiYgIXNoYWR5UmVuZGVyU2V0LmhhcyhzY29wZU5hbWUpO1xuICAgIC8vIE9uIGZpcnN0IHNjb3BlIHJlbmRlciwgcmVuZGVyIGludG8gYSBmcmFnbWVudDsgdGhpcyBjYW5ub3QgYmUgYSBzaW5nbGVcbiAgICAvLyBmcmFnbWVudCB0aGF0IGlzIHJldXNlZCBzaW5jZSBuZXN0ZWQgcmVuZGVycyBjYW4gb2NjdXIgc3luY2hyb25vdXNseS5cbiAgICBjb25zdCByZW5kZXJDb250YWluZXIgPSBmaXJzdFNjb3BlUmVuZGVyID8gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpIDogY29udGFpbmVyO1xuICAgIGxpdFJlbmRlcihyZXN1bHQsIHJlbmRlckNvbnRhaW5lciwgT2JqZWN0LmFzc2lnbih7IHRlbXBsYXRlRmFjdG9yeTogc2hhZHlUZW1wbGF0ZUZhY3Rvcnkoc2NvcGVOYW1lKSB9LCBvcHRpb25zKSk7XG4gICAgLy8gV2hlbiBwZXJmb3JtaW5nIGZpcnN0IHNjb3BlIHJlbmRlcixcbiAgICAvLyAoMSkgV2UndmUgcmVuZGVyZWQgaW50byBhIGZyYWdtZW50IHNvIHRoYXQgdGhlcmUncyBhIGNoYW5jZSB0b1xuICAgIC8vIGBwcmVwYXJlVGVtcGxhdGVTdHlsZXNgIGJlZm9yZSBzdWItZWxlbWVudHMgaGl0IHRoZSBET01cbiAgICAvLyAod2hpY2ggbWlnaHQgY2F1c2UgdGhlbSB0byByZW5kZXIgYmFzZWQgb24gYSBjb21tb24gcGF0dGVybiBvZlxuICAgIC8vIHJlbmRlcmluZyBpbiBhIGN1c3RvbSBlbGVtZW50J3MgYGNvbm5lY3RlZENhbGxiYWNrYCk7XG4gICAgLy8gKDIpIFNjb3BlIHRoZSB0ZW1wbGF0ZSB3aXRoIFNoYWR5Q1NTIG9uZSB0aW1lIG9ubHkgZm9yIHRoaXMgc2NvcGUuXG4gICAgLy8gKDMpIFJlbmRlciB0aGUgZnJhZ21lbnQgaW50byB0aGUgY29udGFpbmVyIGFuZCBtYWtlIHN1cmUgdGhlXG4gICAgLy8gY29udGFpbmVyIGtub3dzIGl0cyBgcGFydGAgaXMgdGhlIG9uZSB3ZSBqdXN0IHJlbmRlcmVkLiBUaGlzIGVuc3VyZXNcbiAgICAvLyBET00gd2lsbCBiZSByZS11c2VkIG9uIHN1YnNlcXVlbnQgcmVuZGVycy5cbiAgICBpZiAoZmlyc3RTY29wZVJlbmRlcikge1xuICAgICAgICBjb25zdCBwYXJ0ID0gcGFydHMuZ2V0KHJlbmRlckNvbnRhaW5lcik7XG4gICAgICAgIHBhcnRzLmRlbGV0ZShyZW5kZXJDb250YWluZXIpO1xuICAgICAgICAvLyBTaGFkeUNTUyBtaWdodCBoYXZlIHN0eWxlIHNoZWV0cyAoZS5nLiBmcm9tIGBwcmVwYXJlQWRvcHRlZENzc1RleHRgKVxuICAgICAgICAvLyB0aGF0IHNob3VsZCBhcHBseSB0byBgcmVuZGVyQ29udGFpbmVyYCBldmVuIGlmIHRoZSByZW5kZXJlZCB2YWx1ZSBpc1xuICAgICAgICAvLyBub3QgYSBUZW1wbGF0ZUluc3RhbmNlLiBIb3dldmVyLCBpdCB3aWxsIG9ubHkgaW5zZXJ0IHNjb3BlZCBzdHlsZXNcbiAgICAgICAgLy8gaW50byB0aGUgZG9jdW1lbnQgaWYgYHByZXBhcmVUZW1wbGF0ZVN0eWxlc2AgaGFzIGFscmVhZHkgYmVlbiBjYWxsZWRcbiAgICAgICAgLy8gZm9yIHRoZSBnaXZlbiBzY29wZSBuYW1lLlxuICAgICAgICBjb25zdCB0ZW1wbGF0ZSA9IHBhcnQudmFsdWUgaW5zdGFuY2VvZiBUZW1wbGF0ZUluc3RhbmNlID9cbiAgICAgICAgICAgIHBhcnQudmFsdWUudGVtcGxhdGUgOlxuICAgICAgICAgICAgdW5kZWZpbmVkO1xuICAgICAgICBwcmVwYXJlVGVtcGxhdGVTdHlsZXMoc2NvcGVOYW1lLCByZW5kZXJDb250YWluZXIsIHRlbXBsYXRlKTtcbiAgICAgICAgcmVtb3ZlTm9kZXMoY29udGFpbmVyLCBjb250YWluZXIuZmlyc3RDaGlsZCk7XG4gICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChyZW5kZXJDb250YWluZXIpO1xuICAgICAgICBwYXJ0cy5zZXQoY29udGFpbmVyLCBwYXJ0KTtcbiAgICB9XG4gICAgLy8gQWZ0ZXIgZWxlbWVudHMgaGF2ZSBoaXQgdGhlIERPTSwgdXBkYXRlIHN0eWxpbmcgaWYgdGhpcyBpcyB0aGVcbiAgICAvLyBpbml0aWFsIHJlbmRlciB0byB0aGlzIGNvbnRhaW5lci5cbiAgICAvLyBUaGlzIGlzIG5lZWRlZCB3aGVuZXZlciBkeW5hbWljIGNoYW5nZXMgYXJlIG1hZGUgc28gaXQgd291bGQgYmVcbiAgICAvLyBzYWZlc3QgdG8gZG8gZXZlcnkgcmVuZGVyOyBob3dldmVyLCB0aGlzIHdvdWxkIHJlZ3Jlc3MgcGVyZm9ybWFuY2VcbiAgICAvLyBzbyB3ZSBsZWF2ZSBpdCB1cCB0byB0aGUgdXNlciB0byBjYWxsIGBTaGFkeUNTUy5zdHlsZUVsZW1lbnRgXG4gICAgLy8gZm9yIGR5bmFtaWMgY2hhbmdlcy5cbiAgICBpZiAoIWhhc1JlbmRlcmVkICYmIG5lZWRzU2NvcGluZykge1xuICAgICAgICB3aW5kb3cuU2hhZHlDU1Muc3R5bGVFbGVtZW50KGNvbnRhaW5lci5ob3N0KTtcbiAgICB9XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2hhZHktcmVuZGVyLmpzLm1hcCIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBUaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG4gKiBDb2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuICogc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4gKi9cbnZhciBfYTtcbi8qKlxuICogV2hlbiB1c2luZyBDbG9zdXJlIENvbXBpbGVyLCBKU0NvbXBpbGVyX3JlbmFtZVByb3BlcnR5KHByb3BlcnR5LCBvYmplY3QpIGlzXG4gKiByZXBsYWNlZCBhdCBjb21waWxlIHRpbWUgYnkgdGhlIG11bmdlZCBuYW1lIGZvciBvYmplY3RbcHJvcGVydHldLiBXZSBjYW5ub3RcbiAqIGFsaWFzIHRoaXMgZnVuY3Rpb24sIHNvIHdlIGhhdmUgdG8gdXNlIGEgc21hbGwgc2hpbSB0aGF0IGhhcyB0aGUgc2FtZVxuICogYmVoYXZpb3Igd2hlbiBub3QgY29tcGlsaW5nLlxuICovXG53aW5kb3cuSlNDb21waWxlcl9yZW5hbWVQcm9wZXJ0eSA9XG4gICAgKHByb3AsIF9vYmopID0+IHByb3A7XG5leHBvcnQgY29uc3QgZGVmYXVsdENvbnZlcnRlciA9IHtcbiAgICB0b0F0dHJpYnV0ZSh2YWx1ZSwgdHlwZSkge1xuICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgQm9vbGVhbjpcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUgPyAnJyA6IG51bGw7XG4gICAgICAgICAgICBjYXNlIE9iamVjdDpcbiAgICAgICAgICAgIGNhc2UgQXJyYXk6XG4gICAgICAgICAgICAgICAgLy8gaWYgdGhlIHZhbHVlIGlzIGBudWxsYCBvciBgdW5kZWZpbmVkYCBwYXNzIHRoaXMgdGhyb3VnaFxuICAgICAgICAgICAgICAgIC8vIHRvIGFsbG93IHJlbW92aW5nL25vIGNoYW5nZSBiZWhhdmlvci5cbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUgPT0gbnVsbCA/IHZhbHVlIDogSlNPTi5zdHJpbmdpZnkodmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9LFxuICAgIGZyb21BdHRyaWJ1dGUodmFsdWUsIHR5cGUpIHtcbiAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgICBjYXNlIEJvb2xlYW46XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlICE9PSBudWxsO1xuICAgICAgICAgICAgY2FzZSBOdW1iZXI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlID09PSBudWxsID8gbnVsbCA6IE51bWJlcih2YWx1ZSk7XG4gICAgICAgICAgICBjYXNlIE9iamVjdDpcbiAgICAgICAgICAgIGNhc2UgQXJyYXk6XG4gICAgICAgICAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UodmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG59O1xuLyoqXG4gKiBDaGFuZ2UgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRydWUgaWYgYHZhbHVlYCBpcyBkaWZmZXJlbnQgZnJvbSBgb2xkVmFsdWVgLlxuICogVGhpcyBtZXRob2QgaXMgdXNlZCBhcyB0aGUgZGVmYXVsdCBmb3IgYSBwcm9wZXJ0eSdzIGBoYXNDaGFuZ2VkYCBmdW5jdGlvbi5cbiAqL1xuZXhwb3J0IGNvbnN0IG5vdEVxdWFsID0gKHZhbHVlLCBvbGQpID0+IHtcbiAgICAvLyBUaGlzIGVuc3VyZXMgKG9sZD09TmFOLCB2YWx1ZT09TmFOKSBhbHdheXMgcmV0dXJucyBmYWxzZVxuICAgIHJldHVybiBvbGQgIT09IHZhbHVlICYmIChvbGQgPT09IG9sZCB8fCB2YWx1ZSA9PT0gdmFsdWUpO1xufTtcbmNvbnN0IGRlZmF1bHRQcm9wZXJ0eURlY2xhcmF0aW9uID0ge1xuICAgIGF0dHJpYnV0ZTogdHJ1ZSxcbiAgICB0eXBlOiBTdHJpbmcsXG4gICAgY29udmVydGVyOiBkZWZhdWx0Q29udmVydGVyLFxuICAgIHJlZmxlY3Q6IGZhbHNlLFxuICAgIGhhc0NoYW5nZWQ6IG5vdEVxdWFsXG59O1xuY29uc3QgbWljcm90YXNrUHJvbWlzZSA9IFByb21pc2UucmVzb2x2ZSh0cnVlKTtcbmNvbnN0IFNUQVRFX0hBU19VUERBVEVEID0gMTtcbmNvbnN0IFNUQVRFX1VQREFURV9SRVFVRVNURUQgPSAxIDw8IDI7XG5jb25zdCBTVEFURV9JU19SRUZMRUNUSU5HX1RPX0FUVFJJQlVURSA9IDEgPDwgMztcbmNvbnN0IFNUQVRFX0lTX1JFRkxFQ1RJTkdfVE9fUFJPUEVSVFkgPSAxIDw8IDQ7XG5jb25zdCBTVEFURV9IQVNfQ09OTkVDVEVEID0gMSA8PCA1O1xuLyoqXG4gKiBUaGUgQ2xvc3VyZSBKUyBDb21waWxlciBkb2Vzbid0IGN1cnJlbnRseSBoYXZlIGdvb2Qgc3VwcG9ydCBmb3Igc3RhdGljXG4gKiBwcm9wZXJ0eSBzZW1hbnRpY3Mgd2hlcmUgXCJ0aGlzXCIgaXMgZHluYW1pYyAoZS5nLlxuICogaHR0cHM6Ly9naXRodWIuY29tL2dvb2dsZS9jbG9zdXJlLWNvbXBpbGVyL2lzc3Vlcy8zMTc3IGFuZCBvdGhlcnMpIHNvIHdlIHVzZVxuICogdGhpcyBoYWNrIHRvIGJ5cGFzcyBhbnkgcmV3cml0aW5nIGJ5IHRoZSBjb21waWxlci5cbiAqL1xuY29uc3QgZmluYWxpemVkID0gJ2ZpbmFsaXplZCc7XG4vKipcbiAqIEJhc2UgZWxlbWVudCBjbGFzcyB3aGljaCBtYW5hZ2VzIGVsZW1lbnQgcHJvcGVydGllcyBhbmQgYXR0cmlidXRlcy4gV2hlblxuICogcHJvcGVydGllcyBjaGFuZ2UsIHRoZSBgdXBkYXRlYCBtZXRob2QgaXMgYXN5bmNocm9ub3VzbHkgY2FsbGVkLiBUaGlzIG1ldGhvZFxuICogc2hvdWxkIGJlIHN1cHBsaWVkIGJ5IHN1YmNsYXNzZXJzIHRvIHJlbmRlciB1cGRhdGVzIGFzIGRlc2lyZWQuXG4gKi9cbmV4cG9ydCBjbGFzcyBVcGRhdGluZ0VsZW1lbnQgZXh0ZW5kcyBIVE1MRWxlbWVudCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuX3VwZGF0ZVN0YXRlID0gMDtcbiAgICAgICAgdGhpcy5faW5zdGFuY2VQcm9wZXJ0aWVzID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLl91cGRhdGVQcm9taXNlID0gbWljcm90YXNrUHJvbWlzZTtcbiAgICAgICAgdGhpcy5faGFzQ29ubmVjdGVkUmVzb2x2ZXIgPSB1bmRlZmluZWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNYXAgd2l0aCBrZXlzIGZvciBhbnkgcHJvcGVydGllcyB0aGF0IGhhdmUgY2hhbmdlZCBzaW5jZSB0aGUgbGFzdFxuICAgICAgICAgKiB1cGRhdGUgY3ljbGUgd2l0aCBwcmV2aW91cyB2YWx1ZXMuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9jaGFuZ2VkUHJvcGVydGllcyA9IG5ldyBNYXAoKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1hcCB3aXRoIGtleXMgb2YgcHJvcGVydGllcyB0aGF0IHNob3VsZCBiZSByZWZsZWN0ZWQgd2hlbiB1cGRhdGVkLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fcmVmbGVjdGluZ1Byb3BlcnRpZXMgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZSgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgbGlzdCBvZiBhdHRyaWJ1dGVzIGNvcnJlc3BvbmRpbmcgdG8gdGhlIHJlZ2lzdGVyZWQgcHJvcGVydGllcy5cbiAgICAgKiBAbm9jb2xsYXBzZVxuICAgICAqL1xuICAgIHN0YXRpYyBnZXQgb2JzZXJ2ZWRBdHRyaWJ1dGVzKCkge1xuICAgICAgICAvLyBub3RlOiBwaWdneSBiYWNraW5nIG9uIHRoaXMgdG8gZW5zdXJlIHdlJ3JlIGZpbmFsaXplZC5cbiAgICAgICAgdGhpcy5maW5hbGl6ZSgpO1xuICAgICAgICBjb25zdCBhdHRyaWJ1dGVzID0gW107XG4gICAgICAgIC8vIFVzZSBmb3JFYWNoIHNvIHRoaXMgd29ya3MgZXZlbiBpZiBmb3Ivb2YgbG9vcHMgYXJlIGNvbXBpbGVkIHRvIGZvciBsb29wc1xuICAgICAgICAvLyBleHBlY3RpbmcgYXJyYXlzXG4gICAgICAgIHRoaXMuX2NsYXNzUHJvcGVydGllcy5mb3JFYWNoKCh2LCBwKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBhdHRyID0gdGhpcy5fYXR0cmlidXRlTmFtZUZvclByb3BlcnR5KHAsIHYpO1xuICAgICAgICAgICAgaWYgKGF0dHIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2F0dHJpYnV0ZVRvUHJvcGVydHlNYXAuc2V0KGF0dHIsIHApO1xuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXMucHVzaChhdHRyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBhdHRyaWJ1dGVzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBFbnN1cmVzIHRoZSBwcml2YXRlIGBfY2xhc3NQcm9wZXJ0aWVzYCBwcm9wZXJ0eSBtZXRhZGF0YSBpcyBjcmVhdGVkLlxuICAgICAqIEluIGFkZGl0aW9uIHRvIGBmaW5hbGl6ZWAgdGhpcyBpcyBhbHNvIGNhbGxlZCBpbiBgY3JlYXRlUHJvcGVydHlgIHRvXG4gICAgICogZW5zdXJlIHRoZSBgQHByb3BlcnR5YCBkZWNvcmF0b3IgY2FuIGFkZCBwcm9wZXJ0eSBtZXRhZGF0YS5cbiAgICAgKi9cbiAgICAvKiogQG5vY29sbGFwc2UgKi9cbiAgICBzdGF0aWMgX2Vuc3VyZUNsYXNzUHJvcGVydGllcygpIHtcbiAgICAgICAgLy8gZW5zdXJlIHByaXZhdGUgc3RvcmFnZSBmb3IgcHJvcGVydHkgZGVjbGFyYXRpb25zLlxuICAgICAgICBpZiAoIXRoaXMuaGFzT3duUHJvcGVydHkoSlNDb21waWxlcl9yZW5hbWVQcm9wZXJ0eSgnX2NsYXNzUHJvcGVydGllcycsIHRoaXMpKSkge1xuICAgICAgICAgICAgdGhpcy5fY2xhc3NQcm9wZXJ0aWVzID0gbmV3IE1hcCgpO1xuICAgICAgICAgICAgLy8gTk9URTogV29ya2Fyb3VuZCBJRTExIG5vdCBzdXBwb3J0aW5nIE1hcCBjb25zdHJ1Y3RvciBhcmd1bWVudC5cbiAgICAgICAgICAgIGNvbnN0IHN1cGVyUHJvcGVydGllcyA9IE9iamVjdC5nZXRQcm90b3R5cGVPZih0aGlzKS5fY2xhc3NQcm9wZXJ0aWVzO1xuICAgICAgICAgICAgaWYgKHN1cGVyUHJvcGVydGllcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgc3VwZXJQcm9wZXJ0aWVzLmZvckVhY2goKHYsIGspID0+IHRoaXMuX2NsYXNzUHJvcGVydGllcy5zZXQoaywgdikpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBwcm9wZXJ0eSBhY2Nlc3NvciBvbiB0aGUgZWxlbWVudCBwcm90b3R5cGUgaWYgb25lIGRvZXMgbm90IGV4aXN0LlxuICAgICAqIFRoZSBwcm9wZXJ0eSBzZXR0ZXIgY2FsbHMgdGhlIHByb3BlcnR5J3MgYGhhc0NoYW5nZWRgIHByb3BlcnR5IG9wdGlvblxuICAgICAqIG9yIHVzZXMgYSBzdHJpY3QgaWRlbnRpdHkgY2hlY2sgdG8gZGV0ZXJtaW5lIHdoZXRoZXIgb3Igbm90IHRvIHJlcXVlc3RcbiAgICAgKiBhbiB1cGRhdGUuXG4gICAgICogQG5vY29sbGFwc2VcbiAgICAgKi9cbiAgICBzdGF0aWMgY3JlYXRlUHJvcGVydHkobmFtZSwgb3B0aW9ucyA9IGRlZmF1bHRQcm9wZXJ0eURlY2xhcmF0aW9uKSB7XG4gICAgICAgIC8vIE5vdGUsIHNpbmNlIHRoaXMgY2FuIGJlIGNhbGxlZCBieSB0aGUgYEBwcm9wZXJ0eWAgZGVjb3JhdG9yIHdoaWNoXG4gICAgICAgIC8vIGlzIGNhbGxlZCBiZWZvcmUgYGZpbmFsaXplYCwgd2UgZW5zdXJlIHN0b3JhZ2UgZXhpc3RzIGZvciBwcm9wZXJ0eVxuICAgICAgICAvLyBtZXRhZGF0YS5cbiAgICAgICAgdGhpcy5fZW5zdXJlQ2xhc3NQcm9wZXJ0aWVzKCk7XG4gICAgICAgIHRoaXMuX2NsYXNzUHJvcGVydGllcy5zZXQobmFtZSwgb3B0aW9ucyk7XG4gICAgICAgIC8vIERvIG5vdCBnZW5lcmF0ZSBhbiBhY2Nlc3NvciBpZiB0aGUgcHJvdG90eXBlIGFscmVhZHkgaGFzIG9uZSwgc2luY2VcbiAgICAgICAgLy8gaXQgd291bGQgYmUgbG9zdCBvdGhlcndpc2UgYW5kIHRoYXQgd291bGQgbmV2ZXIgYmUgdGhlIHVzZXIncyBpbnRlbnRpb247XG4gICAgICAgIC8vIEluc3RlYWQsIHdlIGV4cGVjdCB1c2VycyB0byBjYWxsIGByZXF1ZXN0VXBkYXRlYCB0aGVtc2VsdmVzIGZyb21cbiAgICAgICAgLy8gdXNlci1kZWZpbmVkIGFjY2Vzc29ycy4gTm90ZSB0aGF0IGlmIHRoZSBzdXBlciBoYXMgYW4gYWNjZXNzb3Igd2Ugd2lsbFxuICAgICAgICAvLyBzdGlsbCBvdmVyd3JpdGUgaXRcbiAgICAgICAgaWYgKG9wdGlvbnMubm9BY2Nlc3NvciB8fCB0aGlzLnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eShuYW1lKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGtleSA9IHR5cGVvZiBuYW1lID09PSAnc3ltYm9sJyA/IFN5bWJvbCgpIDogYF9fJHtuYW1lfWA7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLnByb3RvdHlwZSwgbmFtZSwge1xuICAgICAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWFueSBubyBzeW1ib2wgaW4gaW5kZXhcbiAgICAgICAgICAgIGdldCgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpc1trZXldO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldCh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG9sZFZhbHVlID0gdGhpc1tuYW1lXTtcbiAgICAgICAgICAgICAgICB0aGlzW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLl9yZXF1ZXN0VXBkYXRlKG5hbWUsIG9sZFZhbHVlKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIHByb3BlcnR5IGFjY2Vzc29ycyBmb3IgcmVnaXN0ZXJlZCBwcm9wZXJ0aWVzIGFuZCBlbnN1cmVzXG4gICAgICogYW55IHN1cGVyY2xhc3NlcyBhcmUgYWxzbyBmaW5hbGl6ZWQuXG4gICAgICogQG5vY29sbGFwc2VcbiAgICAgKi9cbiAgICBzdGF0aWMgZmluYWxpemUoKSB7XG4gICAgICAgIC8vIGZpbmFsaXplIGFueSBzdXBlcmNsYXNzZXNcbiAgICAgICAgY29uc3Qgc3VwZXJDdG9yID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKHRoaXMpO1xuICAgICAgICBpZiAoIXN1cGVyQ3Rvci5oYXNPd25Qcm9wZXJ0eShmaW5hbGl6ZWQpKSB7XG4gICAgICAgICAgICBzdXBlckN0b3IuZmluYWxpemUoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzW2ZpbmFsaXplZF0gPSB0cnVlO1xuICAgICAgICB0aGlzLl9lbnN1cmVDbGFzc1Byb3BlcnRpZXMoKTtcbiAgICAgICAgLy8gaW5pdGlhbGl6ZSBNYXAgcG9wdWxhdGVkIGluIG9ic2VydmVkQXR0cmlidXRlc1xuICAgICAgICB0aGlzLl9hdHRyaWJ1dGVUb1Byb3BlcnR5TWFwID0gbmV3IE1hcCgpO1xuICAgICAgICAvLyBtYWtlIGFueSBwcm9wZXJ0aWVzXG4gICAgICAgIC8vIE5vdGUsIG9ubHkgcHJvY2VzcyBcIm93blwiIHByb3BlcnRpZXMgc2luY2UgdGhpcyBlbGVtZW50IHdpbGwgaW5oZXJpdFxuICAgICAgICAvLyBhbnkgcHJvcGVydGllcyBkZWZpbmVkIG9uIHRoZSBzdXBlckNsYXNzLCBhbmQgZmluYWxpemF0aW9uIGVuc3VyZXNcbiAgICAgICAgLy8gdGhlIGVudGlyZSBwcm90b3R5cGUgY2hhaW4gaXMgZmluYWxpemVkLlxuICAgICAgICBpZiAodGhpcy5oYXNPd25Qcm9wZXJ0eShKU0NvbXBpbGVyX3JlbmFtZVByb3BlcnR5KCdwcm9wZXJ0aWVzJywgdGhpcykpKSB7XG4gICAgICAgICAgICBjb25zdCBwcm9wcyA9IHRoaXMucHJvcGVydGllcztcbiAgICAgICAgICAgIC8vIHN1cHBvcnQgc3ltYm9scyBpbiBwcm9wZXJ0aWVzIChJRTExIGRvZXMgbm90IHN1cHBvcnQgdGhpcylcbiAgICAgICAgICAgIGNvbnN0IHByb3BLZXlzID0gW1xuICAgICAgICAgICAgICAgIC4uLk9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHByb3BzKSxcbiAgICAgICAgICAgICAgICAuLi4odHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09ICdmdW5jdGlvbicpID9cbiAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhwcm9wcykgOlxuICAgICAgICAgICAgICAgICAgICBbXVxuICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIC8vIFRoaXMgZm9yL29mIGlzIG9rIGJlY2F1c2UgcHJvcEtleXMgaXMgYW4gYXJyYXlcbiAgICAgICAgICAgIGZvciAoY29uc3QgcCBvZiBwcm9wS2V5cykge1xuICAgICAgICAgICAgICAgIC8vIG5vdGUsIHVzZSBvZiBgYW55YCBpcyBkdWUgdG8gVHlwZVNyaXB0IGxhY2sgb2Ygc3VwcG9ydCBmb3Igc3ltYm9sIGluXG4gICAgICAgICAgICAgICAgLy8gaW5kZXggdHlwZXNcbiAgICAgICAgICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tYW55IG5vIHN5bWJvbCBpbiBpbmRleFxuICAgICAgICAgICAgICAgIHRoaXMuY3JlYXRlUHJvcGVydHkocCwgcHJvcHNbcF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHByb3BlcnR5IG5hbWUgZm9yIHRoZSBnaXZlbiBhdHRyaWJ1dGUgYG5hbWVgLlxuICAgICAqIEBub2NvbGxhcHNlXG4gICAgICovXG4gICAgc3RhdGljIF9hdHRyaWJ1dGVOYW1lRm9yUHJvcGVydHkobmFtZSwgb3B0aW9ucykge1xuICAgICAgICBjb25zdCBhdHRyaWJ1dGUgPSBvcHRpb25zLmF0dHJpYnV0ZTtcbiAgICAgICAgcmV0dXJuIGF0dHJpYnV0ZSA9PT0gZmFsc2UgP1xuICAgICAgICAgICAgdW5kZWZpbmVkIDpcbiAgICAgICAgICAgICh0eXBlb2YgYXR0cmlidXRlID09PSAnc3RyaW5nJyA/XG4gICAgICAgICAgICAgICAgYXR0cmlidXRlIDpcbiAgICAgICAgICAgICAgICAodHlwZW9mIG5hbWUgPT09ICdzdHJpbmcnID8gbmFtZS50b0xvd2VyQ2FzZSgpIDogdW5kZWZpbmVkKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiBhIHByb3BlcnR5IHNob3VsZCByZXF1ZXN0IGFuIHVwZGF0ZS5cbiAgICAgKiBDYWxsZWQgd2hlbiBhIHByb3BlcnR5IHZhbHVlIGlzIHNldCBhbmQgdXNlcyB0aGUgYGhhc0NoYW5nZWRgXG4gICAgICogb3B0aW9uIGZvciB0aGUgcHJvcGVydHkgaWYgcHJlc2VudCBvciBhIHN0cmljdCBpZGVudGl0eSBjaGVjay5cbiAgICAgKiBAbm9jb2xsYXBzZVxuICAgICAqL1xuICAgIHN0YXRpYyBfdmFsdWVIYXNDaGFuZ2VkKHZhbHVlLCBvbGQsIGhhc0NoYW5nZWQgPSBub3RFcXVhbCkge1xuICAgICAgICByZXR1cm4gaGFzQ2hhbmdlZCh2YWx1ZSwgb2xkKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgcHJvcGVydHkgdmFsdWUgZm9yIHRoZSBnaXZlbiBhdHRyaWJ1dGUgdmFsdWUuXG4gICAgICogQ2FsbGVkIHZpYSB0aGUgYGF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFja2AgYW5kIHVzZXMgdGhlIHByb3BlcnR5J3NcbiAgICAgKiBgY29udmVydGVyYCBvciBgY29udmVydGVyLmZyb21BdHRyaWJ1dGVgIHByb3BlcnR5IG9wdGlvbi5cbiAgICAgKiBAbm9jb2xsYXBzZVxuICAgICAqL1xuICAgIHN0YXRpYyBfcHJvcGVydHlWYWx1ZUZyb21BdHRyaWJ1dGUodmFsdWUsIG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgdHlwZSA9IG9wdGlvbnMudHlwZTtcbiAgICAgICAgY29uc3QgY29udmVydGVyID0gb3B0aW9ucy5jb252ZXJ0ZXIgfHwgZGVmYXVsdENvbnZlcnRlcjtcbiAgICAgICAgY29uc3QgZnJvbUF0dHJpYnV0ZSA9ICh0eXBlb2YgY29udmVydGVyID09PSAnZnVuY3Rpb24nID8gY29udmVydGVyIDogY29udmVydGVyLmZyb21BdHRyaWJ1dGUpO1xuICAgICAgICByZXR1cm4gZnJvbUF0dHJpYnV0ZSA/IGZyb21BdHRyaWJ1dGUodmFsdWUsIHR5cGUpIDogdmFsdWU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGF0dHJpYnV0ZSB2YWx1ZSBmb3IgdGhlIGdpdmVuIHByb3BlcnR5IHZhbHVlLiBJZiB0aGlzXG4gICAgICogcmV0dXJucyB1bmRlZmluZWQsIHRoZSBwcm9wZXJ0eSB3aWxsICpub3QqIGJlIHJlZmxlY3RlZCB0byBhbiBhdHRyaWJ1dGUuXG4gICAgICogSWYgdGhpcyByZXR1cm5zIG51bGwsIHRoZSBhdHRyaWJ1dGUgd2lsbCBiZSByZW1vdmVkLCBvdGhlcndpc2UgdGhlXG4gICAgICogYXR0cmlidXRlIHdpbGwgYmUgc2V0IHRvIHRoZSB2YWx1ZS5cbiAgICAgKiBUaGlzIHVzZXMgdGhlIHByb3BlcnR5J3MgYHJlZmxlY3RgIGFuZCBgdHlwZS50b0F0dHJpYnV0ZWAgcHJvcGVydHkgb3B0aW9ucy5cbiAgICAgKiBAbm9jb2xsYXBzZVxuICAgICAqL1xuICAgIHN0YXRpYyBfcHJvcGVydHlWYWx1ZVRvQXR0cmlidXRlKHZhbHVlLCBvcHRpb25zKSB7XG4gICAgICAgIGlmIChvcHRpb25zLnJlZmxlY3QgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHR5cGUgPSBvcHRpb25zLnR5cGU7XG4gICAgICAgIGNvbnN0IGNvbnZlcnRlciA9IG9wdGlvbnMuY29udmVydGVyO1xuICAgICAgICBjb25zdCB0b0F0dHJpYnV0ZSA9IGNvbnZlcnRlciAmJiBjb252ZXJ0ZXIudG9BdHRyaWJ1dGUgfHxcbiAgICAgICAgICAgIGRlZmF1bHRDb252ZXJ0ZXIudG9BdHRyaWJ1dGU7XG4gICAgICAgIHJldHVybiB0b0F0dHJpYnV0ZSh2YWx1ZSwgdHlwZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFBlcmZvcm1zIGVsZW1lbnQgaW5pdGlhbGl6YXRpb24uIEJ5IGRlZmF1bHQgY2FwdHVyZXMgYW55IHByZS1zZXQgdmFsdWVzIGZvclxuICAgICAqIHJlZ2lzdGVyZWQgcHJvcGVydGllcy5cbiAgICAgKi9cbiAgICBpbml0aWFsaXplKCkge1xuICAgICAgICB0aGlzLl9zYXZlSW5zdGFuY2VQcm9wZXJ0aWVzKCk7XG4gICAgICAgIC8vIGVuc3VyZXMgZmlyc3QgdXBkYXRlIHdpbGwgYmUgY2F1Z2h0IGJ5IGFuIGVhcmx5IGFjY2VzcyBvZlxuICAgICAgICAvLyBgdXBkYXRlQ29tcGxldGVgXG4gICAgICAgIHRoaXMuX3JlcXVlc3RVcGRhdGUoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRml4ZXMgYW55IHByb3BlcnRpZXMgc2V0IG9uIHRoZSBpbnN0YW5jZSBiZWZvcmUgdXBncmFkZSB0aW1lLlxuICAgICAqIE90aGVyd2lzZSB0aGVzZSB3b3VsZCBzaGFkb3cgdGhlIGFjY2Vzc29yIGFuZCBicmVhayB0aGVzZSBwcm9wZXJ0aWVzLlxuICAgICAqIFRoZSBwcm9wZXJ0aWVzIGFyZSBzdG9yZWQgaW4gYSBNYXAgd2hpY2ggaXMgcGxheWVkIGJhY2sgYWZ0ZXIgdGhlXG4gICAgICogY29uc3RydWN0b3IgcnVucy4gTm90ZSwgb24gdmVyeSBvbGQgdmVyc2lvbnMgb2YgU2FmYXJpICg8PTkpIG9yIENocm9tZVxuICAgICAqICg8PTQxKSwgcHJvcGVydGllcyBjcmVhdGVkIGZvciBuYXRpdmUgcGxhdGZvcm0gcHJvcGVydGllcyBsaWtlIChgaWRgIG9yXG4gICAgICogYG5hbWVgKSBtYXkgbm90IGhhdmUgZGVmYXVsdCB2YWx1ZXMgc2V0IGluIHRoZSBlbGVtZW50IGNvbnN0cnVjdG9yLiBPblxuICAgICAqIHRoZXNlIGJyb3dzZXJzIG5hdGl2ZSBwcm9wZXJ0aWVzIGFwcGVhciBvbiBpbnN0YW5jZXMgYW5kIHRoZXJlZm9yZSB0aGVpclxuICAgICAqIGRlZmF1bHQgdmFsdWUgd2lsbCBvdmVyd3JpdGUgYW55IGVsZW1lbnQgZGVmYXVsdCAoZS5nLiBpZiB0aGUgZWxlbWVudCBzZXRzXG4gICAgICogdGhpcy5pZCA9ICdpZCcgaW4gdGhlIGNvbnN0cnVjdG9yLCB0aGUgJ2lkJyB3aWxsIGJlY29tZSAnJyBzaW5jZSB0aGlzIGlzXG4gICAgICogdGhlIG5hdGl2ZSBwbGF0Zm9ybSBkZWZhdWx0KS5cbiAgICAgKi9cbiAgICBfc2F2ZUluc3RhbmNlUHJvcGVydGllcygpIHtcbiAgICAgICAgLy8gVXNlIGZvckVhY2ggc28gdGhpcyB3b3JrcyBldmVuIGlmIGZvci9vZiBsb29wcyBhcmUgY29tcGlsZWQgdG8gZm9yIGxvb3BzXG4gICAgICAgIC8vIGV4cGVjdGluZyBhcnJheXNcbiAgICAgICAgdGhpcy5jb25zdHJ1Y3RvclxuICAgICAgICAgICAgLl9jbGFzc1Byb3BlcnRpZXMuZm9yRWFjaCgoX3YsIHApID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLmhhc093blByb3BlcnR5KHApKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSB0aGlzW3BdO1xuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzW3BdO1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5faW5zdGFuY2VQcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2luc3RhbmNlUHJvcGVydGllcyA9IG5ldyBNYXAoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5faW5zdGFuY2VQcm9wZXJ0aWVzLnNldChwLCB2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIHByZXZpb3VzbHkgc2F2ZWQgaW5zdGFuY2UgcHJvcGVydGllcy5cbiAgICAgKi9cbiAgICBfYXBwbHlJbnN0YW5jZVByb3BlcnRpZXMoKSB7XG4gICAgICAgIC8vIFVzZSBmb3JFYWNoIHNvIHRoaXMgd29ya3MgZXZlbiBpZiBmb3Ivb2YgbG9vcHMgYXJlIGNvbXBpbGVkIHRvIGZvciBsb29wc1xuICAgICAgICAvLyBleHBlY3RpbmcgYXJyYXlzXG4gICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1hbnlcbiAgICAgICAgdGhpcy5faW5zdGFuY2VQcm9wZXJ0aWVzLmZvckVhY2goKHYsIHApID0+IHRoaXNbcF0gPSB2KTtcbiAgICAgICAgdGhpcy5faW5zdGFuY2VQcm9wZXJ0aWVzID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICAgICAgdGhpcy5fdXBkYXRlU3RhdGUgPSB0aGlzLl91cGRhdGVTdGF0ZSB8IFNUQVRFX0hBU19DT05ORUNURUQ7XG4gICAgICAgIC8vIEVuc3VyZSBmaXJzdCBjb25uZWN0aW9uIGNvbXBsZXRlcyBhbiB1cGRhdGUuIFVwZGF0ZXMgY2Fubm90IGNvbXBsZXRlXG4gICAgICAgIC8vIGJlZm9yZSBjb25uZWN0aW9uIGFuZCBpZiBvbmUgaXMgcGVuZGluZyBjb25uZWN0aW9uIHRoZVxuICAgICAgICAvLyBgX2hhc0Nvbm5lY3Rpb25SZXNvbHZlcmAgd2lsbCBleGlzdC4gSWYgc28sIHJlc29sdmUgaXQgdG8gY29tcGxldGUgdGhlXG4gICAgICAgIC8vIHVwZGF0ZSwgb3RoZXJ3aXNlIHJlcXVlc3RVcGRhdGUuXG4gICAgICAgIGlmICh0aGlzLl9oYXNDb25uZWN0ZWRSZXNvbHZlcikge1xuICAgICAgICAgICAgdGhpcy5faGFzQ29ubmVjdGVkUmVzb2x2ZXIoKTtcbiAgICAgICAgICAgIHRoaXMuX2hhc0Nvbm5lY3RlZFJlc29sdmVyID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFsbG93cyBmb3IgYHN1cGVyLmRpc2Nvbm5lY3RlZENhbGxiYWNrKClgIGluIGV4dGVuc2lvbnMgd2hpbGVcbiAgICAgKiByZXNlcnZpbmcgdGhlIHBvc3NpYmlsaXR5IG9mIG1ha2luZyBub24tYnJlYWtpbmcgZmVhdHVyZSBhZGRpdGlvbnNcbiAgICAgKiB3aGVuIGRpc2Nvbm5lY3RpbmcgYXQgc29tZSBwb2ludCBpbiB0aGUgZnV0dXJlLlxuICAgICAqL1xuICAgIGRpc2Nvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTeW5jaHJvbml6ZXMgcHJvcGVydHkgdmFsdWVzIHdoZW4gYXR0cmlidXRlcyBjaGFuZ2UuXG4gICAgICovXG4gICAgYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrKG5hbWUsIG9sZCwgdmFsdWUpIHtcbiAgICAgICAgaWYgKG9sZCAhPT0gdmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuX2F0dHJpYnV0ZVRvUHJvcGVydHkobmFtZSwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIF9wcm9wZXJ0eVRvQXR0cmlidXRlKG5hbWUsIHZhbHVlLCBvcHRpb25zID0gZGVmYXVsdFByb3BlcnR5RGVjbGFyYXRpb24pIHtcbiAgICAgICAgY29uc3QgY3RvciA9IHRoaXMuY29uc3RydWN0b3I7XG4gICAgICAgIGNvbnN0IGF0dHIgPSBjdG9yLl9hdHRyaWJ1dGVOYW1lRm9yUHJvcGVydHkobmFtZSwgb3B0aW9ucyk7XG4gICAgICAgIGlmIChhdHRyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IGF0dHJWYWx1ZSA9IGN0b3IuX3Byb3BlcnR5VmFsdWVUb0F0dHJpYnV0ZSh2YWx1ZSwgb3B0aW9ucyk7XG4gICAgICAgICAgICAvLyBhbiB1bmRlZmluZWQgdmFsdWUgZG9lcyBub3QgY2hhbmdlIHRoZSBhdHRyaWJ1dGUuXG4gICAgICAgICAgICBpZiAoYXR0clZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBUcmFjayBpZiB0aGUgcHJvcGVydHkgaXMgYmVpbmcgcmVmbGVjdGVkIHRvIGF2b2lkXG4gICAgICAgICAgICAvLyBzZXR0aW5nIHRoZSBwcm9wZXJ0eSBhZ2FpbiB2aWEgYGF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFja2AuIE5vdGU6XG4gICAgICAgICAgICAvLyAxLiB0aGlzIHRha2VzIGFkdmFudGFnZSBvZiB0aGUgZmFjdCB0aGF0IHRoZSBjYWxsYmFjayBpcyBzeW5jaHJvbm91cy5cbiAgICAgICAgICAgIC8vIDIuIHdpbGwgYmVoYXZlIGluY29ycmVjdGx5IGlmIG11bHRpcGxlIGF0dHJpYnV0ZXMgYXJlIGluIHRoZSByZWFjdGlvblxuICAgICAgICAgICAgLy8gc3RhY2sgYXQgdGltZSBvZiBjYWxsaW5nLiBIb3dldmVyLCBzaW5jZSB3ZSBwcm9jZXNzIGF0dHJpYnV0ZXNcbiAgICAgICAgICAgIC8vIGluIGB1cGRhdGVgIHRoaXMgc2hvdWxkIG5vdCBiZSBwb3NzaWJsZSAob3IgYW4gZXh0cmVtZSBjb3JuZXIgY2FzZVxuICAgICAgICAgICAgLy8gdGhhdCB3ZSdkIGxpa2UgdG8gZGlzY292ZXIpLlxuICAgICAgICAgICAgLy8gbWFyayBzdGF0ZSByZWZsZWN0aW5nXG4gICAgICAgICAgICB0aGlzLl91cGRhdGVTdGF0ZSA9IHRoaXMuX3VwZGF0ZVN0YXRlIHwgU1RBVEVfSVNfUkVGTEVDVElOR19UT19BVFRSSUJVVEU7XG4gICAgICAgICAgICBpZiAoYXR0clZhbHVlID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZUF0dHJpYnV0ZShhdHRyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0QXR0cmlidXRlKGF0dHIsIGF0dHJWYWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBtYXJrIHN0YXRlIG5vdCByZWZsZWN0aW5nXG4gICAgICAgICAgICB0aGlzLl91cGRhdGVTdGF0ZSA9IHRoaXMuX3VwZGF0ZVN0YXRlICYgflNUQVRFX0lTX1JFRkxFQ1RJTkdfVE9fQVRUUklCVVRFO1xuICAgICAgICB9XG4gICAgfVxuICAgIF9hdHRyaWJ1dGVUb1Byb3BlcnR5KG5hbWUsIHZhbHVlKSB7XG4gICAgICAgIC8vIFVzZSB0cmFja2luZyBpbmZvIHRvIGF2b2lkIGRlc2VyaWFsaXppbmcgYXR0cmlidXRlIHZhbHVlIGlmIGl0IHdhc1xuICAgICAgICAvLyBqdXN0IHNldCBmcm9tIGEgcHJvcGVydHkgc2V0dGVyLlxuICAgICAgICBpZiAodGhpcy5fdXBkYXRlU3RhdGUgJiBTVEFURV9JU19SRUZMRUNUSU5HX1RPX0FUVFJJQlVURSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGN0b3IgPSB0aGlzLmNvbnN0cnVjdG9yO1xuICAgICAgICBjb25zdCBwcm9wTmFtZSA9IGN0b3IuX2F0dHJpYnV0ZVRvUHJvcGVydHlNYXAuZ2V0KG5hbWUpO1xuICAgICAgICBpZiAocHJvcE5hbWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY29uc3Qgb3B0aW9ucyA9IGN0b3IuX2NsYXNzUHJvcGVydGllcy5nZXQocHJvcE5hbWUpIHx8IGRlZmF1bHRQcm9wZXJ0eURlY2xhcmF0aW9uO1xuICAgICAgICAgICAgLy8gbWFyayBzdGF0ZSByZWZsZWN0aW5nXG4gICAgICAgICAgICB0aGlzLl91cGRhdGVTdGF0ZSA9IHRoaXMuX3VwZGF0ZVN0YXRlIHwgU1RBVEVfSVNfUkVGTEVDVElOR19UT19QUk9QRVJUWTtcbiAgICAgICAgICAgIHRoaXNbcHJvcE5hbWVdID1cbiAgICAgICAgICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tYW55XG4gICAgICAgICAgICAgICAgY3Rvci5fcHJvcGVydHlWYWx1ZUZyb21BdHRyaWJ1dGUodmFsdWUsIG9wdGlvbnMpO1xuICAgICAgICAgICAgLy8gbWFyayBzdGF0ZSBub3QgcmVmbGVjdGluZ1xuICAgICAgICAgICAgdGhpcy5fdXBkYXRlU3RhdGUgPSB0aGlzLl91cGRhdGVTdGF0ZSAmIH5TVEFURV9JU19SRUZMRUNUSU5HX1RPX1BST1BFUlRZO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoaXMgcHJpdmF0ZSB2ZXJzaW9uIG9mIGByZXF1ZXN0VXBkYXRlYCBkb2VzIG5vdCBhY2Nlc3Mgb3IgcmV0dXJuIHRoZVxuICAgICAqIGB1cGRhdGVDb21wbGV0ZWAgcHJvbWlzZS4gVGhpcyBwcm9taXNlIGNhbiBiZSBvdmVycmlkZGVuIGFuZCBpcyB0aGVyZWZvcmVcbiAgICAgKiBub3QgZnJlZSB0byBhY2Nlc3MuXG4gICAgICovXG4gICAgX3JlcXVlc3RVcGRhdGUobmFtZSwgb2xkVmFsdWUpIHtcbiAgICAgICAgbGV0IHNob3VsZFJlcXVlc3RVcGRhdGUgPSB0cnVlO1xuICAgICAgICAvLyBJZiB3ZSBoYXZlIGEgcHJvcGVydHkga2V5LCBwZXJmb3JtIHByb3BlcnR5IHVwZGF0ZSBzdGVwcy5cbiAgICAgICAgaWYgKG5hbWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY29uc3QgY3RvciA9IHRoaXMuY29uc3RydWN0b3I7XG4gICAgICAgICAgICBjb25zdCBvcHRpb25zID0gY3Rvci5fY2xhc3NQcm9wZXJ0aWVzLmdldChuYW1lKSB8fCBkZWZhdWx0UHJvcGVydHlEZWNsYXJhdGlvbjtcbiAgICAgICAgICAgIGlmIChjdG9yLl92YWx1ZUhhc0NoYW5nZWQodGhpc1tuYW1lXSwgb2xkVmFsdWUsIG9wdGlvbnMuaGFzQ2hhbmdlZCkpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX2NoYW5nZWRQcm9wZXJ0aWVzLmhhcyhuYW1lKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jaGFuZ2VkUHJvcGVydGllcy5zZXQobmFtZSwgb2xkVmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBBZGQgdG8gcmVmbGVjdGluZyBwcm9wZXJ0aWVzIHNldC5cbiAgICAgICAgICAgICAgICAvLyBOb3RlLCBpdCdzIGltcG9ydGFudCB0aGF0IGV2ZXJ5IGNoYW5nZSBoYXMgYSBjaGFuY2UgdG8gYWRkIHRoZVxuICAgICAgICAgICAgICAgIC8vIHByb3BlcnR5IHRvIGBfcmVmbGVjdGluZ1Byb3BlcnRpZXNgLiBUaGlzIGVuc3VyZXMgc2V0dGluZ1xuICAgICAgICAgICAgICAgIC8vIGF0dHJpYnV0ZSArIHByb3BlcnR5IHJlZmxlY3RzIGNvcnJlY3RseS5cbiAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5yZWZsZWN0ID09PSB0cnVlICYmXG4gICAgICAgICAgICAgICAgICAgICEodGhpcy5fdXBkYXRlU3RhdGUgJiBTVEFURV9JU19SRUZMRUNUSU5HX1RPX1BST1BFUlRZKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fcmVmbGVjdGluZ1Byb3BlcnRpZXMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fcmVmbGVjdGluZ1Byb3BlcnRpZXMgPSBuZXcgTWFwKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcmVmbGVjdGluZ1Byb3BlcnRpZXMuc2V0KG5hbWUsIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIEFib3J0IHRoZSByZXF1ZXN0IGlmIHRoZSBwcm9wZXJ0eSBzaG91bGQgbm90IGJlIGNvbnNpZGVyZWQgY2hhbmdlZC5cbiAgICAgICAgICAgICAgICBzaG91bGRSZXF1ZXN0VXBkYXRlID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLl9oYXNSZXF1ZXN0ZWRVcGRhdGUgJiYgc2hvdWxkUmVxdWVzdFVwZGF0ZSkge1xuICAgICAgICAgICAgdGhpcy5fZW5xdWV1ZVVwZGF0ZSgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlcXVlc3RzIGFuIHVwZGF0ZSB3aGljaCBpcyBwcm9jZXNzZWQgYXN5bmNocm9ub3VzbHkuIFRoaXMgc2hvdWxkXG4gICAgICogYmUgY2FsbGVkIHdoZW4gYW4gZWxlbWVudCBzaG91bGQgdXBkYXRlIGJhc2VkIG9uIHNvbWUgc3RhdGUgbm90IHRyaWdnZXJlZFxuICAgICAqIGJ5IHNldHRpbmcgYSBwcm9wZXJ0eS4gSW4gdGhpcyBjYXNlLCBwYXNzIG5vIGFyZ3VtZW50cy4gSXQgc2hvdWxkIGFsc28gYmVcbiAgICAgKiBjYWxsZWQgd2hlbiBtYW51YWxseSBpbXBsZW1lbnRpbmcgYSBwcm9wZXJ0eSBzZXR0ZXIuIEluIHRoaXMgY2FzZSwgcGFzcyB0aGVcbiAgICAgKiBwcm9wZXJ0eSBgbmFtZWAgYW5kIGBvbGRWYWx1ZWAgdG8gZW5zdXJlIHRoYXQgYW55IGNvbmZpZ3VyZWQgcHJvcGVydHlcbiAgICAgKiBvcHRpb25zIGFyZSBob25vcmVkLiBSZXR1cm5zIHRoZSBgdXBkYXRlQ29tcGxldGVgIFByb21pc2Ugd2hpY2ggaXMgcmVzb2x2ZWRcbiAgICAgKiB3aGVuIHRoZSB1cGRhdGUgY29tcGxldGVzLlxuICAgICAqXG4gICAgICogQHBhcmFtIG5hbWUge1Byb3BlcnR5S2V5fSAob3B0aW9uYWwpIG5hbWUgb2YgcmVxdWVzdGluZyBwcm9wZXJ0eVxuICAgICAqIEBwYXJhbSBvbGRWYWx1ZSB7YW55fSAob3B0aW9uYWwpIG9sZCB2YWx1ZSBvZiByZXF1ZXN0aW5nIHByb3BlcnR5XG4gICAgICogQHJldHVybnMge1Byb21pc2V9IEEgUHJvbWlzZSB0aGF0IGlzIHJlc29sdmVkIHdoZW4gdGhlIHVwZGF0ZSBjb21wbGV0ZXMuXG4gICAgICovXG4gICAgcmVxdWVzdFVwZGF0ZShuYW1lLCBvbGRWYWx1ZSkge1xuICAgICAgICB0aGlzLl9yZXF1ZXN0VXBkYXRlKG5hbWUsIG9sZFZhbHVlKTtcbiAgICAgICAgcmV0dXJuIHRoaXMudXBkYXRlQ29tcGxldGU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldHMgdXAgdGhlIGVsZW1lbnQgdG8gYXN5bmNocm9ub3VzbHkgdXBkYXRlLlxuICAgICAqL1xuICAgIGFzeW5jIF9lbnF1ZXVlVXBkYXRlKCkge1xuICAgICAgICAvLyBNYXJrIHN0YXRlIHVwZGF0aW5nLi4uXG4gICAgICAgIHRoaXMuX3VwZGF0ZVN0YXRlID0gdGhpcy5fdXBkYXRlU3RhdGUgfCBTVEFURV9VUERBVEVfUkVRVUVTVEVEO1xuICAgICAgICBsZXQgcmVzb2x2ZTtcbiAgICAgICAgbGV0IHJlamVjdDtcbiAgICAgICAgY29uc3QgcHJldmlvdXNVcGRhdGVQcm9taXNlID0gdGhpcy5fdXBkYXRlUHJvbWlzZTtcbiAgICAgICAgdGhpcy5fdXBkYXRlUHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXMsIHJlaikgPT4ge1xuICAgICAgICAgICAgcmVzb2x2ZSA9IHJlcztcbiAgICAgICAgICAgIHJlamVjdCA9IHJlajtcbiAgICAgICAgfSk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBFbnN1cmUgYW55IHByZXZpb3VzIHVwZGF0ZSBoYXMgcmVzb2x2ZWQgYmVmb3JlIHVwZGF0aW5nLlxuICAgICAgICAgICAgLy8gVGhpcyBgYXdhaXRgIGFsc28gZW5zdXJlcyB0aGF0IHByb3BlcnR5IGNoYW5nZXMgYXJlIGJhdGNoZWQuXG4gICAgICAgICAgICBhd2FpdCBwcmV2aW91c1VwZGF0ZVByb21pc2U7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIC8vIElnbm9yZSBhbnkgcHJldmlvdXMgZXJyb3JzLiBXZSBvbmx5IGNhcmUgdGhhdCB0aGUgcHJldmlvdXMgY3ljbGUgaXNcbiAgICAgICAgICAgIC8vIGRvbmUuIEFueSBlcnJvciBzaG91bGQgaGF2ZSBiZWVuIGhhbmRsZWQgaW4gdGhlIHByZXZpb3VzIHVwZGF0ZS5cbiAgICAgICAgfVxuICAgICAgICAvLyBNYWtlIHN1cmUgdGhlIGVsZW1lbnQgaGFzIGNvbm5lY3RlZCBiZWZvcmUgdXBkYXRpbmcuXG4gICAgICAgIGlmICghdGhpcy5faGFzQ29ubmVjdGVkKSB7XG4gICAgICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZSgocmVzKSA9PiB0aGlzLl9oYXNDb25uZWN0ZWRSZXNvbHZlciA9IHJlcyk7XG4gICAgICAgIH1cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMucGVyZm9ybVVwZGF0ZSgpO1xuICAgICAgICAgICAgLy8gSWYgYHBlcmZvcm1VcGRhdGVgIHJldHVybnMgYSBQcm9taXNlLCB3ZSBhd2FpdCBpdC4gVGhpcyBpcyBkb25lIHRvXG4gICAgICAgICAgICAvLyBlbmFibGUgY29vcmRpbmF0aW5nIHVwZGF0ZXMgd2l0aCBhIHNjaGVkdWxlci4gTm90ZSwgdGhlIHJlc3VsdCBpc1xuICAgICAgICAgICAgLy8gY2hlY2tlZCB0byBhdm9pZCBkZWxheWluZyBhbiBhZGRpdGlvbmFsIG1pY3JvdGFzayB1bmxlc3Mgd2UgbmVlZCB0by5cbiAgICAgICAgICAgIGlmIChyZXN1bHQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGF3YWl0IHJlc3VsdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgICB9XG4gICAgICAgIHJlc29sdmUoIXRoaXMuX2hhc1JlcXVlc3RlZFVwZGF0ZSk7XG4gICAgfVxuICAgIGdldCBfaGFzQ29ubmVjdGVkKCkge1xuICAgICAgICByZXR1cm4gKHRoaXMuX3VwZGF0ZVN0YXRlICYgU1RBVEVfSEFTX0NPTk5FQ1RFRCk7XG4gICAgfVxuICAgIGdldCBfaGFzUmVxdWVzdGVkVXBkYXRlKCkge1xuICAgICAgICByZXR1cm4gKHRoaXMuX3VwZGF0ZVN0YXRlICYgU1RBVEVfVVBEQVRFX1JFUVVFU1RFRCk7XG4gICAgfVxuICAgIGdldCBoYXNVcGRhdGVkKCkge1xuICAgICAgICByZXR1cm4gKHRoaXMuX3VwZGF0ZVN0YXRlICYgU1RBVEVfSEFTX1VQREFURUQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBQZXJmb3JtcyBhbiBlbGVtZW50IHVwZGF0ZS4gTm90ZSwgaWYgYW4gZXhjZXB0aW9uIGlzIHRocm93biBkdXJpbmcgdGhlXG4gICAgICogdXBkYXRlLCBgZmlyc3RVcGRhdGVkYCBhbmQgYHVwZGF0ZWRgIHdpbGwgbm90IGJlIGNhbGxlZC5cbiAgICAgKlxuICAgICAqIFlvdSBjYW4gb3ZlcnJpZGUgdGhpcyBtZXRob2QgdG8gY2hhbmdlIHRoZSB0aW1pbmcgb2YgdXBkYXRlcy4gSWYgdGhpc1xuICAgICAqIG1ldGhvZCBpcyBvdmVycmlkZGVuLCBgc3VwZXIucGVyZm9ybVVwZGF0ZSgpYCBtdXN0IGJlIGNhbGxlZC5cbiAgICAgKlxuICAgICAqIEZvciBpbnN0YW5jZSwgdG8gc2NoZWR1bGUgdXBkYXRlcyB0byBvY2N1ciBqdXN0IGJlZm9yZSB0aGUgbmV4dCBmcmFtZTpcbiAgICAgKlxuICAgICAqIGBgYFxuICAgICAqIHByb3RlY3RlZCBhc3luYyBwZXJmb3JtVXBkYXRlKCk6IFByb21pc2U8dW5rbm93bj4ge1xuICAgICAqICAgYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiByZXNvbHZlKCkpKTtcbiAgICAgKiAgIHN1cGVyLnBlcmZvcm1VcGRhdGUoKTtcbiAgICAgKiB9XG4gICAgICogYGBgXG4gICAgICovXG4gICAgcGVyZm9ybVVwZGF0ZSgpIHtcbiAgICAgICAgLy8gTWl4aW4gaW5zdGFuY2UgcHJvcGVydGllcyBvbmNlLCBpZiB0aGV5IGV4aXN0LlxuICAgICAgICBpZiAodGhpcy5faW5zdGFuY2VQcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICB0aGlzLl9hcHBseUluc3RhbmNlUHJvcGVydGllcygpO1xuICAgICAgICB9XG4gICAgICAgIGxldCBzaG91bGRVcGRhdGUgPSBmYWxzZTtcbiAgICAgICAgY29uc3QgY2hhbmdlZFByb3BlcnRpZXMgPSB0aGlzLl9jaGFuZ2VkUHJvcGVydGllcztcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHNob3VsZFVwZGF0ZSA9IHRoaXMuc2hvdWxkVXBkYXRlKGNoYW5nZWRQcm9wZXJ0aWVzKTtcbiAgICAgICAgICAgIGlmIChzaG91bGRVcGRhdGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZShjaGFuZ2VkUHJvcGVydGllcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIC8vIFByZXZlbnQgYGZpcnN0VXBkYXRlZGAgYW5kIGB1cGRhdGVkYCBmcm9tIHJ1bm5pbmcgd2hlbiB0aGVyZSdzIGFuXG4gICAgICAgICAgICAvLyB1cGRhdGUgZXhjZXB0aW9uLlxuICAgICAgICAgICAgc2hvdWxkVXBkYXRlID0gZmFsc2U7XG4gICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgLy8gRW5zdXJlIGVsZW1lbnQgY2FuIGFjY2VwdCBhZGRpdGlvbmFsIHVwZGF0ZXMgYWZ0ZXIgYW4gZXhjZXB0aW9uLlxuICAgICAgICAgICAgdGhpcy5fbWFya1VwZGF0ZWQoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2hvdWxkVXBkYXRlKSB7XG4gICAgICAgICAgICBpZiAoISh0aGlzLl91cGRhdGVTdGF0ZSAmIFNUQVRFX0hBU19VUERBVEVEKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3VwZGF0ZVN0YXRlID0gdGhpcy5fdXBkYXRlU3RhdGUgfCBTVEFURV9IQVNfVVBEQVRFRDtcbiAgICAgICAgICAgICAgICB0aGlzLmZpcnN0VXBkYXRlZChjaGFuZ2VkUHJvcGVydGllcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZWQoY2hhbmdlZFByb3BlcnRpZXMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIF9tYXJrVXBkYXRlZCgpIHtcbiAgICAgICAgdGhpcy5fY2hhbmdlZFByb3BlcnRpZXMgPSBuZXcgTWFwKCk7XG4gICAgICAgIHRoaXMuX3VwZGF0ZVN0YXRlID0gdGhpcy5fdXBkYXRlU3RhdGUgJiB+U1RBVEVfVVBEQVRFX1JFUVVFU1RFRDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIFByb21pc2UgdGhhdCByZXNvbHZlcyB3aGVuIHRoZSBlbGVtZW50IGhhcyBjb21wbGV0ZWQgdXBkYXRpbmcuXG4gICAgICogVGhlIFByb21pc2UgdmFsdWUgaXMgYSBib29sZWFuIHRoYXQgaXMgYHRydWVgIGlmIHRoZSBlbGVtZW50IGNvbXBsZXRlZCB0aGVcbiAgICAgKiB1cGRhdGUgd2l0aG91dCB0cmlnZ2VyaW5nIGFub3RoZXIgdXBkYXRlLiBUaGUgUHJvbWlzZSByZXN1bHQgaXMgYGZhbHNlYCBpZlxuICAgICAqIGEgcHJvcGVydHkgd2FzIHNldCBpbnNpZGUgYHVwZGF0ZWQoKWAuIElmIHRoZSBQcm9taXNlIGlzIHJlamVjdGVkLCBhblxuICAgICAqIGV4Y2VwdGlvbiB3YXMgdGhyb3duIGR1cmluZyB0aGUgdXBkYXRlLlxuICAgICAqXG4gICAgICogVG8gYXdhaXQgYWRkaXRpb25hbCBhc3luY2hyb25vdXMgd29yaywgb3ZlcnJpZGUgdGhlIGBfZ2V0VXBkYXRlQ29tcGxldGVgXG4gICAgICogbWV0aG9kLiBGb3IgZXhhbXBsZSwgaXQgaXMgc29tZXRpbWVzIHVzZWZ1bCB0byBhd2FpdCBhIHJlbmRlcmVkIGVsZW1lbnRcbiAgICAgKiBiZWZvcmUgZnVsZmlsbGluZyB0aGlzIFByb21pc2UuIFRvIGRvIHRoaXMsIGZpcnN0IGF3YWl0XG4gICAgICogYHN1cGVyLl9nZXRVcGRhdGVDb21wbGV0ZSgpYCwgdGhlbiBhbnkgc3Vic2VxdWVudCBzdGF0ZS5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlfSBUaGUgUHJvbWlzZSByZXR1cm5zIGEgYm9vbGVhbiB0aGF0IGluZGljYXRlcyBpZiB0aGVcbiAgICAgKiB1cGRhdGUgcmVzb2x2ZWQgd2l0aG91dCB0cmlnZ2VyaW5nIGFub3RoZXIgdXBkYXRlLlxuICAgICAqL1xuICAgIGdldCB1cGRhdGVDb21wbGV0ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2dldFVwZGF0ZUNvbXBsZXRlKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE92ZXJyaWRlIHBvaW50IGZvciB0aGUgYHVwZGF0ZUNvbXBsZXRlYCBwcm9taXNlLlxuICAgICAqXG4gICAgICogSXQgaXMgbm90IHNhZmUgdG8gb3ZlcnJpZGUgdGhlIGB1cGRhdGVDb21wbGV0ZWAgZ2V0dGVyIGRpcmVjdGx5IGR1ZSB0byBhXG4gICAgICogbGltaXRhdGlvbiBpbiBUeXBlU2NyaXB0IHdoaWNoIG1lYW5zIGl0IGlzIG5vdCBwb3NzaWJsZSB0byBjYWxsIGFcbiAgICAgKiBzdXBlcmNsYXNzIGdldHRlciAoZS5nLiBgc3VwZXIudXBkYXRlQ29tcGxldGUudGhlbiguLi4pYCkgd2hlbiB0aGUgdGFyZ2V0XG4gICAgICogbGFuZ3VhZ2UgaXMgRVM1IChodHRwczovL2dpdGh1Yi5jb20vbWljcm9zb2Z0L1R5cGVTY3JpcHQvaXNzdWVzLzMzOCkuXG4gICAgICogVGhpcyBtZXRob2Qgc2hvdWxkIGJlIG92ZXJyaWRkZW4gaW5zdGVhZC4gRm9yIGV4YW1wbGU6XG4gICAgICpcbiAgICAgKiAgIGNsYXNzIE15RWxlbWVudCBleHRlbmRzIExpdEVsZW1lbnQge1xuICAgICAqICAgICBhc3luYyBfZ2V0VXBkYXRlQ29tcGxldGUoKSB7XG4gICAgICogICAgICAgYXdhaXQgc3VwZXIuX2dldFVwZGF0ZUNvbXBsZXRlKCk7XG4gICAgICogICAgICAgYXdhaXQgdGhpcy5fbXlDaGlsZC51cGRhdGVDb21wbGV0ZTtcbiAgICAgKiAgICAgfVxuICAgICAqICAgfVxuICAgICAqL1xuICAgIF9nZXRVcGRhdGVDb21wbGV0ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3VwZGF0ZVByb21pc2U7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENvbnRyb2xzIHdoZXRoZXIgb3Igbm90IGB1cGRhdGVgIHNob3VsZCBiZSBjYWxsZWQgd2hlbiB0aGUgZWxlbWVudCByZXF1ZXN0c1xuICAgICAqIGFuIHVwZGF0ZS4gQnkgZGVmYXVsdCwgdGhpcyBtZXRob2QgYWx3YXlzIHJldHVybnMgYHRydWVgLCBidXQgdGhpcyBjYW4gYmVcbiAgICAgKiBjdXN0b21pemVkIHRvIGNvbnRyb2wgd2hlbiB0byB1cGRhdGUuXG4gICAgICpcbiAgICAgKiAqIEBwYXJhbSBfY2hhbmdlZFByb3BlcnRpZXMgTWFwIG9mIGNoYW5nZWQgcHJvcGVydGllcyB3aXRoIG9sZCB2YWx1ZXNcbiAgICAgKi9cbiAgICBzaG91bGRVcGRhdGUoX2NoYW5nZWRQcm9wZXJ0aWVzKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBlbGVtZW50LiBUaGlzIG1ldGhvZCByZWZsZWN0cyBwcm9wZXJ0eSB2YWx1ZXMgdG8gYXR0cmlidXRlcy5cbiAgICAgKiBJdCBjYW4gYmUgb3ZlcnJpZGRlbiB0byByZW5kZXIgYW5kIGtlZXAgdXBkYXRlZCBlbGVtZW50IERPTS5cbiAgICAgKiBTZXR0aW5nIHByb3BlcnRpZXMgaW5zaWRlIHRoaXMgbWV0aG9kIHdpbGwgKm5vdCogdHJpZ2dlclxuICAgICAqIGFub3RoZXIgdXBkYXRlLlxuICAgICAqXG4gICAgICogKiBAcGFyYW0gX2NoYW5nZWRQcm9wZXJ0aWVzIE1hcCBvZiBjaGFuZ2VkIHByb3BlcnRpZXMgd2l0aCBvbGQgdmFsdWVzXG4gICAgICovXG4gICAgdXBkYXRlKF9jaGFuZ2VkUHJvcGVydGllcykge1xuICAgICAgICBpZiAodGhpcy5fcmVmbGVjdGluZ1Byb3BlcnRpZXMgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgdGhpcy5fcmVmbGVjdGluZ1Byb3BlcnRpZXMuc2l6ZSA+IDApIHtcbiAgICAgICAgICAgIC8vIFVzZSBmb3JFYWNoIHNvIHRoaXMgd29ya3MgZXZlbiBpZiBmb3Ivb2YgbG9vcHMgYXJlIGNvbXBpbGVkIHRvIGZvclxuICAgICAgICAgICAgLy8gbG9vcHMgZXhwZWN0aW5nIGFycmF5c1xuICAgICAgICAgICAgdGhpcy5fcmVmbGVjdGluZ1Byb3BlcnRpZXMuZm9yRWFjaCgodiwgaykgPT4gdGhpcy5fcHJvcGVydHlUb0F0dHJpYnV0ZShrLCB0aGlzW2tdLCB2KSk7XG4gICAgICAgICAgICB0aGlzLl9yZWZsZWN0aW5nUHJvcGVydGllcyA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbnZva2VkIHdoZW5ldmVyIHRoZSBlbGVtZW50IGlzIHVwZGF0ZWQuIEltcGxlbWVudCB0byBwZXJmb3JtXG4gICAgICogcG9zdC11cGRhdGluZyB0YXNrcyB2aWEgRE9NIEFQSXMsIGZvciBleGFtcGxlLCBmb2N1c2luZyBhbiBlbGVtZW50LlxuICAgICAqXG4gICAgICogU2V0dGluZyBwcm9wZXJ0aWVzIGluc2lkZSB0aGlzIG1ldGhvZCB3aWxsIHRyaWdnZXIgdGhlIGVsZW1lbnQgdG8gdXBkYXRlXG4gICAgICogYWdhaW4gYWZ0ZXIgdGhpcyB1cGRhdGUgY3ljbGUgY29tcGxldGVzLlxuICAgICAqXG4gICAgICogKiBAcGFyYW0gX2NoYW5nZWRQcm9wZXJ0aWVzIE1hcCBvZiBjaGFuZ2VkIHByb3BlcnRpZXMgd2l0aCBvbGQgdmFsdWVzXG4gICAgICovXG4gICAgdXBkYXRlZChfY2hhbmdlZFByb3BlcnRpZXMpIHtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW52b2tlZCB3aGVuIHRoZSBlbGVtZW50IGlzIGZpcnN0IHVwZGF0ZWQuIEltcGxlbWVudCB0byBwZXJmb3JtIG9uZSB0aW1lXG4gICAgICogd29yayBvbiB0aGUgZWxlbWVudCBhZnRlciB1cGRhdGUuXG4gICAgICpcbiAgICAgKiBTZXR0aW5nIHByb3BlcnRpZXMgaW5zaWRlIHRoaXMgbWV0aG9kIHdpbGwgdHJpZ2dlciB0aGUgZWxlbWVudCB0byB1cGRhdGVcbiAgICAgKiBhZ2FpbiBhZnRlciB0aGlzIHVwZGF0ZSBjeWNsZSBjb21wbGV0ZXMuXG4gICAgICpcbiAgICAgKiAqIEBwYXJhbSBfY2hhbmdlZFByb3BlcnRpZXMgTWFwIG9mIGNoYW5nZWQgcHJvcGVydGllcyB3aXRoIG9sZCB2YWx1ZXNcbiAgICAgKi9cbiAgICBmaXJzdFVwZGF0ZWQoX2NoYW5nZWRQcm9wZXJ0aWVzKSB7XG4gICAgfVxufVxuX2EgPSBmaW5hbGl6ZWQ7XG4vKipcbiAqIE1hcmtzIGNsYXNzIGFzIGhhdmluZyBmaW5pc2hlZCBjcmVhdGluZyBwcm9wZXJ0aWVzLlxuICovXG5VcGRhdGluZ0VsZW1lbnRbX2FdID0gdHJ1ZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXVwZGF0aW5nLWVsZW1lbnQuanMubWFwIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIFRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbiAqIENvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG4gKiBzdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiAqL1xuY29uc3QgbGVnYWN5Q3VzdG9tRWxlbWVudCA9ICh0YWdOYW1lLCBjbGF6eikgPT4ge1xuICAgIHdpbmRvdy5jdXN0b21FbGVtZW50cy5kZWZpbmUodGFnTmFtZSwgY2xhenopO1xuICAgIC8vIENhc3QgYXMgYW55IGJlY2F1c2UgVFMgZG9lc24ndCByZWNvZ25pemUgdGhlIHJldHVybiB0eXBlIGFzIGJlaW5nIGFcbiAgICAvLyBzdWJ0eXBlIG9mIHRoZSBkZWNvcmF0ZWQgY2xhc3Mgd2hlbiBjbGF6eiBpcyB0eXBlZCBhc1xuICAgIC8vIGBDb25zdHJ1Y3RvcjxIVE1MRWxlbWVudD5gIGZvciBzb21lIHJlYXNvbi5cbiAgICAvLyBgQ29uc3RydWN0b3I8SFRNTEVsZW1lbnQ+YCBpcyBoZWxwZnVsIHRvIG1ha2Ugc3VyZSB0aGUgZGVjb3JhdG9yIGlzXG4gICAgLy8gYXBwbGllZCB0byBlbGVtZW50cyBob3dldmVyLlxuICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1hbnlcbiAgICByZXR1cm4gY2xheno7XG59O1xuY29uc3Qgc3RhbmRhcmRDdXN0b21FbGVtZW50ID0gKHRhZ05hbWUsIGRlc2NyaXB0b3IpID0+IHtcbiAgICBjb25zdCB7IGtpbmQsIGVsZW1lbnRzIH0gPSBkZXNjcmlwdG9yO1xuICAgIHJldHVybiB7XG4gICAgICAgIGtpbmQsXG4gICAgICAgIGVsZW1lbnRzLFxuICAgICAgICAvLyBUaGlzIGNhbGxiYWNrIGlzIGNhbGxlZCBvbmNlIHRoZSBjbGFzcyBpcyBvdGhlcndpc2UgZnVsbHkgZGVmaW5lZFxuICAgICAgICBmaW5pc2hlcihjbGF6eikge1xuICAgICAgICAgICAgd2luZG93LmN1c3RvbUVsZW1lbnRzLmRlZmluZSh0YWdOYW1lLCBjbGF6eik7XG4gICAgICAgIH1cbiAgICB9O1xufTtcbi8qKlxuICogQ2xhc3MgZGVjb3JhdG9yIGZhY3RvcnkgdGhhdCBkZWZpbmVzIHRoZSBkZWNvcmF0ZWQgY2xhc3MgYXMgYSBjdXN0b20gZWxlbWVudC5cbiAqXG4gKiBAcGFyYW0gdGFnTmFtZSB0aGUgbmFtZSBvZiB0aGUgY3VzdG9tIGVsZW1lbnQgdG8gZGVmaW5lXG4gKi9cbmV4cG9ydCBjb25zdCBjdXN0b21FbGVtZW50ID0gKHRhZ05hbWUpID0+IChjbGFzc09yRGVzY3JpcHRvcikgPT4gKHR5cGVvZiBjbGFzc09yRGVzY3JpcHRvciA9PT0gJ2Z1bmN0aW9uJykgP1xuICAgIGxlZ2FjeUN1c3RvbUVsZW1lbnQodGFnTmFtZSwgY2xhc3NPckRlc2NyaXB0b3IpIDpcbiAgICBzdGFuZGFyZEN1c3RvbUVsZW1lbnQodGFnTmFtZSwgY2xhc3NPckRlc2NyaXB0b3IpO1xuY29uc3Qgc3RhbmRhcmRQcm9wZXJ0eSA9IChvcHRpb25zLCBlbGVtZW50KSA9PiB7XG4gICAgLy8gV2hlbiBkZWNvcmF0aW5nIGFuIGFjY2Vzc29yLCBwYXNzIGl0IHRocm91Z2ggYW5kIGFkZCBwcm9wZXJ0eSBtZXRhZGF0YS5cbiAgICAvLyBOb3RlLCB0aGUgYGhhc093blByb3BlcnR5YCBjaGVjayBpbiBgY3JlYXRlUHJvcGVydHlgIGVuc3VyZXMgd2UgZG9uJ3RcbiAgICAvLyBzdG9tcCBvdmVyIHRoZSB1c2VyJ3MgYWNjZXNzb3IuXG4gICAgaWYgKGVsZW1lbnQua2luZCA9PT0gJ21ldGhvZCcgJiYgZWxlbWVudC5kZXNjcmlwdG9yICYmXG4gICAgICAgICEoJ3ZhbHVlJyBpbiBlbGVtZW50LmRlc2NyaXB0b3IpKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBlbGVtZW50LCB7IGZpbmlzaGVyKGNsYXp6KSB7XG4gICAgICAgICAgICAgICAgY2xhenouY3JlYXRlUHJvcGVydHkoZWxlbWVudC5rZXksIG9wdGlvbnMpO1xuICAgICAgICAgICAgfSB9KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIC8vIGNyZWF0ZVByb3BlcnR5KCkgdGFrZXMgY2FyZSBvZiBkZWZpbmluZyB0aGUgcHJvcGVydHksIGJ1dCB3ZSBzdGlsbFxuICAgICAgICAvLyBtdXN0IHJldHVybiBzb21lIGtpbmQgb2YgZGVzY3JpcHRvciwgc28gcmV0dXJuIGEgZGVzY3JpcHRvciBmb3IgYW5cbiAgICAgICAgLy8gdW51c2VkIHByb3RvdHlwZSBmaWVsZC4gVGhlIGZpbmlzaGVyIGNhbGxzIGNyZWF0ZVByb3BlcnR5KCkuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBraW5kOiAnZmllbGQnLFxuICAgICAgICAgICAga2V5OiBTeW1ib2woKSxcbiAgICAgICAgICAgIHBsYWNlbWVudDogJ293bicsXG4gICAgICAgICAgICBkZXNjcmlwdG9yOiB7fSxcbiAgICAgICAgICAgIC8vIFdoZW4gQGJhYmVsL3BsdWdpbi1wcm9wb3NhbC1kZWNvcmF0b3JzIGltcGxlbWVudHMgaW5pdGlhbGl6ZXJzLFxuICAgICAgICAgICAgLy8gZG8gdGhpcyBpbnN0ZWFkIG9mIHRoZSBpbml0aWFsaXplciBiZWxvdy4gU2VlOlxuICAgICAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2JhYmVsL2JhYmVsL2lzc3Vlcy85MjYwIGV4dHJhczogW1xuICAgICAgICAgICAgLy8gICB7XG4gICAgICAgICAgICAvLyAgICAga2luZDogJ2luaXRpYWxpemVyJyxcbiAgICAgICAgICAgIC8vICAgICBwbGFjZW1lbnQ6ICdvd24nLFxuICAgICAgICAgICAgLy8gICAgIGluaXRpYWxpemVyOiBkZXNjcmlwdG9yLmluaXRpYWxpemVyLFxuICAgICAgICAgICAgLy8gICB9XG4gICAgICAgICAgICAvLyBdLFxuICAgICAgICAgICAgaW5pdGlhbGl6ZXIoKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBlbGVtZW50LmluaXRpYWxpemVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXNbZWxlbWVudC5rZXldID0gZWxlbWVudC5pbml0aWFsaXplci5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBmaW5pc2hlcihjbGF6eikge1xuICAgICAgICAgICAgICAgIGNsYXp6LmNyZWF0ZVByb3BlcnR5KGVsZW1lbnQua2V5LCBvcHRpb25zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG59O1xuY29uc3QgbGVnYWN5UHJvcGVydHkgPSAob3B0aW9ucywgcHJvdG8sIG5hbWUpID0+IHtcbiAgICBwcm90by5jb25zdHJ1Y3RvclxuICAgICAgICAuY3JlYXRlUHJvcGVydHkobmFtZSwgb3B0aW9ucyk7XG59O1xuLyoqXG4gKiBBIHByb3BlcnR5IGRlY29yYXRvciB3aGljaCBjcmVhdGVzIGEgTGl0RWxlbWVudCBwcm9wZXJ0eSB3aGljaCByZWZsZWN0cyBhXG4gKiBjb3JyZXNwb25kaW5nIGF0dHJpYnV0ZSB2YWx1ZS4gQSBgUHJvcGVydHlEZWNsYXJhdGlvbmAgbWF5IG9wdGlvbmFsbHkgYmVcbiAqIHN1cHBsaWVkIHRvIGNvbmZpZ3VyZSBwcm9wZXJ0eSBmZWF0dXJlcy5cbiAqXG4gKiBARXhwb3J0RGVjb3JhdGVkSXRlbXNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHByb3BlcnR5KG9wdGlvbnMpIHtcbiAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tYW55IGRlY29yYXRvclxuICAgIHJldHVybiAocHJvdG9PckRlc2NyaXB0b3IsIG5hbWUpID0+IChuYW1lICE9PSB1bmRlZmluZWQpID9cbiAgICAgICAgbGVnYWN5UHJvcGVydHkob3B0aW9ucywgcHJvdG9PckRlc2NyaXB0b3IsIG5hbWUpIDpcbiAgICAgICAgc3RhbmRhcmRQcm9wZXJ0eShvcHRpb25zLCBwcm90b09yRGVzY3JpcHRvcik7XG59XG4vKipcbiAqIEEgcHJvcGVydHkgZGVjb3JhdG9yIHRoYXQgY29udmVydHMgYSBjbGFzcyBwcm9wZXJ0eSBpbnRvIGEgZ2V0dGVyIHRoYXRcbiAqIGV4ZWN1dGVzIGEgcXVlcnlTZWxlY3RvciBvbiB0aGUgZWxlbWVudCdzIHJlbmRlclJvb3QuXG4gKlxuICogQEV4cG9ydERlY29yYXRlZEl0ZW1zXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBxdWVyeShzZWxlY3Rvcikge1xuICAgIHJldHVybiAocHJvdG9PckRlc2NyaXB0b3IsIFxuICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1hbnkgZGVjb3JhdG9yXG4gICAgbmFtZSkgPT4ge1xuICAgICAgICBjb25zdCBkZXNjcmlwdG9yID0ge1xuICAgICAgICAgICAgZ2V0KCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnJlbmRlclJvb3QucXVlcnlTZWxlY3RvcihzZWxlY3Rvcik7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIChuYW1lICE9PSB1bmRlZmluZWQpID9cbiAgICAgICAgICAgIGxlZ2FjeVF1ZXJ5KGRlc2NyaXB0b3IsIHByb3RvT3JEZXNjcmlwdG9yLCBuYW1lKSA6XG4gICAgICAgICAgICBzdGFuZGFyZFF1ZXJ5KGRlc2NyaXB0b3IsIHByb3RvT3JEZXNjcmlwdG9yKTtcbiAgICB9O1xufVxuLyoqXG4gKiBBIHByb3BlcnR5IGRlY29yYXRvciB0aGF0IGNvbnZlcnRzIGEgY2xhc3MgcHJvcGVydHkgaW50byBhIGdldHRlclxuICogdGhhdCBleGVjdXRlcyBhIHF1ZXJ5U2VsZWN0b3JBbGwgb24gdGhlIGVsZW1lbnQncyByZW5kZXJSb290LlxuICpcbiAqIEBFeHBvcnREZWNvcmF0ZWRJdGVtc1xuICovXG5leHBvcnQgZnVuY3Rpb24gcXVlcnlBbGwoc2VsZWN0b3IpIHtcbiAgICByZXR1cm4gKHByb3RvT3JEZXNjcmlwdG9yLCBcbiAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tYW55IGRlY29yYXRvclxuICAgIG5hbWUpID0+IHtcbiAgICAgICAgY29uc3QgZGVzY3JpcHRvciA9IHtcbiAgICAgICAgICAgIGdldCgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5yZW5kZXJSb290LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiAobmFtZSAhPT0gdW5kZWZpbmVkKSA/XG4gICAgICAgICAgICBsZWdhY3lRdWVyeShkZXNjcmlwdG9yLCBwcm90b09yRGVzY3JpcHRvciwgbmFtZSkgOlxuICAgICAgICAgICAgc3RhbmRhcmRRdWVyeShkZXNjcmlwdG9yLCBwcm90b09yRGVzY3JpcHRvcik7XG4gICAgfTtcbn1cbmNvbnN0IGxlZ2FjeVF1ZXJ5ID0gKGRlc2NyaXB0b3IsIHByb3RvLCBuYW1lKSA9PiB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHByb3RvLCBuYW1lLCBkZXNjcmlwdG9yKTtcbn07XG5jb25zdCBzdGFuZGFyZFF1ZXJ5ID0gKGRlc2NyaXB0b3IsIGVsZW1lbnQpID0+ICh7XG4gICAga2luZDogJ21ldGhvZCcsXG4gICAgcGxhY2VtZW50OiAncHJvdG90eXBlJyxcbiAgICBrZXk6IGVsZW1lbnQua2V5LFxuICAgIGRlc2NyaXB0b3IsXG59KTtcbmNvbnN0IHN0YW5kYXJkRXZlbnRPcHRpb25zID0gKG9wdGlvbnMsIGVsZW1lbnQpID0+IHtcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgZWxlbWVudCwgeyBmaW5pc2hlcihjbGF6eikge1xuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihjbGF6ei5wcm90b3R5cGVbZWxlbWVudC5rZXldLCBvcHRpb25zKTtcbiAgICAgICAgfSB9KTtcbn07XG5jb25zdCBsZWdhY3lFdmVudE9wdGlvbnMgPSBcbi8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1hbnkgbGVnYWN5IGRlY29yYXRvclxuKG9wdGlvbnMsIHByb3RvLCBuYW1lKSA9PiB7XG4gICAgT2JqZWN0LmFzc2lnbihwcm90b1tuYW1lXSwgb3B0aW9ucyk7XG59O1xuLyoqXG4gKiBBZGRzIGV2ZW50IGxpc3RlbmVyIG9wdGlvbnMgdG8gYSBtZXRob2QgdXNlZCBhcyBhbiBldmVudCBsaXN0ZW5lciBpbiBhXG4gKiBsaXQtaHRtbCB0ZW1wbGF0ZS5cbiAqXG4gKiBAcGFyYW0gb3B0aW9ucyBBbiBvYmplY3QgdGhhdCBzcGVjaWZpcyBldmVudCBsaXN0ZW5lciBvcHRpb25zIGFzIGFjY2VwdGVkIGJ5XG4gKiBgRXZlbnRUYXJnZXQjYWRkRXZlbnRMaXN0ZW5lcmAgYW5kIGBFdmVudFRhcmdldCNyZW1vdmVFdmVudExpc3RlbmVyYC5cbiAqXG4gKiBDdXJyZW50IGJyb3dzZXJzIHN1cHBvcnQgdGhlIGBjYXB0dXJlYCwgYHBhc3NpdmVgLCBhbmQgYG9uY2VgIG9wdGlvbnMuIFNlZTpcbiAqIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9FdmVudFRhcmdldC9hZGRFdmVudExpc3RlbmVyI1BhcmFtZXRlcnNcbiAqXG4gKiBAZXhhbXBsZVxuICpcbiAqICAgICBjbGFzcyBNeUVsZW1lbnQge1xuICpcbiAqICAgICAgIGNsaWNrZWQgPSBmYWxzZTtcbiAqXG4gKiAgICAgICByZW5kZXIoKSB7XG4gKiAgICAgICAgIHJldHVybiBodG1sYDxkaXYgQGNsaWNrPSR7dGhpcy5fb25DbGlja31gPjxidXR0b24+PC9idXR0b24+PC9kaXY+YDtcbiAqICAgICAgIH1cbiAqXG4gKiAgICAgICBAZXZlbnRPcHRpb25zKHtjYXB0dXJlOiB0cnVlfSlcbiAqICAgICAgIF9vbkNsaWNrKGUpIHtcbiAqICAgICAgICAgdGhpcy5jbGlja2VkID0gdHJ1ZTtcbiAqICAgICAgIH1cbiAqICAgICB9XG4gKi9cbmV4cG9ydCBjb25zdCBldmVudE9wdGlvbnMgPSAob3B0aW9ucykgPT4gXG4vLyBSZXR1cm4gdmFsdWUgdHlwZWQgYXMgYW55IHRvIHByZXZlbnQgVHlwZVNjcmlwdCBmcm9tIGNvbXBsYWluaW5nIHRoYXRcbi8vIHN0YW5kYXJkIGRlY29yYXRvciBmdW5jdGlvbiBzaWduYXR1cmUgZG9lcyBub3QgbWF0Y2ggVHlwZVNjcmlwdCBkZWNvcmF0b3Jcbi8vIHNpZ25hdHVyZVxuLy8gVE9ETyhrc2NoYWFmKTogdW5jbGVhciB3aHkgaXQgd2FzIG9ubHkgZmFpbGluZyBvbiB0aGlzIGRlY29yYXRvciBhbmQgbm90XG4vLyB0aGUgb3RoZXJzXG4oKHByb3RvT3JEZXNjcmlwdG9yLCBuYW1lKSA9PiAobmFtZSAhPT0gdW5kZWZpbmVkKSA/XG4gICAgbGVnYWN5RXZlbnRPcHRpb25zKG9wdGlvbnMsIHByb3RvT3JEZXNjcmlwdG9yLCBuYW1lKSA6XG4gICAgc3RhbmRhcmRFdmVudE9wdGlvbnMob3B0aW9ucywgcHJvdG9PckRlc2NyaXB0b3IpKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRlY29yYXRvcnMuanMubWFwIiwiLyoqXG5AbGljZW5zZVxuQ29weXJpZ2h0IChjKSAyMDE5IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cblRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdFxuaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0IFRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXRcbmh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dCBUaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmVcbmZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0IENvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzXG5wYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzbyBzdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50XG5mb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiovXG5leHBvcnQgY29uc3Qgc3VwcG9ydHNBZG9wdGluZ1N0eWxlU2hlZXRzID0gKCdhZG9wdGVkU3R5bGVTaGVldHMnIGluIERvY3VtZW50LnByb3RvdHlwZSkgJiZcbiAgICAoJ3JlcGxhY2UnIGluIENTU1N0eWxlU2hlZXQucHJvdG90eXBlKTtcbmNvbnN0IGNvbnN0cnVjdGlvblRva2VuID0gU3ltYm9sKCk7XG5leHBvcnQgY2xhc3MgQ1NTUmVzdWx0IHtcbiAgICBjb25zdHJ1Y3Rvcihjc3NUZXh0LCBzYWZlVG9rZW4pIHtcbiAgICAgICAgaWYgKHNhZmVUb2tlbiAhPT0gY29uc3RydWN0aW9uVG9rZW4pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ1NTUmVzdWx0IGlzIG5vdCBjb25zdHJ1Y3RhYmxlLiBVc2UgYHVuc2FmZUNTU2Agb3IgYGNzc2AgaW5zdGVhZC4nKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNzc1RleHQgPSBjc3NUZXh0O1xuICAgIH1cbiAgICAvLyBOb3RlLCB0aGlzIGlzIGEgZ2V0dGVyIHNvIHRoYXQgaXQncyBsYXp5LiBJbiBwcmFjdGljZSwgdGhpcyBtZWFuc1xuICAgIC8vIHN0eWxlc2hlZXRzIGFyZSBub3QgY3JlYXRlZCB1bnRpbCB0aGUgZmlyc3QgZWxlbWVudCBpbnN0YW5jZSBpcyBtYWRlLlxuICAgIGdldCBzdHlsZVNoZWV0KCkge1xuICAgICAgICBpZiAodGhpcy5fc3R5bGVTaGVldCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAvLyBOb3RlLCBpZiBgYWRvcHRlZFN0eWxlU2hlZXRzYCBpcyBzdXBwb3J0ZWQgdGhlbiB3ZSBhc3N1bWUgQ1NTU3R5bGVTaGVldFxuICAgICAgICAgICAgLy8gaXMgY29uc3RydWN0YWJsZS5cbiAgICAgICAgICAgIGlmIChzdXBwb3J0c0Fkb3B0aW5nU3R5bGVTaGVldHMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9zdHlsZVNoZWV0ID0gbmV3IENTU1N0eWxlU2hlZXQoKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9zdHlsZVNoZWV0LnJlcGxhY2VTeW5jKHRoaXMuY3NzVGV4dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9zdHlsZVNoZWV0ID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fc3R5bGVTaGVldDtcbiAgICB9XG4gICAgdG9TdHJpbmcoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNzc1RleHQ7XG4gICAgfVxufVxuLyoqXG4gKiBXcmFwIGEgdmFsdWUgZm9yIGludGVycG9sYXRpb24gaW4gYSBjc3MgdGFnZ2VkIHRlbXBsYXRlIGxpdGVyYWwuXG4gKlxuICogVGhpcyBpcyB1bnNhZmUgYmVjYXVzZSB1bnRydXN0ZWQgQ1NTIHRleHQgY2FuIGJlIHVzZWQgdG8gcGhvbmUgaG9tZVxuICogb3IgZXhmaWx0cmF0ZSBkYXRhIHRvIGFuIGF0dGFja2VyIGNvbnRyb2xsZWQgc2l0ZS4gVGFrZSBjYXJlIHRvIG9ubHkgdXNlXG4gKiB0aGlzIHdpdGggdHJ1c3RlZCBpbnB1dC5cbiAqL1xuZXhwb3J0IGNvbnN0IHVuc2FmZUNTUyA9ICh2YWx1ZSkgPT4ge1xuICAgIHJldHVybiBuZXcgQ1NTUmVzdWx0KFN0cmluZyh2YWx1ZSksIGNvbnN0cnVjdGlvblRva2VuKTtcbn07XG5jb25zdCB0ZXh0RnJvbUNTU1Jlc3VsdCA9ICh2YWx1ZSkgPT4ge1xuICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIENTU1Jlc3VsdCkge1xuICAgICAgICByZXR1cm4gdmFsdWUuY3NzVGV4dDtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJykge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFZhbHVlIHBhc3NlZCB0byAnY3NzJyBmdW5jdGlvbiBtdXN0IGJlIGEgJ2NzcycgZnVuY3Rpb24gcmVzdWx0OiAke3ZhbHVlfS4gVXNlICd1bnNhZmVDU1MnIHRvIHBhc3Mgbm9uLWxpdGVyYWwgdmFsdWVzLCBidXRcbiAgICAgICAgICAgIHRha2UgY2FyZSB0byBlbnN1cmUgcGFnZSBzZWN1cml0eS5gKTtcbiAgICB9XG59O1xuLyoqXG4gKiBUZW1wbGF0ZSB0YWcgd2hpY2ggd2hpY2ggY2FuIGJlIHVzZWQgd2l0aCBMaXRFbGVtZW50J3MgYHN0eWxlYCBwcm9wZXJ0eSB0b1xuICogc2V0IGVsZW1lbnQgc3R5bGVzLiBGb3Igc2VjdXJpdHkgcmVhc29ucywgb25seSBsaXRlcmFsIHN0cmluZyB2YWx1ZXMgbWF5IGJlXG4gKiB1c2VkLiBUbyBpbmNvcnBvcmF0ZSBub24tbGl0ZXJhbCB2YWx1ZXMgYHVuc2FmZUNTU2AgbWF5IGJlIHVzZWQgaW5zaWRlIGFcbiAqIHRlbXBsYXRlIHN0cmluZyBwYXJ0LlxuICovXG5leHBvcnQgY29uc3QgY3NzID0gKHN0cmluZ3MsIC4uLnZhbHVlcykgPT4ge1xuICAgIGNvbnN0IGNzc1RleHQgPSB2YWx1ZXMucmVkdWNlKChhY2MsIHYsIGlkeCkgPT4gYWNjICsgdGV4dEZyb21DU1NSZXN1bHQodikgKyBzdHJpbmdzW2lkeCArIDFdLCBzdHJpbmdzWzBdKTtcbiAgICByZXR1cm4gbmV3IENTU1Jlc3VsdChjc3NUZXh0LCBjb25zdHJ1Y3Rpb25Ub2tlbik7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y3NzLXRhZy5qcy5tYXAiLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuICogQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbiAqIHN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuICovXG5pbXBvcnQgeyBUZW1wbGF0ZVJlc3VsdCB9IGZyb20gJ2xpdC1odG1sJztcbmltcG9ydCB7IHJlbmRlciB9IGZyb20gJ2xpdC1odG1sL2xpYi9zaGFkeS1yZW5kZXIuanMnO1xuaW1wb3J0IHsgVXBkYXRpbmdFbGVtZW50IH0gZnJvbSAnLi9saWIvdXBkYXRpbmctZWxlbWVudC5qcyc7XG5leHBvcnQgKiBmcm9tICcuL2xpYi91cGRhdGluZy1lbGVtZW50LmpzJztcbmV4cG9ydCAqIGZyb20gJy4vbGliL2RlY29yYXRvcnMuanMnO1xuZXhwb3J0IHsgaHRtbCwgc3ZnLCBUZW1wbGF0ZVJlc3VsdCwgU1ZHVGVtcGxhdGVSZXN1bHQgfSBmcm9tICdsaXQtaHRtbC9saXQtaHRtbC5qcyc7XG5pbXBvcnQgeyBzdXBwb3J0c0Fkb3B0aW5nU3R5bGVTaGVldHMgfSBmcm9tICcuL2xpYi9jc3MtdGFnLmpzJztcbmV4cG9ydCAqIGZyb20gJy4vbGliL2Nzcy10YWcuanMnO1xuLy8gSU1QT1JUQU5UOiBkbyBub3QgY2hhbmdlIHRoZSBwcm9wZXJ0eSBuYW1lIG9yIHRoZSBhc3NpZ25tZW50IGV4cHJlc3Npb24uXG4vLyBUaGlzIGxpbmUgd2lsbCBiZSB1c2VkIGluIHJlZ2V4ZXMgdG8gc2VhcmNoIGZvciBMaXRFbGVtZW50IHVzYWdlLlxuLy8gVE9ETyhqdXN0aW5mYWduYW5pKTogaW5qZWN0IHZlcnNpb24gbnVtYmVyIGF0IGJ1aWxkIHRpbWVcbih3aW5kb3dbJ2xpdEVsZW1lbnRWZXJzaW9ucyddIHx8ICh3aW5kb3dbJ2xpdEVsZW1lbnRWZXJzaW9ucyddID0gW10pKVxuICAgIC5wdXNoKCcyLjIuMScpO1xuLyoqXG4gKiBNaW5pbWFsIGltcGxlbWVudGF0aW9uIG9mIEFycmF5LnByb3RvdHlwZS5mbGF0XG4gKiBAcGFyYW0gYXJyIHRoZSBhcnJheSB0byBmbGF0dGVuXG4gKiBAcGFyYW0gcmVzdWx0IHRoZSBhY2N1bWxhdGVkIHJlc3VsdFxuICovXG5mdW5jdGlvbiBhcnJheUZsYXQoc3R5bGVzLCByZXN1bHQgPSBbXSkge1xuICAgIGZvciAobGV0IGkgPSAwLCBsZW5ndGggPSBzdHlsZXMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBzdHlsZXNbaV07XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgICAgICAgYXJyYXlGbGF0KHZhbHVlLCByZXN1bHQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0LnB1c2godmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG4vKiogRGVlcGx5IGZsYXR0ZW5zIHN0eWxlcyBhcnJheS4gVXNlcyBuYXRpdmUgZmxhdCBpZiBhdmFpbGFibGUuICovXG5jb25zdCBmbGF0dGVuU3R5bGVzID0gKHN0eWxlcykgPT4gc3R5bGVzLmZsYXQgPyBzdHlsZXMuZmxhdChJbmZpbml0eSkgOiBhcnJheUZsYXQoc3R5bGVzKTtcbmV4cG9ydCBjbGFzcyBMaXRFbGVtZW50IGV4dGVuZHMgVXBkYXRpbmdFbGVtZW50IHtcbiAgICAvKiogQG5vY29sbGFwc2UgKi9cbiAgICBzdGF0aWMgZmluYWxpemUoKSB7XG4gICAgICAgIC8vIFRoZSBDbG9zdXJlIEpTIENvbXBpbGVyIGRvZXMgbm90IGFsd2F5cyBwcmVzZXJ2ZSB0aGUgY29ycmVjdCBcInRoaXNcIlxuICAgICAgICAvLyB3aGVuIGNhbGxpbmcgc3RhdGljIHN1cGVyIG1ldGhvZHMgKGIvMTM3NDYwMjQzKSwgc28gZXhwbGljaXRseSBiaW5kLlxuICAgICAgICBzdXBlci5maW5hbGl6ZS5jYWxsKHRoaXMpO1xuICAgICAgICAvLyBQcmVwYXJlIHN0eWxpbmcgdGhhdCBpcyBzdGFtcGVkIGF0IGZpcnN0IHJlbmRlciB0aW1lLiBTdHlsaW5nXG4gICAgICAgIC8vIGlzIGJ1aWx0IGZyb20gdXNlciBwcm92aWRlZCBgc3R5bGVzYCBvciBpcyBpbmhlcml0ZWQgZnJvbSB0aGUgc3VwZXJjbGFzcy5cbiAgICAgICAgdGhpcy5fc3R5bGVzID1cbiAgICAgICAgICAgIHRoaXMuaGFzT3duUHJvcGVydHkoSlNDb21waWxlcl9yZW5hbWVQcm9wZXJ0eSgnc3R5bGVzJywgdGhpcykpID9cbiAgICAgICAgICAgICAgICB0aGlzLl9nZXRVbmlxdWVTdHlsZXMoKSA6XG4gICAgICAgICAgICAgICAgdGhpcy5fc3R5bGVzIHx8IFtdO1xuICAgIH1cbiAgICAvKiogQG5vY29sbGFwc2UgKi9cbiAgICBzdGF0aWMgX2dldFVuaXF1ZVN0eWxlcygpIHtcbiAgICAgICAgLy8gVGFrZSBjYXJlIG5vdCB0byBjYWxsIGB0aGlzLnN0eWxlc2AgbXVsdGlwbGUgdGltZXMgc2luY2UgdGhpcyBnZW5lcmF0ZXNcbiAgICAgICAgLy8gbmV3IENTU1Jlc3VsdHMgZWFjaCB0aW1lLlxuICAgICAgICAvLyBUT0RPKHNvcnZlbGwpOiBTaW5jZSB3ZSBkbyBub3QgY2FjaGUgQ1NTUmVzdWx0cyBieSBpbnB1dCwgYW55XG4gICAgICAgIC8vIHNoYXJlZCBzdHlsZXMgd2lsbCBnZW5lcmF0ZSBuZXcgc3R5bGVzaGVldCBvYmplY3RzLCB3aGljaCBpcyB3YXN0ZWZ1bC5cbiAgICAgICAgLy8gVGhpcyBzaG91bGQgYmUgYWRkcmVzc2VkIHdoZW4gYSBicm93c2VyIHNoaXBzIGNvbnN0cnVjdGFibGVcbiAgICAgICAgLy8gc3R5bGVzaGVldHMuXG4gICAgICAgIGNvbnN0IHVzZXJTdHlsZXMgPSB0aGlzLnN0eWxlcztcbiAgICAgICAgY29uc3Qgc3R5bGVzID0gW107XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHVzZXJTdHlsZXMpKSB7XG4gICAgICAgICAgICBjb25zdCBmbGF0U3R5bGVzID0gZmxhdHRlblN0eWxlcyh1c2VyU3R5bGVzKTtcbiAgICAgICAgICAgIC8vIEFzIGEgcGVyZm9ybWFuY2Ugb3B0aW1pemF0aW9uIHRvIGF2b2lkIGR1cGxpY2F0ZWQgc3R5bGluZyB0aGF0IGNhblxuICAgICAgICAgICAgLy8gb2NjdXIgZXNwZWNpYWxseSB3aGVuIGNvbXBvc2luZyB2aWEgc3ViY2xhc3NpbmcsIGRlLWR1cGxpY2F0ZSBzdHlsZXNcbiAgICAgICAgICAgIC8vIHByZXNlcnZpbmcgdGhlIGxhc3QgaXRlbSBpbiB0aGUgbGlzdC4gVGhlIGxhc3QgaXRlbSBpcyBrZXB0IHRvXG4gICAgICAgICAgICAvLyB0cnkgdG8gcHJlc2VydmUgY2FzY2FkZSBvcmRlciB3aXRoIHRoZSBhc3N1bXB0aW9uIHRoYXQgaXQncyBtb3N0XG4gICAgICAgICAgICAvLyBpbXBvcnRhbnQgdGhhdCBsYXN0IGFkZGVkIHN0eWxlcyBvdmVycmlkZSBwcmV2aW91cyBzdHlsZXMuXG4gICAgICAgICAgICBjb25zdCBzdHlsZVNldCA9IGZsYXRTdHlsZXMucmVkdWNlUmlnaHQoKHNldCwgcykgPT4ge1xuICAgICAgICAgICAgICAgIHNldC5hZGQocyk7XG4gICAgICAgICAgICAgICAgLy8gb24gSUUgc2V0LmFkZCBkb2VzIG5vdCByZXR1cm4gdGhlIHNldC5cbiAgICAgICAgICAgICAgICByZXR1cm4gc2V0O1xuICAgICAgICAgICAgfSwgbmV3IFNldCgpKTtcbiAgICAgICAgICAgIC8vIEFycmF5LmZyb20gZG9lcyBub3Qgd29yayBvbiBTZXQgaW4gSUVcbiAgICAgICAgICAgIHN0eWxlU2V0LmZvckVhY2goKHYpID0+IHN0eWxlcy51bnNoaWZ0KHYpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh1c2VyU3R5bGVzKSB7XG4gICAgICAgICAgICBzdHlsZXMucHVzaCh1c2VyU3R5bGVzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3R5bGVzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBQZXJmb3JtcyBlbGVtZW50IGluaXRpYWxpemF0aW9uLiBCeSBkZWZhdWx0IHRoaXMgY2FsbHMgYGNyZWF0ZVJlbmRlclJvb3RgXG4gICAgICogdG8gY3JlYXRlIHRoZSBlbGVtZW50IGByZW5kZXJSb290YCBub2RlIGFuZCBjYXB0dXJlcyBhbnkgcHJlLXNldCB2YWx1ZXMgZm9yXG4gICAgICogcmVnaXN0ZXJlZCBwcm9wZXJ0aWVzLlxuICAgICAqL1xuICAgIGluaXRpYWxpemUoKSB7XG4gICAgICAgIHN1cGVyLmluaXRpYWxpemUoKTtcbiAgICAgICAgdGhpcy5yZW5kZXJSb290ID1cbiAgICAgICAgICAgIHRoaXMuY3JlYXRlUmVuZGVyUm9vdCgpO1xuICAgICAgICAvLyBOb3RlLCBpZiByZW5kZXJSb290IGlzIG5vdCBhIHNoYWRvd1Jvb3QsIHN0eWxlcyB3b3VsZC9jb3VsZCBhcHBseSB0byB0aGVcbiAgICAgICAgLy8gZWxlbWVudCdzIGdldFJvb3ROb2RlKCkuIFdoaWxlIHRoaXMgY291bGQgYmUgZG9uZSwgd2UncmUgY2hvb3Npbmcgbm90IHRvXG4gICAgICAgIC8vIHN1cHBvcnQgdGhpcyBub3cgc2luY2UgaXQgd291bGQgcmVxdWlyZSBkaWZmZXJlbnQgbG9naWMgYXJvdW5kIGRlLWR1cGluZy5cbiAgICAgICAgaWYgKHdpbmRvdy5TaGFkb3dSb290ICYmIHRoaXMucmVuZGVyUm9vdCBpbnN0YW5jZW9mIHdpbmRvdy5TaGFkb3dSb290KSB7XG4gICAgICAgICAgICB0aGlzLmFkb3B0U3R5bGVzKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgbm9kZSBpbnRvIHdoaWNoIHRoZSBlbGVtZW50IHNob3VsZCByZW5kZXIgYW5kIGJ5IGRlZmF1bHRcbiAgICAgKiBjcmVhdGVzIGFuZCByZXR1cm5zIGFuIG9wZW4gc2hhZG93Um9vdC4gSW1wbGVtZW50IHRvIGN1c3RvbWl6ZSB3aGVyZSB0aGVcbiAgICAgKiBlbGVtZW50J3MgRE9NIGlzIHJlbmRlcmVkLiBGb3IgZXhhbXBsZSwgdG8gcmVuZGVyIGludG8gdGhlIGVsZW1lbnQnc1xuICAgICAqIGNoaWxkTm9kZXMsIHJldHVybiBgdGhpc2AuXG4gICAgICogQHJldHVybnMge0VsZW1lbnR8RG9jdW1lbnRGcmFnbWVudH0gUmV0dXJucyBhIG5vZGUgaW50byB3aGljaCB0byByZW5kZXIuXG4gICAgICovXG4gICAgY3JlYXRlUmVuZGVyUm9vdCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYXR0YWNoU2hhZG93KHsgbW9kZTogJ29wZW4nIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIHN0eWxpbmcgdG8gdGhlIGVsZW1lbnQgc2hhZG93Um9vdCB1c2luZyB0aGUgYHN0YXRpYyBnZXQgc3R5bGVzYFxuICAgICAqIHByb3BlcnR5LiBTdHlsaW5nIHdpbGwgYXBwbHkgdXNpbmcgYHNoYWRvd1Jvb3QuYWRvcHRlZFN0eWxlU2hlZXRzYCB3aGVyZVxuICAgICAqIGF2YWlsYWJsZSBhbmQgd2lsbCBmYWxsYmFjayBvdGhlcndpc2UuIFdoZW4gU2hhZG93IERPTSBpcyBwb2x5ZmlsbGVkLFxuICAgICAqIFNoYWR5Q1NTIHNjb3BlcyBzdHlsZXMgYW5kIGFkZHMgdGhlbSB0byB0aGUgZG9jdW1lbnQuIFdoZW4gU2hhZG93IERPTVxuICAgICAqIGlzIGF2YWlsYWJsZSBidXQgYGFkb3B0ZWRTdHlsZVNoZWV0c2AgaXMgbm90LCBzdHlsZXMgYXJlIGFwcGVuZGVkIHRvIHRoZVxuICAgICAqIGVuZCBvZiB0aGUgYHNoYWRvd1Jvb3RgIHRvIFttaW1pYyBzcGVjXG4gICAgICogYmVoYXZpb3JdKGh0dHBzOi8vd2ljZy5naXRodWIuaW8vY29uc3RydWN0LXN0eWxlc2hlZXRzLyN1c2luZy1jb25zdHJ1Y3RlZC1zdHlsZXNoZWV0cykuXG4gICAgICovXG4gICAgYWRvcHRTdHlsZXMoKSB7XG4gICAgICAgIGNvbnN0IHN0eWxlcyA9IHRoaXMuY29uc3RydWN0b3IuX3N0eWxlcztcbiAgICAgICAgaWYgKHN0eWxlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBUaGVyZSBhcmUgdGhyZWUgc2VwYXJhdGUgY2FzZXMgaGVyZSBiYXNlZCBvbiBTaGFkb3cgRE9NIHN1cHBvcnQuXG4gICAgICAgIC8vICgxKSBzaGFkb3dSb290IHBvbHlmaWxsZWQ6IHVzZSBTaGFkeUNTU1xuICAgICAgICAvLyAoMikgc2hhZG93Um9vdC5hZG9wdGVkU3R5bGVTaGVldHMgYXZhaWxhYmxlOiB1c2UgaXQuXG4gICAgICAgIC8vICgzKSBzaGFkb3dSb290LmFkb3B0ZWRTdHlsZVNoZWV0cyBwb2x5ZmlsbGVkOiBhcHBlbmQgc3R5bGVzIGFmdGVyXG4gICAgICAgIC8vIHJlbmRlcmluZ1xuICAgICAgICBpZiAod2luZG93LlNoYWR5Q1NTICE9PSB1bmRlZmluZWQgJiYgIXdpbmRvdy5TaGFkeUNTUy5uYXRpdmVTaGFkb3cpIHtcbiAgICAgICAgICAgIHdpbmRvdy5TaGFkeUNTUy5TY29waW5nU2hpbS5wcmVwYXJlQWRvcHRlZENzc1RleHQoc3R5bGVzLm1hcCgocykgPT4gcy5jc3NUZXh0KSwgdGhpcy5sb2NhbE5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHN1cHBvcnRzQWRvcHRpbmdTdHlsZVNoZWV0cykge1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJSb290LmFkb3B0ZWRTdHlsZVNoZWV0cyA9XG4gICAgICAgICAgICAgICAgc3R5bGVzLm1hcCgocykgPT4gcy5zdHlsZVNoZWV0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIFRoaXMgbXVzdCBiZSBkb25lIGFmdGVyIHJlbmRlcmluZyBzbyB0aGUgYWN0dWFsIHN0eWxlIGluc2VydGlvbiBpcyBkb25lXG4gICAgICAgICAgICAvLyBpbiBgdXBkYXRlYC5cbiAgICAgICAgICAgIHRoaXMuX25lZWRzU2hpbUFkb3B0ZWRTdHlsZVNoZWV0cyA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgICAgIHN1cGVyLmNvbm5lY3RlZENhbGxiYWNrKCk7XG4gICAgICAgIC8vIE5vdGUsIGZpcnN0IHVwZGF0ZS9yZW5kZXIgaGFuZGxlcyBzdHlsZUVsZW1lbnQgc28gd2Ugb25seSBjYWxsIHRoaXMgaWZcbiAgICAgICAgLy8gY29ubmVjdGVkIGFmdGVyIGZpcnN0IHVwZGF0ZS5cbiAgICAgICAgaWYgKHRoaXMuaGFzVXBkYXRlZCAmJiB3aW5kb3cuU2hhZHlDU1MgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd2luZG93LlNoYWR5Q1NTLnN0eWxlRWxlbWVudCh0aGlzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBlbGVtZW50LiBUaGlzIG1ldGhvZCByZWZsZWN0cyBwcm9wZXJ0eSB2YWx1ZXMgdG8gYXR0cmlidXRlc1xuICAgICAqIGFuZCBjYWxscyBgcmVuZGVyYCB0byByZW5kZXIgRE9NIHZpYSBsaXQtaHRtbC4gU2V0dGluZyBwcm9wZXJ0aWVzIGluc2lkZVxuICAgICAqIHRoaXMgbWV0aG9kIHdpbGwgKm5vdCogdHJpZ2dlciBhbm90aGVyIHVwZGF0ZS5cbiAgICAgKiAqIEBwYXJhbSBfY2hhbmdlZFByb3BlcnRpZXMgTWFwIG9mIGNoYW5nZWQgcHJvcGVydGllcyB3aXRoIG9sZCB2YWx1ZXNcbiAgICAgKi9cbiAgICB1cGRhdGUoY2hhbmdlZFByb3BlcnRpZXMpIHtcbiAgICAgICAgc3VwZXIudXBkYXRlKGNoYW5nZWRQcm9wZXJ0aWVzKTtcbiAgICAgICAgY29uc3QgdGVtcGxhdGVSZXN1bHQgPSB0aGlzLnJlbmRlcigpO1xuICAgICAgICBpZiAodGVtcGxhdGVSZXN1bHQgaW5zdGFuY2VvZiBUZW1wbGF0ZVJlc3VsdCkge1xuICAgICAgICAgICAgdGhpcy5jb25zdHJ1Y3RvclxuICAgICAgICAgICAgICAgIC5yZW5kZXIodGVtcGxhdGVSZXN1bHQsIHRoaXMucmVuZGVyUm9vdCwgeyBzY29wZU5hbWU6IHRoaXMubG9jYWxOYW1lLCBldmVudENvbnRleHQ6IHRoaXMgfSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gV2hlbiBuYXRpdmUgU2hhZG93IERPTSBpcyB1c2VkIGJ1dCBhZG9wdGVkU3R5bGVzIGFyZSBub3Qgc3VwcG9ydGVkLFxuICAgICAgICAvLyBpbnNlcnQgc3R5bGluZyBhZnRlciByZW5kZXJpbmcgdG8gZW5zdXJlIGFkb3B0ZWRTdHlsZXMgaGF2ZSBoaWdoZXN0XG4gICAgICAgIC8vIHByaW9yaXR5LlxuICAgICAgICBpZiAodGhpcy5fbmVlZHNTaGltQWRvcHRlZFN0eWxlU2hlZXRzKSB7XG4gICAgICAgICAgICB0aGlzLl9uZWVkc1NoaW1BZG9wdGVkU3R5bGVTaGVldHMgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuY29uc3RydWN0b3IuX3N0eWxlcy5mb3JFYWNoKChzKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICAgICAgICAgICAgICAgIHN0eWxlLnRleHRDb250ZW50ID0gcy5jc3NUZXh0O1xuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyUm9vdC5hcHBlbmRDaGlsZChzdHlsZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbnZva2VkIG9uIGVhY2ggdXBkYXRlIHRvIHBlcmZvcm0gcmVuZGVyaW5nIHRhc2tzLiBUaGlzIG1ldGhvZCBtdXN0IHJldHVyblxuICAgICAqIGEgbGl0LWh0bWwgVGVtcGxhdGVSZXN1bHQuIFNldHRpbmcgcHJvcGVydGllcyBpbnNpZGUgdGhpcyBtZXRob2Qgd2lsbCAqbm90KlxuICAgICAqIHRyaWdnZXIgdGhlIGVsZW1lbnQgdG8gdXBkYXRlLlxuICAgICAqL1xuICAgIHJlbmRlcigpIHtcbiAgICB9XG59XG4vKipcbiAqIEVuc3VyZSB0aGlzIGNsYXNzIGlzIG1hcmtlZCBhcyBgZmluYWxpemVkYCBhcyBhbiBvcHRpbWl6YXRpb24gZW5zdXJpbmdcbiAqIGl0IHdpbGwgbm90IG5lZWRsZXNzbHkgdHJ5IHRvIGBmaW5hbGl6ZWAuXG4gKlxuICogTm90ZSB0aGlzIHByb3BlcnR5IG5hbWUgaXMgYSBzdHJpbmcgdG8gcHJldmVudCBicmVha2luZyBDbG9zdXJlIEpTIENvbXBpbGVyXG4gKiBvcHRpbWl6YXRpb25zLiBTZWUgdXBkYXRpbmctZWxlbWVudC50cyBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAqL1xuTGl0RWxlbWVudFsnZmluYWxpemVkJ10gPSB0cnVlO1xuLyoqXG4gKiBSZW5kZXIgbWV0aG9kIHVzZWQgdG8gcmVuZGVyIHRoZSBsaXQtaHRtbCBUZW1wbGF0ZVJlc3VsdCB0byB0aGUgZWxlbWVudCdzXG4gKiBET00uXG4gKiBAcGFyYW0ge1RlbXBsYXRlUmVzdWx0fSBUZW1wbGF0ZSB0byByZW5kZXIuXG4gKiBAcGFyYW0ge0VsZW1lbnR8RG9jdW1lbnRGcmFnbWVudH0gTm9kZSBpbnRvIHdoaWNoIHRvIHJlbmRlci5cbiAqIEBwYXJhbSB7U3RyaW5nfSBFbGVtZW50IG5hbWUuXG4gKiBAbm9jb2xsYXBzZVxuICovXG5MaXRFbGVtZW50LnJlbmRlciA9IHJlbmRlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxpdC1lbGVtZW50LmpzLm1hcCIsImltcG9ydCB7XHJcbiAgTGl0RWxlbWVudCxcclxuICBodG1sLFxyXG4gIGNzcyxcclxuICBjdXN0b21FbGVtZW50XHJcbn0gZnJvbSBcImxpdC1lbGVtZW50XCI7XHJcbmltcG9ydCBDb25mZXR0aUdlbmVyYXRvciBmcm9tIFwiY29uZmV0dGktanNcIjtcclxuaW1wb3J0IHsgd3JpdGVVc2VyRGF0YX0gZnJvbSBcIi4vdXRpbFwiO1xyXG5pbXBvcnQgeyBQcm9maWxlQ2FyZCB9IGZyb20gXCIuL3Byb2ZpbGUtY2FyZFwiO1xyXG5pbXBvcnQge1xyXG4gIGxldmVscywgTGV2ZWxzLCBMZXZlbCwgRm9ybXMsIFdvcmRcclxufSBmcm9tIFwiLi9kYXRhXCI7XHJcbmltcG9ydCB7IHNob3dMb2cgfSBmcm9tIFwiLi9sb2ctc2NyZWVuXCI7XHJcbmRlY2xhcmUgZ2xvYmFsIHtcclxuICBpbnRlcmZhY2UgV2luZG93IHtcclxuICAgIGZpcmViYXNlOiBhbnk7XHJcbiAgfVxyXG59XHJcblxyXG5pbnRlcmZhY2UgSVVzZXIge1xyXG4gIGVtYWlsOiBzdHJpbmc7XHJcbiAgdWlkOiBudW1iZXI7XHJcbiAgbmFtZTogc3RyaW5nO1xyXG59XHJcblxyXG5cclxudHlwZSBQb2ludENvbGxlY3Rpb24gPSB7IFtrZXk6IHN0cmluZ106IG51bWJlciB9O1xyXG5cclxuZXhwb3J0IGNsYXNzIEVuZ2xpc2hWZXJic0dhbWUgZXh0ZW5kcyBMaXRFbGVtZW50IHtcclxuICBzdGF0aWMgZ2V0IHByb3BlcnRpZXMoKSB7XHJcbiAgICByZXR1cm4ge307XHJcbiAgfVxyXG4gIHN0YXRpYyBnZXQgc3R5bGVzKCkge1xyXG4gICAgcmV0dXJuIFtcclxuICAgICAgY3NzYFxyXG4gICAgICAgIDpob3N0IHtcclxuICAgICAgICAgIGJhY2tncm91bmQ6IHdoaXRlO1xyXG4gICAgICAgICAgd2lkdGg6IDEwMHZ3O1xyXG4gICAgICAgICAgaGVpZ2h0OiAxMDB2aDtcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgLS1nbG9iYWwtZm9udDogXCJDYWJpblwiLCBzYW5zLXNlcmlmO1xyXG4gICAgICAgICAgLS1nbG9iYWwtY29sb3I6ICMzQUFBMzU7XHJcbiAgICAgICAgICAtLW1vYmlsZS1iYWNrZ3JvdW5kLWNvbG9yOiAjY2NkNGUwO1xyXG4gICAgICAgICAgLS1tb2JpbGUtdG9wOiBsaW5lYXItZ3JhZGllbnQodG8gYm90dG9tLCAjYTU3ZmZmLCAjNjNiZGEyKTtcclxuICAgICAgICAgIC0tbW9iaWxlLWJvdHRvbTogbGluZWFyLWdyYWRpZW50KHRvIHRvcCwgI2E1N2ZmZiwgIzYzYmRhMik7XHJcbiAgICAgICAgICAtLW1vYmlsZS1nbG9iYWw6ICM4N2MwYzA7XHJcbiAgICAgICAgICAtLWRlc2t0b3AtY29sb3I6ICNGOUIyMzM7XHJcbiAgICAgICAgICAtLXdhcm4tY29sb3I6ICNDQjQ1NEU7XHJcbiAgICAgICAgICAtLWJhZC1jb2xvcjogI2Q2NWI2MztcclxuICAgICAgICAgIC0tZ29vZC1jb2xvcjogIzdkZmZhZjtcclxuICAgICAgICAgIG92ZXJmbG93OiBoaWRkZW47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgICN0aXRsZSB7XHJcbiAgICAgICAgICBmb250LWZhbWlseTogdmFyKC0tZ2xvYmFsLWZvbnQpO1xyXG4gICAgICAgICAgZm9udC1zaXplOiAycmVtO1xyXG4gICAgICAgIH1cclxuICAgICAgICAjbWVudWJ1dHRvbjpob3ZlcntcclxuICAgICAgICAgIHRyYW5zZm9ybTogc2NhbGUoMS4yKTtcclxuICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjtcclxuICAgICAgICB9XHJcbiAgICAgICAgI2NvbnRhaW5lciB7XHJcbiAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICAgICAgd2lkdGg6IDEwMCU7XHJcbiAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgICAgICAgIGhlaWdodDogMTAwJTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaW5wdXQge1xyXG4gICAgICAgICAgb3V0bGluZTogMXB4IHNvbGlkIHdoaXRlO1xyXG4gICAgICAgICAgYm9yZGVyOiBub25lO1xyXG4gICAgICAgICAgYW5pbWF0aW9uOiBib3JkZXJGbGlja2VyIDAuNHMgaW5maW5pdGUgYWx0ZXJuYXRlLXJldmVyc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBAa2V5ZnJhbWVzIGJvcmRlckZsaWNrZXIge1xyXG4gICAgICAgICAgMTAwJSB7XHJcbiAgICAgICAgICAgIG91dGxpbmU6IDFweCB2YXIoLS1nbG9iYWwtY29sb3IpIHNvbGlkO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBAa2V5ZnJhbWVzIHdyb25nIHtcclxuICAgICAgICAgIHRvIHtcclxuICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tYmFkLWNvbG9yKTtcclxuICAgICAgICAgICAgY29sb3I6IHdoaXRlO1xyXG4gICAgICAgICAgICBvdXRsaW5lOiAxcHggc29saWQgdmFyKC0tYmFkLWNvbG9yKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgI3RyYW5zbGF0aW9ucGFycm90e1xyXG4gICAgICAgICAgd2lkdGg6IDRyZW07XHJcbiAgICAgICAgICBoZWlnaHQ6IDRyZW07XHJcbiAgICAgICAgICAtd2Via2l0LXRyYW5zZm9ybTogc2NhbGVYKC0xKTtcclxuICB0cmFuc2Zvcm06IHNjYWxlWCgtMSk7XHJcblxyXG4gICAgICAgIH1cclxuICAgICAgICBpbnB1dCxcclxuICAgICAgICAudGhld29yZCB7XHJcbiAgICAgICAgICB3aWR0aDogMjB2dztcclxuICAgICAgICAgIGhlaWdodDogMzB2aDtcclxuICAgICAgICAgIGZvbnQtc2l6ZTogMjAwJTtcclxuICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gICAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICAgICAgICBmb250LWZhbWlseTogdmFyKC0tZ2xvYmFsLWZvbnQpO1xyXG4gICAgICAgICBcclxuICAgICAgICB9XHJcbiAgICAgICAgaW5wdXR7XHJcbiAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAgdHJhbnNwYXJlbnQ7XHJcbiAgICAgICAgICBjb2xvcjogdmFyKC0tZ2xvYmFsLWNvbG9yKTtcclxuICAgICAgICAgIG91dGxpbmU6IDFweCBzb2xpZCB0cmFuc3BhcmVudDtcclxuICAgICAgICB9XHJcbiBcclxuICAgICAgICBAa2V5ZnJhbWVzIHN0b3Age1xyXG4gICAgICAgICAgdG8ge1xyXG4gICAgICAgICAgICBvdXRsaW5lOiAxcHggc29saWQgdmFyKC0tZ2xvYmFsLWNvbG9yKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLnRoZXdvcmQge1xyXG4gICAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tZ2xvYmFsLWNvbG9yKTtcclxuICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICB2YXIoLS1nbG9iYWwtY29sb3IpO1xyXG4gICAgICAgICAgY29sb3I6IHdoaXRlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBzZWxlY3Qge1xyXG4gICAgICAgICAganVzdGlmeS1zZWxmOiBmbGV4LXN0YXJ0O1xyXG4gICAgICAgICAgcGFkZGluZzogMC42cmVtO1xyXG4gICAgICAgICAgd2lkdGg6IG1heC1jb250ZW50O1xyXG4gICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XHJcbiAgICAgICAgICBmb250LWZhbWlseTogdmFyKC0tZ2xvYmFsLWZvbnQpO1xyXG4gICAgICAgICAgY29sb3I6IGJsYWNrO1xyXG4gICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgYmxhY2s7XHJcbiAgICAgICAgICBtYXJnaW4tdG9wOiAuNnJlbTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIG9wdGlvbiB7XHJcbiAgICAgICAgICBwYWRkaW5nOiAwLjRyZW07XHJcbiAgICAgICAgICBmb250LWZhbWlseTogdmFyKC0tZ2xvYmFsLWZvbnQpO1xyXG4gICAgICAgICAgZm9udC1zaXplOiAxMjAlO1xyXG4gICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XHJcbiAgICAgICAgICBjb2xvcjogYmxhY2s7XHJcbiAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCBibGFjaztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICNiZWxvdyB7XHJcbiAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICAgICAgbWFyZ2luLXRvcDogNnZoO1xyXG4gICAgICAgICAgd2lkdGg6IDEwMCU7XHJcbiAgICAgICAgICBoZWlnaHQ6IDIuNHJlbTtcclxuICAgICAgICAgIGZvbnQtc2l6ZTogMTQwJTtcclxuICAgICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gICAgICAgICAgY29sb3I6IGJsYWNrO1xyXG4gICAgICAgICAgZm9udC1mYW1pbHk6IHZhcigtLWdsb2JhbC1mb250KTtcclxuICAgICAgICB9XHJcbiAgICAgICBcclxuXHJcbiAgICAgICAgLmljb24ge1xyXG4gICAgICAgICAgb2JqZWN0LWZpdDogY29udGFpbjtcclxuICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xyXG4gICAgICAgICAgd2lkdGg6IDQuMnJlbTtcclxuICAgICAgICAgIGhlaWdodDogMS44cmVtO1xyXG4gICAgICAgICAgbWFyZ2luLWxlZnQ6IDFyZW07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAuZmxpcC1jYXJkIHtcclxuICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xyXG4gICAgICAgICAgd2lkdGg6IDIwdnc7XHJcbiAgICAgICAgICBoZWlnaHQ6IDMwdmg7XHJcbiAgICAgICAgICBwZXJzcGVjdGl2ZTogMTAwMHB4O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLmZsaXAtY2FyZC1pbm5lciB7XHJcbiAgICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgICAgICAgICB3aWR0aDogMTAwJTtcclxuICAgICAgICAgIGhlaWdodDogMTAwJTtcclxuICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgICAgICAgIHRyYW5zaXRpb246IHRyYW5zZm9ybSAwLjhzO1xyXG4gICAgICAgICAgdHJhbnNmb3JtLXN0eWxlOiBwcmVzZXJ2ZS0zZDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC5mbGlwLWNhcmQtZnJvbnQsXHJcbiAgICAgICAgLmZsaXAtY2FyZC1iYWNrIHtcclxuICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgICAgICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgICAgICAgaGVpZ2h0OiAxMDAlO1xyXG4gICAgICAgICAgYmFja2ZhY2UtdmlzaWJpbGl0eTogaGlkZGVuO1xyXG4gICAgICAgICAgLXdlYmtpdC1iYWNrZmFjZS12aXNpYmlsaXR5OiBoaWRkZW47XHJcbiAgICAgICAgfVxyXG4gICAgICAgICNwb2ludHMge1xyXG4gICAgICAgICAgICBib3JkZXI6IG5vbmU7XHJcbiAgICAgICAgICAgIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xyXG4gICAgICAgICAgICBjb2xvcjogd2hpdGU7XHJcbiAgICAgICAgICB3aWR0aDogbWF4LWNvbnRlbnQ7XHJcbiAgICAgICAgICBoZWlnaHQ6IG1heC1jb250ZW50O1xyXG4gICAgICAgICAgZm9udC1zaXplOiAxcmVtO1xyXG4gICAgICAgIFxyXG4gICAgICAgICAgZm9udC1mYW1pbHk6IHZhcigtLWdsb2JhbC1mb250KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC5mbGlwLWNhcmQtYmFjayB7XHJcbiAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1nbG9iYWwtY29sb3IpO1xyXG4gICAgICAgICAgY29sb3I6IHdoaXRlO1xyXG4gICAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgICAgICAgIGZvbnQtZmFtaWx5OiB2YXIoLS1nbG9iYWwtZm9udCk7XHJcbiAgICAgICAgICBmb250LXNpemU6IDIwMCU7XHJcbiAgICAgICAgICB0cmFuc2Zvcm06IHJvdGF0ZVkoMTgwZGVnKTtcclxuICAgICAgICAgIG91dGxpbmU6IDFweCBzb2xpZCB2YXIoLS1nbG9iYWwtY29sb3IpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAjdHJhbnNsYXRpb25ib3gge1xyXG4gICAgICAgICAgd2lkdGg6IDEwMCU7XHJcbiAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICAgICAgICBoZWlnaHQ6IG1heC1jb250ZW50O1xyXG4gICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XHJcbiAgICAgICAgICBjb2xvcjogYmxhY2s7XHJcbiAgICAgICAgICBwYWRkaW5nOiAwLjJyZW07XHJcbiAgICAgICAgICBmb250LXNpemU6IDEzMCU7XHJcbiAgICAgICAgICBtYXJnaW4tdG9wOiAxNnZoO1xyXG4gICAgICAgICAgbWFyZ2luLWJvdHRvbTogNHZoO1xyXG4gICAgICAgICAgei1pbmRleDogOTk3O1xyXG4gICAgICAgICAgZm9udC1mYW1pbHk6IHZhcigtLWdsb2JhbC1mb250KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICNzcGVha2VyIHtcclxuICAgICAgICAgIGZvbnQtZmFtaWx5OiBBcmlhbCwgSGVsdmV0aWNhLCBzYW5zLXNlcmlmO1xyXG4gICAgICAgICAgZm9udC1zaXplOiA4MCU7XHJcbiAgICAgICAgICBtYXJnaW4tbGVmdDogMC43cmVtO1xyXG4gICAgICAgICAgd2lkdGg6IDEuNnJlbTtcclxuICAgICAgICAgIGhlaWdodDogMS42cmVtO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLmhvdmVyYWJsZSB7XHJcbiAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgICAgICAgICB0cmFuc2Zvcm06IHNjYWxlKDEuMSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAjYnV0dG9ucyB7XHJcbiAgICAgICAgICBkaXNwbGF5OmZsZXg7XHJcbiAgICAgICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWRlc2t0b3AtY29sb3IpO1xyXG4gICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XHJcbiAgICAgICAgICAgIGhlaWdodDogMTB2aDtcclxuICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgICAgICAgICAgcGFkZGluZy1sZWZ0OiAyJTtcclxuICAgICAgICAgICAgcGFkZGluZy1yaWdodDogMiU7XHJcbiAgICAgICAgICAgIHdpZHRoOiA5NiU7XHJcbiAgICAgICAgICAgIGNvbG9yOiB3aGl0ZTtcclxuICAgICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAubW9kYWwge1xyXG4gICAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgICAgICAgIHBvc2l0aW9uOiBmaXhlZDtcclxuICAgICAgICAgIHRvcDogMDtcclxuICAgICAgICAgIGxlZnQ6IDA7XHJcbiAgICAgICAgICB3aWR0aDogMTAwJTtcclxuICAgICAgICAgIGhlaWdodDogMTAwdmg7XHJcbiAgICAgICAgICB6LWluZGV4OiA5OTk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIFxyXG4gICAgICAgIEBrZXlmcmFtZXMgYWNjZXB0ZWQge1xyXG4gICAgICAgICAgdG8ge1xyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1nbG9iYWwtY29sb3IpO1xyXG4gICAgICAgICAgICBjb2xvcjogd2hpdGU7XHJcbiAgICAgICAgICAgIG91dGxpbmU6IDFweCBzb2xpZCB2YXIoLS1nbG9iYWwtY29sb3IpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLmJveCB7XHJcbiAgICAgICAgICBmb250LXNpemU6IDJyZW07XHJcbiAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcclxuICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xyXG4gICAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgICAgICAgICBjb2xvcjogYmxhY2s7XHJcbiAgICAgICAgICB3aWR0aDogbWF4LWNvbnRlbnQ7XHJcbiAgICAgICAgICBwYWRkaW5nOiAxcmVtO1xyXG4gICAgICAgICAgYm94LXNoYWRvdzogM3B4IDNweCA2cHggZ3JheTtcclxuICAgICAgICAgIGZvbnQtZmFtaWx5OiB2YXIoLS1nbG9iYWwtZm9udCk7XHJcbiAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC5ib3g+aW1ne1xyXG4gICAgICAgICAgd2lkdGg6IDhyZW07XHJcbiAgICAgICAgICBoZWlnaHQ6IDhyZW07XHJcbiAgICAgICAgICBhbGlnbi1zZWxmOiBmbGV4LXN0YXJ0O1xyXG4gICAgICAgICAgbWFyZ2luLXJpZ2h0OiA0cmVtOyAtd2Via2l0LXRyYW5zZm9ybTogc2NhbGVYKC0xKTtcclxuICB0cmFuc2Zvcm06IHNjYWxlWCgtMSk7XHJcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIEBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1heC13aWR0aDogNjAwcHgpIHtcclxuICAgICAgICAgIDpob3N0IHtcclxuICAgICAgICAgICAgYmFja2dyb3VuZC1pbWFnZTogbm9uZTtcclxuICAgICAgICAgICBcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIC5mbGlwLWNhcmQsXHJcbiAgICAgICAgICBpbnB1dCxcclxuICAgICAgICAgIC50aGV3b3JkIHtcclxuICAgICAgICAgICAgd2lkdGg6IDMwdnc7XHJcbiAgICAgICAgICAgIGhlaWdodDogMjB2aDtcclxuICAgICAgICAgICAgZm9udC1zaXplOiA4MCU7XHJcbiAgICAgICAgICAgIHBhZGRpbmctbGVmdDogMC4xcmVtO1xyXG4gICAgICAgICAgICBwYWRkaW5nLXJpZ2h0OiAwLjFyZW07XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICAuZmxpcC1jYXJkLWJhY2sge1xyXG4gICAgICAgICAgICBmb250LXNpemU6IDkwJTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgICNiZWxvdyB7XHJcbiAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgICAgICAgICAgYm90dG9tOiAwO1xyXG4gICAgICAgICAgICBsZWZ0OiAwO1xyXG4gICAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAwO1xyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1kZXNrdG9wLWNvbG9yKTtcclxuICAgICAgICAgICAgaGVpZ2h0OiA4dmg7XHJcbiAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICAgICAgICAgIGNvbG9yOiBibGFjaztcclxuICAgICAgICAgICAgd2lkdGg6IDEwMCU7XHJcbiAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gICAgICAgICAgICBjb2xvcjogd2hpdGU7XHJcblxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgI3BvaW50cyB7XHJcbiAgICAgICAgICAgIGJvcmRlcjogbm9uZTtcclxuICAgICAgICAgICAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XHJcbiAgICAgICAgICAgIGNvbG9yOiB3aGl0ZTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgICNidXR0b25zIHtcclxuXHJcbiAgICAgICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWRlc2t0b3AtY29sb3IpO1xyXG4gICAgICAgICBcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIFxyXG4gICAgICAgICN0aXRsZXtcclxuICAgICAgICAgIGZvbnQtc2l6ZTogMXJlbTtcclxuICAgICAgICB9XHJcbiAgICAgICAgI3dyYXBwZXIge1xyXG4gICAgICBcclxuICAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICAgICAgICAgIGFsaWduLWNvbnRlbnQ6IGNlbnRlcjtcclxuICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICAgICAgICAgIGp1c3RpZnktaXRlbXM6IGNlbnRlcjtcclxuICAgICAgICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgICAgICAgaGVpZ2h0OiAxMDAlO1xyXG4gICAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgICAgICAgdG9wOiAwO1xyXG4gICAgICAgICAgbGVmdDogMDtcclxuICAgICAgICAgIG1hcmdpbjogMDtcclxuICAgICAgICAgIHBhZGRpbmc6IDA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgICAgI3RyYW5zbGF0aW9uYm94ICB7XHJcbiAgICAgICAgICAgIG1hcmdpbi10b3A6IDIydmg7XHJcbiAgICAgICAgICAgIGhlaWdodDogbWF4LWNvbnRlbnQ7XHJcbiAgICAgICAgICAgIHdpZHRoOiA4MHZ3O1xyXG4gICAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgIFxyXG4gICAgICAgICAgI2J1dHRvbnMgPiBzdmcge1xyXG4gICAgICAgICAgICBmaWxsOiB3aGl0ZTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgICNzcGVha2VyIHtcclxuICAgICAgICAgICAgbWFyZ2luLWxlZnQ6IDAuM3JlbTtcclxuICAgICAgICAgICAgZm9udC1zaXplOiAxMDAlO1xyXG4gICAgICAgICAgICB3aWR0aDogMXJlbTtcclxuICAgICAgICAgICAgaGVpZ2h0OiAxcmVtO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgXHJcbiAgICAgICAgICAjYm94IHtcclxuICAgICAgICAgICAgZm9udC1zaXplOiAxLjRyZW07XHJcbiAgICAgICAgICAgIHdpZHRoOiA5MCU7XHJcbiAgICAgICAgICAgIGJveC1zaGFkb3c6IDNweCAzcHggM3B4IGdyYXk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICBgXHJcbiAgICBdO1xyXG4gIH1cclxuICBwb2ludHM6IG51bWJlciA9IDA7XHJcbiAgZ3JlZXRpbmdNZXNzYWdlOiBzdHJpbmc7XHJcbiAgY29udGFpbmVyOiBIVE1MRGl2RWxlbWVudDtcclxuICBkYXRhOiBMZXZlbDtcclxuICBsZXZlbHM6IExldmVscyA9IGxldmVscztcclxuICBwb2ludENvbGxlY3Rpb246IFBvaW50Q29sbGVjdGlvbjtcclxuICBpOiBudW1iZXIgPSAwO1xyXG4gIG46IG51bWJlciA9IDA7XHJcbiAgbDogbnVtYmVyID0gMDtcclxuICBjb3JyZWN0V29yZDogRm9ybXM7XHJcbiAgcmVmOiBib29sZWFuID0gZmFsc2U7XHJcbiAgc3BlZWNoID0gd2luZG93LnNwZWVjaFN5bnRoZXNpcztcclxuICB0cmFuc2xhdGlvbkJveDogSFRNTERpdkVsZW1lbnQ7XHJcbiAgY29uZ3JhdHVsYXRpb25zOiBIVE1MRGl2RWxlbWVudDtcclxuICB1c2VyITogSVVzZXI7XHJcbiAgbWVudWJ1dHRvbjogSFRNTEltYWdlRWxlbWVudDtcclxuICB0cmFuc2xhdGlvbjogc3RyaW5nO1xyXG4gIHByb2ZpbGVDYXJkOiBQcm9maWxlQ2FyZDtcclxuICBvbGRWYWx1ZTogc3RyaW5nID0gXCJBMlwiO1xyXG4gIGZpcnN0VXBkYXRlZChhOiBhbnkpIHtcclxuICAgIHN1cGVyLmZpcnN0VXBkYXRlZChhKTtcclxuICAgIHRoaXMucHJvZmlsZUNhcmQgPSB0aGlzLnNoYWRvd1Jvb3QucXVlcnlTZWxlY3RvcihcIiNzZXR0aW5nc1wiKTtcclxuICAgIHRoaXMucG9pbnRzID0gdGhpcy5wb2ludENvbGxlY3Rpb24uQTI7XHJcbiAgICB0aGlzLmNvbnRhaW5lciA9IHRoaXMuc2hhZG93Um9vdCEucXVlcnlTZWxlY3RvcihcIiNjb250YWluZXJcIik7XHJcbiAgICB0aGlzLmNvbmdyYXR1bGF0aW9ucyA9IHRoaXMuc2hhZG93Um9vdCEucXVlcnlTZWxlY3RvcihcIiNjb25ncmF0dWxhdGlvbnNcIik7XHJcbiAgICB0aGlzLmNvbmdyYXR1bGF0aW9ucy5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICB0aGlzLmRhdGEgPSB0aGlzLmxldmVscy5BMjtcclxuICAgIHRoaXMubCA9IE9iamVjdC5lbnRyaWVzKHRoaXMuZGF0YSkubGVuZ3RoO1xyXG4gICAgdGhpcy5pID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogdGhpcy5sKTtcclxuICAgIHRoaXMubiA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDMpO1xyXG4gICAgbGV0IHdvcmQ6IFdvcmQgPSBPYmplY3QuZW50cmllcyh0aGlzLmRhdGEpW3RoaXMuaV07XHJcbiAgICBpZiAod29yZFswXS5pbmNsdWRlcyhcIiBcIikpIHtcclxuICAgICAgdGhpcy50cmFuc2xhdGlvbiA9IE9iamVjdC52YWx1ZXMod29yZClbMF0udG9TdHJpbmcoKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMudHJhbnNsYXRpb24gPSB3b3JkWzBdO1xyXG4gICAgfVxyXG4gICAgbGV0IHRoZXJlc3QgPSB3b3JkLnNsaWNlKDApIGFzIFdvcmQ7XHJcbiAgICB0aGlzLmNvcnJlY3RXb3JkID0gQXJyYXkuZnJvbSh0aGVyZXN0WzFdKTtcclxuICAgIHRoaXMuZ3JlZXQoKTtcclxuICAgIHRoaXMucmVxdWVzdFVwZGF0ZSgpO1xyXG4gIH1cclxuXHJcbiAgZ3JlZXQoKSB7XHJcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgdGhpcy5zaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3I8SFRNTEVsZW1lbnQ+KFwiI2dyZWV0aW5nXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICAgICAgdGhpcy53b3Jkc0FuaW1hdGlvbigpO1xyXG4gICAgfSwgMjQwMCk7XHJcbiAgfVxyXG4gIFxyXG4gIHdvcmRzQW5pbWF0aW9uKCl7XHJcbiAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKT0+eyBcclxuICAgICBsZXQgYm94ZXMgPSBBcnJheS5mcm9tKHRoaXMuc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yQWxsKFwiLnRoZXdvcmQsIGlucHV0XCIpKTtcclxuICAgIGJveGVzLmZvckVhY2goKGJveCwgaSk9PntcclxuICAgICAgICBib3guYW5pbWF0ZShbe3RyYW5zZm9ybTogXCJ0cmFuc2xhdGVZKC0yMHB4KVwifSx7dHJhbnNmb3JtOiBcInRyYW5zbGF0ZVkoMHB4KVwifV0sXHJcbiAgICAgICAge2R1cmF0aW9uOiA2MDAsXHJcbiAgICAgICAgZGVsYXk6IGkqMTAwfSlcclxuICAgICAgfSl9KTtcclxuICAgIFxyXG4gIH1cclxuXHJcbiAgc2VsZWN0aW9uQ2hvaWNlKG5ld1ZhbHVlOiBzdHJpbmcpe1xyXG4gICAgICBpZihuZXdWYWx1ZSA9PT0gXCJBbGxcIil7XHJcbiAgICAgICAgT2JqZWN0LnZhbHVlcyh0aGlzLmxldmVscykubWFwKGxldmVsPT57XHJcbiAgICAgICAgICByZXR1cm4gdGhpcy5kYXRhID0gey4uLmxldmVsfVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgIH1cclxuICAgICAgZWxzZXtcclxuICAgICAgICAgIHRoaXMuZGF0YSA9IHRoaXMubGV2ZWxzW2Ake25ld1ZhbHVlfWBdOyAgICAgICAgfVxyXG4gICAgICB0aGlzLnBvaW50cyA9IHRoaXMucG9pbnRDb2xsZWN0aW9uW2Ake25ld1ZhbHVlfWBdO1xyXG4gICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCk9PntcclxuICAgICAgdGhpcy53b3Jkc0FuaW1hdGlvbigpO1xyXG4gICAgIFxyXG4gICAgICB9KVxyXG4gICAgICB0aGlzLnJlZnJlc2hOdW1iZXIoKTtcclxuXHJcbiAgfVxyXG5cclxuICBtZW51RnVuY3Rpb25hbGl0eSgpe1xyXG4gICAgICB0aGlzLnByb2ZpbGVDYXJkLnN0eWxlLnRyYW5zZm9ybSA9IFwidHJhbnNsYXRlWCgwdncpXCI7XHJcbiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCk9PntcclxuICAgICAgdGhpcy5zaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3I8SFRNTERpdkVsZW1lbnQ+KFwiI3dyYXBwZXJcIikub25jbGljayA9ICgpPT57XHJcbiAgICAgICAgdGhpcy5wcm9maWxlQ2FyZC5zdHlsZS50cmFuc2Zvcm0gPSBcInRyYW5zbGF0ZVgoLTgwdncpXCI7XHJcbiAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpPT57XHJcbiAgICAgICAgdGhpcy5zaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3I8SFRNTERpdkVsZW1lbnQ+KFwiI3dyYXBwZXJcIikub25jbGljayA9IG51bGw7fVxyXG4gICAgKX19KTtcclxufVxyXG5cclxucG9pbnRzQWRkaXRpb24oKSB7XHJcbiAgdGhpcy5wb2ludHMgPSB0aGlzLnBvaW50cyArIDE7XHJcbiAgdGhpcy5wb2ludENvbGxlY3Rpb25bYCR7dGhpcy5vbGRWYWx1ZX1gXSA9IHRoaXMucG9pbnRzO1xyXG4gIHdyaXRlVXNlckRhdGEodGhpcy51c2VyLnVpZCwgdGhpcy5wb2ludENvbGxlY3Rpb24sIHRoaXMudXNlci5uYW1lKTtcclxuICB0aGlzLnJlcXVlc3RVcGRhdGUoKTtcclxuICB0aGlzLnByb2ZpbGVDYXJkLnJlcXVlc3RVcGRhdGUoKTtcclxufVxyXG5cclxuICBzaG93VGhlQW5zd2VyKCkge1xyXG4gICAgdGhpcy5zaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3I8SFRNTEVsZW1lbnQ+KFwiLmZsaXAtY2FyZC1pbm5lclwiKS5zdHlsZS50cmFuc2Zvcm0gPVxyXG4gICAgICBcInJvdGF0ZVkoMTgwZGVnKVwiO1xyXG4gICAgdGhpcy5yZXF1ZXN0VXBkYXRlKCk7XHJcbiAgfVxyXG4gIGNvbmdyYXR1bGF0ZSgpIHtcclxuICAgIGxldCBwb2ludGJveDogSFRNTEVsZW1lbnQgPSB0aGlzLnNoYWRvd1Jvb3QhLnF1ZXJ5U2VsZWN0b3IoXCIjcG9pbnRzXCIpO1xyXG4gICAgaWYgKHRoaXMucG9pbnRzICUgNSA9PT0gMCkge1xyXG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yPEhUTUxFbGVtZW50PihcIiNjYW52YXNcIikuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcclxuICAgICAgcG9pbnRib3guYW5pbWF0ZShcclxuICAgICAgICBbXHJcbiAgICAgICAgICB7IHRyYW5zZm9ybTogXCJzY2FsZSgxLjIpIHJvdGF0ZSg1ZGVnKSB0cmFuc2xhdGVYKC0xMHB4KVwiIH0sXHJcbiAgICAgICAgICB7IHRyYW5zZm9ybTogXCJzY2FsZSgxLjMpIHJvdGF0ZSgtNWRlZykgdHJhbnNsYXRlWCgtMTBweClcIiB9LFxyXG4gICAgICAgICAgeyB0cmFuc2Zvcm06IFwic2NhbGUoMSkgcm90YXRlKDBkZWcpIHRyYW5zbGF0ZVgoMHB4KVwiIH1cclxuICAgICAgICBdLFxyXG4gICAgICAgIHsgZHVyYXRpb246IDEwMDAgfVxyXG4gICAgICApO1xyXG4gICAgICBpZiAodGhpcy5wb2ludHMgJSAxMCA9PT0gMCkge1xyXG4gICAgICAgIGxldCBjb25mZXR0aVNldHRpbmdzID0geyB0YXJnZXQ6IFwiY2FudmFzXCIgfTtcclxuICAgICAgICBsZXQgY29uZmV0dGkgPSBuZXcgQ29uZmV0dGlHZW5lcmF0b3IoY29uZmV0dGlTZXR0aW5ncyk7XHJcbiAgICAgICAgY29uZmV0dGkucmVuZGVyKCk7XHJcbiAgICAgICAgaWYgKHRoaXMucG9pbnRzICUgNjAgPT09IDApIHtcclxuICAgICAgICAgIHRoaXMuY29uZ3JhdHVsYXRpb25zLnN0eWxlLmRpc3BsYXkgPSBcImZsZXhcIjtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbmxvZ2luZ091dCgpe1xyXG4gICAgd2luZG93LmZpcmViYXNlLmF1dGgoKS5zaWduT3V0KCkudGhlbigoKT0+IHtcclxuICAgICAgdGhpcy51c2VyID0gbnVsbDtcclxuICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3VzZXItaW5mbycpOyBcclxuICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3BvaW50cycpOyBcclxuICAgICAgc2hvd0xvZyhcIlpvc3RhxYJlxZsgd3lsb2dvd2FueVwiLCBcIldyYWNhaiBzenliY2l1dGtvLCBqdcW8IHTEmXNrbmlteSFcIiwgdHJ1ZSwgZmFsc2UpXHJcbiAgIFxyXG4gIH0pO31cclxuIFxyXG5cclxuICBob3ZlcmFibGUoZTogRXZlbnQpIHtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICg8SFRNTEVsZW1lbnQ+ZS50YXJnZXQpLmNsYXNzTGlzdC5hZGQoXCJob3ZlcmFibGVcIik7XHJcbiAgICAoPEhUTUxFbGVtZW50PmUudGFyZ2V0KS5hZGRFdmVudExpc3RlbmVyKFwibW91c2VvdXRcIiwgZSA9PiB7XHJcbiAgICAgICg8SFRNTEVsZW1lbnQ+ZS50YXJnZXQpLmNsYXNzTGlzdC5yZW1vdmUoXCJob3ZlcmFibGVcIik7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGZsaWNrZXIoKSB7XHJcbiAgICBpZiAodGhpcy5wb2ludHMgPT09IDEpIHtcclxuICAgICAgbGV0IGN1cnJlbnRXb3JkczogQXJyYXk8SFRNTEVsZW1lbnQ+ID0gQXJyYXkuZnJvbShcclxuICAgICAgICB0aGlzLnNoYWRvd1Jvb3QucXVlcnlTZWxlY3RvckFsbDxIVE1MRGl2RWxlbWVudD4oXCIudGhld29yZFwiKVxyXG4gICAgICApO1xyXG4gICAgICBjdXJyZW50V29yZHMuZm9yRWFjaCh3b3JkID0+IHtcclxuICAgICAgICB3b3JkLnN0eWxlLm9wYWNpdHkgPSBcIjBcIjtcclxuICAgICAgICB3b3JkLnN0eWxlLnRyYW5zaXRpb24gPSBcIi4zc1wiO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJlZnJlc2hOdW1iZXIoKSB7XHJcbiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xyXG4gICAgICBpZiAodGhpcy5jb25ncmF0dWxhdGlvbnMuc3R5bGUuZGlzcGxheSA9PT0gXCJub25lXCIpIHtcclxuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcjxIVE1MQ2FudmFzRWxlbWVudD4oXCIjY2FudmFzXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICAgICAgICB9LCAxMDAwKTtcclxuICAgICAgfVxyXG4gICAgICBsZXQgY3VycmVudFdvcmRzOiBBcnJheTxIVE1MRGl2RWxlbWVudD4gPSBBcnJheS5mcm9tKFxyXG4gICAgICAgIHRoaXMuc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yQWxsKFwiLnRoZXdvcmRcIilcclxuICAgICAgKTtcclxuICAgICAgY3VycmVudFdvcmRzLmZvckVhY2god29yZCA9PiB7XHJcbiAgICAgICAgd29yZC5zdHlsZS5vcGFjaXR5ID0gXCIxXCI7XHJcbiAgICAgIH0pO1xyXG4gICAgICB0aGlzLm4gPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAzKTtcclxuICAgICAgdGhpcy5sID0gT2JqZWN0LmVudHJpZXModGhpcy5kYXRhKS5sZW5ndGg7XHJcbiAgICAgIHRoaXMuaSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHRoaXMubCk7XHJcbiAgICAgIGxldCB3b3JkOiBbc3RyaW5nLCAoc3RyaW5nIHwgc3RyaW5nW10pW11dID0gT2JqZWN0LmVudHJpZXModGhpcy5kYXRhKVt0aGlzLmldO1xyXG4gICAgICBpZiAod29yZFswXS5pbmNsdWRlcyhcIiBcIikpIHtcclxuICAgICAgICB0aGlzLnRyYW5zbGF0aW9uID0gT2JqZWN0LnZhbHVlcyh3b3JkKVswXS50b1N0cmluZygpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMudHJhbnNsYXRpb24gPSB3b3JkWzBdO1xyXG4gICAgICB9XHJcbiAgICAgIGxldCB0aGVyZXN0ID0gd29yZC5zbGljZSgwKSBhcyBbc3RyaW5nLCAoc3RyaW5nIHwgc3RyaW5nW10pW11dO1xyXG4gICAgICB0aGlzLmNvcnJlY3RXb3JkID0gQXJyYXkuZnJvbSh0aGVyZXN0WzFdKTtcclxuICAgICAgdGhpcy5zaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3I8SFRNTElucHV0RWxlbWVudD4oXCIjaW5wdXRcIikudmFsdWUgPSBcIlwiO1xyXG4gICAgICB0aGlzLnNoYWRvd1Jvb3QucXVlcnlTZWxlY3RvcjxIVE1MSW5wdXRFbGVtZW50PihcIiNpbnB1dFwiKS5zdHlsZS5hbmltYXRpb24gPVxyXG4gICAgICAgIFwiYm9yZGVyRmxpY2tlciAuNnMgaW5maW5pdGUgYWx0ZXJuYXRlLXJldmVyc2VcIjtcclxuICAgICAgdGhpcy5yZWYgPSBmYWxzZTtcclxuICAgICAgdGhpcy5zaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3I8SFRNTERpdkVsZW1lbnQ+KFwiLmZsaXAtY2FyZC1pbm5lclwiKS5zdHlsZS50cmFuc2Zvcm0gPVxyXG4gICAgICAgIFwicm90YXRlWSgwZGVnKVwiO1xyXG4gICAgICB0aGlzLnJlcXVlc3RVcGRhdGUoKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgYXN5bmMgcmVhZFRoZVdvcmQoZm9ybTogYW55KSB7XHJcbiAgICB0aGlzLnNoYWRvd1Jvb3QucXVlcnlTZWxlY3RvcjxIVE1MSW1hZ2VFbGVtZW50PihcIiN0cmFuc2xhdGlvbnBhcnJvdFwiKS5zcmMgPSBcIi4vaW1nL3Bhcm90ZmFjZXNwZWFrLnN2Z1wiO1xyXG4gICAgbGV0IG1zZyA9IG5ldyBTcGVlY2hTeW50aGVzaXNVdHRlcmFuY2UoZm9ybSk7XHJcbiAgICBtc2cucmF0ZSA9IDAuNztcclxuICAgIGxldCB2b2ljZXMgPSB0aGlzLnNwZWVjaC5nZXRWb2ljZXMoKTtcclxuICAgIG1zZy52b2ljZSA9IHZvaWNlc1sxMF07XHJcbiAgICBtc2cubGFuZyA9IFwiZW4tVVNcIjtcclxuICAgIHRoaXMuc3BlZWNoLnNwZWFrKG1zZyk7XHJcbiAgICBzZXRUaW1lb3V0KCgpPT57XHJcbiAgICB0aGlzLnNoYWRvd1Jvb3QucXVlcnlTZWxlY3RvcjxIVE1MSW1hZ2VFbGVtZW50PihcIiN0cmFuc2xhdGlvbnBhcnJvdFwiKS5zcmMgPSBcIi4vaW1nL3BhcnJvdGZhY2Uuc3ZnXCI7fSwgMTAwMCk7XHJcbiAgfVxyXG5cclxuICB1cGRhdGVkKGE6IGFueSkge1xyXG4gICAgc3VwZXIudXBkYXRlZChhKTtcclxuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XHJcbiAgICAgIHRoaXMuc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yPEhUTUxJbnB1dEVsZW1lbnQ+KFwiI2lucHV0XCIpLmZvY3VzKCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHJlbmRlcigpIHtcclxuICAgIHJldHVybiBodG1sYFxyXG4gICA8cHJvZmlsZS1jYXJkIEBsb2dvdXQ9XCIke3RoaXMubG9naW5nT3V0fVwiIEBwcmV2aW91c1ZhbHVlPVwiJHsoZTogQ3VzdG9tRXZlbnQpPT4ge3RoaXMub2xkVmFsdWUgPSBlLmRldGFpbC5vbGRWYWx1ZSgpfX1cIiBAdmFsdWVTZWxlY3RlZD1cIiR7KGU6IEN1c3RvbUV2ZW50KT0+IHt0aGlzLnNlbGVjdGlvbkNob2ljZShlLmRldGFpbC5uZXdWYWx1ZSgpKX19XCIgaWQ9XCJzZXR0aW5nc1wiIC51c2VyTmFtZT1cIiR7dGhpcy51c2VyLm5hbWV9XCIgLnVzZXJFbWFpbD1cIiR7dGhpcy51c2VyLmVtYWlsfVwiIC51c2VyaWQ9XCIke3RoaXMudXNlci51aWR9XCIgLnBvaW50Q29sbGVjdGlvbj1cIiR7dGhpcy5wb2ludENvbGxlY3Rpb259XCI+PC9wcm9maWxlLWNhcmQ+XHJcbiA8ZGl2IGNsYXNzPVwibW9kYWxcIiBpZD1cImdyZWV0aW5nXCI+IFxyXG4gICAgICAgICAgIDxkaXYgY2xhc3M9XCJib3hcIj48aW1nIHNyYz1cIi4vaW1nL3BhcnJvdHRhbGsuc3ZnXCI+IDxwPiAke3RoaXMuZ3JlZXRpbmdNZXNzYWdlfSwgJHt0aGlzLnVzZXIubmFtZS5zcGxpdChcIiBcIilbMF19ITwvcD48L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgIDxkaXYgY2xhc3M9XCJtb2RhbFwiIGlkPVwiY29uZ3JhdHVsYXRpb25zXCIgQGNsaWNrPVwiJHsoKSA9PiB7XHJcbiAgICAgIHRoaXMuY29uZ3JhdHVsYXRpb25zLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yPEhUTUxDYW52YXNFbGVtZW50PihcIiNjYW52YXNcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgICB9LCAxMDAwKTtcclxuICAgIH19XCI+IFxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJib3hcIj5cclxuICAgICAgICAgICAgPHA+xZp3aWV0bmllIENpIGlkemllLCAke3RoaXMudXNlci5uYW1lLnNwbGl0KFwiIFwiKX0hPC9wPlxyXG4gICAgICAgICAgICA8cD5Nb8W8ZSBwb3JhIHByemVuaWXFm8SHIHNpxJkgbmEgd3nFvHN6eSBwb3ppb20/PC9wPjwvZGl2PlxyXG4gICAgICAgICAgXHJcbiAgICAgICAgPC9kaXY+PC9kaXY+XHJcbiA8ZGl2IGlkPVwid3JhcHBlclwiPlxyXG4gICAgPGRpdiBpZD1cImJ1dHRvbnNcIj5cclxuICAgIDxpbWcgaWQ9XCJtZW51YnV0dG9uXCIgc3JjPVwiLi9pbWcvYnVyZ2VyLnN2Z1wiIEBjbGljaz1cIiR7dGhpcy5tZW51RnVuY3Rpb25hbGl0eX1cIj5cclxuICAgICAgPHAgaWQ9XCJ0aXRsZVwiPkVuZ2xpc2ggVmVyYnMgR2FtZTwvcD5cclxuPGRpdiBpZD1cInBvaW50c1wiPiR7dGhpcy5vbGRWYWx1ZSAhPT1cIkFsbFwiID8gYFBvemlvbSAke3RoaXMub2xkVmFsdWV9OmAgOiBgV3ltaWVzemFuZSBwb3ppb215OmB9ICR7dGhpcy5wb2ludHN9PC9kaXY+XHJcbjwvZGl2PlxyXG48ZGl2IGlkPVwidHJhbnNsYXRpb25ib3hcIj48aW1nIGlkPVwidHJhbnNsYXRpb25wYXJyb3RcIiBzcmM9XCIuL2ltZy9wYXJyb3RmYWNlLnN2Z1wiPlTFgnVtYWN6ZW5pZTogJHt0aGlzLnRyYW5zbGF0aW9ufTwvZGl2PlxyXG4gICAgPGRpdiBpZD1cImNvbnRhaW5lclwiPlxyXG4gICAgXHJcbiAgICAke3RoaXMuY29ycmVjdFdvcmQgPT09IHVuZGVmaW5lZCA/IHVuZGVmaW5lZCA6IHRoaXMuY29ycmVjdFdvcmQubWFwKChmb3JtLCBpbmRleCkgPT4ge1xyXG4gICAgICBpZiAoIShpbmRleCA9PT0gdGhpcy5uKSkge1xyXG4gICAgICAgIHJldHVybiBodG1sYFxyXG4gICAgICAgICAgPGRpdlxyXG4gICAgICAgICAgICBjbGFzcz1cInRoZXdvcmRcIlxyXG4gICAgICAgICAgICBAY2xpY2s9XCIkeygpID0+IHsgXHJcbiAgICAgICAgICAgICAgdGhpcy5yZWFkVGhlV29yZChmb3JtKTtcclxuICAgICAgICAgICAgfX1cIlxyXG4gICAgICAgICAgICBAbW91c2VvdmVyPVwiJHsoZTogRXZlbnQpID0+IHtcclxuICAgICAgICAgICAgICB0aGlzLmhvdmVyYWJsZShlKTtcclxuICAgICAgICAgICAgfX1cIlxyXG4gICAgICAgICAgPlxyXG4gICAgICAgICAgICA8c3BhbiBjbGFzcz1cIndvcmRcIlxyXG4gICAgICAgICAgICAgID4ke0FycmF5LmlzQXJyYXkoZm9ybSkgPyBmb3JtLmpvaW4oXCIgXCIpIDogZm9ybX08L3NwYW5cclxuICAgICAgICAgICAgPjxzcGFuIGlkPVwic3BlYWtlclwiPjxpbWcgc3JjPVwiLi9pbWcvc291bmR3aGl0ZS5zdmdcIi8+PC9zcGFuPlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgYDtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICByZXR1cm4gaHRtbGBcclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZsaXAtY2FyZFwiPlxyXG4gIDxkaXYgY2xhc3M9XCJmbGlwLWNhcmQtaW5uZXJcIj5cclxuICAgIDxkaXYgY2xhc3M9XCJmbGlwLWNhcmQtZnJvbnRcIj5cclxuICAgIDxpbnB1dCBpZD1cImlucHV0XCIgZGF0YS12YWx1ZT1cIiR7Zm9ybX1cIiB0eXBlPVwidGV4dFwiIEBrZXlkb3duPVwiJHsoZTogS2V5Ym9hcmRFdmVudCkgPT4ge1xyXG4gICAgICB0aGlzLnByb2ZpbGVDYXJkLnN0eWxlLnRyYW5zZm9ybSA9IFwidHJhbnNsYXRlWCgtODB2dylcIjtcclxuICAgICAgICAgIGlmICghKCg8SFRNTElucHV0RWxlbWVudD5lLnRhcmdldCkudmFsdWUubGVuZ3RoID09PSAwKSkge1xyXG4gICAgICAgICAgICAoPEhUTUxFbGVtZW50PmUudGFyZ2V0KS5zdHlsZS5hbmltYXRpb24gPSBcInN0b3AgLjNzIGZvcndhcmRzXCI7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBpZiAoZS5rZXlDb2RlID09PSAxMykge1xyXG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShmb3JtKSkge1xyXG4gICAgICAgICAgICAgIGxldCBmdWxsOiBzdHJpbmcgPSBmb3JtLmpvaW4oKTtcclxuICAgICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgICBmdWxsXHJcbiAgICAgICAgICAgICAgICAgIC50b0xvd2VyQ2FzZSgpXHJcbiAgICAgICAgICAgICAgICAgIC5pbmNsdWRlcygoPEhUTUxJbnB1dEVsZW1lbnQ+ZS50YXJnZXQpLnZhbHVlLnRvU3RyaW5nKCkudG9Mb3dlckNhc2UoKSlcclxuICAgICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucG9pbnRzQWRkaXRpb24oKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZmxpY2tlcigpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb25ncmF0dWxhdGUoKTtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnBvaW50cyA9PT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAoPEhUTUxJbnB1dEVsZW1lbnQ+ZS50YXJnZXQpLnN0eWxlLmFuaW1hdGlvbiA9IFwiYWNjZXB0ZWQgLjNzIGZvcndhcmRzIC4xc1wiO1xyXG4gICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlZnJlc2hOdW1iZXIoKTtcclxuICAgICAgICAgICAgICAgICAgfSwgMTIwMCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAoPEhUTUxJbnB1dEVsZW1lbnQ+ZS50YXJnZXQpLnN0eWxlLmFuaW1hdGlvbiA9IFwiYWNjZXB0ZWQgLjNzIGZvcndhcmRzXCI7XHJcbiAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVmcmVzaE51bWJlcigpO1xyXG4gICAgICAgICAgICAgICAgICB9LCA0MDApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAoPEhUTUxJbnB1dEVsZW1lbnQ+ZS50YXJnZXQpLnN0eWxlLmFuaW1hdGlvbiA9IFwid3JvbmcgLjNzIGZvcndhcmRzXCI7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlZiA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlcXVlc3RVcGRhdGUoKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgaWYgKCg8SFRNTElucHV0RWxlbWVudD5lLnRhcmdldCkudmFsdWUudG9Mb3dlckNhc2UoKSA9PT0gZm9ybSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wb2ludHNBZGRpdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5mbGlja2VyKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbmdyYXR1bGF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucG9pbnRzID09PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICg8SFRNTElucHV0RWxlbWVudD5lLnRhcmdldCkuc3R5bGUuYW5pbWF0aW9uID0gXCJhY2NlcHRlZCAuM3MgZm9yd2FyZHMgLjFzXCI7XHJcbiAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVmcmVzaE51bWJlcigpO1xyXG4gICAgICAgICAgICAgICAgICB9LCAxMjAwKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICg8SFRNTElucHV0RWxlbWVudD5lLnRhcmdldCkuc3R5bGUuYW5pbWF0aW9uID0gXCJhY2NlcHRlZCAuM3MgZm9yd2FyZHNcIjtcclxuICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWZyZXNoTnVtYmVyKCk7XHJcbiAgICAgICAgICAgICAgICAgIH0sIDQwMCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICg8SFRNTElucHV0RWxlbWVudD5lLnRhcmdldCkuc3R5bGUuYW5pbWF0aW9uID0gXCJ3cm9uZyAuM3MgZm9yd2FyZHMgLjFzXCI7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlZiA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlcXVlc3RVcGRhdGUoKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9fVwiPlxyXG4gICAgPC9kaXY+XHJcbiAgICA8ZGl2ICBAY2xpY2s9XCIkeygpID0+IHtcclxuICAgICAgdGhpcy5yZWFkVGhlV29yZChmb3JtKTtcclxuICAgIH19XCIgY2xhc3M9XCJmbGlwLWNhcmQtYmFja1wiPlxyXG4gICAgICA8c3BhbiBjbGFzcz1cIndvcmRcIj4ke1xyXG4gICAgICAgIEFycmF5LmlzQXJyYXkoZm9ybSkgPyBmb3JtLmpvaW4oXCIgXCIpIDogZm9ybVxyXG4gICAgICB9PC9zcGFuPjxzcGFuIGlkPVwic3BlYWtlclwiPjxpbWcgc3JjPVwiLi9pbWcvc291bmR3aGl0ZS5zdmdcIj48L3NwYW4+PC9zcGFuPlxyXG4gICAgPC9kaXY+XHJcbiAgPC9kaXY+XHJcbjwvZGl2PlxyXG4gICAgICAgICAgICBgO1xyXG4gICAgICB9XHJcbiAgICB9KX1cclxuICAgICAgICAgICAgICAgXHJcbiAgICA8L2Rpdj5cclxuICAgIFxyXG4gICAgXHJcbiAgIDxkaXYgaWQ9XCJiZWxvd1wiPjxhIGlkPVwic2tpcFwiIEBtb3VzZW92ZXI9XCIkeyhlOiBFdmVudCkgPT4ge1xyXG4gICAgIHRoaXMuaG92ZXJhYmxlKGUpO1xyXG4gICB9fVwiIEBjbGljaz1cIiR7dGhpcy5yZWZyZXNoTnVtYmVyfVwiPklubmUgc8WCb3dvPC9hPiAke1xyXG4gICAgICB0aGlzLnJlZlxyXG4gICAgICAgID8gaHRtbGBcclxuICAgICAgICAgICAgPGEgQGNsaWNrPVwiJHt0aGlzLnNob3dUaGVBbnN3ZXJ9XCJcclxuICAgICAgICAgICAgICA+PGltZ1xyXG4gICAgICAgICAgICAgICAgQG1vdXNlb3Zlcj1cIiR7KGU6IEV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgIHRoaXMuaG92ZXJhYmxlKGUpO1xyXG4gICAgICAgICAgICAgICAgfX1cIlxyXG4gICAgICAgICAgICAgICAgY2xhc3M9XCJpY29uXCJcclxuICAgICAgICAgICAgICAgIHNyYz1cIi4vaW1nL2V5ZS5zdmdcIlxyXG4gICAgICAgICAgICAvPjwvYT5cclxuICAgICAgICAgIGBcclxuICAgICAgICA6IHVuZGVmaW5lZFxyXG4gICAgfTwvZGl2PjwvZGl2PlxyXG4gIFxyXG4gICAgYDtcclxuICB9XHJcbn1cclxuXHJcbmN1c3RvbUVsZW1lbnRzLmRlZmluZShcImVuZ2xpc2gtdmVyYnNcIiwgRW5nbGlzaFZlcmJzR2FtZSk7XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2hvd1RoZUdhbWUobmFtZTogc3RyaW5nLCBlbWFpbDogc3RyaW5nLCB1aWQ6IG51bWJlciwgcG9pbnRzOiBQb2ludENvbGxlY3Rpb24sIGdyZWV0aW5nOiBzdHJpbmcgPVwiV2l0YWpcIikge1xyXG4gIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZCgncmVhZHknKTtcclxuICBcdGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdpc1JlZGlyZWN0aW5nJyk7XHJcbiAgY29uc3QgJGdhbWUgPSBhd2FpdCBuZXcgRW5nbGlzaFZlcmJzR2FtZSgpO1xyXG4gIFxyXG4gICRnYW1lLmdyZWV0aW5nTWVzc2FnZSA9IGdyZWV0aW5nO1xyXG4gICRnYW1lLnVzZXIgPSB7XHJcbiAgICBlbWFpbCxcclxuICAgIHVpZCxcclxuICAgIG5hbWVcclxuICB9O1xyXG4gICRnYW1lLnBvaW50Q29sbGVjdGlvbiA9IHBvaW50cztcclxuICBpZihkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLndlbGNvbWVcIik9PT1udWxsKXtcclxuICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNsb2dcIikpO1xyXG4gIH1cclxuICBlbHNle1xyXG4gICAgaWYoIShkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2xvZ1wiKT09PW51bGwpKXtcclxuICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNsb2dcIikpO1xyXG4gIH1cclxuICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi53ZWxjb21lXCIpKTtcclxuICB9XHJcbiAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCgkZ2FtZSk7XHJcbiAgcmV0dXJuICRnYW1lO1xyXG59XHJcbiIsImltcG9ydCB7IExpdEVsZW1lbnQsIGh0bWwsIGNzcywgY3VzdG9tRWxlbWVudCB9IGZyb20gJ2xpdC1lbGVtZW50JztcclxuaW1wb3J0IHsgcmVkaXJlY3RpbmdTaWduVXAgfSBmcm9tICcuL3V0aWwnO1xyXG5cclxuZGVjbGFyZSBnbG9iYWwge1xyXG5cdGludGVyZmFjZSBXaW5kb3cge1xyXG5cdFx0ZmlyZWJhc2U6IGFueTtcclxuXHR9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBMb2dTY3JlZW4gZXh0ZW5kcyBMaXRFbGVtZW50IHtcclxuXHR0aXRsZTogc3RyaW5nO1xyXG5cdG1lc3NhZ2U6IHN0cmluZztcclxuXHRsb2dCdXR0b246IEJvb2xlYW47XHJcblx0c2FkQ2F0OiBCb29sZWFuO1xyXG5cdHN0YXRpYyBnZXQgc3R5bGVzKCkge1xyXG5cdFx0cmV0dXJuIFtcclxuXHRcdFx0Y3NzYFxyXG5cdFx0XHRcdC53ZWxjb21lIHtcclxuXHRcdFx0XHRcdHdpZHRoOiAxMDAlO1xyXG5cdFx0XHRcdFx0aGVpZ2h0OiAxMDB2aDtcclxuXHRcdFx0XHRcdGRpc3BsYXk6IGZsZXg7XHJcblx0XHRcdFx0XHRmbGV4LWRpcmVjdGlvbjogcm93O1xyXG5cdFx0XHRcdFx0YWxpZ24taXRlbXM6IGNlbnRlcjtcclxuXHRcdFx0XHRcdGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG5cdFx0XHRcdFx0YmFja2dyb3VuZC1pbWFnZTogdXJsKFwiLi9pbWcvd2F2ZTEuc3ZnXCIpO1xyXG5cdFx0XHRcdFx0YmFja2dyb3VuZC1zaXplOiBjb250YWluO1xyXG5cdFx0XHRcdFx0YmFja2dyb3VuZC1yZXBlYXQ6IHJlcGVhdC14O1xyXG5cdFx0XHRcdFx0YmFja2dyb3VuZC1wb3NpdGlvbjogYm90dG9tO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHQud2lhZG9tb3NjIHtcclxuXHRcdFx0XHRcdG1hcmdpbi1yaWdodDogMTNyZW07XHJcblx0XHRcdFx0XHRkaXNwbGF5OiBmbGV4O1xyXG5cdFx0XHRcdFx0ZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuXHRcdFx0XHRcdGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcblx0XHRcdFx0XHRqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuXHRcdFx0XHRcdHdpZHRoOiAyMHZ3O1xyXG5cdFx0XHRcdFx0aGVpZ2h0OiBtYXgtY29udGVudDtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0LndpYWRvbW9zY29mZiB7XHJcblx0XHRcdFx0XHRkaXNwbGF5OiBmbGV4O1xyXG5cdFx0XHRcdFx0ZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuXHRcdFx0XHRcdGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcblx0XHRcdFx0XHRqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuXHRcdFx0XHRcdHdpZHRoOiAzMHZ3O1xyXG5cdFx0XHRcdFx0aGVpZ2h0OiBtYXgtY29udGVudDtcclxuXHRcdFx0XHRcdGJhY2tncm91bmQ6IHdoaXRlO1xyXG5cdFx0XHRcdFx0Ym94LXNoYWRvdzogMXB4IDRweCA2cHggZ3JheTtcclxuXHRcdFx0XHRcdHBhZGRpbmc6IDJyZW07XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdCN3aXRhaixcclxuXHRcdFx0XHQuaW5mbyB7XHJcblx0XHRcdFx0XHRmb250LWZhbWlseTogJ01vbnRzZXJyYXQnLCBzYW5zLXNlcmlmO1xyXG5cdFx0XHRcdFx0Zm9udC1zaXplOiAxLjNyZW07XHJcblx0XHRcdFx0XHR0ZXh0LWFsaWduOiBjZW50ZXI7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdC5sb2dvd2FuaWUge1xyXG5cdFx0XHRcdFx0Y3Vyc29yOiBwb2ludGVyO1xyXG5cdFx0XHRcdFx0anVzdGlmeS1zZWxmOiBmbGV4LXN0YXJ0O1xyXG5cdFx0XHRcdFx0cGFkZGluZzogLjZyZW07XHJcblx0XHRcdFx0XHR3aWR0aDogbWF4LWNvbnRlbnQ7XHJcblx0XHRcdFx0XHRiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcclxuXHRcdFx0XHRcdGZvbnQtc2l6ZTogMS4ycmVtO1xyXG5cdFx0XHRcdFx0Ym9yZGVyOiAxcHggc29saWQgYmxhY2s7XHJcblx0XHRcdFx0XHRib3gtc2hhZG93OiAxcHggMXB4IDNweCBncmF5O1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0LnNhZGNhdCB7XHJcblx0XHRcdFx0XHR3aWR0aDogNnJlbTtcclxuXHRcdFx0XHRcdGhlaWdodDogNnJlbTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0I25vd2Vrb250byB7XHJcblx0XHRcdFx0XHRjdXJzb3I6IHBvaW50ZXI7XHJcblx0XHRcdFx0XHRib3JkZXI6IG5vbmU7XHJcblx0XHRcdFx0XHRiYWNrZ3JvdW5kOiBub25lO1xyXG5cdFx0XHRcdFx0Zm9udC1zaXplOiAxcmVtO1xyXG5cdFx0XHRcdFx0bWFyZ2luLXRvcDogLjJyZW07XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHQubG9nb3dhbmllOmhvdmVyIHtcclxuXHRcdFx0XHRcdHRyYW5zaXRpb246IDFzO1xyXG5cdFx0XHRcdFx0Y29sb3I6IHdoaXRlO1xyXG5cdFx0XHRcdFx0Ym9yZGVyOiAxcHggc29saWQgd2hpdGU7XHJcblx0XHRcdFx0XHRiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQodG8gdG9wLCAjYTU3ZmZmLCAjNjNiZGEyKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0QG1lZGlhIHNjcmVlbiBhbmQgKG1heC13aWR0aDogNjAwcHgpIHtcclxuXHRcdFx0XHRcdC53aWFkb21vc2MsXHJcblx0XHRcdFx0XHQud2lhZG9tb3Njb2ZmIHtcclxuXHRcdFx0XHRcdFx0d2lkdGg6IDY4dnc7XHJcblx0XHRcdFx0XHRcdGJhY2tncm91bmQ6IHdoaXRlO1xyXG5cdFx0XHRcdFx0XHRib3gtc2hhZG93OiAxcHggM3B4IDZweCBncmF5O1xyXG5cdFx0XHRcdFx0XHRtYXJnaW46IDA7XHJcblx0XHRcdFx0XHRcdHBhZGRpbmctYm90dG9tOiAycmVtO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0YFxyXG5cdFx0XTtcclxuXHR9XHJcblx0bG9nT3V0KCkge1xyXG5cdFx0dGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgnbG9nb3V0JywgeyBidWJibGVzOiB0cnVlLCBjb21wb3NlZDogdHJ1ZSB9KSk7XHJcblx0XHR0aGlzLnJlcXVlc3RVcGRhdGUoKTtcclxuXHR9XHJcblxyXG5cdHJlbmRlcigpIHtcclxuXHRcdHJldHVybiBodG1sYCAgIFxyXG5cdFx0PGRpdiBjbGFzcz1cIndlbGNvbWVcIj5cclxuXHRcdDxkaXYgY2xhc3M9XCJ3aWFkb21vc2NvZmZcIj5cclxuXHRcdDxpbWcgY2xhc3M9XCJzYWRjYXRcIiBzcmM9XCIuL2ltZy9wYXJyb3Rjcnkuc3ZnXCI+XHJcblx0XHRcclxuXHRcdDxwIGlkPVwid2l0YWpcIj4ke3RoaXMudGl0bGV9PC9wPlxyXG5cdFx0PHAgY2xhc3M9XCJpbmZvXCI+JHt0aGlzLm1lc3NhZ2V9PC9wPlxyXG5cdFx0JHt0aGlzLmxvZ0J1dHRvblxyXG5cdFx0XHQ/IGh0bWxgPGJ1dHRvbiBjbGFzcz1cImxvZ293YW5pZVwiIEBjbGljaz1cIiR7cmVkaXJlY3RpbmdTaWduVXB9XCI+WmFsb2d1aiBzacSZIHBvbm93bmllPC9idXR0b24+YFxyXG5cdFx0XHQ6IHVuZGVmaW5lZH1cclxuXHRcdFxyXG5cdDwvZGl2PjwvZGl2PlxyXG5cdCAgYDtcclxuXHR9XHJcbn1cclxuY3VzdG9tRWxlbWVudHMuZGVmaW5lKCdsb2ctc2NyZWVuJywgTG9nU2NyZWVuKTtcclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzaG93TG9nKHRpdGxlOiBzdHJpbmcsIG1lc3NhZ2U6IHN0cmluZywgbG9nQnV0dG9uOiBCb29sZWFuID0gZmFsc2UsIHNhZENhdDogYm9vbGVhbiA9IGZhbHNlKSB7XHJcblx0Y29uc3QgJGxvZ3NjcmVlbiA9IGF3YWl0IG5ldyBMb2dTY3JlZW4oKTtcclxuXHQkbG9nc2NyZWVuLnRpdGxlID0gdGl0bGU7XHJcblx0JGxvZ3NjcmVlbi5tZXNzYWdlID0gbWVzc2FnZTtcclxuXHQkbG9nc2NyZWVuLnNhZENhdCA9IHNhZENhdDtcclxuXHQkbG9nc2NyZWVuLmxvZ0J1dHRvbiA9IGxvZ0J1dHRvbjtcclxuXHQkbG9nc2NyZWVuLmlkID0gJ2xvZyc7XHJcblx0ZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChkb2N1bWVudC5ib2R5Lmxhc3RDaGlsZCk7XHJcblx0ZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCgkbG9nc2NyZWVuKTtcclxuXHRyZXR1cm4gJGxvZ3NjcmVlbjtcclxufVxyXG4iLCJleHBvcnQgdHlwZSBGb3JtcyA9IChzdHJpbmcgfCBzdHJpbmdbXSlbXTtcclxuZXhwb3J0IHR5cGUgV29yZCA9IFtzdHJpbmcsIEZvcm1zXTtcclxuZXhwb3J0IHR5cGUgTGV2ZWwgPSB7IFtrZXk6IHN0cmluZ106IEZvcm1zfTtcclxuZXhwb3J0IHR5cGUgTGV2ZWxzID0geyBba2V5OiBzdHJpbmddOiBMZXZlbCB9O1xyXG5cclxuZXhwb3J0IGNvbnN0IGxldmVsczogTGV2ZWxzID0ge1xyXG5cdEEyOiB7XHJcblx0XHQnxZtuacSHLCBtYXJ6ecSHJzogWyAnZHJlYW0nLCBbICdkcmVhbWVkJywgJ2RyZWFtdCcgXSwgWyAnZHJlYW1lZCcsICdkcmVhbXQnIF0gXSxcclxuXHRcdGJ5xIc6IFsgJ2JlJywgJ3dhcycsICdiZWVuJyBdLFxyXG5cdFx0cm9iacSHOiBbICdkbycsICdkaWQnLCAnZG9uZScgXSxcclxuXHRcdCdzdGF3YcSHIHNpxJknOiBbICdiZWNvbWUnLCAnYmVjYW1lJywgJ2JlY29tZScgXSxcclxuXHRcdCfFgmFtYcSHLCBwxJlrYcSHLCByb3piacSHLCB0xYJ1Yyc6IFsgJ2JyZWFrJywgJ2Jyb2tlJywgJ2Jyb2tlbicgXSxcclxuXHRcdCdwcnp5bm9zacSHLCBwcnp5cHJvd2FkemnEhyc6IFsgJ2JyaW5nJywgJ2Jyb3VnaHQnLCAnYnJvdWdodCcgXSxcclxuXHRcdGJ1ZG93YcSHOiBbICdidWlsZCcsICdidWlsdCcsICdidWlsdCcgXSxcclxuXHRcdGt1cG93YcSHOiBbICdidXknLCAnYm91Z2h0JywgJ2JvdWdodCcgXSxcclxuXHRcdMWCYXBhxIc6IFsgJ2NhdGNoJywgJ2NhdWdodCcsICdjYXVnaHQnIF0sXHJcblx0XHR3eWJpZXJhxIc6IFsgJ2Nob29zZScsICdjaG9zZScsICdjaG9zZW4nIF0sXHJcblx0XHQncHJ6eWrFm8SHLCBwcnp5amVjaGHEhyc6IFsgJ2NvbWUnLCAnY2FtZScsICdjb21lJyBdLFxyXG5cdFx0a29zenRvd2HEhzogWyAnY29zdCcsICdjb3N0JywgJ2Nvc3QnIF0sXHJcblx0XHQnY2nEhcSHLCBrcm9pxIcsIHNrYWxlY3p5xIcnOiBbICdjdXQnLCAnY3V0JywgJ2N1dCcgXSxcclxuXHRcdCdyeXNvd2HEhywgcG9jacSFZ27EhcSHLCByZW1pc293YcSHJzogWyAnZHJhdycsICdkcmV3JywgJ2RyYXduJyBdLFxyXG5cdFx0J3Byb3dhZHppxIcsIGtpZXJvd2HEhyBzacSZIGN6eW3Fmyc6IFsgJ2RyaXZlJywgJ2Ryb3ZlJywgJ2RyaXZlbicgXSxcclxuXHRcdHBpxIc6IFsgJ2RyaW5rJywgJ2RyYW5rJywgJ2RydW5rJyBdLFxyXG5cdFx0amXFm8SHOiBbICdlYXQnLCAnYXRlJywgJ2VhdGVuJyBdLFxyXG5cdFx0J3BhZGHEhywgdXBhZGHEhywgc3BhZGHEhyc6IFsgJ2ZhbGwnLCAnZmVsbCcsICdmYWxsZW4nIF0sXHJcblx0XHRjenXEhzogWyAnZmVlbCcsICdmZWx0JywgJ2ZlbHQnIF0sXHJcblx0XHR6bmFsZcW6xIc6IFsgJ2ZpbmQnLCAnZm91bmQnLCAnZm91bmQnIF0sXHJcblx0XHRsYXRhxIc6IFsgJ2ZseScsICdmbGV3JywgJ2Zsb3duJyBdLFxyXG5cdFx0ZG9zdGF3YcSHOiBbICdnZXQnLCAnZ290JywgJ2dvdCcgXSxcclxuXHRcdGRhd2HEhzogWyAnZ2l2ZScsICdnYXZlJywgJ2dpdmVuJyBdLFxyXG5cdFx0acWbxIc6IFsgJ2dvJywgJ3dlbnQnLCAnZ29uZScgXSxcclxuXHRcdHJvc27EhcSHOiBbICdncm93JywgJ2dyZXcnLCAnZ3Jvd24nIF0sXHJcblx0XHRtaWXEhzogWyAnaGF2ZScsICdoYWQnLCAnaGFkJyBdLFxyXG5cdFx0c8WCeXN6ZcSHOiBbICdoZWFyJywgJ2hlYXJkJywgJ2hlYXJkJyBdLFxyXG5cdFx0dWRlcnphxIc6IFsgJ2hpdCcsICdoaXQnLCAnaGl0JyBdLFxyXG5cdFx0J3RyenltYcSHLCB1dHJ6eW15d2HEhywgcG9kdHJ6eW15d2HEhyc6IFsgJ2hvbGQnLCAnaGVsZCcsICdoZWxkJyBdLFxyXG5cdFx0J3JhbmnEhywgYm9sZcSHJzogWyAnaHVydCcsICdodXJ0JywgJ2h1cnQnIF0sXHJcblx0XHR0cnp5bWHEhzogWyAna2VlcCcsICdrZXB0JywgJ2tlcHQnIF0sXHJcblx0XHQnem5hxIcsIHdpZWR6aWXEhyc6IFsgJ2tub3cnLCAna25ldycsICdrbm93bicgXSxcclxuXHRcdCd1Y3p5xIcgc2nEmSc6IFsgJ2xlYXJuJywgWyAnbGVhcm50JywgJ2xlYXJuZWQnIF0sIFsgJ2xlYXJudCcsICdsZWFybmVkJyBdIF0sXHJcblx0XHQnb3B1c3pjemHEhywgd3lqZcW8ZMW8YcSHLCB6b3N0YXdpYcSHJzogWyAnbGVhdmUnLCAnbGVmdCcsICdsZWZ0JyBdLFxyXG5cdFx0J3Bvxbx5Y3phxIcgKGtvbXXFmyknOiBbICdsZW5kJywgJ2xlbnQnLCAnbGVudCcgXSxcclxuXHRcdCd0cmFjacSHLCB6Z3ViacSHJzogWyAnbG9zZScsICdsb3N0JywgJ2xvc3QnIF0sXHJcblx0XHQncm9iacSHLCB3eWtvbnl3YcSHJzogWyAnbWFrZScsICdtYWRlJywgJ21hZGUnIF0sXHJcblx0XHQnem5hY3p5xIcsIG96bmFjemHEhywgbWllxIcgbmEgbXnFm2xpJzogWyAnbWVhbicsICdtZWFudCcsICdtZWFudCcgXSxcclxuXHRcdCdzcG90eWthxIcsIHBvem5hxIcnOiBbICdtZWV0JywgJ21ldCcsICdtZXQnIF0sXHJcblx0XHRwxYJhY2nEhzogWyAncGF5JywgJ3BhaWQnLCAncGFpZCcgXSxcclxuXHRcdGvFgmHFm8SHOiBbICdwdXQnLCAncHV0JywgJ3B1dCcgXSxcclxuXHRcdGN6eXRhxIc6IFsgJ3JlYWQnLCAncmVhZCcsICdyZWFkJyBdLFxyXG5cdFx0amXFumR6acSHOiBbICdyaWRlJywgJ3JvZGUnLCAncmlkZGVuJyBdLFxyXG5cdFx0ZHp3b25pxIc6IFsgJ3JpbmcnLCAncmFuZycsICdydW5nJyBdLFxyXG5cdFx0YmllYzogWyAncnVuJywgJ3JhbicsICdydW4nIF0sXHJcblx0XHRtb3dpxIc6IFsgJ3NheScsICdzYWlkJywgJ3NhaWQnIF0sXHJcblx0XHR3aWR6aWXEhzogWyAnc2VlJywgJ3NhdycsICdzZWVuJyBdLFxyXG5cdFx0c3ByemVkYXdhxIc6IFsgJ3NlbGwnLCAnc29sZCcsICdzb2xkJyBdLFxyXG5cdFx0J3d5c3nFgmHEhywgc8WCYcSHJzogWyAnc2VuZCcsICdzZW50JywgJ3NlbnQnIF0sXHJcblx0XHRwb2thenl3YcSHOiBbICdzaG93JywgJ3Nob3dlZCcsICdzaG93bicgXSxcclxuXHRcdHphbXlrYcSHOiBbICdzaHV0JywgJ3NodXQnLCAnc2h1dCcgXSxcclxuXHRcdMWbcGlld2HEhzogWyAnc2luZycsICdzYW5nJywgJ3N1bmcnIF0sXHJcblx0XHQnc2llZHppZcSHLCBzaWFkYcSHJzogWyAnc2l0JywgJ3NhdCcsICdzYXQnIF0sXHJcblx0XHRzcGHEhzogWyAnc2xlZXAnLCAnc2xlcHQnLCAnc2xlcHQnIF0sXHJcblx0XHQnbcOzd2nEhywgcm96bWF3aWHEhyc6IFsgJ3NwZWFrJywgJ3Nwb2tlJywgJ3Nwb2tlbicgXSxcclxuXHRcdCdzcMSZZHphxIcsIHd5ZGF3YcSHJzogWyAnc3BlbmQnLCAnc3BlbnQnLCAnc3BlbnQnIF0sXHJcblx0XHRzdGHEhzogWyAnc3RhbmQnLCAnc3Rvb2QnLCAnc3Rvb2QnIF0sXHJcblx0XHRrcmHFm8SHOiBbICdzdGVhbCcsICdzdG9sZScsICdzdG9sZW4nIF0sXHJcblx0XHRwxYJ5d2HEhzogWyAnc3dpbScsICdzd2FtJywgJ3N3dW0nIF0sXHJcblx0XHRicmHEhzogWyAndGFrZScsICd0b29rJywgJ3Rha2VuJyBdLFxyXG5cdFx0J3VjennEhyAoa29nb8WbKSc6IFsgJ3RlYWNoJywgJ3RhdWdodCcsICd0YXVnaHQnIF0sXHJcblx0XHQncG93aWVkemllxIcsIG9wb3dpZWR6aWXEhyc6IFsgJ3RlbGwnLCAndG9sZCcsICd0b2xkJyBdLFxyXG5cdFx0J215xZtsZcSHLCBzxIVkemnEhywgdXdhxbxhxIcnOiBbICd0aGluaycsICd0aG91Z2h0JywgJ3Rob3VnaHQnIF0sXHJcblx0XHRyenVjYcSHOiBbICd0aHJvdycsICd0aHJldycsICd0aHJvd24nIF0sXHJcblx0XHRidWR6acSHOiBbICd3YWtlJywgJ3dva2UnLCAnd29rZW4nIF0sXHJcblx0XHQnbm9zacSHLCB6YWvFgmFkYcSHJzogWyAnd2VhcicsICd3b3JlJywgJ3dvcm4nIF0sXHJcblx0XHRyb3p1bWllxIc6IFsgJ3VuZGVyc3RhbmQnLCAndW5kZXJzdG9vZCcsICd1bmRlcnN0b29kJyBdLFxyXG5cdFx0d3lncnl3YcSHOiBbICd3aW4nLCAnd29uJywgJ3dvbicgXSxcclxuXHRcdHBpc2HEhzogWyAnd3JpdGUnLCAnd3JvdGUnLCAnd3JpdHRlbicgXVxyXG5cdH0sXHJcblx0QjE6IHtcclxuXHRcdG9idWR6acSHOiBbICdhd2FrZScsICdhd29rZScsICdhd29rZW4nIF0sXHJcblx0XHRiacSHOiBbICdiZWF0JywgJ2JlYXQnLCAnYmVhdGVuJyBdLFxyXG5cdFx0dWdyecW6YzogWyAnYml0ZScsICdiaXQnLCAnYml0dGVuJyBdLFxyXG5cdFx0a3J3YXdpxIc6IFsgJ2JsZWVkJywgJ2JsZWQnLCAnYmxlZCcgXSxcclxuXHRcdCd3aWHEhywgZG11Y2hhxIcnOiBbICdibG93JywgJ2JsZXcnLCAnYmxvd24nIF0sXHJcblx0XHQncGFsacSHLCBwYXJ6ecSHLCBwxYJvbsSFxIcnOiBbICdidXJuJywgWyAnYnVybmVkJywgJ2J1cm50JyBdLCBbICdidXJuZWQnLCAnYnVybnQnIF0gXSxcclxuXHRcdCdrb3BhxIcgKG5wIHppZW1pxJkpJzogWyAnZGlnJywgJ2R1ZycsICdkdWcnIF0sXHJcblx0XHQna2FybWnEhywgxbx5d2nEhyc6IFsgJ2ZlZWQnLCAnZmVkJywgJ2ZlZCcgXSxcclxuXHRcdCd3YWxjennEhywgYmnEhyBzacSZJzogWyAnZmlnaHQnLCAnZm91Z2h0JywgJ2ZvdWdodCcgXSxcclxuXHRcdHphcG9taW5hxIc6IFsgJ2ZvcmdldCcsICdmb3Jnb3QnLCAnZm9yZ290dGVuJyBdLFxyXG5cdFx0d3liYWN6YcSHOiBbICdmb3JnaXZlJywgJ2ZvcmdhdmUnLCAnZm9yZ2l2ZW4nIF0sXHJcblx0XHR6YW1hcnphxIc6IFsgJ2ZyZWV6ZScsICdmcm96ZScsICdmcm96ZW4nIF0sXHJcblx0XHQnemF3aWVzemHEhyAoY2/FmywgbnAgb2JyYXopJzogWyAnaGFuZycsICdodW5nJywgJ2h1bmcnIF0sXHJcblx0XHQnY2hvd2HEhywgdWtyeXdhxIcnOiBbICdoaWRlJywgJ2hpZCcsICdoaWRkZW4nIF0sXHJcblx0XHRwb3p3YWxhxIc6IFsgJ2xldCcsICdsZXQnLCAnbGV0JyBdLFxyXG5cdFx0J2xlxbxlxIcsIGvFgmHFm8SHIHNpxJknOiBbICdsaWUnLCAnbGF5JywgJ2xhaW4nIF0sXHJcblx0XHQnemFwYWxhxIcsIHJvenBhbGHEhywgb8Wbd2lldGxhxIcnOiBbICdsaWdodCcsIFsgJ2xpZ2h0ZWQnLCAnbGl0JyBdLCBbICdsaWd0aGVkJywgJ2xpdCcgXSBdLFxyXG5cdFx0J3J6dWNhxIcsIG9wdXN6Y3phxIcnOiBbICdxdWl0JywgJ3F1aXQnLCAncXVpdCcgXSxcclxuXHRcdCdwb2Rub3NpxIcsIHd6cmFzdGHEhyc6IFsgJ3Jpc2UnLCAncm9zZScsICdyaXNlbicgXSxcclxuXHRcdCd0cnrEhcWbxIcsIHBvdHJ6xIVzYcSHJzogWyAnc2hha2UnLCAnc2hvb2snLCAnc2hha2VuJyBdLFxyXG5cdFx0J8Wbd2llY2nEhywgYsWCeXN6Y3plxIcnOiBbICdzaGluZScsICdzaG9uZScsICdzaG9uZScgXSxcclxuXHRcdHN0cnplbGHEhzogWyAnc2hvb3QnLCAnc2hvdCcsICdzaG90JyBdLFxyXG5cdFx0J3RvbsSFxIcgKG8gc3RhdGt1KSwgemFwYWRhxIcgc2nEmSc6IFsgJ3NpbmsnLCAnc2FuaycsICdzdW5rJyBdLFxyXG5cdFx0J3diaWphxIcsIHd0eWthxIcsIHByenlrbGVqYcSHLCB3eXN0YXdpxIcnOiBbICdzdGljaycsICdzdHVjaycsICdzdHVjaycgXSxcclxuXHRcdCd1ZGVyennEhywgd3liaWphxIcnOiBbICdzdHJpa2UnLCAnc3RydWNrJywgJ3N0cnVjaycgXSxcclxuXHRcdCdkcnplxIcsIHJvemR6aWVyYcSHJzogWyAndGVhcicsICd0b3JlJywgJ3Rvcm4nIF1cclxuXHR9LFxyXG5cdEIyOiB7XHJcblx0XHQnem5vc2nEhywgdWTFundpZ27EhcSHIGNvxZssIMW8eXdpxIcgdXJhesSZJzogWyAnYmVhcicsICdib3JlJywgJ2Jvcm5lJyBdLFxyXG5cdFx0J3pnaW5hxIcsIG5hY2h5bGHEhyc6IFsgJ2JlbmQnLCAnYmVudCcsICdiZW50JyBdLFxyXG5cdFx0J2hvZG93YcSHLCB3eWNob3dhxIcsIHJvem1hxbxhxIcgc2nEmSc6IFsgJ2JyZWVkJywgJ2JyZWQnLCAnYnJlYWQnIF0sXHJcblx0XHQncnp1Y2nEhywgenJ6dWNpxIcnOiBbICdjYXN0JywgJ2Nhc3QnLCAnY2FzdCcgXSxcclxuXHRcdCdyb3pkYXdhxIcsIHBvc3TEmXBvd2HEhywgbWllxIcgZG8gY3p5bmllbmlhLCByYWR6acSHIHNvYmllJzogWyAnZGVhbCcsICdkZWFsdCcsICdkZWFsdCcgXSxcclxuXHRcdHphYnJhbmlhxIc6IFsgJ2ZvcmJpZCcsICdmb3JiYWRlJywgJ2ZvcmJpZGRlbicgXSxcclxuXHRcdCdrbMSZY3plxIcsIGtsxJlrYcSHJzogWyAna25lZWwnLCBbICdrbmVlbGVkJywgJ2tuZWx0JyBdLCBbICdrbmVlbGVkJywgJ2tuZWx0JyBdIF0sXHJcblx0XHQncm9iacSHIG5hIGRydXRhY2gnOiBbICdrbml0JywgWyAna25pdCcsICdrbml0dGVkJyBdLCBbICdrbml0JywgJ2tuaXR0ZWQnIF0gXSxcclxuXHRcdHByb3dhZHppxIc6IFsgJ2xlYWQnLCAnbGVkJywgJ2xlZCcgXSxcclxuXHRcdCdzenVrYcSHLCBwb3N6dWtpd2HEhyc6IFsgJ3NlZWsnLCAnc291Z2h0JywgJ3NvdWdodCcgXSxcclxuXHRcdCd1bWllc3pjemHEhywgdXN0YXdpYcSHLCB6YWNob2R6acSHIChvIHPFgm/FhGN1KSwgb3NhZHppxIcsIG5hc3Rhd2nEhywgd3l6bmFjennEhyc6IFsgJ3NldCcsICdzZXQnLCAnc2V0JyBdLFxyXG5cdFx0J2t1cmN6ecSHIHNpxJksIHpiaWVnYcSHJzogWyAnc2hyaW5rJywgJ3NocmFuaycsICdzaHJ1bmsnIF0sXHJcblx0XHQnxZtsaXpnYcSHIHNpxJksIHpqZcW8ZMW8YcSHJzogWyAnc2xpZGUnLCAnc2xpZCcsICdzbGlkJyBdLFxyXG5cdFx0J2R6aWVsacSHLCByb3pkemllbGHEhyc6IFsgJ3NwbGl0JywgJ3NwbGl0JywgJ3NwbGl0JyBdLFxyXG5cdFx0J3JvemNob2R6acSHIHNpxJksIHJvenByemVzdHJ6ZW5pYcSHLCByb3prxYJhZGHEhywgcm96cG/Fm2NpZXJhxIcsIHJvenNtYXJvd2HEhyc6IFsgJ3NwcmVhZCcsICdzcHJlYWQnLCAnc3ByZWFkJyBdLFxyXG5cdFx0J3ByenlzacSZZ2HEhywgcHJ6ZWtsaW5hxIcnOiBbICdzd2VhcicsICdzd29yZScsICdzd29ybicgXSxcclxuXHRcdCd6YW1pYXRhxIcsIHptaWF0YcSHJzogWyAnc3dlZXAnLCAnc3dlcHQnLCAnc3dlcHQnIF0sXHJcblx0XHQnbWFjaG7EhcSHLCB6YWtvxYJ5c2HEhyc6IFsgJ3N3aW5nJywgJ3N3dW5nJywgJ3N3dW5nJyBdXHJcblx0fSxcclxuXHRDMToge1xyXG5cdFx0J3BvamF3acSHIHNpxJknOiBbICdhcmlzZScsICdhcm9zZScsICdhcmlzZW4nIF0sXHJcblx0XHQnemFrxYJhZGHEhywgb2JzdGF3aWHEhyc6IFsgJ2JldCcsICdiZXQnLCAnYmV0JyBdLFxyXG5cdFx0J3VteWthxIcsIHVjaWVrYcSHLCBvcHXFm2NpxIcnOiBbICdmbGVlJywgJ2ZsZWQnLCAnZmxlZCcgXSxcclxuXHRcdCdwb8WCb8W8ecSHLCBrxYJhxZvEhyc6IFsgJ2xheScsICdsYWlkJywgJ2xhaWQnIF0sXHJcblx0XHQna3LEmWNpxIcsIHpha3LEmWNpxIcgY3p5bcWbL3NpxJksIG9icsOzY2nEhyc6IFsgJ3NwaW4nLCAnc3B1bicsICdzcHVuJyBdLFxyXG5cdFx0J8WbbWllcmR6aWXEhywgY3VjaG7EhcSHJzogWyAnc3RpbmsnLCAnc3RhbmsnLCAnc3R1bmsnIF1cclxuXHR9LFxyXG5cdEMyOiB7XHJcblx0XHQnd2nEhXphxIcsIHrFgsSFY3p5xIcsIG9wcmF3acSHIChrc2nEhcW8a8SZKSc6IFsgJ2JpbmQnLCAnYm91bmQnLCAnYm91bmQnIF0sXHJcblx0XHQncHJ6eXdyemXEhywgdWN6ZXBpxIcgc2nEmSwgdHJ6eW1hxIcgc2nEmSBrdXJjem93byc6IFsgJ2NsaW5nJywgJ2NsdW5nJywgJ2NsdW5nJyBdLFxyXG5cdFx0J3NrcmFkYcSHIHNpxJksIHpha3JhZGHEhywgcGnEhcSHIHNpxJksIHBvZGNob2R6acSHJzogWyAnY3JlZXAnLCAnY3JlcHQnLCAnY3JlcHQnIF0sXHJcblx0XHQncnp1Y2nEhywgY2lzbsSFxIcnOiBbICdmbGluZycsICdmbHVuZycsICdmbHVuZycgXSxcclxuXHRcdCdwb3J6dWNhxIcsIHphbmllY2hhxIcsIG9wdcWbY2nEhyc6IFsgJ2ZvcnNha2UnLCAnZm9yc29vaycsICdmb3JzYWtlbicgXSxcclxuXHRcdCdwcnplcG93aWFkYcSHLCBwcnpld2lkeXdhxIcnOiBbICdmb3JldGVsbCcsICdmb3JldG9sZCcsICdmb3JldG9sZCcgXSxcclxuXHRcdCd6ZW1sZcSHLCByb3prcnVzennEhywgemdyenl0YcSHLCBvc3RyennEhywgdHJ6ZcSHJzogWyAnZ3JpbmQnLCAnZ3JvdW5kJywgJ2dyb3VuZCcgXSxcclxuXHRcdHNrYWthxIc6IFsgJ2xlYXAnLCBbICdsZWFwZWQnLCAnbGVwdCcgXSwgWyAnbGVhcGVkJywgJ2xlcHQnIF0gXSxcclxuXHRcdHBpxYJvd2HEhzogWyAnc2F3JywgJ3Nhd2VkJywgJ3Nhd24nIF0sXHJcblx0XHQnenJ6dWNhxIcsIHBvemJ5d2HEhyBzacSZJzogWyAnc2hlZCcsICdzaGVkJywgJ3NoZWQnIF0sXHJcblx0XHR6YWJpamHEhzogWyAnc2xheScsICdzbGV3JywgJ3NsYWluJyBdLFxyXG5cdFx0J2Npc27EhcSHLCBtaW90YcSHJzogWyAnc2xpbmcnLCAnc2x1bmcnLCAnc2x1bmcnIF0sXHJcblx0XHQncHJ6ZXNrYWtpd2HEhywgd3lza2FraXdhxIcnOiBbICdzcHJpbmcnLCAnc3ByYW5nJywgJ3NwcnVuZycgXSxcclxuXHRcdMW8xIVkbGnEhzogWyAnc3RpbmcnLCAnc3R1bmcnLCAnc3R1bmcnIF0sXHJcblx0XHQnem1hZ2HEhyBzacSZIHogY3p5bcWbLCBkxIXFvHnEhywgc3RhcmHEhyBzacSZLCBwb2Rlam1vd2HEhyB3eXNpxYJlayc6IFsgJ3N0cml2ZScsICdzdHJvdmUnLCAnc3RyaXZlbicgXSxcclxuXHRcdCdrcm9jennEhywgc3TEhXBhxIcsIGRlcHRhxIcnOiBbICd0cmVhZCcsICd0cm9kJywgJ3Ryb2RkZW4nIF0sXHJcblx0XHQncMWCYWthxIcsIHN6bG9jaGHEhyc6IFsgJ3dlZXAnLCAnd2VwdCcsICd3ZXB0JyBdLFxyXG5cdFx0J25hd2lqYcSHLCBuYWtyxJljYcSHLCB3acSHIHNpxJknOiBbICd3aW5kJywgJ3dvdW5kJywgJ3dvdW5kJyBdLFxyXG5cdFx0J3d5a3LEmWNpxIcsIHd5xbzEhcSHIGNvxZssIHd5Y2lzbsSFxIcnOiBbICd3cmluZycsICd3cnVuZycsICd3cnVuZycgXVxyXG5cdH1cclxufTtcclxuIiwiaW1wb3J0IHsgTGl0RWxlbWVudCwgaHRtbCwgY3NzLCBjdXN0b21FbGVtZW50IH0gZnJvbSAnbGl0LWVsZW1lbnQnO1xyXG5pbXBvcnQgeyByZXBvcnRCdWdUb1NlcnZlciB9IGZyb20gJy4vdXRpbCc7XHJcblxyXG5kZWNsYXJlIGdsb2JhbCB7XHJcblx0aW50ZXJmYWNlIFdpbmRvdyB7XHJcblx0XHRmaXJlYmFzZTogYW55O1xyXG5cdH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFJlcG9ydEJ1ZyBleHRlbmRzIExpdEVsZW1lbnQge1xyXG5cdHVzZXJpZDogbnVtYmVyO1xyXG5cdHN0YXRpYyBnZXQgc3R5bGVzKCkge1xyXG5cdFx0cmV0dXJuIFtcclxuXHRcdFx0Y3NzYFxyXG5cdFx0XHRcdDpob3N0IHtcclxuXHRcdFx0XHRcdHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuXHRcdFx0XHRcdHRvcDogMDtcclxuXHRcdFx0XHRcdGxlZnQ6IDA7XHJcblx0XHRcdFx0XHR3aWR0aDogMTAwJTtcclxuXHRcdFx0XHRcdGhlaWdodDogMTAwdmg7XHJcblx0XHRcdFx0XHRkaXNwbGF5OiBmbGV4O1xyXG5cdFx0XHRcdFx0ZmxleC1kaXJlY3Rpb246IHJvdztcclxuXHRcdFx0XHRcdGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcblx0XHRcdFx0XHRqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuXHRcdFx0XHRcdHotaW5kZXg6IDk5OTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0LndpYWRvbW9zYyB7XHJcblx0XHRcdFx0XHRtYXJnaW4tcmlnaHQ6IDEzcmVtO1xyXG5cdFx0XHRcdFx0ZGlzcGxheTogZmxleDtcclxuXHRcdFx0XHRcdGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcblx0XHRcdFx0XHRhbGlnbi1pdGVtczogY2VudGVyO1xyXG5cdFx0XHRcdFx0anVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcblx0XHRcdFx0XHR3aWR0aDogMjB2dztcclxuXHRcdFx0XHRcdGhlaWdodDogbWF4LWNvbnRlbnQ7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdC53aWFkb21vc2NvZmYge1xyXG5cdFx0XHRcdFx0ZGlzcGxheTogZmxleDtcclxuXHRcdFx0XHRcdGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcblx0XHRcdFx0XHRhbGlnbi1pdGVtczogY2VudGVyO1xyXG5cdFx0XHRcdFx0anVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcblx0XHRcdFx0XHR3aWR0aDogMzB2dztcclxuXHRcdFx0XHRcdGhlaWdodDogbWF4LWNvbnRlbnQ7XHJcblx0XHRcdFx0XHRiYWNrZ3JvdW5kOiB3aGl0ZTtcclxuXHRcdFx0XHRcdGJveC1zaGFkb3c6IDFweCA0cHggNnB4IGdyYXk7XHJcblx0XHRcdFx0XHRwYWRkaW5nOiAycmVtO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHQjd2l0YWosXHJcblx0XHRcdFx0LmluZm8ge1xyXG5cdFx0XHRcdFx0Zm9udC1mYW1pbHk6ICdNb250c2VycmF0Jywgc2Fucy1zZXJpZjtcclxuXHRcdFx0XHRcdGZvbnQtc2l6ZTogMS4zcmVtO1xyXG5cdFx0XHRcdFx0dGV4dC1hbGlnbjogY2VudGVyO1xyXG5cdFx0XHRcdFx0d2lkdGg6IDEwMCU7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdC5pbmZvIHtcclxuXHRcdFx0XHRcdHJlc2l6ZTogbm9uZTtcclxuXHRcdFx0XHRcdGZvbnQtc2l6ZTogMXJlbTtcclxuXHRcdFx0XHRcdGhlaWdodDogMjB2aDtcclxuXHRcdFx0XHRcdHRleHQtYWxpZ246IGxlZnQ7XHJcblx0XHRcdFx0XHRtYXJnaW4tYm90dG9tOiAxcmVtO1xyXG5cdFx0XHRcdFx0dGV4dC1vdmVyZmxvdzogc2Nyb2xsO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0LmxvZ293YW5pZSB7XHJcblx0XHRcdFx0XHRjdXJzb3I6IHBvaW50ZXI7XHJcblx0XHRcdFx0XHRqdXN0aWZ5LXNlbGY6IGZsZXgtc3RhcnQ7XHJcblx0XHRcdFx0XHRwYWRkaW5nOiAuNnJlbTtcclxuXHRcdFx0XHRcdHdpZHRoOiBtYXgtY29udGVudDtcclxuXHRcdFx0XHRcdGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xyXG5cdFx0XHRcdFx0Zm9udC1zaXplOiAxLjJyZW07XHJcblx0XHRcdFx0XHRib3JkZXI6IDFweCBzb2xpZCBibGFjaztcclxuXHRcdFx0XHRcdGJveC1zaGFkb3c6IDFweCAxcHggM3B4IGdyYXk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdCNjbG9zZSB7XHJcblx0XHRcdFx0XHRjdXJzb3I6IHBvaW50ZXI7XHJcblx0XHRcdFx0XHRtYXJnaW4tdG9wOiAtMXJlbTtcclxuXHRcdFx0XHRcdGFsaWduLXNlbGY6IGZsZXgtZW5kO1xyXG5cdFx0XHRcdFx0Zm9udC1mYW1pbHk6ICdNb250c2VycmF0Jywgc2Fucy1zZXJpZjtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdC5zYWRjYXQge1xyXG5cdFx0XHRcdFx0d2lkdGg6IDZyZW07XHJcblx0XHRcdFx0XHRoZWlnaHQ6IDZyZW07XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdCNub3dla29udG8ge1xyXG5cdFx0XHRcdFx0Y3Vyc29yOiBwb2ludGVyO1xyXG5cdFx0XHRcdFx0Ym9yZGVyOiBub25lO1xyXG5cdFx0XHRcdFx0YmFja2dyb3VuZDogbm9uZTtcclxuXHRcdFx0XHRcdGZvbnQtc2l6ZTogMXJlbTtcclxuXHRcdFx0XHRcdG1hcmdpbi10b3A6IC4ycmVtO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0LmxvZ293YW5pZTpob3ZlciB7XHJcblx0XHRcdFx0XHR0cmFuc2l0aW9uOiAxcztcclxuXHRcdFx0XHRcdGNvbG9yOiB3aGl0ZTtcclxuXHRcdFx0XHRcdGJvcmRlcjogMXB4IHNvbGlkIHdoaXRlO1xyXG5cdFx0XHRcdFx0YmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KHRvIHRvcCwgI2E1N2ZmZiwgIzYzYmRhMik7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdEBtZWRpYSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6IDYwMHB4KSB7XHJcblx0XHRcdFx0XHQud2lhZG9tb3NjLFxyXG5cdFx0XHRcdFx0LndpYWRvbW9zY29mZiB7XHJcblx0XHRcdFx0XHRcdHdpZHRoOiA4MHZ3O1xyXG5cdFx0XHRcdFx0XHRiYWNrZ3JvdW5kOiB3aGl0ZTtcclxuXHRcdFx0XHRcdFx0Ym94LXNoYWRvdzogMXB4IDNweCA2cHggZ3JheTtcclxuXHRcdFx0XHRcdFx0bWFyZ2luOiAwO1xyXG5cdFx0XHRcdFx0XHRwYWRkaW5nLWJvdHRvbTogMnJlbTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdGBcclxuXHRcdF07XHJcblx0fVxyXG5cdHNlbmRJbmZvKGU6IEV2ZW50KSB7XHJcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRsZXQgbWVzc2FnZSA9IHRoaXMuc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yPEhUTUxJbnB1dEVsZW1lbnQ+KCcuaW5mbycpLnZhbHVlO1xyXG5cdFx0cmVwb3J0QnVnVG9TZXJ2ZXIodGhpcy51c2VyaWQsIG1lc3NhZ2UpO1xyXG5cdFx0dGhpcy5zaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3IoJyN3aXRhaicpLnRleHRDb250ZW50ID0gJ0R6acSZa3VqZW15IHphIHpnxYJvc3plbmllJztcclxuXHRcdHRoaXMuc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yPEhUTUxFbGVtZW50PignLmluZm8nKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG5cdFx0dGhpcy5zaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3I8SFRNTEVsZW1lbnQ+KCcubG9nb3dhbmllJykuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuXHRcdHRoaXMuc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yPEhUTUxFbGVtZW50PignI2Nsb3NlJykuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuXHRcdHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcblx0XHRcdGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3JlcG9ydGJ1ZycpKTtcclxuXHRcdH0sIDMwMDApO1xyXG5cdH1cclxuXHJcblx0cmVuZGVyKCkge1xyXG5cdFx0cmV0dXJuIGh0bWxgIFxyXG5cdFx0PGZvcm0gQHN1Ym1pdD1cIiR7KGU6IEV2ZW50KSA9PiB7XHJcblx0XHRcdHRoaXMuc2VuZEluZm8oZSk7XHJcblx0XHR9fVwiPlxyXG5cdFx0PGRpdiBjbGFzcz1cIndpYWRvbW9zY29mZlwiPlxyXG5cdFx0PHNwYW4gQGNsaWNrPVwiJHsoZTogRXZlbnQpID0+IHtcclxuXHRcdFx0dGhpcy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuXHRcdFx0XHRkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNyZXBvcnRidWcnKSk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fX1cIiBpZD1cImNsb3NlXCI+WDwvc3Bhbj5cclxuXHRcdDxwIGlkPVwid2l0YWpcIj5PcGlzeiBzd8OzaiBwcm9ibGVtIHcgb2tpZW5rdSBwb25pxbxlajo8L3A+XHJcblx0XHQ8dGV4dGFyZWEgY2xhc3M9XCJpbmZvXCI+PC90ZXh0YXJlYT5cclxuXHRcdDxidXR0b24gdHlwZT1cInN1Ym1pdFwiIGNsYXNzPVwibG9nb3dhbmllXCI+V3nFm2xpajwvYnV0dG9uPlxyXG5cdFx0XHJcblx0PC9kaXY+XHJcblx0PC9mb3JtPlxyXG5cdCAgYDtcclxuXHR9XHJcbn1cclxuY3VzdG9tRWxlbWVudHMuZGVmaW5lKCdyZXBvcnQtYnVnJywgUmVwb3J0QnVnKTtcclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiByZXBvcnRCdWcodWlkOiBudW1iZXIpIHtcclxuXHRjb25zdCAkcmVwb3J0YnVnID0gYXdhaXQgbmV3IFJlcG9ydEJ1ZygpO1xyXG5cdCRyZXBvcnRidWcudXNlcmlkID0gdWlkO1xyXG5cdCRyZXBvcnRidWcuaWQgPSAncmVwb3J0YnVnJztcclxuXHRkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKCRyZXBvcnRidWcpO1xyXG5cdHJldHVybiAkcmVwb3J0YnVnO1xyXG59XHJcbiIsImV4cG9ydCAqIGZyb20gJy4vZW5nbGlzaCc7XHJcbmV4cG9ydCAqIGZyb20gJy4vZGF0YSc7XHJcbmV4cG9ydCAqIGZyb20gJy4vdXRpbCc7XHJcbmV4cG9ydCAqIGZyb20gJy4vcHJvZmlsZS1jYXJkJztcclxuZXhwb3J0ICogZnJvbSAnLi9sb2ctc2NyZWVuJztcclxuZXhwb3J0ICogZnJvbSAnLi9yZXBvcnQtYnVnJztcclxuaW1wb3J0IHsgc2hvd1RoZUdhbWUgfSBmcm9tICcuL2VuZ2xpc2gnO1xyXG5pZiAoIShsb2NhdGlvbi5ob3N0bmFtZSA9PT0gJ2xvY2FsaG9zdCcpKSB7XHJcblx0aWYgKCdzZXJ2aWNlV29ya2VyJyBpbiBuYXZpZ2F0b3IpIHtcclxuXHRcdHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgKCkgPT4ge1xyXG5cdFx0XHRuYXZpZ2F0b3Iuc2VydmljZVdvcmtlci5yZWdpc3Rlcignc3cuanMnKTtcclxuXHRcdH0pO1xyXG5cdH1cclxufVxyXG5kZWNsYXJlIGdsb2JhbCB7XHJcblx0aW50ZXJmYWNlIFdpbmRvdyB7XHJcblx0XHRmaXJlYmFzZTogYW55O1xyXG5cdH1cclxufVxyXG5cclxud2luZG93Lm9ubG9hZCA9IChldmVudDogRXZlbnQpID0+IHtcclxuXHRjaGVja1VwZGF0ZXMoKTtcclxufTtcclxuYXN5bmMgZnVuY3Rpb24gY2hlY2tVcGRhdGVzKCkge1xyXG5cdGlmICghKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VyLWluZm8nKSA9PT0gbnVsbCkpIHtcclxuXHRcdGxldCB1c2VySWQgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VyLWluZm8nKSkudXNlci51aWQ7XHJcblx0XHRhd2FpdCB3aW5kb3cuZmlyZWJhc2UuZGF0YWJhc2UoKS5yZWYoJy91c2Vycy8nICsgdXNlcklkKS5vbmNlKCd2YWx1ZScpLnRoZW4oZnVuY3Rpb24oc25hcHNob3Q6IGFueSkge1xyXG5cdFx0XHRsZXQgcG9pbnRzID0gKHNuYXBzaG90LnZhbCgpICYmIHNuYXBzaG90LnZhbCgpLnBvaW50cykgfHwgeyBBMjogMCwgQjE6IDAsIEIyOiAwLCBDMTogMCwgQzI6IDAsIEFsbDogMCB9O1xyXG5cdFx0XHRsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgncG9pbnRzJywgSlNPTi5zdHJpbmdpZnkoeyBwb2ludHMgfSkpO1xyXG5cdFx0fSk7XHJcblx0XHRsZXQgZ2FtZSA9IHNob3dUaGVHYW1lKFxyXG5cdFx0XHRKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VyLWluZm8nKSkudXNlci5kaXNwbGF5TmFtZSxcclxuXHRcdFx0SlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlci1pbmZvJykpLnVzZXIuZW1haWwsXHJcblx0XHRcdEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXItaW5mbycpKS51c2VyLnVpZCxcclxuXHRcdFx0SlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgncG9pbnRzJykpLnBvaW50c1xyXG5cdFx0KTtcclxuXHR9XHJcbn1cclxuIiwiZnVuY3Rpb24gQ29uZmV0dGlHZW5lcmF0b3IocGFyYW1zKSB7XG4gIC8vLy8vLy8vLy8vLy8vXG4gIC8vIERlZmF1bHRzXG4gIHZhciBhcHBzdGF0ZSA9IHtcbiAgICB0YXJnZXQ6ICdjb25mZXR0aS1ob2xkZXInLCAvLyBJZCBvZiB0aGUgY2FudmFzXG4gICAgbWF4OiA4MCwgLy8gTWF4IGl0ZW5zIHRvIHJlbmRlclxuICAgIHNpemU6IDEsIC8vIHByb3Agc2l6ZVxuICAgIGFuaW1hdGU6IHRydWUsIC8vIFNob3VsZCBhbmlhbXRlP1xuICAgIHByb3BzOiBbJ2NpcmNsZScsICdzcXVhcmUnLCAndHJpYW5nbGUnLCAnbGluZSddLCAvLyBUeXBlcyBvZiBjb25mZXR0aVxuICAgIGNvbG9yczogW1sxNjUsMTA0LDI0Nl0sWzIzMCw2MSwxMzVdLFswLDE5OSwyMjhdLFsyNTMsMjE0LDEyNl1dLCAvLyBDb2xvcnMgdG8gcmVuZGVyIGNvbmZldHRpXG4gICAgY2xvY2s6IDI1LCAvLyBTcGVlZCBvZiBjb25mZXR0aSBmYWxsXG4gICAgaW50ZXJ2YWw6IG51bGwsIC8vIERyYXcgaW50ZXJ2YWwgaG9sZGVyXG4gICAgcm90YXRlOiBmYWxzZSwgLy8gV2hlbmV2ZXIgdG8gcm90YXRlIGEgcHJvcFxuICAgIHdpZHRoOiB3aW5kb3cuaW5uZXJXaWR0aCwgLy8gY2FudmFzIHdpZHRoIChhcyBpbnQsIGluIHB4KVxuICAgIGhlaWdodDogd2luZG93LmlubmVySGVpZ2h0IC8vIGNhbnZhcyBoZWlnaHQgKGFzIGludCwgaW4gcHgpXG4gIH07XG5cbiAgLy8vLy8vLy8vLy8vLy9cbiAgLy8gU2V0dGluZyBwYXJhbWV0ZXJzIGlmIHJlY2VpdmVkXG4gIGlmKHBhcmFtcykge1xuICAgIGlmKHBhcmFtcy50YXJnZXQpXG4gICAgICBhcHBzdGF0ZS50YXJnZXQgPSBwYXJhbXMudGFyZ2V0O1xuICAgIGlmKHBhcmFtcy5tYXgpXG4gICAgICBhcHBzdGF0ZS5tYXggPSBwYXJhbXMubWF4O1xuICAgIGlmKHBhcmFtcy5zaXplKVxuICAgICAgYXBwc3RhdGUuc2l6ZSA9IHBhcmFtcy5zaXplO1xuICAgIGlmKHBhcmFtcy5hbmltYXRlICE9PSB1bmRlZmluZWQgJiYgcGFyYW1zLmFuaW1hdGUgIT09IG51bGwpXG4gICAgICBhcHBzdGF0ZS5hbmltYXRlID0gcGFyYW1zLmFuaW1hdGU7XG4gICAgaWYocGFyYW1zLnByb3BzKVxuICAgICAgYXBwc3RhdGUucHJvcHMgPSBwYXJhbXMucHJvcHM7XG4gICAgaWYocGFyYW1zLmNvbG9ycylcbiAgICAgIGFwcHN0YXRlLmNvbG9ycyA9IHBhcmFtcy5jb2xvcnM7XG4gICAgaWYocGFyYW1zLmNsb2NrKVxuICAgICAgYXBwc3RhdGUuY2xvY2sgPSBwYXJhbXMuY2xvY2s7XG4gICAgaWYocGFyYW1zLndpZHRoKVxuICAgICAgYXBwc3RhdGUud2lkdGggPSBwYXJhbXMud2lkdGg7XG4gICAgaWYocGFyYW1zLmhlaWdodClcbiAgICAgIGFwcHN0YXRlLmhlaWdodCA9IHBhcmFtcy5oZWlnaHQ7XG4gICAgaWYocGFyYW1zLnJvdGF0ZSAhPT0gdW5kZWZpbmVkICYmIHBhcmFtcy5yb3RhdGUgIT09IG51bGwpXG4gICAgICBhcHBzdGF0ZS5yb3RhdGUgPSBwYXJhbXMucm90YXRlO1xuICB9XG5cbiAgLy8vLy8vLy8vLy8vLy9cbiAgLy8gUHJvcGVydGllc1xuICB2YXIgY3YgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChhcHBzdGF0ZS50YXJnZXQpO1xuICB2YXIgY3R4ID0gY3YuZ2V0Q29udGV4dChcIjJkXCIpO1xuICB2YXIgcGFydGljbGVzID0gW107XG5cbiAgLy8vLy8vLy8vLy8vLy9cbiAgLy8gUmFuZG9tIGhlbHBlciAodG8gbWluaW1pemUgdHlwaW5nKVxuICBmdW5jdGlvbiByYW5kKGxpbWl0LCBmbG9vcikge1xuICAgIGlmKCFsaW1pdCkgbGltaXQgPSAxO1xuICAgIHZhciByYW5kID0gTWF0aC5yYW5kb20oKSAqIGxpbWl0O1xuICAgIHJldHVybiAhZmxvb3IgPyByYW5kIDogTWF0aC5mbG9vcihyYW5kKTtcbiAgfVxuXG4gIHZhciB0b3RhbFdlaWdodCA9IGFwcHN0YXRlLnByb3BzLnJlZHVjZShmdW5jdGlvbih3ZWlnaHQsIHByb3ApIHtcbiAgICByZXR1cm4gd2VpZ2h0ICsgKHByb3Aud2VpZ2h0IHx8IDEpO1xuICB9LCAwKTtcbiAgZnVuY3Rpb24gc2VsZWN0UHJvcCgpIHtcbiAgICB2YXIgcmFuZCA9IE1hdGgucmFuZG9tKCkgKiB0b3RhbFdlaWdodDtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFwcHN0YXRlLnByb3BzLmxlbmd0aDsgKytpKSB7XG4gICAgICB2YXIgd2VpZ2h0ID0gYXBwc3RhdGUucHJvcHNbaV0ud2VpZ2h0IHx8IDE7XG4gICAgICBpZiAocmFuZCA8IHdlaWdodCkgcmV0dXJuIGk7XG4gICAgICByYW5kIC09IHdlaWdodDtcbiAgICB9XG4gIH1cblxuICAvLy8vLy8vLy8vLy8vL1xuICAvLyBDb25mZXR0aSBwYXJ0aWNsZSBnZW5lcmF0b3JcbiAgZnVuY3Rpb24gcGFydGljbGVGYWN0b3J5KCkge1xuICAgIHZhciBwcm9wID0gYXBwc3RhdGUucHJvcHNbc2VsZWN0UHJvcCgpXTtcbiAgICB2YXIgcCA9IHtcbiAgICAgIHByb3A6IHByb3AudHlwZSA/IHByb3AudHlwZSA6IHByb3AsIC8vcHJvcCB0eXBlXG4gICAgICB4OiByYW5kKGFwcHN0YXRlLndpZHRoKSwgLy94LWNvb3JkaW5hdGVcbiAgICAgIHk6IHJhbmQoYXBwc3RhdGUuaGVpZ2h0KSwgLy95LWNvb3JkaW5hdGVcbiAgICAgIHNyYzogcHJvcC5zcmMsXG4gICAgICByYWRpdXM6IHJhbmQoNCkgKyAxLCAvL3JhZGl1c1xuICAgICAgc2l6ZTogcHJvcC5zaXplLFxuICAgICAgcm90YXRlOiBhcHBzdGF0ZS5yb3RhdGUsXG4gICAgICBsaW5lOiBNYXRoLmZsb29yKHJhbmQoNjUpIC0gMzApLCAvLyBsaW5lIGFuZ2xlXG4gICAgICBhbmdsZXM6IFtyYW5kKDEwLCB0cnVlKSArIDIsIHJhbmQoMTAsIHRydWUpICsgMiwgcmFuZCgxMCwgdHJ1ZSkgKyAyLCByYW5kKDEwLCB0cnVlKSArIDJdLCAvLyB0cmlhbmdsZSBkcmF3aW5nIGFuZ2xlc1xuICAgICAgY29sb3I6IGFwcHN0YXRlLmNvbG9yc1tyYW5kKGFwcHN0YXRlLmNvbG9ycy5sZW5ndGgsIHRydWUpXSwgLy8gY29sb3JcbiAgICAgIHJvdGF0aW9uOiByYW5kKDM2MCwgdHJ1ZSkgKiBNYXRoLlBJLzE4MCxcbiAgICAgIHNwZWVkOiByYW5kKGFwcHN0YXRlLmNsb2NrIC8gNykgKyAoYXBwc3RhdGUuY2xvY2sgLyAzMClcbiAgICB9O1xuXG4gICAgcmV0dXJuIHA7XG4gIH1cblxuICAvLy8vLy8vLy8vLy8vL1xuICAvLyBDb25mZXR0aSBkcmF3aW5nIG9uIGNhbnZhc1xuICBmdW5jdGlvbiBwYXJ0aWNsZURyYXcocCkge1xuICAgIHZhciBvcCA9IChwLnJhZGl1cyA8PSAzKSA/IDAuNCA6IDAuODtcblxuICAgIGN0eC5maWxsU3R5bGUgPSBjdHguc3Ryb2tlU3R5bGUgPSBcInJnYmEoXCIgKyBwLmNvbG9yICsgXCIsIFwiKyBvcCArXCIpXCI7XG4gICAgY3R4LmJlZ2luUGF0aCgpO1xuXG4gICAgc3dpdGNoKHAucHJvcCkge1xuICAgICAgY2FzZSAnY2lyY2xlJzp7XG4gICAgICAgIGN0eC5tb3ZlVG8ocC54LCBwLnkpO1xuICAgICAgICBjdHguYXJjKHAueCwgcC55LCBwLnJhZGl1cyAqIGFwcHN0YXRlLnNpemUsIDAsIE1hdGguUEkgKiAyLCB0cnVlKTtcbiAgICAgICAgY3R4LmZpbGwoKTtcbiAgICAgICAgYnJlYWs7ICBcbiAgICAgIH1cbiAgICAgIGNhc2UgJ3RyaWFuZ2xlJzoge1xuICAgICAgICBjdHgubW92ZVRvKHAueCwgcC55KTtcbiAgICAgICAgY3R4LmxpbmVUbyhwLnggKyAocC5hbmdsZXNbMF0gKiBhcHBzdGF0ZS5zaXplKSwgcC55ICsgKHAuYW5nbGVzWzFdICogYXBwc3RhdGUuc2l6ZSkpO1xuICAgICAgICBjdHgubGluZVRvKHAueCArIChwLmFuZ2xlc1syXSAqIGFwcHN0YXRlLnNpemUpLCBwLnkgKyAocC5hbmdsZXNbM10gKiBhcHBzdGF0ZS5zaXplKSk7XG4gICAgICAgIGN0eC5jbG9zZVBhdGgoKTtcbiAgICAgICAgY3R4LmZpbGwoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlICdsaW5lJzp7XG4gICAgICAgIGN0eC5tb3ZlVG8ocC54LCBwLnkpO1xuICAgICAgICBjdHgubGluZVRvKHAueCArIChwLmxpbmUgKiBhcHBzdGF0ZS5zaXplKSwgcC55ICsgKHAucmFkaXVzICogNSkpO1xuICAgICAgICBjdHgubGluZVdpZHRoID0gMiAqIGFwcHN0YXRlLnNpemU7XG4gICAgICAgIGN0eC5zdHJva2UoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlICdzcXVhcmUnOiB7XG4gICAgICAgIGN0eC5zYXZlKCk7XG4gICAgICAgIGN0eC50cmFuc2xhdGUocC54KzE1LCBwLnkrNSk7XG4gICAgICAgIGN0eC5yb3RhdGUocC5yb3RhdGlvbik7XG4gICAgICAgIGN0eC5maWxsUmVjdCgtMTUgKiBhcHBzdGF0ZS5zaXplLC01ICogYXBwc3RhdGUuc2l6ZSwxNSAqIGFwcHN0YXRlLnNpemUsNSAqIGFwcHN0YXRlLnNpemUpO1xuICAgICAgICBjdHgucmVzdG9yZSgpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2UgJ3N2Zyc6IHtcbiAgICAgICAgY3R4LnNhdmUoKTtcbiAgICAgICAgdmFyIGltYWdlID0gbmV3IEltYWdlKCk7XG4gICAgICAgIGltYWdlLnNyYyA9IHAuc3JjO1xuICAgICAgICB2YXIgc2l6ZSA9IHAuc2l6ZSB8fCAxNTtcbiAgICAgICAgY3R4LnRyYW5zbGF0ZShwLnggKyBzaXplIC8gMiwgcC55ICsgc2l6ZSAvIDIpO1xuICAgICAgICBpZihwLnJvdGF0ZSlcbiAgICAgICAgICBjdHgucm90YXRlKHAucm90YXRpb24pO1xuICAgICAgICBjdHguZHJhd0ltYWdlKGltYWdlLCAtKHNpemUvMikgKiBhcHBzdGF0ZS5zaXplLCAtKHNpemUvMikgKiBhcHBzdGF0ZS5zaXplLCBzaXplICogYXBwc3RhdGUuc2l6ZSwgc2l6ZSAqIGFwcHN0YXRlLnNpemUpO1xuICAgICAgICBjdHgucmVzdG9yZSgpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgXG4gIC8vLy8vLy8vLy8vLy8vXG4gIC8vIFB1YmxpYyBpdGVuc1xuICAvLy8vLy8vLy8vLy8vL1xuXG4gIC8vLy8vLy8vLy8vLy8vXG4gIC8vIENsZWFuIGFjdHVhbCBzdGF0ZVxuICB2YXIgX2NsZWFyID0gZnVuY3Rpb24oKSB7XG4gICAgYXBwc3RhdGUuYW5pbWF0ZSA9IGZhbHNlO1xuICAgIGNsZWFySW50ZXJ2YWwoYXBwc3RhdGUuaW50ZXJ2YWwpO1xuICAgIFxuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShmdW5jdGlvbigpIHtcbiAgICBcdGN0eC5jbGVhclJlY3QoMCwgMCwgY3Yud2lkdGgsIGN2LmhlaWdodCk7XG4gICAgICB2YXIgdyA9IGN2LndpZHRoO1xuICAgICAgY3Yud2lkdGggPSAxO1xuICAgICAgY3Yud2lkdGggPSB3O1xuICAgIH0pO1xuICB9O1xuXG4gIC8vLy8vLy8vLy8vLy8vXG4gIC8vIFJlbmRlciBjb25mZXR0aSBvbiBjYW52YXNcbiAgdmFyIF9yZW5kZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgIC8vY2FudmFzIGRpbWVuc2lvbnNcbiAgICAgIGN2LndpZHRoID0gYXBwc3RhdGUud2lkdGg7XG4gICAgICBjdi5oZWlnaHQgPSBhcHBzdGF0ZS5oZWlnaHQ7XG4gICAgICBwYXJ0aWNsZXMgPSBbXTtcblxuICAgICAgZm9yKHZhciBpID0gMDsgaSA8IGFwcHN0YXRlLm1heDsgaSArKylcbiAgICAgICAgcGFydGljbGVzLnB1c2gocGFydGljbGVGYWN0b3J5KCkpO1xuICAgICAgXG4gICAgICBmdW5jdGlvbiBkcmF3KCl7XG4gICAgICAgIGN0eC5jbGVhclJlY3QoMCwgMCwgYXBwc3RhdGUud2lkdGgsIGFwcHN0YXRlLmhlaWdodCk7XG5cbiAgICAgICAgZm9yKHZhciBpIGluIHBhcnRpY2xlcylcbiAgICAgICAgICBwYXJ0aWNsZURyYXcocGFydGljbGVzW2ldKTtcbiAgICAgICAgXG4gICAgICAgIHVwZGF0ZSgpO1xuXG4gICAgICAgIC8vYW5pbWF0aW9uIGxvb3BcbiAgICAgICAgaWYoYXBwc3RhdGUuYW5pbWF0ZSkgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGRyYXcpO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiB1cGRhdGUoKSB7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcHBzdGF0ZS5tYXg7IGkrKykge1xuICAgICAgICAgIHZhciBwID0gcGFydGljbGVzW2ldO1xuICAgICAgICAgIGlmKGFwcHN0YXRlLmFuaW1hdGUpXG4gICAgICAgICAgICBwLnkgKz0gcC5zcGVlZDtcblxuICAgICAgICAgIGlmIChwLnJvdGF0ZSlcbiAgICAgICAgICAgIHAucm90YXRpb24gKz0gcC5zcGVlZCAvIDM1O1xuICAgICAgICAgIFxuICAgICAgICAgIGlmICgocC5zcGVlZCA+PSAwICYmIHAueSA+IGFwcHN0YXRlLmhlaWdodCkgfHwgKHAuc3BlZWQgPCAwICYmIHAueSA8IDApKSB7XG4gICAgICAgICAgICBwYXJ0aWNsZXNbaV0gPSBwOyBcbiAgICAgICAgICAgIHBhcnRpY2xlc1tpXS54ID0gcmFuZChhcHBzdGF0ZS53aWR0aCwgdHJ1ZSk7XG4gICAgICAgICAgICBwYXJ0aWNsZXNbaV0ueSA9IHAuc3BlZWQgPj0gMCA/IC0xMCA6IHBhcnNlRmxvYXQoYXBwc3RhdGUuaGVpZ2h0KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHJlcXVlc3RBbmltYXRpb25GcmFtZShkcmF3KTtcbiAgfTtcblxuICByZXR1cm4ge1xuICAgIHJlbmRlcjogX3JlbmRlcixcbiAgICBjbGVhcjogX2NsZWFyXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQ29uZmV0dGlHZW5lcmF0b3I7XG4iLCJpbXBvcnQgeyBMaXRFbGVtZW50LCBodG1sLCBjc3MsIGN1c3RvbUVsZW1lbnQgfSBmcm9tICdsaXQtZWxlbWVudCc7XHJcbmltcG9ydCB7IHJlcG9ydEJ1ZyB9IGZyb20gJy4vcmVwb3J0LWJ1Zyc7XHJcblxyXG5kZWNsYXJlIGdsb2JhbCB7XHJcblx0aW50ZXJmYWNlIFdpbmRvdyB7XHJcblx0XHRmaXJlYmFzZTogYW55O1xyXG5cdH1cclxufVxyXG50eXBlIFBvaW50Q29sbGVjdGlvbiA9IHsgW2tleTogc3RyaW5nXTogbnVtYmVyIH07XHJcbmV4cG9ydCBjbGFzcyBQcm9maWxlQ2FyZCBleHRlbmRzIExpdEVsZW1lbnQge1xyXG5cdHN0YXRpYyBnZXQgcHJvcGVydGllcygpIHtcclxuXHRcdHJldHVybiB7XHJcblx0XHRcdHVzZXJOYW1lOiB7XHJcblx0XHRcdFx0dHlwZTogU3RyaW5nLFxyXG5cdFx0XHRcdHJlZmxlY3Q6IHRydWVcclxuXHRcdFx0fSxcclxuXHRcdFx0dXNlckVtYWlsOiB7XHJcblx0XHRcdFx0dHlwZTogU3RyaW5nLFxyXG5cdFx0XHRcdHJlZmxlY3Q6IHRydWVcclxuXHRcdFx0fSxcclxuXHRcdFx0cG9pbnRDb2xsZWN0aW9uOiB7XHJcblx0XHRcdFx0dHlwZTogT2JqZWN0LFxyXG5cdFx0XHRcdGF0dHJpYnV0ZTogJ3BvaW50Y29sbGVjdGlvbicsXHJcblx0XHRcdFx0cmVmbGVjdDogdHJ1ZVxyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cdH1cclxuXHR1c2VyTmFtZTogc3RyaW5nO1xyXG5cdHVzZXJpZDogbnVtYmVyO1xyXG5cdHVzZXJFbWFpbDogc3RyaW5nO1xyXG5cdHBvaW50Q29sbGVjdGlvbjogUG9pbnRDb2xsZWN0aW9uO1xyXG5cdHN0YXRpYyBnZXQgc3R5bGVzKCkge1xyXG5cdFx0cmV0dXJuIFtcclxuXHRcdFx0Y3NzYFxyXG5cdFx0XHRcdDpob3N0IHtcclxuXHRcdFx0XHRcdHRyYW5zaXRpb246IDFzO1xyXG5cdFx0XHRcdFx0aGVpZ2h0OiAxMDAlO1xyXG5cdFx0XHRcdFx0cG9zaXRpb246IGFic29sdXRlO1xyXG5cdFx0XHRcdFx0dG9wOiAwO1xyXG5cdFx0XHRcdFx0bGVmdDogMDtcclxuXHRcdFx0XHRcdHdpZHRoOiAyMHZ3O1xyXG5cdFx0XHRcdFx0YmFja2dyb3VuZC1jb2xvcjogZ3JheTtcclxuXHRcdFx0XHRcdHotaW5kZXg6IDk5ODtcclxuXHRcdFx0XHRcdHRyYW5zZm9ybTogdHJhbnNsYXRlWCgtODB2dyk7XHJcblx0XHRcdFx0XHRkaXNwbGF5OiBmbGV4O1xyXG5cdFx0XHRcdFx0ZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuXHRcdFx0XHRcdGFsaWduLWNvbnRlbnQ6IGZsZXgtc3RhcnQ7XHJcblx0XHRcdFx0XHRmb250LWZhbWlseTogdmFyKC0tZ2xvYmFsLWZvbnQpO1xyXG5cdFx0XHRcdFx0dGV4dC1hbGlnbjogbGVmdDtcclxuXHRcdFx0XHRcdHBhZGRpbmctbGVmdDogMXZ3O1xyXG5cdFx0XHRcdFx0Y29sb3I6IHdoaXRlO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHQjeCB7XHJcblx0XHRcdFx0XHRtYXJnaW46IDFyZW0gMXJlbSAwIDA7XHJcblx0XHRcdFx0XHRhbGlnbi1zZWxmOiBmbGV4LWVuZDtcclxuXHRcdFx0XHRcdGNvbG9yOiB3aGl0ZTtcclxuXHRcdFx0XHRcdGN1cnNvcjogcG9pbnRlcjtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdCNzaWdub3V0LFxyXG5cdFx0XHRcdCNidWcge1xyXG5cdFx0XHRcdFx0Y3Vyc29yOiBwb2ludGVyO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRwIHtcclxuXHRcdFx0XHRcdG1hcmdpbi10b3A6IC44cmVtO1xyXG5cdFx0XHRcdFx0bWFyZ2luLWJvdHRvbTogLjhyZW07XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGgxIHtcclxuXHRcdFx0XHRcdGZvbnQtc2l6ZTogMS40cmVtO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRzZWxlY3Qge1xyXG5cdFx0XHRcdFx0b3V0bGluZTogMXB4IHdoaXRlIHNvbGlkO1xyXG5cdFx0XHRcdFx0bWFyZ2luLXRvcDogLjNyZW07XHJcblx0XHRcdFx0XHRtYXJnaW4tbGVmdDogbm9uZTtcclxuXHRcdFx0XHRcdHBhZGRpbmc6IC4zcmVtO1xyXG5cdFx0XHRcdFx0Ym9yZGVyOiBub25lO1xyXG5cdFx0XHRcdFx0YmFja2dyb3VuZDogd2hpdGU7XHJcblx0XHRcdFx0XHRjb2xvcjogYmxhY2s7XHJcblx0XHRcdFx0XHR3aWR0aDogODAlO1xyXG5cdFx0XHRcdFx0LXdlYmtpdC1hcHBlYXJhbmNlOiBtZW51bGlzdDtcclxuXHRcdFx0XHRcdGFsaWduLXNlbGY6IGZsZXgtc3RhcnQ7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHNlbGVjdCA+IG9wdGlvbiB7XHJcblx0XHRcdFx0XHRjb2xvcjogYmxhY2s7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGxhYmVsIHtcclxuXHRcdFx0XHRcdGFsaWduLXNlbGY6IGZsZXgtc3RhcnQ7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdCN4OmhvdmVyIHtcclxuXHRcdFx0XHRcdHRyYW5zZm9ybTogc2NhbGUoMS4yKTtcclxuXHRcdFx0XHRcdGN1cnNvcjogcG9pbnRlcjtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdEBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1heC13aWR0aDogNjAwcHgpIHtcclxuXHRcdFx0XHRcdDpob3N0IHtcclxuXHRcdFx0XHRcdFx0d2lkdGg6IDYwdnc7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRwIHtcclxuXHRcdFx0XHRcdFx0bWFyZ2luLXRvcDogLjhyZW07XHJcblx0XHRcdFx0XHRcdG1hcmdpbi1ib3R0b206IC44cmVtO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0aDEge1xyXG5cdFx0XHRcdFx0XHRmb250LXNpemU6IDEuNHJlbTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdGBcclxuXHRcdF07XHJcblx0fVxyXG5cdGxvZ091dCgpIHtcclxuXHRcdHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJ2xvZ291dCcsIHsgYnViYmxlczogdHJ1ZSwgY29tcG9zZWQ6IHRydWUgfSkpO1xyXG5cdFx0dGhpcy5yZXF1ZXN0VXBkYXRlKCk7XHJcblx0fVxyXG5cclxuXHRyZW5kZXIoKSB7XHJcblx0XHRyZXR1cm4gaHRtbGBcclxuICA8aDE+JHt0aGlzLnVzZXJOYW1lfTwvaDE+XHJcbiAgPHA+JHt0aGlzLnVzZXJFbWFpbH08L3A+XHJcbiAgPGxhYmVsIGZvcj1cInNlbGVjdFwiPlptaWXFhCBwb3ppb206PC9sYWJlbD5cclxuICAgIDxzZWxlY3QgQGNsaWNrPVwiJHsoZTogSW5wdXRFdmVudCkgPT4ge1xyXG5cdFx0dGhpcy5kaXNwYXRjaEV2ZW50KFxyXG5cdFx0XHRuZXcgQ3VzdG9tRXZlbnQoJ3ByZXZpb3VzVmFsdWUnLCB7XHJcblx0XHRcdFx0YnViYmxlczogdHJ1ZSxcclxuXHRcdFx0XHRjb21wb3NlZDogdHJ1ZSxcclxuXHRcdFx0XHRkZXRhaWw6IHsgb2xkVmFsdWU6ICgpID0+IHRoaXMuc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yPEhUTUxJbnB1dEVsZW1lbnQ+KCcjc2VsZWN0JykudmFsdWUgfVxyXG5cdFx0XHR9KVxyXG5cdFx0KTtcclxuXHR9fVwiIEBjaGFuZ2U9XCIkeyhlOiBJbnB1dEV2ZW50KSA9PiB7XHJcblx0XHRcdHRoaXMuZGlzcGF0Y2hFdmVudChcclxuXHRcdFx0XHRuZXcgQ3VzdG9tRXZlbnQoJ3ZhbHVlU2VsZWN0ZWQnLCB7XHJcblx0XHRcdFx0XHRidWJibGVzOiB0cnVlLFxyXG5cdFx0XHRcdFx0Y29tcG9zZWQ6IHRydWUsXHJcblx0XHRcdFx0XHRkZXRhaWw6IHsgbmV3VmFsdWU6ICgpID0+IHRoaXMuc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yPEhUTUxJbnB1dEVsZW1lbnQ+KCcjc2VsZWN0JykudmFsdWUgfVxyXG5cdFx0XHRcdH0pXHJcblx0XHRcdCk7XHJcblx0XHR9fVwiIGlkPVwic2VsZWN0XCI+XHJcbiAgICAke09iamVjdC5lbnRyaWVzKHRoaXMucG9pbnRDb2xsZWN0aW9uKS5tYXAoKFsgbGV2ZWwsIHBvaW50cyBdKSA9PiB7XHJcblx0XHRyZXR1cm4gaHRtbGBcclxuICA8b3B0aW9uIHZhbHVlPVwiJHtsZXZlbH1cIj4ke2xldmVsICE9ICdBbGwnID8gYFBvemlvbSAke2xldmVsfSxgIDogYFd5bWllc3phbmUgcG96aW9teSxgfSBwdW5rdHk6ICR7cG9pbnRzfTwvb3B0aW9uPmA7XHJcblx0fSl9XHJcbjwvc2VsZWN0PlxyXG5cclxuPHAgQGNsaWNrPVwiJHsoZTogRXZlbnQpID0+IHtcclxuXHRcdFx0bGV0IGJ1ZyA9IHJlcG9ydEJ1Zyh0aGlzLnVzZXJpZCk7XHJcblx0XHR9fVwiIGlkPVwiYnVnXCI+WmfFgm/FmyBixYLEhWQ8L3A+XHJcbjxwIGlkPVwic2lnbm91dFwiIEBjbGljaz1cIiR7dGhpcy5sb2dPdXR9XCI+V3lsb2d1ajwvcD5cclxuXHJcbiAgICBgO1xyXG5cdH1cclxufVxyXG5jdXN0b21FbGVtZW50cy5kZWZpbmUoJ3Byb2ZpbGUtY2FyZCcsIFByb2ZpbGVDYXJkKTtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==