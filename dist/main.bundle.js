!function(e){var t={};function i(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=t,i.d=function(e,t,o){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(o,r,function(t){return e[t]}.bind(null,r));return o},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=6)}([function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=i(2),r=i(3);window.firebase.initializeApp({apiKey:"AIzaSyC4PKlVTVWpQbN4459w9QfO-q3Ta3SzoZs",authDomain:"english-verbs-game.firebaseapp.com",databaseURL:"https://english-verbs-game.firebaseio.com",projectId:"english-verbs-game",storageBucket:"english-verbs-game.appspot.com",messagingSenderId:"878642607039",appId:"1:878642607039:web:e1d0c5a1c6d78c20e8670a",measurementId:"G-NZ5V5BZDXH"});var s=new window.firebase.auth.GoogleAuthProvider;function n(e,t,i){window.firebase.database().ref("users/"+e).set({points:t,name:i})}function a(){localStorage.setItem("isRedirecting",""),window.firebase.auth().signInWithRedirect(s)}s.setCustomParameters({prompt:"select_account"}),window.firebase.auth().languageCode="pl",window.firebase.auth().getRedirectResult().then((function(e){if(e.credential){console.log("logged");let t,i=e.user;window.firebase.database().ref("/users/"+i.uid).once("value").then((function(e){if(null!==e.val()){t=e.val().points;o.showTheGame(i.displayName,i.email,i.uid,t,"Witaj ponownie")}else{t={A2:0,B1:0,B2:0,C1:0,C2:0,All:0},n(i.uid,t,i.displayName);o.showTheGame(i.displayName,i.email,i.uid,t,"Dziękujemy za rejestrację")}localStorage.setItem("user-info",JSON.stringify({user:i})),localStorage.setItem("points",JSON.stringify({points:t}))}))}})).catch((function(e){var t=e.message;console.log(t);r.showLog("Coś poszło nie tak","Spróbuj ponownie za kilka minut",!1,!0)})),t.writeUserData=n,t.reportBugToServer=function(e,t){console.log(t),window.firebase.database().ref("users/"+e).push(t)},t.redirectingSignUp=a,document.querySelector("#nowekonto").addEventListener("click",a),document.querySelector("#zaloguj").addEventListener("click",a),null==localStorage.getItem("isRedirecting")&&document.body.classList.add("ready")},function(e,t,i){"use strict";i.r(t);
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
const o=new WeakMap,r=e=>"function"==typeof e&&o.has(e),s=void 0!==window.customElements&&void 0!==window.customElements.polyfillWrapFlushCallback,n=(e,t,i=null,o=null)=>{for(;t!==i;){const i=t.nextSibling;e.insertBefore(t,o),t=i}},a=(e,t,i=null)=>{for(;t!==i;){const i=t.nextSibling;e.removeChild(t),t=i}},l={},c={},d=`{{lit-${String(Math.random()).slice(2)}}}`,u=`\x3c!--${d}--\x3e`,h=new RegExp(`${d}|${u}`),p="$lit$";class m{constructor(e,t){this.parts=[],this.element=t;const i=[],o=[],r=document.createTreeWalker(t.content,133,null,!1);let s=0,n=-1,a=0;const{strings:l,values:{length:c}}=e;for(;a<c;){const e=r.nextNode();if(null!==e){if(n++,1===e.nodeType){if(e.hasAttributes()){const t=e.attributes,{length:i}=t;let o=0;for(let e=0;e<i;e++)f(t[e].name,p)&&o++;for(;o-- >0;){const t=l[a],i=y.exec(t)[2],o=i.toLowerCase()+p,r=e.getAttribute(o);e.removeAttribute(o);const s=r.split(h);this.parts.push({type:"attribute",index:n,name:i,strings:s}),a+=s.length-1}}"TEMPLATE"===e.tagName&&(o.push(e),r.currentNode=e.content)}else if(3===e.nodeType){const t=e.data;if(t.indexOf(d)>=0){const o=e.parentNode,r=t.split(h),s=r.length-1;for(let t=0;t<s;t++){let i,s=r[t];if(""===s)i=w();else{const e=y.exec(s);null!==e&&f(e[2],p)&&(s=s.slice(0,e.index)+e[1]+e[2].slice(0,-p.length)+e[3]),i=document.createTextNode(s)}o.insertBefore(i,e),this.parts.push({type:"node",index:++n})}""===r[s]?(o.insertBefore(w(),e),i.push(e)):e.data=r[s],a+=s}}else if(8===e.nodeType)if(e.data===d){const t=e.parentNode;null!==e.previousSibling&&n!==s||(n++,t.insertBefore(w(),e)),s=n,this.parts.push({type:"node",index:n}),null===e.nextSibling?e.data="":(i.push(e),n--),a++}else{let t=-1;for(;-1!==(t=e.data.indexOf(d,t+1));)this.parts.push({type:"node",index:-1}),a++}}else r.currentNode=o.pop()}for(const e of i)e.parentNode.removeChild(e)}}const f=(e,t)=>{const i=e.length-t.length;return i>=0&&e.slice(i)===t},g=e=>-1!==e.index,w=()=>document.createComment(""),y=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F "'>=/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/;
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
class b{constructor(e,t,i){this.__parts=[],this.template=e,this.processor=t,this.options=i}update(e){let t=0;for(const i of this.__parts)void 0!==i&&i.setValue(e[t]),t++;for(const e of this.__parts)void 0!==e&&e.commit()}_clone(){const e=s?this.template.element.content.cloneNode(!0):document.importNode(this.template.element.content,!0),t=[],i=this.template.parts,o=document.createTreeWalker(e,133,null,!1);let r,n=0,a=0,l=o.nextNode();for(;n<i.length;)if(r=i[n],g(r)){for(;a<r.index;)a++,"TEMPLATE"===l.nodeName&&(t.push(l),o.currentNode=l.content),null===(l=o.nextNode())&&(o.currentNode=t.pop(),l=o.nextNode());if("node"===r.type){const e=this.processor.handleTextExpression(this.options);e.insertAfterNode(l.previousSibling),this.__parts.push(e)}else this.__parts.push(...this.processor.handleAttributeExpressions(l,r.name,r.strings,this.options));n++}else this.__parts.push(void 0),n++;return s&&(document.adoptNode(e),customElements.upgrade(e)),e}}
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const v=` ${d} `;class k{constructor(e,t,i,o){this.strings=e,this.values=t,this.type=i,this.processor=o}getHTML(){const e=this.strings.length-1;let t="",i=!1;for(let o=0;o<e;o++){const e=this.strings[o],r=e.lastIndexOf("\x3c!--");i=(r>-1||i)&&-1===e.indexOf("--\x3e",r+1);const s=y.exec(e);t+=null===s?e+(i?v:u):e.substr(0,s.index)+s[1]+s[2]+p+s[3]+d}return t+=this.strings[e]}getTemplateElement(){const e=document.createElement("template");return e.innerHTML=this.getHTML(),e}}class x extends k{getHTML(){return`<svg>${super.getHTML()}</svg>`}getTemplateElement(){const e=super.getTemplateElement(),t=e.content,i=t.firstChild;return t.removeChild(i),n(t,i.firstChild),e}}
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const _=e=>null===e||!("object"==typeof e||"function"==typeof e),z=e=>Array.isArray(e)||!(!e||!e[Symbol.iterator]);class S{constructor(e,t,i){this.dirty=!0,this.element=e,this.name=t,this.strings=i,this.parts=[];for(let e=0;e<i.length-1;e++)this.parts[e]=this._createPart()}_createPart(){return new C(this)}_getValue(){const e=this.strings,t=e.length-1;let i="";for(let o=0;o<t;o++){i+=e[o];const t=this.parts[o];if(void 0!==t){const e=t.value;if(_(e)||!z(e))i+="string"==typeof e?e:String(e);else for(const t of e)i+="string"==typeof t?t:String(t)}}return i+=e[t]}commit(){this.dirty&&(this.dirty=!1,this.element.setAttribute(this.name,this._getValue()))}}class C{constructor(e){this.value=void 0,this.committer=e}setValue(e){e===l||_(e)&&e===this.value||(this.value=e,r(e)||(this.committer.dirty=!0))}commit(){for(;r(this.value);){const e=this.value;this.value=l,e(this)}this.value!==l&&this.committer.commit()}}class P{constructor(e){this.value=void 0,this.__pendingValue=void 0,this.options=e}appendInto(e){this.startNode=e.appendChild(w()),this.endNode=e.appendChild(w())}insertAfterNode(e){this.startNode=e,this.endNode=e.nextSibling}appendIntoPart(e){e.__insert(this.startNode=w()),e.__insert(this.endNode=w())}insertAfterPart(e){e.__insert(this.startNode=w()),this.endNode=e.endNode,e.endNode=this.startNode}setValue(e){this.__pendingValue=e}commit(){for(;r(this.__pendingValue);){const e=this.__pendingValue;this.__pendingValue=l,e(this)}const e=this.__pendingValue;e!==l&&(_(e)?e!==this.value&&this.__commitText(e):e instanceof k?this.__commitTemplateResult(e):e instanceof Node?this.__commitNode(e):z(e)?this.__commitIterable(e):e===c?(this.value=c,this.clear()):this.__commitText(e))}__insert(e){this.endNode.parentNode.insertBefore(e,this.endNode)}__commitNode(e){this.value!==e&&(this.clear(),this.__insert(e),this.value=e)}__commitText(e){const t=this.startNode.nextSibling,i="string"==typeof(e=null==e?"":e)?e:String(e);t===this.endNode.previousSibling&&3===t.nodeType?t.data=i:this.__commitNode(document.createTextNode(i)),this.value=e}__commitTemplateResult(e){const t=this.options.templateFactory(e);if(this.value instanceof b&&this.value.template===t)this.value.update(e.values);else{const i=new b(t,e.processor,this.options),o=i._clone();i.update(e.values),this.__commitNode(o),this.value=i}}__commitIterable(e){Array.isArray(this.value)||(this.value=[],this.clear());const t=this.value;let i,o=0;for(const r of e)void 0===(i=t[o])&&(i=new P(this.options),t.push(i),0===o?i.appendIntoPart(this):i.insertAfterPart(t[o-1])),i.setValue(r),i.commit(),o++;o<t.length&&(t.length=o,this.clear(i&&i.endNode))}clear(e=this.startNode){a(this.startNode.parentNode,e.nextSibling,this.endNode)}}class j{constructor(e,t,i){if(this.value=void 0,this.__pendingValue=void 0,2!==i.length||""!==i[0]||""!==i[1])throw new Error("Boolean attributes can only contain a single expression");this.element=e,this.name=t,this.strings=i}setValue(e){this.__pendingValue=e}commit(){for(;r(this.__pendingValue);){const e=this.__pendingValue;this.__pendingValue=l,e(this)}if(this.__pendingValue===l)return;const e=!!this.__pendingValue;this.value!==e&&(e?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name),this.value=e),this.__pendingValue=l}}class A extends S{constructor(e,t,i){super(e,t,i),this.single=2===i.length&&""===i[0]&&""===i[1]}_createPart(){return new N(this)}_getValue(){return this.single?this.parts[0].value:super._getValue()}commit(){this.dirty&&(this.dirty=!1,this.element[this.name]=this._getValue())}}class N extends C{}let T=!1;try{const e={get capture(){return T=!0,!1}};window.addEventListener("test",e,e),window.removeEventListener("test",e,e)}catch(e){}class E{constructor(e,t,i){this.value=void 0,this.__pendingValue=void 0,this.element=e,this.eventName=t,this.eventContext=i,this.__boundHandleEvent=e=>this.handleEvent(e)}setValue(e){this.__pendingValue=e}commit(){for(;r(this.__pendingValue);){const e=this.__pendingValue;this.__pendingValue=l,e(this)}if(this.__pendingValue===l)return;const e=this.__pendingValue,t=this.value,i=null==e||null!=t&&(e.capture!==t.capture||e.once!==t.once||e.passive!==t.passive),o=null!=e&&(null==t||i);i&&this.element.removeEventListener(this.eventName,this.__boundHandleEvent,this.__options),o&&(this.__options=q(e),this.element.addEventListener(this.eventName,this.__boundHandleEvent,this.__options)),this.value=e,this.__pendingValue=l}handleEvent(e){"function"==typeof this.value?this.value.call(this.eventContext||this.element,e):this.value.handleEvent(e)}}const q=e=>e&&(T?{capture:e.capture,passive:e.passive,once:e.once}:e.capture);
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const O=new class{handleAttributeExpressions(e,t,i,o){const r=t[0];if("."===r){return new A(e,t.slice(1),i).parts}return"@"===r?[new E(e,t.slice(1),o.eventContext)]:"?"===r?[new j(e,t.slice(1),i)]:new S(e,t,i).parts}handleTextExpression(e){return new P(e)}};
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */function R(e){let t=$.get(e.type);void 0===t&&(t={stringsArray:new WeakMap,keyString:new Map},$.set(e.type,t));let i=t.stringsArray.get(e.strings);if(void 0!==i)return i;const o=e.strings.join(d);return void 0===(i=t.keyString.get(o))&&(i=new m(e,e.getTemplateElement()),t.keyString.set(o,i)),t.stringsArray.set(e.strings,i),i}const $=new Map,V=new WeakMap;
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
(window.litHtmlVersions||(window.litHtmlVersions=[])).push("1.1.2");const M=(e,...t)=>new k(e,t,"html",O),U=(e,...t)=>new x(e,t,"svg",O),I=133;function L(e,t){const{element:{content:i},parts:o}=e,r=document.createTreeWalker(i,I,null,!1);let s=B(o),n=o[s],a=-1,l=0;const c=[];let d=null;for(;r.nextNode();){a++;const e=r.currentNode;for(e.previousSibling===d&&(d=null),t.has(e)&&(c.push(e),null===d&&(d=e)),null!==d&&l++;void 0!==n&&n.index===a;)n.index=null!==d?-1:n.index-l,n=o[s=B(o,s)]}c.forEach(e=>e.parentNode.removeChild(e))}const W=e=>{let t=11===e.nodeType?0:1;const i=document.createTreeWalker(e,I,null,!1);for(;i.nextNode();)t++;return t},B=(e,t=-1)=>{for(let i=t+1;i<e.length;i++){const t=e[i];if(g(t))return i}return-1};
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
const F=(e,t)=>`${e}--${t}`;let H=!0;void 0===window.ShadyCSS?H=!1:void 0===window.ShadyCSS.prepareTemplateDom&&(console.warn("Incompatible ShadyCSS version detected. Please update to at least @webcomponents/webcomponentsjs@2.0.2 and @webcomponents/shadycss@1.3.1."),H=!1);const J=e=>t=>{const i=F(t.type,e);let o=$.get(i);void 0===o&&(o={stringsArray:new WeakMap,keyString:new Map},$.set(i,o));let r=o.stringsArray.get(t.strings);if(void 0!==r)return r;const s=t.strings.join(d);if(void 0===(r=o.keyString.get(s))){const i=t.getTemplateElement();H&&window.ShadyCSS.prepareTemplateDom(i,e),r=new m(t,i),o.keyString.set(s,r)}return o.stringsArray.set(t.strings,r),r},X=["html","svg"],D=new Set,G=(e,t,i)=>{D.add(e);const o=i?i.element:document.createElement("template"),r=t.querySelectorAll("style"),{length:s}=r;if(0===s)return void window.ShadyCSS.prepareTemplateStyles(o,e);const n=document.createElement("style");for(let e=0;e<s;e++){const t=r[e];t.parentNode.removeChild(t),n.textContent+=t.textContent}(e=>{X.forEach(t=>{const i=$.get(F(t,e));void 0!==i&&i.keyString.forEach(e=>{const{element:{content:t}}=e,i=new Set;Array.from(t.querySelectorAll("style")).forEach(e=>{i.add(e)}),L(e,i)})})})(e);const a=o.content;i?function(e,t,i=null){const{element:{content:o},parts:r}=e;if(null==i)return void o.appendChild(t);const s=document.createTreeWalker(o,I,null,!1);let n=B(r),a=0,l=-1;for(;s.nextNode();){for(l++,s.currentNode===i&&(a=W(t),i.parentNode.insertBefore(t,i));-1!==n&&r[n].index===l;){if(a>0){for(;-1!==n;)r[n].index+=a,n=B(r,n);return}n=B(r,n)}}}(i,n,a.firstChild):a.insertBefore(n,a.firstChild),window.ShadyCSS.prepareTemplateStyles(o,e);const l=a.querySelector("style");if(window.ShadyCSS.nativeShadow&&null!==l)t.insertBefore(l.cloneNode(!0),t.firstChild);else if(i){a.insertBefore(n,a.firstChild);const e=new Set;e.add(n),L(i,e)}};window.JSCompiler_renameProperty=(e,t)=>e;const Z={toAttribute(e,t){switch(t){case Boolean:return e?"":null;case Object:case Array:return null==e?e:JSON.stringify(e)}return e},fromAttribute(e,t){switch(t){case Boolean:return null!==e;case Number:return null===e?null:Number(e);case Object:case Array:return JSON.parse(e)}return e}},Y=(e,t)=>t!==e&&(t==t||e==e),K={attribute:!0,type:String,converter:Z,reflect:!1,hasChanged:Y},Q=Promise.resolve(!0),ee=1,te=4,ie=8,oe=16,re=32,se="finalized";class ne extends HTMLElement{constructor(){super(),this._updateState=0,this._instanceProperties=void 0,this._updatePromise=Q,this._hasConnectedResolver=void 0,this._changedProperties=new Map,this._reflectingProperties=void 0,this.initialize()}static get observedAttributes(){this.finalize();const e=[];return this._classProperties.forEach((t,i)=>{const o=this._attributeNameForProperty(i,t);void 0!==o&&(this._attributeToPropertyMap.set(o,i),e.push(o))}),e}static _ensureClassProperties(){if(!this.hasOwnProperty(JSCompiler_renameProperty("_classProperties",this))){this._classProperties=new Map;const e=Object.getPrototypeOf(this)._classProperties;void 0!==e&&e.forEach((e,t)=>this._classProperties.set(t,e))}}static createProperty(e,t=K){if(this._ensureClassProperties(),this._classProperties.set(e,t),t.noAccessor||this.prototype.hasOwnProperty(e))return;const i="symbol"==typeof e?Symbol():`__${e}`;Object.defineProperty(this.prototype,e,{get(){return this[i]},set(t){const o=this[e];this[i]=t,this._requestUpdate(e,o)},configurable:!0,enumerable:!0})}static finalize(){const e=Object.getPrototypeOf(this);if(e.hasOwnProperty(se)||e.finalize(),this[se]=!0,this._ensureClassProperties(),this._attributeToPropertyMap=new Map,this.hasOwnProperty(JSCompiler_renameProperty("properties",this))){const e=this.properties,t=[...Object.getOwnPropertyNames(e),..."function"==typeof Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e):[]];for(const i of t)this.createProperty(i,e[i])}}static _attributeNameForProperty(e,t){const i=t.attribute;return!1===i?void 0:"string"==typeof i?i:"string"==typeof e?e.toLowerCase():void 0}static _valueHasChanged(e,t,i=Y){return i(e,t)}static _propertyValueFromAttribute(e,t){const i=t.type,o=t.converter||Z,r="function"==typeof o?o:o.fromAttribute;return r?r(e,i):e}static _propertyValueToAttribute(e,t){if(void 0===t.reflect)return;const i=t.type,o=t.converter;return(o&&o.toAttribute||Z.toAttribute)(e,i)}initialize(){this._saveInstanceProperties(),this._requestUpdate()}_saveInstanceProperties(){this.constructor._classProperties.forEach((e,t)=>{if(this.hasOwnProperty(t)){const e=this[t];delete this[t],this._instanceProperties||(this._instanceProperties=new Map),this._instanceProperties.set(t,e)}})}_applyInstanceProperties(){this._instanceProperties.forEach((e,t)=>this[t]=e),this._instanceProperties=void 0}connectedCallback(){this._updateState=this._updateState|re,this._hasConnectedResolver&&(this._hasConnectedResolver(),this._hasConnectedResolver=void 0)}disconnectedCallback(){}attributeChangedCallback(e,t,i){t!==i&&this._attributeToProperty(e,i)}_propertyToAttribute(e,t,i=K){const o=this.constructor,r=o._attributeNameForProperty(e,i);if(void 0!==r){const e=o._propertyValueToAttribute(t,i);if(void 0===e)return;this._updateState=this._updateState|ie,null==e?this.removeAttribute(r):this.setAttribute(r,e),this._updateState=this._updateState&~ie}}_attributeToProperty(e,t){if(this._updateState&ie)return;const i=this.constructor,o=i._attributeToPropertyMap.get(e);if(void 0!==o){const e=i._classProperties.get(o)||K;this._updateState=this._updateState|oe,this[o]=i._propertyValueFromAttribute(t,e),this._updateState=this._updateState&~oe}}_requestUpdate(e,t){let i=!0;if(void 0!==e){const o=this.constructor,r=o._classProperties.get(e)||K;o._valueHasChanged(this[e],t,r.hasChanged)?(this._changedProperties.has(e)||this._changedProperties.set(e,t),!0!==r.reflect||this._updateState&oe||(void 0===this._reflectingProperties&&(this._reflectingProperties=new Map),this._reflectingProperties.set(e,r))):i=!1}!this._hasRequestedUpdate&&i&&this._enqueueUpdate()}requestUpdate(e,t){return this._requestUpdate(e,t),this.updateComplete}async _enqueueUpdate(){let e,t;this._updateState=this._updateState|te;const i=this._updatePromise;this._updatePromise=new Promise((i,o)=>{e=i,t=o});try{await i}catch(e){}this._hasConnected||await new Promise(e=>this._hasConnectedResolver=e);try{const e=this.performUpdate();null!=e&&await e}catch(e){t(e)}e(!this._hasRequestedUpdate)}get _hasConnected(){return this._updateState&re}get _hasRequestedUpdate(){return this._updateState&te}get hasUpdated(){return this._updateState&ee}performUpdate(){this._instanceProperties&&this._applyInstanceProperties();let e=!1;const t=this._changedProperties;try{(e=this.shouldUpdate(t))&&this.update(t)}catch(t){throw e=!1,t}finally{this._markUpdated()}e&&(this._updateState&ee||(this._updateState=this._updateState|ee,this.firstUpdated(t)),this.updated(t))}_markUpdated(){this._changedProperties=new Map,this._updateState=this._updateState&~te}get updateComplete(){return this._getUpdateComplete()}_getUpdateComplete(){return this._updatePromise}shouldUpdate(e){return!0}update(e){void 0!==this._reflectingProperties&&this._reflectingProperties.size>0&&(this._reflectingProperties.forEach((e,t)=>this._propertyToAttribute(t,this[t],e)),this._reflectingProperties=void 0)}updated(e){}firstUpdated(e){}}ne[se]=!0;
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
const ae=e=>t=>"function"==typeof t?((e,t)=>(window.customElements.define(e,t),t))(e,t):((e,t)=>{const{kind:i,elements:o}=t;return{kind:i,elements:o,finisher(t){window.customElements.define(e,t)}}})(e,t),le=(e,t)=>"method"!==t.kind||!t.descriptor||"value"in t.descriptor?{kind:"field",key:Symbol(),placement:"own",descriptor:{},initializer(){"function"==typeof t.initializer&&(this[t.key]=t.initializer.call(this))},finisher(i){i.createProperty(t.key,e)}}:Object.assign({},t,{finisher(i){i.createProperty(t.key,e)}}),ce=(e,t,i)=>{t.constructor.createProperty(i,e)};function de(e){return(t,i)=>void 0!==i?ce(e,t,i):le(e,t)}function ue(e){return(t,i)=>{const o={get(){return this.renderRoot.querySelector(e)},enumerable:!0,configurable:!0};return void 0!==i?pe(o,t,i):me(o,t)}}function he(e){return(t,i)=>{const o={get(){return this.renderRoot.querySelectorAll(e)},enumerable:!0,configurable:!0};return void 0!==i?pe(o,t,i):me(o,t)}}const pe=(e,t,i)=>{Object.defineProperty(t,i,e)},me=(e,t)=>({kind:"method",placement:"prototype",key:t.key,descriptor:e}),fe=e=>(t,i)=>void 0!==i?((e,t,i)=>{Object.assign(t[i],e)})(e,t,i):((e,t)=>Object.assign({},t,{finisher(i){Object.assign(i.prototype[t.key],e)}}))(e,t),ge="adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,we=Symbol();class ye{constructor(e,t){if(t!==we)throw new Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e}get styleSheet(){return void 0===this._styleSheet&&(ge?(this._styleSheet=new CSSStyleSheet,this._styleSheet.replaceSync(this.cssText)):this._styleSheet=null),this._styleSheet}toString(){return this.cssText}}const be=e=>new ye(String(e),we),ve=(e,...t)=>{const i=t.reduce((t,i,o)=>t+(e=>{if(e instanceof ye)return e.cssText;if("number"==typeof e)return e;throw new Error(`Value passed to 'css' function must be a 'css' function result: ${e}. Use 'unsafeCSS' to pass non-literal values, but\n            take care to ensure page security.`)})(i)+e[o+1],e[0]);return new ye(i,we)};i.d(t,"LitElement",(function(){return xe})),i.d(t,"defaultConverter",(function(){return Z})),i.d(t,"notEqual",(function(){return Y})),i.d(t,"UpdatingElement",(function(){return ne})),i.d(t,"customElement",(function(){return ae})),i.d(t,"property",(function(){return de})),i.d(t,"query",(function(){return ue})),i.d(t,"queryAll",(function(){return he})),i.d(t,"eventOptions",(function(){return fe})),i.d(t,"html",(function(){return M})),i.d(t,"svg",(function(){return U})),i.d(t,"TemplateResult",(function(){return k})),i.d(t,"SVGTemplateResult",(function(){return x})),i.d(t,"supportsAdoptingStyleSheets",(function(){return ge})),i.d(t,"CSSResult",(function(){return ye})),i.d(t,"unsafeCSS",(function(){return be})),i.d(t,"css",(function(){return ve})),
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
(window.litElementVersions||(window.litElementVersions=[])).push("2.2.1");const ke=e=>e.flat?e.flat(1/0):function e(t,i=[]){for(let o=0,r=t.length;o<r;o++){const r=t[o];Array.isArray(r)?e(r,i):i.push(r)}return i}(e);class xe extends ne{static finalize(){super.finalize.call(this),this._styles=this.hasOwnProperty(JSCompiler_renameProperty("styles",this))?this._getUniqueStyles():this._styles||[]}static _getUniqueStyles(){const e=this.styles,t=[];if(Array.isArray(e)){ke(e).reduceRight((e,t)=>(e.add(t),e),new Set).forEach(e=>t.unshift(e))}else e&&t.push(e);return t}initialize(){super.initialize(),this.renderRoot=this.createRenderRoot(),window.ShadowRoot&&this.renderRoot instanceof window.ShadowRoot&&this.adoptStyles()}createRenderRoot(){return this.attachShadow({mode:"open"})}adoptStyles(){const e=this.constructor._styles;0!==e.length&&(void 0===window.ShadyCSS||window.ShadyCSS.nativeShadow?ge?this.renderRoot.adoptedStyleSheets=e.map(e=>e.styleSheet):this._needsShimAdoptedStyleSheets=!0:window.ShadyCSS.ScopingShim.prepareAdoptedCssText(e.map(e=>e.cssText),this.localName))}connectedCallback(){super.connectedCallback(),this.hasUpdated&&void 0!==window.ShadyCSS&&window.ShadyCSS.styleElement(this)}update(e){super.update(e);const t=this.render();t instanceof k&&this.constructor.render(t,this.renderRoot,{scopeName:this.localName,eventContext:this}),this._needsShimAdoptedStyleSheets&&(this._needsShimAdoptedStyleSheets=!1,this.constructor._styles.forEach(e=>{const t=document.createElement("style");t.textContent=e.cssText,this.renderRoot.appendChild(t)}))}render(){}}xe.finalized=!0,xe.render=(e,t,i)=>{if(!i||"object"!=typeof i||!i.scopeName)throw new Error("The `scopeName` option is required.");const o=i.scopeName,r=V.has(t),s=H&&11===t.nodeType&&!!t.host,n=s&&!D.has(o),l=n?document.createDocumentFragment():t;if(((e,t,i)=>{let o=V.get(t);void 0===o&&(a(t,t.firstChild),V.set(t,o=new P(Object.assign({templateFactory:R},i))),o.appendInto(t)),o.setValue(e),o.commit()})(e,l,Object.assign({templateFactory:J(o)},i)),n){const e=V.get(l);V.delete(l);const i=e.value instanceof b?e.value.template:void 0;G(o,l,i),a(t,t.firstChild),t.appendChild(l),V.set(t,e)}!r&&s&&window.ShadyCSS.styleElement(t.host)}},function(e,t,i){"use strict";var o=this&&this.__awaiter||function(e,t,i,o){return new(i||(i=Promise))((function(r,s){function n(e){try{l(o.next(e))}catch(e){s(e)}}function a(e){try{l(o.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(n,a)}l((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const r=i(1),s=i(7),n=i(0),a=i(4),l=i(3);class c extends r.LitElement{constructor(){super(...arguments),this.points=0,this.levels=a.levels,this.i=0,this.n=0,this.l=0,this.ref=!1,this.speech=window.speechSynthesis,this.oldValue="A2"}static get properties(){return{}}static get styles(){return[r.css`
        :host {
          background: white;
          width: 100vw;
          height: 100vh;
          
          --global-font: "Cabin", sans-serif;
          --global-color: #109b66;
          --topbar-text-color: white;
          --mobile-top: linear-gradient(to bottom, #a57fff, #63bda2);
          --mobile-bottom: linear-gradient(to top, #a57fff, #63bda2);
          --mobile-global: #87c0c0;
          --desktop-color: #283b36;
          --warn-color: #CB454E;
          --bad-color: #d65b63;
          --good-color: #7dffaf;
          overflow: hidden;
        }
        
        #title {
          font-family: var(--global-font);
          font-size: 2rem;
        }
        #menubutton:hover{
          transform: scale(1.2);
          cursor: pointer;
        }
        #container {
          display: flex;
          width: 100%;
          justify-content: center;
          text-align: center;
          height: 100%;
        }
        input {
          outline: 1px solid white;
          border: none;
          animation: borderFlicker 0.4s infinite alternate-reverse;
        }

        @keyframes borderFlicker {
          100% {
            outline: 1px var(--global-color) solid;
          }
        }
        @keyframes wrong {
          to {
            background-color: var(--bad-color);
            color: white;
            outline: 1px solid var(--bad-color);
          }
        }
        #translationparrot{
          opacity: 0;
          width: 4rem;
          height: 4rem;
          -webkit-transform: scaleX(-1);
  transform: scaleX(-1);

        }
        input,
        .theword {
          width: 20vw;
          height: 30vh;
          font-size: 200%;
          display: flex;
          align-items: center;
          justify-content: center;
          text-align: center;
          font-family: var(--global-font);
         
        }
        input{
          background-color:  transparent;
          color: var(--global-color);
          outline: 1px solid transparent;
        }
 
        @keyframes stop {
          to {
            outline: 1px solid var(--global-color);
          }
        }
        .theword {
          cursor: pointer;
          border: 1px solid var(--global-color);
          background-color:  var(--global-color);
          color: white;
        }
        select {
          justify-self: flex-start;
          padding: 0.6rem;
          width: max-content;
          background-color: white;
          font-family: var(--global-font);
          color: black;
          border: 1px solid black;
          margin-top: .6rem;
        }

        option {
          padding: 0.4rem;
          font-family: var(--global-font);
          font-size: 120%;
          background-color: white;
          color: black;
          border: 1px solid black;
        }

        #below {
          display: flex;
          margin-top: 6vh;
          width: 100%;
          height: 2.4rem;
          font-size: 140%;
          justify-content: center;
          color: black;
          font-family: var(--global-font);
        }
       

        .icon {
          object-fit: contain;
          background-color: transparent;
          width: 4.2rem;
          height: 1.8rem;
          margin-left: 1rem;
        }

        .flip-card {
          background-color: transparent;
          width: 20vw;
          height: 30vh;
          perspective: 1000px;
        }

        .flip-card-inner {
          position: relative;
          width: 100%;
          height: 100%;
          text-align: center;
          transition: transform 0.8s;
          transform-style: preserve-3d;
        }

        .flip-card-front,
        .flip-card-back {
          position: absolute;
          width: 100%;
          height: 100%;
          backface-visibility: hidden;
          -webkit-backface-visibility: hidden;
        }
        #points {
            border: none;
            background: transparent;
            color: white;
          width: max-content;
          height: max-content;
          font-size: 1rem;
        
          font-family: var(--global-font);
        }

        .flip-card-back {
          cursor: pointer;
          background-color: var(--global-color);
          color: white;
          display: flex;
          justify-content: center;
          align-items: center;
          font-family: var(--global-font);
          font-size: 200%;
          transform: rotateY(180deg);
          outline: 1px solid var(--global-color);
        }
        #translationbox {
          width: 100%;
          text-align: center;
          height: max-content;
          background-color: transparent;
          color: black;
          padding: 0.2rem;
          font-size: 130%;
          margin-top: 16vh;
          margin-bottom: 4vh;
          z-index: 997;
          font-family: var(--global-font);
        }

        #speaker {
          font-family: Arial, Helvetica, sans-serif;
          font-size: 80%;
          margin-left: 0.7rem;
          width: 1.6rem;
          height: 1.6rem;
        }

        .hoverable {
          cursor: pointer;
          transform: scale(1.1);
        }

        #buttons {
          display:flex;
            background: var(--desktop-color);
            justify-content: space-between;
            height: 10vh;
            align-items: center;
            padding-left: 2%;
            padding-right: 2%;
            width: 96%;
            color: var(--topbar-text-color);
          }
        
        .modal {
          display: flex;
          justify-content: center;
          align-items: center;
          position: fixed;
          top: 0;
          left: 0;
          width: 100%;
          height: 100vh;
          z-index: 999;
        }
        
        
        @keyframes accepted {
          to {
            background-color: var(--global-color);
            color: white;
            outline: 1px solid var(--global-color);
          }
        }

        .box {
          font-size: 2rem;
          background-color: white;
          display: flex;
          flex-direction: row;
          justify-content: center;
          color: black;
          width: max-content;
          padding: 1rem;
          box-shadow: 3px 3px 6px gray;
          font-family: var(--global-font);
          text-align: center;
        }
        .box>img{
          width: 8rem;
          height: 8rem;
          align-self: flex-start;
          margin-right: 4rem; -webkit-transform: scaleX(-1);
  transform: scaleX(-1);
  overflow: hidden;
        }

        @media only screen and (max-width: 600px) {
          :host {
            background-image: none;
           
          }
          .flip-card,
          input,
          .theword {
            width: 30vw;
            height: 20vh;
            font-size: 80%;
            padding-left: 0.1rem;
            padding-right: 0.1rem;
          }
          .flip-card-back {
            font-size: 90%;
          }
          #below {
            position: absolute;
            bottom: 0;
            left: 0;
            display: flex;
            margin-bottom: 0;
            background: var(--desktop-color);
            height: 8vh;
            align-items: center;
            color: black;
            width: 100%;
            justify-content: center;
            color: white;

          }
          #points {
            border: none;
            background: transparent;
            color: white;
          }
          #buttons {

            background: var(--desktop-color);
         
          }
          
        #title{
          font-size: 1rem;
        }
        #wrapper {
      
           display: flex;
          flex-direction: column;
          align-content: center;
          align-items: center;
          justify-content: center;
          justify-items: center;
          width: 100%;
          height: 100%;
          position: absolute;
          top: 0;
          left: 0;
          margin: 0;
          padding: 0;
        }
          #translationbox  {
            margin-top: 22vh;
            height: max-content;
            width: 80vw;
            text-align: center;
          }
         
          #buttons > svg {
            fill: white;
          }
          #speaker {
            margin-left: 0.3rem;
            font-size: 100%;
            width: 1rem;
            height: 1rem;
          }
          
          #box {
            font-size: 1.4rem;
            width: 90%;
            box-shadow: 3px 3px 3px gray;
          }
        }
      `]}firstUpdated(e){super.firstUpdated(e),this.profileCard=this.shadowRoot.querySelector("#settings"),this.points=this.pointCollection.A2,this.container=this.shadowRoot.querySelector("#container"),this.congratulations=this.shadowRoot.querySelector("#congratulations"),this.congratulations.style.display="none",this.data=this.levels.A2,this.l=Object.entries(this.data).length,this.i=Math.floor(Math.random()*this.l),this.n=Math.floor(3*Math.random());let t=Object.entries(this.data)[this.i];t[0].includes(" ")?this.translation=Object.values(t)[0].toString():this.translation=t[0];let i=t.slice(0);this.correctWord=Array.from(i[1]),this.greet(),this.requestUpdate()}greet(){setTimeout(()=>{this.shadowRoot.querySelector("#greeting").style.display="none",this.wordsAnimation(),this.shadowRoot.querySelector("#translationparrot").style.opacity="1"},2400)}wordsAnimation(){requestAnimationFrame(()=>{Array.from(this.shadowRoot.querySelectorAll(".theword, input")).forEach((e,t)=>{e.animate([{transform:"translateY(-20px)"},{transform:"translateY(0px)"}],{duration:600,delay:100*t})})})}selectionChoice(e){"All"===e?Object.values(this.levels).map(e=>this.data=Object.assign({},e)):this.data=this.levels[`${e}`],this.points=this.pointCollection[`${e}`],requestAnimationFrame(()=>{this.wordsAnimation()}),this.refreshNumber()}menuFunctionality(){this.profileCard.style.transform="translateX(0vw)",requestAnimationFrame(()=>{this.shadowRoot.querySelector("#wrapper").onclick=()=>{this.profileCard.style.transform="translateX(-80vw)",requestAnimationFrame(()=>{this.shadowRoot.querySelector("#wrapper").onclick=null})}})}pointsAddition(){this.points=this.points+1,this.pointCollection[`${this.oldValue}`]=this.points,n.writeUserData(this.user.uid,this.pointCollection,this.user.name),this.requestUpdate(),this.profileCard.requestUpdate()}showTheAnswer(){this.shadowRoot.querySelector(".flip-card-inner").style.transform="rotateY(180deg)",this.requestUpdate()}congratulate(){let e=this.shadowRoot.querySelector("#points");if(this.points%5==0&&(document.querySelector("#canvas").style.display="block",e.animate([{transform:"scale(1.2) rotate(5deg) translateX(-10px)"},{transform:"scale(1.3) rotate(-5deg) translateX(-10px)"},{transform:"scale(1) rotate(0deg) translateX(0px)"}],{duration:1e3}),this.points%10==0)){let e={target:"canvas"};new s.default(e).render(),this.points%60==0&&(this.congratulations.style.display="flex")}}logingOut(){window.firebase.auth().signOut().then(()=>{this.user=null,localStorage.removeItem("user-info"),localStorage.removeItem("points"),l.showLog("Zostałeś wylogowany","Wracaj szybciutko, już tęsknimy!",!0,!1)})}hoverable(e){e.preventDefault(),e.target.classList.add("hoverable"),e.target.addEventListener("mouseout",e=>{e.target.classList.remove("hoverable")})}flicker(){if(1===this.points){Array.from(this.shadowRoot.querySelectorAll(".theword")).forEach(e=>{e.style.opacity="0",e.style.transition=".3s"})}}refreshNumber(){requestAnimationFrame(()=>{"none"===this.congratulations.style.display&&setTimeout((function(){document.querySelector("#canvas").style.display="none"}),1e3),Array.from(this.shadowRoot.querySelectorAll(".theword")).forEach(e=>{e.style.opacity="1"}),this.n=Math.floor(3*Math.random()),this.l=Object.entries(this.data).length,this.i=Math.floor(Math.random()*this.l);let e=Object.entries(this.data)[this.i];e[0].includes(" ")?this.translation=Object.values(e)[0].toString():this.translation=e[0];let t=e.slice(0);this.correctWord=Array.from(t[1]),this.shadowRoot.querySelector("#input").value="",this.shadowRoot.querySelector("#input").style.animation="borderFlicker .6s infinite alternate-reverse",this.ref=!1,this.shadowRoot.querySelector(".flip-card-inner").style.transform="rotateY(0deg)",this.requestUpdate()})}readTheWord(e){return o(this,void 0,void 0,(function*(){this.shadowRoot.querySelector("#translationparrot").src="./img/parotfacespeak.svg";let t=new SpeechSynthesisUtterance(e),i=this.speech.getVoices();t.lang="en-US",t.voice=i[6],this.speech.speak(t),setTimeout(()=>{this.shadowRoot.querySelector("#translationparrot").src="./img/parrotface.svg"},1e3)}))}updated(e){super.updated(e),requestAnimationFrame(()=>{this.shadowRoot.querySelector("#input").focus()})}render(){return r.html`
   <profile-card @logout="${this.logingOut}" @previousValue="${e=>{this.oldValue=e.detail.oldValue()}}" @valueSelected="${e=>{this.selectionChoice(e.detail.newValue())}}" id="settings" .userName="${this.user.name}" .userEmail="${this.user.email}" .userid="${this.user.uid}" .pointCollection="${this.pointCollection}"></profile-card>
 <div class="modal" id="greeting"> 
           <div class="box"><img src="./img/parrottalk.svg"> <p> ${this.greetingMessage}, ${this.user.name.split(" ")[0]}!</p></div>
        </div>
    <div class="modal" id="congratulations" @click="${()=>{this.congratulations.style.display="none",setTimeout((function(){document.querySelector("#canvas").style.display="none"}),1e3)}}"> 
        <div class="box">
            <p>Świetnie Ci idzie, ${this.user.name.split(" ")}!</p>
            <p>Może pora przenieść się na wyższy poziom?</p></div>
          
        </div></div>
 <div id="wrapper">
    <div id="buttons">
    <img id="menubutton" src="./img/burger.svg" @click="${this.menuFunctionality}">
      <p id="title">English Verbs Game</p>
<div id="points">${"All"!==this.oldValue?`Poziom ${this.oldValue}:`:"Wymieszane poziomy:"} ${this.points}</div>
</div>
<div id="translationbox"><img id="translationparrot" src="./img/parrotface.svg">Tłumaczenie: ${this.translation}</div>
    <div id="container">
    
    ${void 0===this.correctWord?void 0:this.correctWord.map((e,t)=>t!==this.n?r.html`
          <div
            class="theword"
            @click="${()=>{this.readTheWord(e)}}"
            @mouseover="${e=>{this.hoverable(e)}}"
          >
            <span class="word"
              >${Array.isArray(e)?e.join(" "):e}</span
            ><span id="speaker"><img src="./img/soundwhite.svg"/></span>
          </div>
        `:r.html`
            <div class="flip-card">
  <div class="flip-card-inner">
    <div class="flip-card-front">
    <input id="input" data-value="${e}" type="text" @keydown="${t=>{if(this.profileCard.style.transform="translateX(-80vw)",0!==t.target.value.length&&(t.target.style.animation="stop .3s forwards"),13===t.keyCode)if(Array.isArray(e)){e.join().toLowerCase().includes(t.target.value.toString().toLowerCase())?(this.pointsAddition(),this.flicker(),this.congratulate(),1===this.points?(t.target.style.animation="accepted .3s forwards .1s",setTimeout(()=>{this.refreshNumber()},1200)):(t.target.style.animation="accepted .3s forwards",setTimeout(()=>{this.refreshNumber()},400))):(t.target.style.animation="wrong .3s forwards",this.ref=!0,this.requestUpdate())}else t.target.value.toLowerCase()===e?(this.pointsAddition(),this.flicker(),this.congratulate(),1===this.points?(t.target.style.animation="accepted .3s forwards .1s",setTimeout(()=>{this.refreshNumber()},1200)):(t.target.style.animation="accepted .3s forwards",setTimeout(()=>{this.refreshNumber()},400))):(t.target.style.animation="wrong .3s forwards .1s",this.ref=!0,this.requestUpdate())}}">
    </div>
    <div  @click="${()=>{this.readTheWord(e)}}" class="flip-card-back">
      <span class="word">${Array.isArray(e)?e.join(" "):e}</span><span id="speaker"><img src="./img/soundwhite.svg"></span></span>
    </div>
  </div>
</div>
            `)}
               
    </div>
    
    
   <div id="below"><a id="skip" @mouseover="${e=>{this.hoverable(e)}}" @click="${this.refreshNumber}">Inne słowo</a> ${this.ref?r.html`
            <a @click="${this.showTheAnswer}"
              ><img
                @mouseover="${e=>{this.hoverable(e)}}"
                class="icon"
                src="./img/eye.svg"
            /></a>
          `:void 0}</div></div>
  
    `}}t.EnglishVerbsGame=c,customElements.define("english-verbs",c),t.showTheGame=function(e,t,i,r,s="Witaj"){return o(this,void 0,void 0,(function*(){document.body.classList.add("ready"),localStorage.removeItem("isRedirecting");const o=yield new c;return o.greetingMessage=s,o.user={email:t,uid:i,name:e},o.pointCollection=r,null===document.querySelector(".welcome")?document.body.removeChild(document.querySelector("#log")):(null!==document.querySelector("#log")&&document.body.removeChild(document.querySelector("#log")),document.body.removeChild(document.querySelector(".welcome"))),document.body.appendChild(o),o}))}},function(e,t,i){"use strict";var o=this&&this.__awaiter||function(e,t,i,o){return new(i||(i=Promise))((function(r,s){function n(e){try{l(o.next(e))}catch(e){s(e)}}function a(e){try{l(o.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(n,a)}l((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const r=i(1),s=i(0);class n extends r.LitElement{static get styles(){return[r.css`
				.welcome {
					width: 100%;
					height: 100vh;
					display: flex;
					flex-direction: row;
					align-items: center;
					justify-content: center;
					background-image: url("./img/wave1.svg");
					background-size: contain;
					background-repeat: repeat-x;
					background-position: bottom;
				}
				.wiadomosc {
					margin-right: 13rem;
					display: flex;
					flex-direction: column;
					align-items: center;
					justify-content: center;
					width: 20vw;
					height: max-content;
				}
				.wiadomoscoff {
					display: flex;
					flex-direction: column;
					align-items: center;
					justify-content: center;
					width: 30vw;
					height: max-content;
					background: white;
					box-shadow: 1px 4px 6px gray;
					padding: 2rem;
				}
				#witaj,
				.info {
					font-family: 'Montserrat', sans-serif;
					font-size: 1.3rem;
					text-align: center;
				}
				.logowanie {
					cursor: pointer;
					justify-self: flex-start;
					padding: .6rem;
					width: max-content;
					background-color: transparent;
					font-size: 1.2rem;
					border: 1px solid black;
					box-shadow: 1px 1px 3px gray;
				}

				.sadcat {
					width: 6rem;
					height: 6rem;
				}
				#nowekonto {
					cursor: pointer;
					border: none;
					background: none;
					font-size: 1rem;
					margin-top: .2rem;
				}

				.logowanie:hover {
					transition: 1s;
					color: white;
					border: 1px solid white;
					background: linear-gradient(to top, #f9b233, #3aaa35);
				}
				@media screen and (max-width: 600px) {
					.wiadomosc,
					.wiadomoscoff {
						width: 68vw;
						background: white;
						box-shadow: 1px 3px 6px gray;
						margin: 0;
						padding-bottom: 2rem;
					}
				}
			`]}logOut(){this.dispatchEvent(new CustomEvent("logout",{bubbles:!0,composed:!0})),this.requestUpdate()}render(){return r.html`   
		<div class="welcome">
		<div class="wiadomoscoff">
		<img class="sadcat" src="./img/parrotcry.svg">
		
		<p id="witaj">${this.title}</p>
		<p class="info">${this.message}</p>
		${this.logButton?r.html`<button class="logowanie" @click="${s.redirectingSignUp}">Zaloguj się ponownie</button>`:void 0}
		
	</div></div>
	  `}}t.LogScreen=n,customElements.define("log-screen",n),t.showLog=function(e,t,i=!1,r=!1){return o(this,void 0,void 0,(function*(){const o=yield new n;return o.title=e,o.message=t,o.sadCat=r,o.logButton=i,o.id="log",document.body.removeChild(document.body.lastChild),document.body.appendChild(o),o}))}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.levels={A2:{"śnić, marzyć":["dream",["dreamed","dreamt"],["dreamed","dreamt"]],"być":["be","was","been"],"robić":["do","did","done"],"stawać się":["become","became","become"],"łamać, pękać, rozbić, tłuc":["break","broke","broken"],"przynosić, przyprowadzić":["bring","brought","brought"],"budować":["build","built","built"],"kupować":["buy","bought","bought"],"łapać":["catch","caught","caught"],"wybierać":["choose","chose","chosen"],"przyjść, przyjechać":["come","came","come"],"kosztować":["cost","cost","cost"],"ciąć, kroić, skaleczyć":["cut","cut","cut"],"rysować, pociągnąć, remisować":["draw","drew","drawn"],"prowadzić, kierować się czymś":["drive","drove","driven"],"pić":["drink","drank","drunk"],"jeść":["eat","ate","eaten"],"padać, upadać, spadać":["fall","fell","fallen"],"czuć":["feel","felt","felt"],"znaleźć":["find","found","found"],"latać":["fly","flew","flown"],"dostawać":["get","got","got"],"dawać":["give","gave","given"],"iść":["go","went","gone"],"rosnąć":["grow","grew","grown"],"mieć":["have","had","had"],"słyszeć":["hear","heard","heard"],"uderzać":["hit","hit","hit"],"trzymać, utrzymywać, podtrzymywać":["hold","held","held"],"ranić, boleć":["hurt","hurt","hurt"],"trzymać":["keep","kept","kept"],"znać, wiedzieć":["know","knew","known"],"uczyć się":["learn",["learnt","learned"],["learnt","learned"]],"opuszczać, wyjeżdżać, zostawiać":["leave","left","left"],"pożyczać (komuś)":["lend","lent","lent"],"tracić, zgubić":["lose","lost","lost"],"robić, wykonywać":["make","made","made"],"znaczyć, oznaczać, mieć na myśli":["mean","meant","meant"],"spotykać, poznać":["meet","met","met"],"płacić":["pay","paid","paid"],"kłaść":["put","put","put"],"czytać":["read","read","read"],"jeździć":["ride","rode","ridden"],"dzwonić":["ring","rang","rung"],biec:["run","ran","run"],"mowić":["say","said","said"],"widzieć":["see","saw","seen"],"sprzedawać":["sell","sold","sold"],"wysyłać, słać":["send","sent","sent"],"pokazywać":["show","showed","shown"],"zamykać":["shut","shut","shut"],"śpiewać":["sing","sang","sung"],"siedzieć, siadać":["sit","sat","sat"],"spać":["sleep","slept","slept"],"mówić, rozmawiać":["speak","spoke","spoken"],"spędzać, wydawać":["spend","spent","spent"],"stać":["stand","stood","stood"],"kraść":["steal","stole","stolen"],"pływać":["swim","swam","swum"],"brać":["take","took","taken"],"uczyć (kogoś)":["teach","taught","taught"],"powiedzieć, opowiedzieć":["tell","told","told"],"myśleć, sądzić, uważać":["think","thought","thought"],"rzucać":["throw","threw","thrown"],"budzić":["wake","woke","woken"],"nosić, zakładać":["wear","wore","worn"],"rozumieć":["understand","understood","understood"],"wygrywać":["win","won","won"],"pisać":["write","wrote","written"]},B1:{"obudzić":["awake","awoke","awoken"],"bić":["beat","beat","beaten"],"ugryźc":["bite","bit","bitten"],"krwawić":["bleed","bled","bled"],"wiać, dmuchać":["blow","blew","blown"],"palić, parzyć, płonąć":["burn",["burned","burnt"],["burned","burnt"]],"kopać (np ziemię)":["dig","dug","dug"],"karmić, żywić":["feed","fed","fed"],"walczyć, bić się":["fight","fought","fought"],"zapominać":["forget","forgot","forgotten"],"wybaczać":["forgive","forgave","forgiven"],"zamarzać":["freeze","froze","frozen"],"zawieszać (coś, np obraz)":["hang","hung","hung"],"chować, ukrywać":["hide","hid","hidden"],"pozwalać":["let","let","let"],"leżeć, kłaść się":["lie","lay","lain"],"zapalać, rozpalać, oświetlać":["light",["lighted","lit"],["ligthed","lit"]],"rzucać, opuszczać":["quit","quit","quit"],"podnosić, wzrastać":["rise","rose","risen"],"trząść, potrząsać":["shake","shook","shaken"],"świecić, błyszczeć":["shine","shone","shone"],"strzelać":["shoot","shot","shot"],"tonąć (o statku), zapadać się":["sink","sank","sunk"],"wbijać, wtykać, przyklejać, wystawić":["stick","stuck","stuck"],"uderzyć, wybijać":["strike","struck","struck"],"drzeć, rozdzierać":["tear","tore","torn"]},B2:{"znosić, udźwignąć coś, żywić urazę":["bear","bore","borne"],"zginać, nachylać":["bend","bent","bent"],"hodować, wychować, rozmażać się":["breed","bred","bread"],"rzucić, zrzucić":["cast","cast","cast"],"rozdawać, postępować, mieć do czynienia, radzić sobie":["deal","dealt","dealt"],"zabraniać":["forbid","forbade","forbidden"],"klęczeć, klękać":["kneel",["kneeled","knelt"],["kneeled","knelt"]],"robić na drutach":["knit",["knit","knitted"],["knit","knitted"]],"prowadzić":["lead","led","led"],"szukać, poszukiwać":["seek","sought","sought"],"umieszczać, ustawiać, zachodzić (o słońcu), osadzić, nastawić, wyznaczyć":["set","set","set"],"kurczyć się, zbiegać":["shrink","shrank","shrunk"],"ślizgać się, zjeżdżać":["slide","slid","slid"],"dzielić, rozdzielać":["split","split","split"],"rozchodzić się, rozprzestrzeniać, rozkładać, rozpościerać, rozsmarować":["spread","spread","spread"],"przysięgać, przeklinać":["swear","swore","sworn"],"zamiatać, zmiatać":["sweep","swept","swept"],"machnąć, zakołysać":["swing","swung","swung"]},C1:{"pojawić się":["arise","arose","arisen"],"zakładać, obstawiać":["bet","bet","bet"],"umykać, uciekać, opuścić":["flee","fled","fled"],"położyć, kłaść":["lay","laid","laid"],"kręcić, zakręcić czymś/się, obrócić":["spin","spun","spun"],"śmierdzieć, cuchnąć":["stink","stank","stunk"]},C2:{"wiązać, złączyć, oprawić (książkę)":["bind","bound","bound"],"przywrzeć, uczepić się, trzymać się kurczowo":["cling","clung","clung"],"skradać się, zakradać, piąć się, podchodzić":["creep","crept","crept"],"rzucić, cisnąć":["fling","flung","flung"],"porzucać, zaniechać, opuścić":["forsake","forsook","forsaken"],"przepowiadać, przewidywać":["foretell","foretold","foretold"],"zemleć, rozkruszyć, zgrzytać, ostrzyć, trzeć":["grind","ground","ground"],"skakać":["leap",["leaped","lept"],["leaped","lept"]],"piłować":["saw","sawed","sawn"],"zrzucać, pozbywać się":["shed","shed","shed"],"zabijać":["slay","slew","slain"],"cisnąć, miotać":["sling","slung","slung"],"przeskakiwać, wyskakiwać":["spring","sprang","sprung"],"żądlić":["sting","stung","stung"],"zmagać się z czymś, dążyć, starać się, podejmować wysiłek":["strive","strove","striven"],"kroczyć, stąpać, deptać":["tread","trod","trodden"],"płakać, szlochać":["weep","wept","wept"],"nawijać, nakręcać, wić się":["wind","wound","wound"],"wykręcić, wyżąć coś, wycisnąć":["wring","wrung","wrung"]}}},function(e,t,i){"use strict";var o=this&&this.__awaiter||function(e,t,i,o){return new(i||(i=Promise))((function(r,s){function n(e){try{l(o.next(e))}catch(e){s(e)}}function a(e){try{l(o.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(n,a)}l((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const r=i(1),s=i(0);class n extends r.LitElement{static get styles(){return[r.css`
				:host {
					position: absolute;
					top: 0;
					left: 0;
					width: 100%;
					height: 100vh;
					display: flex;
					flex-direction: row;
					align-items: center;
					justify-content: center;
					z-index: 999;
				}
				.wiadomosc {
					margin-right: 13rem;
					display: flex;
					flex-direction: column;
					align-items: center;
					justify-content: center;
					width: 20vw;
					height: max-content;
				}
				.wiadomoscoff {
					display: flex;
					flex-direction: column;
					align-items: center;
					justify-content: center;
					width: 30vw;
					height: max-content;
					background: white;
					box-shadow: 1px 4px 6px gray;
					padding: 2rem;
				}
				#witaj,
				.info {
					font-family: 'Montserrat', sans-serif;
					font-size: 1.3rem;
					text-align: center;
					width: 100%;
				}
				.info {
					resize: none;
					font-size: 1rem;
					height: 20vh;
					text-align: left;
					margin-bottom: 1rem;
					text-overflow: scroll;
				}

				.logowanie {
					cursor: pointer;
					justify-self: flex-start;
					padding: .6rem;
					width: max-content;
					background-color: transparent;
					font-size: 1.2rem;
					border: 1px solid black;
					box-shadow: 1px 1px 3px gray;
				}
				#close {
					cursor: pointer;
					margin-top: -1rem;
					align-self: flex-end;
					font-family: 'Montserrat', sans-serif;
				}

				.sadcat {
					width: 6rem;
					height: 6rem;
				}
				#nowekonto {
					cursor: pointer;
					border: none;
					background: none;
					font-size: 1rem;
					margin-top: .2rem;
				}

				.logowanie:hover {
					transition: 1s;
					color: white;
					border: 1px solid white;
					background: linear-gradient(to top, #a57fff, #63bda2);
				}
				@media screen and (max-width: 600px) {
					.wiadomosc,
					.wiadomoscoff {
						width: 80vw;
						background: white;
						box-shadow: 1px 3px 6px gray;
						margin: 0;
						padding-bottom: 2rem;
					}
				}
			`]}sendInfo(e){e.preventDefault();let t=this.shadowRoot.querySelector(".info").value;s.reportBugToServer(this.userid,t),this.shadowRoot.querySelector("#witaj").textContent="Dziękujemy za zgłoszenie",this.shadowRoot.querySelector(".info").style.display="none",this.shadowRoot.querySelector(".logowanie").style.display="none",this.shadowRoot.querySelector("#close").style.display="none",setTimeout((function(){document.body.removeChild(document.querySelector("#reportbug"))}),3e3)}render(){return r.html` 
		<form @submit="${e=>{this.sendInfo(e)}}">
		<div class="wiadomoscoff">
		<span @click="${e=>{this.addEventListener("click",()=>{document.body.removeChild(document.querySelector("#reportbug"))})}}" id="close">X</span>
		<p id="witaj">Opisz swój problem w okienku poniżej:</p>
		<textarea class="info"></textarea>
		<button type="submit" class="logowanie">Wyślij</button>
		
	</div>
	</form>
	  `}}t.ReportBug=n,customElements.define("report-bug",n),t.reportBug=function(e){return o(this,void 0,void 0,(function*(){const t=yield new n;return t.userid=e,t.id="reportbug",document.body.appendChild(t),t}))}},function(e,t,i){"use strict";var o=this&&this.__awaiter||function(e,t,i,o){return new(i||(i=Promise))((function(r,s){function n(e){try{l(o.next(e))}catch(e){s(e)}}function a(e){try{l(o.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(n,a)}l((o=o.apply(e,t||[])).next())}))};function r(e){for(var i in e)t.hasOwnProperty(i)||(t[i]=e[i])}Object.defineProperty(t,"__esModule",{value:!0}),r(i(2)),r(i(4)),r(i(0)),r(i(8)),r(i(3)),r(i(5));const s=i(2);"localhost"!==location.hostname&&"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("sw.js")}),window.onload=e=>{!function(){o(this,void 0,void 0,(function*(){if(null!==localStorage.getItem("user-info")){let e=JSON.parse(localStorage.getItem("user-info")).user.uid;yield window.firebase.database().ref("/users/"+e).once("value").then((function(e){let t=e.val()&&e.val().points||{A2:0,B1:0,B2:0,C1:0,C2:0,All:0};localStorage.setItem("points",JSON.stringify({points:t}))}));s.showTheGame(JSON.parse(localStorage.getItem("user-info")).user.displayName,JSON.parse(localStorage.getItem("user-info")).user.email,JSON.parse(localStorage.getItem("user-info")).user.uid,JSON.parse(localStorage.getItem("points")).points)}}))}()}},function(e,t,i){"use strict";i.r(t),t.default=function(e){var t={target:"confetti-holder",max:80,size:1,animate:!0,props:["circle","square","triangle","line"],colors:[[165,104,246],[230,61,135],[0,199,228],[253,214,126]],clock:25,interval:null,rotate:!1,width:window.innerWidth,height:window.innerHeight};e&&(e.target&&(t.target=e.target),e.max&&(t.max=e.max),e.size&&(t.size=e.size),void 0!==e.animate&&null!==e.animate&&(t.animate=e.animate),e.props&&(t.props=e.props),e.colors&&(t.colors=e.colors),e.clock&&(t.clock=e.clock),e.width&&(t.width=e.width),e.height&&(t.height=e.height),void 0!==e.rotate&&null!==e.rotate&&(t.rotate=e.rotate));var i=document.getElementById(t.target),o=i.getContext("2d"),r=[];function s(e,t){e||(e=1);var i=Math.random()*e;return t?Math.floor(i):i}var n=t.props.reduce((function(e,t){return e+(t.weight||1)}),0);function a(){var e=t.props[function(){for(var e=Math.random()*n,i=0;i<t.props.length;++i){var o=t.props[i].weight||1;if(e<o)return i;e-=o}}()];return{prop:e.type?e.type:e,x:s(t.width),y:s(t.height),src:e.src,radius:s(4)+1,size:e.size,rotate:t.rotate,line:Math.floor(s(65)-30),angles:[s(10,!0)+2,s(10,!0)+2,s(10,!0)+2,s(10,!0)+2],color:t.colors[s(t.colors.length,!0)],rotation:s(360,!0)*Math.PI/180,speed:s(t.clock/7)+t.clock/30}}function l(e){var i=e.radius<=3?.4:.8;switch(o.fillStyle=o.strokeStyle="rgba("+e.color+", "+i+")",o.beginPath(),e.prop){case"circle":o.moveTo(e.x,e.y),o.arc(e.x,e.y,e.radius*t.size,0,2*Math.PI,!0),o.fill();break;case"triangle":o.moveTo(e.x,e.y),o.lineTo(e.x+e.angles[0]*t.size,e.y+e.angles[1]*t.size),o.lineTo(e.x+e.angles[2]*t.size,e.y+e.angles[3]*t.size),o.closePath(),o.fill();break;case"line":o.moveTo(e.x,e.y),o.lineTo(e.x+e.line*t.size,e.y+5*e.radius),o.lineWidth=2*t.size,o.stroke();break;case"square":o.save(),o.translate(e.x+15,e.y+5),o.rotate(e.rotation),o.fillRect(-15*t.size,-5*t.size,15*t.size,5*t.size),o.restore();break;case"svg":o.save();var r=new Image;r.src=e.src;var s=e.size||15;o.translate(e.x+s/2,e.y+s/2),e.rotate&&o.rotate(e.rotation),o.drawImage(r,-s/2*t.size,-s/2*t.size,s*t.size,s*t.size),o.restore()}}return{render:function(){i.width=t.width,i.height=t.height,r=[];for(var e=0;e<t.max;e++)r.push(a());return requestAnimationFrame((function e(){for(var i in o.clearRect(0,0,t.width,t.height),r)l(r[i]);!function(){for(var e=0;e<t.max;e++){var i=r[e];t.animate&&(i.y+=i.speed),i.rotate&&(i.rotation+=i.speed/35),(i.speed>=0&&i.y>t.height||i.speed<0&&i.y<0)&&(r[e]=i,r[e].x=s(t.width,!0),r[e].y=i.speed>=0?-10:parseFloat(t.height))}}(),t.animate&&requestAnimationFrame(e)}))},clear:function(){t.animate=!1,clearInterval(t.interval),requestAnimationFrame((function(){o.clearRect(0,0,i.width,i.height);var e=i.width;i.width=1,i.width=e}))}}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=i(1),r=i(5);class s extends o.LitElement{static get properties(){return{userName:{type:String,reflect:!0},userEmail:{type:String,reflect:!0},pointCollection:{type:Object,attribute:"pointcollection",reflect:!0}}}static get styles(){return[o.css`
				:host {
					transition: 1s;
					height: 100%;
					position: absolute;
					top: 0;
					left: 0;
					width: 20vw;
					background-color: var(--desktop-color);
					z-index: 998;
					transform: translateX(-80vw);
					display: flex;
					flex-direction: column;
					align-content: flex-start;
					font-family: var(--global-font);
					text-align: left;
					padding-left: 1vw;
					color: white;
				}
				#x {
					margin: 1rem 1rem 0 0;
					align-self: flex-end;
					color: white;
					cursor: pointer;
				}

				#signout,
				#bug {
					cursor: pointer;
				}
				p {
					margin-top: .8rem;
					margin-bottom: .8rem;
				}
				h1 {
					font-size: 1.4rem;
				}
				select {
					outline: 1px white solid;
					margin-top: .3rem;
					margin-left: none;
					padding: .3rem;
					border: none;
					background: white;
					color: black;
					width: 80%;
					-webkit-appearance: menulist;
					align-self: flex-start;
				}
				select > option {
					color: black;
				}
				label {
					align-self: flex-start;
				}
				#x:hover {
					transform: scale(1.2);
					cursor: pointer;
				}

				@media only screen and (max-width: 600px) {
					:host {
						width: 60vw;
					}
					p {
						margin-top: .8rem;
						margin-bottom: .8rem;
					}
					h1 {
						font-size: 1.4rem;
					}
				}
			`]}logOut(){this.dispatchEvent(new CustomEvent("logout",{bubbles:!0,composed:!0})),this.requestUpdate()}render(){return o.html`
  <h1>${this.userName}</h1>
  <p>${this.userEmail}</p>
  <label for="select">Zmień poziom:</label>
    <select @click="${e=>{this.dispatchEvent(new CustomEvent("previousValue",{bubbles:!0,composed:!0,detail:{oldValue:()=>this.shadowRoot.querySelector("#select").value}}))}}" @change="${e=>{this.dispatchEvent(new CustomEvent("valueSelected",{bubbles:!0,composed:!0,detail:{newValue:()=>this.shadowRoot.querySelector("#select").value}}))}}" id="select">
    ${Object.entries(this.pointCollection).map(([e,t])=>o.html`
  <option value="${e}">${"All"!=e?`Poziom ${e},`:"Wymieszane poziomy,"} punkty: ${t}</option>`)}
</select>

<p @click="${e=>{r.reportBug(this.userid)}}" id="bug">Zgłoś błąd</p>
<p id="signout" @click="${this.logOut}">Wyloguj</p>

    `}}t.ProfileCard=s,customElements.define("profile-card",s)}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWwudHMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xpdC1odG1sL2xpYi9kaXJlY3RpdmUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xpdC1odG1sL2xpYi9kb20uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xpdC1odG1sL2xpYi9wYXJ0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9saXQtaHRtbC9saWIvdGVtcGxhdGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xpdC1odG1sL2xpYi90ZW1wbGF0ZS1pbnN0YW5jZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbGl0LWh0bWwvbGliL3RlbXBsYXRlLXJlc3VsdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbGl0LWh0bWwvbGliL3BhcnRzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9saXQtaHRtbC9saWIvZGVmYXVsdC10ZW1wbGF0ZS1wcm9jZXNzb3IuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xpdC1odG1sL2xpYi90ZW1wbGF0ZS1mYWN0b3J5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9saXQtaHRtbC9saWIvcmVuZGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9saXQtaHRtbC9saXQtaHRtbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbGl0LWh0bWwvbGliL21vZGlmeS10ZW1wbGF0ZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbGl0LWh0bWwvbGliL3NoYWR5LXJlbmRlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbGl0LWVsZW1lbnQvbGliL3VwZGF0aW5nLWVsZW1lbnQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xpdC1lbGVtZW50L2xpYi9kZWNvcmF0b3JzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9saXQtZWxlbWVudC9saWIvY3NzLXRhZy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbGl0LWVsZW1lbnQvbGl0LWVsZW1lbnQuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2VuZ2xpc2gudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2xvZy1zY3JlZW4udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2RhdGEudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3JlcG9ydC1idWcudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LnRzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb25mZXR0aS1qcy9kaXN0L2luZGV4LmVzLmpzIiwid2VicGFjazovLy8uL3NyYy9wcm9maWxlLWNhcmQudHMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJ3aW5kb3ciLCJmaXJlYmFzZSIsImluaXRpYWxpemVBcHAiLCJhcGlLZXkiLCJhdXRoRG9tYWluIiwiZGF0YWJhc2VVUkwiLCJwcm9qZWN0SWQiLCJzdG9yYWdlQnVja2V0IiwibWVzc2FnaW5nU2VuZGVySWQiLCJhcHBJZCIsIm1lYXN1cmVtZW50SWQiLCJwcm92aWRlciIsImF1dGgiLCJHb29nbGVBdXRoUHJvdmlkZXIiLCJ3cml0ZVVzZXJEYXRhIiwidXNlcklkIiwicG9pbnRjb2xsZWN0aW9uIiwiZGF0YWJhc2UiLCJyZWYiLCJzZXQiLCJwb2ludHMiLCJyZWRpcmVjdGluZ1NpZ25VcCIsImxvY2FsU3RvcmFnZSIsInNldEl0ZW0iLCJzaWduSW5XaXRoUmVkaXJlY3QiLCJzZXRDdXN0b21QYXJhbWV0ZXJzIiwicHJvbXB0IiwibGFuZ3VhZ2VDb2RlIiwiZ2V0UmVkaXJlY3RSZXN1bHQiLCJ0aGVuIiwicmVzdWx0IiwiY3JlZGVudGlhbCIsImNvbnNvbGUiLCJsb2ciLCJ1c2VyIiwidWlkIiwib25jZSIsInNuYXBzaG90IiwidmFsIiwic2hvd1RoZUdhbWUiLCJkaXNwbGF5TmFtZSIsImVtYWlsIiwiQTIiLCJCMSIsIkIyIiwiQzEiLCJDMiIsIkFsbCIsIkpTT04iLCJzdHJpbmdpZnkiLCJjYXRjaCIsImVycm9yIiwiZXJyb3JNZXNzYWdlIiwibWVzc2FnZSIsInNob3dMb2ciLCJidWdNZXNzYWdlIiwicHVzaCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImFkZEV2ZW50TGlzdGVuZXIiLCJnZXRJdGVtIiwiYm9keSIsImNsYXNzTGlzdCIsImFkZCIsImRpcmVjdGl2ZXMiLCJXZWFrTWFwIiwiaXNEaXJlY3RpdmUiLCJoYXMiLCJpc0NFUG9seWZpbGwiLCJ1bmRlZmluZWQiLCJjdXN0b21FbGVtZW50cyIsInBvbHlmaWxsV3JhcEZsdXNoQ2FsbGJhY2siLCJyZXBhcmVudE5vZGVzIiwiY29udGFpbmVyIiwic3RhcnQiLCJlbmQiLCJiZWZvcmUiLCJuZXh0U2libGluZyIsImluc2VydEJlZm9yZSIsInJlbW92ZU5vZGVzIiwicmVtb3ZlQ2hpbGQiLCJub0NoYW5nZSIsIm5vdGhpbmciLCJtYXJrZXIiLCJTdHJpbmciLCJNYXRoIiwicmFuZG9tIiwic2xpY2UiLCJub2RlTWFya2VyIiwibWFya2VyUmVnZXgiLCJSZWdFeHAiLCJib3VuZEF0dHJpYnV0ZVN1ZmZpeCIsIlRlbXBsYXRlIiwiZWxlbWVudCIsInRoaXMiLCJwYXJ0cyIsIm5vZGVzVG9SZW1vdmUiLCJzdGFjayIsIndhbGtlciIsImNyZWF0ZVRyZWVXYWxrZXIiLCJjb250ZW50IiwibGFzdFBhcnRJbmRleCIsImluZGV4IiwicGFydEluZGV4Iiwic3RyaW5ncyIsInZhbHVlcyIsImxlbmd0aCIsIm5vZGUiLCJuZXh0Tm9kZSIsIm5vZGVUeXBlIiwiaGFzQXR0cmlidXRlcyIsImF0dHJpYnV0ZXMiLCJjb3VudCIsImVuZHNXaXRoIiwic3RyaW5nRm9yUGFydCIsImxhc3RBdHRyaWJ1dGVOYW1lUmVnZXgiLCJleGVjIiwiYXR0cmlidXRlTG9va3VwTmFtZSIsInRvTG93ZXJDYXNlIiwiYXR0cmlidXRlVmFsdWUiLCJnZXRBdHRyaWJ1dGUiLCJyZW1vdmVBdHRyaWJ1dGUiLCJzdGF0aWNzIiwic3BsaXQiLCJ0eXBlIiwidGFnTmFtZSIsImN1cnJlbnROb2RlIiwiZGF0YSIsImluZGV4T2YiLCJwYXJlbnQiLCJwYXJlbnROb2RlIiwibGFzdEluZGV4IiwiaW5zZXJ0IiwiY3JlYXRlTWFya2VyIiwibWF0Y2giLCJjcmVhdGVUZXh0Tm9kZSIsInByZXZpb3VzU2libGluZyIsInBvcCIsInN0ciIsInN1ZmZpeCIsImlzVGVtcGxhdGVQYXJ0QWN0aXZlIiwicGFydCIsImNyZWF0ZUNvbW1lbnQiLCJ0ZW1wbGF0ZSIsInByb2Nlc3NvciIsIm9wdGlvbnMiLCJfX3BhcnRzIiwic2V0VmFsdWUiLCJjb21taXQiLCJmcmFnbWVudCIsImNsb25lTm9kZSIsImltcG9ydE5vZGUiLCJub2RlSW5kZXgiLCJub2RlTmFtZSIsImhhbmRsZVRleHRFeHByZXNzaW9uIiwiaW5zZXJ0QWZ0ZXJOb2RlIiwiaGFuZGxlQXR0cmlidXRlRXhwcmVzc2lvbnMiLCJhZG9wdE5vZGUiLCJ1cGdyYWRlIiwiY29tbWVudE1hcmtlciIsImh0bWwiLCJpc0NvbW1lbnRCaW5kaW5nIiwiY29tbWVudE9wZW4iLCJsYXN0SW5kZXhPZiIsImF0dHJpYnV0ZU1hdGNoIiwic3Vic3RyIiwiY3JlYXRlRWxlbWVudCIsImlubmVySFRNTCIsImdldEhUTUwiLCJzdXBlciIsImdldFRlbXBsYXRlRWxlbWVudCIsInN2Z0VsZW1lbnQiLCJmaXJzdENoaWxkIiwiaXNQcmltaXRpdmUiLCJpc0l0ZXJhYmxlIiwiQXJyYXkiLCJpc0FycmF5IiwiaXRlcmF0b3IiLCJBdHRyaWJ1dGVDb21taXR0ZXIiLCJkaXJ0eSIsIl9jcmVhdGVQYXJ0IiwidGV4dCIsInYiLCJzZXRBdHRyaWJ1dGUiLCJfZ2V0VmFsdWUiLCJjb21taXR0ZXIiLCJkaXJlY3RpdmUiLCJfX3BlbmRpbmdWYWx1ZSIsInN0YXJ0Tm9kZSIsImFwcGVuZENoaWxkIiwiZW5kTm9kZSIsIl9faW5zZXJ0IiwiX19jb21taXRUZXh0IiwiX19jb21taXRUZW1wbGF0ZVJlc3VsdCIsIk5vZGUiLCJfX2NvbW1pdE5vZGUiLCJfX2NvbW1pdEl0ZXJhYmxlIiwiY2xlYXIiLCJ2YWx1ZUFzU3RyaW5nIiwidGVtcGxhdGVGYWN0b3J5IiwidXBkYXRlIiwiaW5zdGFuY2UiLCJfY2xvbmUiLCJpdGVtUGFydHMiLCJpdGVtUGFydCIsIml0ZW0iLCJhcHBlbmRJbnRvUGFydCIsImluc2VydEFmdGVyUGFydCIsIkVycm9yIiwiUHJvcGVydHlDb21taXR0ZXIiLCJzaW5nbGUiLCJQcm9wZXJ0eVBhcnQiLCJldmVudE9wdGlvbnNTdXBwb3J0ZWQiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiX2UiLCJldmVudE5hbWUiLCJldmVudENvbnRleHQiLCJfX2JvdW5kSGFuZGxlRXZlbnQiLCJlIiwiaGFuZGxlRXZlbnQiLCJuZXdMaXN0ZW5lciIsIm9sZExpc3RlbmVyIiwic2hvdWxkUmVtb3ZlTGlzdGVuZXIiLCJjYXB0dXJlIiwicGFzc2l2ZSIsInNob3VsZEFkZExpc3RlbmVyIiwiX19vcHRpb25zIiwiZ2V0T3B0aW9ucyIsImV2ZW50IiwiZGVmYXVsdFRlbXBsYXRlUHJvY2Vzc29yIiwicHJlZml4IiwidGVtcGxhdGVDYWNoZSIsInRlbXBsYXRlQ2FjaGVzIiwic3RyaW5nc0FycmF5Iiwia2V5U3RyaW5nIiwiTWFwIiwiam9pbiIsInN2ZyIsIndhbGtlck5vZGVGaWx0ZXIiLCJyZW1vdmVOb2Rlc0Zyb21UZW1wbGF0ZSIsIm5leHRBY3RpdmVJbmRleEluVGVtcGxhdGVQYXJ0cyIsInJlbW92ZUNvdW50Iiwibm9kZXNUb1JlbW92ZUluVGVtcGxhdGUiLCJjdXJyZW50UmVtb3ZpbmdOb2RlIiwiZm9yRWFjaCIsImNvdW50Tm9kZXMiLCJzdGFydEluZGV4IiwiZ2V0VGVtcGxhdGVDYWNoZUtleSIsInNjb3BlTmFtZSIsImNvbXBhdGlibGVTaGFkeUNTU1ZlcnNpb24iLCJTaGFkeUNTUyIsInByZXBhcmVUZW1wbGF0ZURvbSIsIndhcm4iLCJzaGFkeVRlbXBsYXRlRmFjdG9yeSIsImNhY2hlS2V5IiwiVEVNUExBVEVfVFlQRVMiLCJzaGFkeVJlbmRlclNldCIsIlNldCIsInByZXBhcmVUZW1wbGF0ZVN0eWxlcyIsInJlbmRlcmVkRE9NIiwidGVtcGxhdGVFbGVtZW50Iiwic3R5bGVzIiwicXVlcnlTZWxlY3RvckFsbCIsImNvbmRlbnNlZFN0eWxlIiwic3R5bGUiLCJ0ZXh0Q29udGVudCIsInRlbXBsYXRlcyIsImZyb20iLCJyZW1vdmVTdHlsZXNGcm9tTGl0VGVtcGxhdGVzIiwicmVmTm9kZSIsImluc2VydENvdW50Iiwid2Fsa2VySW5kZXgiLCJpbnNlcnROb2RlSW50b1RlbXBsYXRlIiwibmF0aXZlU2hhZG93IiwicmVtb3ZlcyIsIkpTQ29tcGlsZXJfcmVuYW1lUHJvcGVydHkiLCJwcm9wIiwiX29iaiIsImRlZmF1bHRDb252ZXJ0ZXIiLCJCb29sZWFuIiwiTnVtYmVyIiwicGFyc2UiLCJub3RFcXVhbCIsIm9sZCIsImRlZmF1bHRQcm9wZXJ0eURlY2xhcmF0aW9uIiwiYXR0cmlidXRlIiwiY29udmVydGVyIiwicmVmbGVjdCIsImhhc0NoYW5nZWQiLCJtaWNyb3Rhc2tQcm9taXNlIiwiUHJvbWlzZSIsInJlc29sdmUiLCJTVEFURV9IQVNfVVBEQVRFRCIsIlNUQVRFX1VQREFURV9SRVFVRVNURUQiLCJTVEFURV9JU19SRUZMRUNUSU5HX1RPX0FUVFJJQlVURSIsIlNUQVRFX0lTX1JFRkxFQ1RJTkdfVE9fUFJPUEVSVFkiLCJTVEFURV9IQVNfQ09OTkVDVEVEIiwiZmluYWxpemVkIiwiVXBkYXRpbmdFbGVtZW50IiwiSFRNTEVsZW1lbnQiLCJfdXBkYXRlU3RhdGUiLCJfaW5zdGFuY2VQcm9wZXJ0aWVzIiwiX3VwZGF0ZVByb21pc2UiLCJfaGFzQ29ubmVjdGVkUmVzb2x2ZXIiLCJfY2hhbmdlZFByb3BlcnRpZXMiLCJfcmVmbGVjdGluZ1Byb3BlcnRpZXMiLCJpbml0aWFsaXplIiwiZmluYWxpemUiLCJfY2xhc3NQcm9wZXJ0aWVzIiwiYXR0ciIsIl9hdHRyaWJ1dGVOYW1lRm9yUHJvcGVydHkiLCJfYXR0cmlidXRlVG9Qcm9wZXJ0eU1hcCIsInN1cGVyUHJvcGVydGllcyIsImdldFByb3RvdHlwZU9mIiwiayIsIl9lbnN1cmVDbGFzc1Byb3BlcnRpZXMiLCJub0FjY2Vzc29yIiwib2xkVmFsdWUiLCJfcmVxdWVzdFVwZGF0ZSIsImNvbmZpZ3VyYWJsZSIsInN1cGVyQ3RvciIsInByb3BzIiwicHJvcGVydGllcyIsInByb3BLZXlzIiwiZ2V0T3duUHJvcGVydHlOYW1lcyIsImdldE93blByb3BlcnR5U3ltYm9scyIsImNyZWF0ZVByb3BlcnR5IiwiZnJvbUF0dHJpYnV0ZSIsInRvQXR0cmlidXRlIiwiX3NhdmVJbnN0YW5jZVByb3BlcnRpZXMiLCJjb25zdHJ1Y3RvciIsIl92IiwiX2F0dHJpYnV0ZVRvUHJvcGVydHkiLCJjdG9yIiwiYXR0clZhbHVlIiwiX3Byb3BlcnR5VmFsdWVUb0F0dHJpYnV0ZSIsInByb3BOYW1lIiwiX3Byb3BlcnR5VmFsdWVGcm9tQXR0cmlidXRlIiwic2hvdWxkUmVxdWVzdFVwZGF0ZSIsIl92YWx1ZUhhc0NoYW5nZWQiLCJfaGFzUmVxdWVzdGVkVXBkYXRlIiwiX2VucXVldWVVcGRhdGUiLCJ1cGRhdGVDb21wbGV0ZSIsInJlamVjdCIsInByZXZpb3VzVXBkYXRlUHJvbWlzZSIsInJlcyIsInJlaiIsIl9oYXNDb25uZWN0ZWQiLCJwZXJmb3JtVXBkYXRlIiwiX2FwcGx5SW5zdGFuY2VQcm9wZXJ0aWVzIiwic2hvdWxkVXBkYXRlIiwiY2hhbmdlZFByb3BlcnRpZXMiLCJfbWFya1VwZGF0ZWQiLCJmaXJzdFVwZGF0ZWQiLCJ1cGRhdGVkIiwiX2dldFVwZGF0ZUNvbXBsZXRlIiwic2l6ZSIsIl9wcm9wZXJ0eVRvQXR0cmlidXRlIiwiY3VzdG9tRWxlbWVudCIsImNsYXNzT3JEZXNjcmlwdG9yIiwiY2xhenoiLCJkZWZpbmUiLCJsZWdhY3lDdXN0b21FbGVtZW50IiwiZGVzY3JpcHRvciIsImtpbmQiLCJlbGVtZW50cyIsInN0YW5kYXJkQ3VzdG9tRWxlbWVudCIsInN0YW5kYXJkUHJvcGVydHkiLCJwbGFjZW1lbnQiLCJpbml0aWFsaXplciIsImFzc2lnbiIsImxlZ2FjeVByb3BlcnR5IiwicHJvdG8iLCJwcm90b09yRGVzY3JpcHRvciIsInF1ZXJ5Iiwic2VsZWN0b3IiLCJyZW5kZXJSb290IiwibGVnYWN5UXVlcnkiLCJzdGFuZGFyZFF1ZXJ5IiwicXVlcnlBbGwiLCJldmVudE9wdGlvbnMiLCJsZWdhY3lFdmVudE9wdGlvbnMiLCJzdGFuZGFyZEV2ZW50T3B0aW9ucyIsInN1cHBvcnRzQWRvcHRpbmdTdHlsZVNoZWV0cyIsIkRvY3VtZW50IiwiQ1NTU3R5bGVTaGVldCIsImNvbnN0cnVjdGlvblRva2VuIiwiQ1NTUmVzdWx0IiwiY3NzVGV4dCIsInNhZmVUb2tlbiIsIl9zdHlsZVNoZWV0IiwicmVwbGFjZVN5bmMiLCJ1bnNhZmVDU1MiLCJjc3MiLCJyZWR1Y2UiLCJhY2MiLCJpZHgiLCJ0ZXh0RnJvbUNTU1Jlc3VsdCIsImZsYXR0ZW5TdHlsZXMiLCJmbGF0IiwiSW5maW5pdHkiLCJhcnJheUZsYXQiLCJfc3R5bGVzIiwiX2dldFVuaXF1ZVN0eWxlcyIsInVzZXJTdHlsZXMiLCJyZWR1Y2VSaWdodCIsInVuc2hpZnQiLCJjcmVhdGVSZW5kZXJSb290IiwiU2hhZG93Um9vdCIsImFkb3B0U3R5bGVzIiwiYXR0YWNoU2hhZG93IiwiYWRvcHRlZFN0eWxlU2hlZXRzIiwibWFwIiwic3R5bGVTaGVldCIsIl9uZWVkc1NoaW1BZG9wdGVkU3R5bGVTaGVldHMiLCJTY29waW5nU2hpbSIsInByZXBhcmVBZG9wdGVkQ3NzVGV4dCIsImxvY2FsTmFtZSIsImNvbm5lY3RlZENhbGxiYWNrIiwiaGFzVXBkYXRlZCIsInN0eWxlRWxlbWVudCIsInRlbXBsYXRlUmVzdWx0IiwicmVuZGVyIiwiaGFzUmVuZGVyZWQiLCJuZWVkc1Njb3BpbmciLCJob3N0IiwiZmlyc3RTY29wZVJlbmRlciIsInJlbmRlckNvbnRhaW5lciIsImNyZWF0ZURvY3VtZW50RnJhZ21lbnQiLCJhcHBlbmRJbnRvIiwiZGVsZXRlIiwiRW5nbGlzaFZlcmJzR2FtZSIsIkxpdEVsZW1lbnQiLCJsZXZlbHMiLCJzcGVlY2giLCJzcGVlY2hTeW50aGVzaXMiLCJhIiwicHJvZmlsZUNhcmQiLCJzaGFkb3dSb290IiwicG9pbnRDb2xsZWN0aW9uIiwiY29uZ3JhdHVsYXRpb25zIiwiZGlzcGxheSIsImVudHJpZXMiLCJmbG9vciIsIndvcmQiLCJpbmNsdWRlcyIsInRyYW5zbGF0aW9uIiwidG9TdHJpbmciLCJ0aGVyZXN0IiwiY29ycmVjdFdvcmQiLCJncmVldCIsInJlcXVlc3RVcGRhdGUiLCJzZXRUaW1lb3V0Iiwid29yZHNBbmltYXRpb24iLCJvcGFjaXR5IiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiYm94IiwiYW5pbWF0ZSIsInRyYW5zZm9ybSIsImR1cmF0aW9uIiwiZGVsYXkiLCJuZXdWYWx1ZSIsImxldmVsIiwicmVmcmVzaE51bWJlciIsIm9uY2xpY2siLCJwb2ludGJveCIsImNvbmZldHRpU2V0dGluZ3MiLCJ0YXJnZXQiLCJzaWduT3V0IiwicmVtb3ZlSXRlbSIsInByZXZlbnREZWZhdWx0IiwicmVtb3ZlIiwidHJhbnNpdGlvbiIsImFuaW1hdGlvbiIsImZvcm0iLCJzcmMiLCJtc2ciLCJTcGVlY2hTeW50aGVzaXNVdHRlcmFuY2UiLCJ2b2ljZXMiLCJnZXRWb2ljZXMiLCJsYW5nIiwidm9pY2UiLCJzcGVhayIsImZvY3VzIiwibG9naW5nT3V0IiwiZGV0YWlsIiwic2VsZWN0aW9uQ2hvaWNlIiwiZ3JlZXRpbmdNZXNzYWdlIiwibWVudUZ1bmN0aW9uYWxpdHkiLCJyZWFkVGhlV29yZCIsImhvdmVyYWJsZSIsImtleUNvZGUiLCJwb2ludHNBZGRpdGlvbiIsImZsaWNrZXIiLCJjb25ncmF0dWxhdGUiLCJzaG93VGhlQW5zd2VyIiwiZ3JlZXRpbmciLCIkZ2FtZSIsIkxvZ1NjcmVlbiIsImRpc3BhdGNoRXZlbnQiLCJDdXN0b21FdmVudCIsImJ1YmJsZXMiLCJjb21wb3NlZCIsInRpdGxlIiwibG9nQnV0dG9uIiwic2FkQ2F0IiwiJGxvZ3NjcmVlbiIsImlkIiwibGFzdENoaWxkIiwiYnnEhyIsInJvYmnEhyIsImJ1ZG93YcSHIiwia3Vwb3dhxIciLCLFgmFwYcSHIiwid3liaWVyYcSHIiwia29zenRvd2HEhyIsInBpxIciLCJqZcWbxIciLCJjenXEhyIsInpuYWxlxbrEhyIsImxhdGHEhyIsImRvc3Rhd2HEhyIsImRhd2HEhyIsImnFm8SHIiwicm9zbsSFxIciLCJtaWXEhyIsInPFgnlzemXEhyIsInVkZXJ6YcSHIiwidHJ6eW1hxIciLCJwxYJhY2nEhyIsImvFgmHFm8SHIiwiY3p5dGHEhyIsImplxbpkemnEhyIsImR6d29uacSHIiwiYmllYyIsIm1vd2nEhyIsIndpZHppZcSHIiwic3ByemVkYXdhxIciLCJwb2thenl3YcSHIiwiemFteWthxIciLCLFm3BpZXdhxIciLCJzcGHEhyIsInN0YcSHIiwia3JhxZvEhyIsInDFgnl3YcSHIiwiYnJhxIciLCJyenVjYcSHIiwiYnVkemnEhyIsInJvenVtaWXEhyIsInd5Z3J5d2HEhyIsInBpc2HEhyIsIm9idWR6acSHIiwiYmnEhyIsInVncnnFumMiLCJrcndhd2nEhyIsInphcG9taW5hxIciLCJ3eWJhY3phxIciLCJ6YW1hcnphxIciLCJwb3p3YWxhxIciLCJzdHJ6ZWxhxIciLCJ6YWJyYW5pYcSHIiwicHJvd2FkemnEhyIsInNrYWthxIciLCJwacWCb3dhxIciLCJ6YWJpamHEhyIsIsW8xIVkbGnEhyIsIlJlcG9ydEJ1ZyIsInJlcG9ydEJ1Z1RvU2VydmVyIiwidXNlcmlkIiwic2VuZEluZm8iLCIkcmVwb3J0YnVnIiwibG9jYXRpb24iLCJob3N0bmFtZSIsIm5hdmlnYXRvciIsInNlcnZpY2VXb3JrZXIiLCJyZWdpc3RlciIsIm9ubG9hZCIsImNoZWNrVXBkYXRlcyIsInBhcmFtcyIsImFwcHN0YXRlIiwibWF4IiwiY29sb3JzIiwiY2xvY2siLCJpbnRlcnZhbCIsInJvdGF0ZSIsIndpZHRoIiwiaW5uZXJXaWR0aCIsImhlaWdodCIsImlubmVySGVpZ2h0IiwiY3YiLCJnZXRFbGVtZW50QnlJZCIsImN0eCIsImdldENvbnRleHQiLCJwYXJ0aWNsZXMiLCJyYW5kIiwibGltaXQiLCJ0b3RhbFdlaWdodCIsIndlaWdodCIsInBhcnRpY2xlRmFjdG9yeSIsInNlbGVjdFByb3AiLCJ4IiwieSIsInJhZGl1cyIsImxpbmUiLCJhbmdsZXMiLCJjb2xvciIsInJvdGF0aW9uIiwiUEkiLCJzcGVlZCIsInBhcnRpY2xlRHJhdyIsIm9wIiwiZmlsbFN0eWxlIiwic3Ryb2tlU3R5bGUiLCJiZWdpblBhdGgiLCJtb3ZlVG8iLCJhcmMiLCJmaWxsIiwibGluZVRvIiwiY2xvc2VQYXRoIiwibGluZVdpZHRoIiwic3Ryb2tlIiwic2F2ZSIsInRyYW5zbGF0ZSIsImZpbGxSZWN0IiwicmVzdG9yZSIsImltYWdlIiwiSW1hZ2UiLCJkcmF3SW1hZ2UiLCJkcmF3IiwiY2xlYXJSZWN0IiwicGFyc2VGbG9hdCIsImNsZWFySW50ZXJ2YWwiLCJ3IiwiUHJvZmlsZUNhcmQiLCJ1c2VyTmFtZSIsInVzZXJFbWFpbCIsInJlcG9ydEJ1ZyIsImxvZ091dCJdLCJtYXBwaW5ncyI6ImFBQ0UsSUFBSUEsRUFBbUIsR0FHdkIsU0FBU0MsRUFBb0JDLEdBRzVCLEdBQUdGLEVBQWlCRSxHQUNuQixPQUFPRixFQUFpQkUsR0FBVUMsUUFHbkMsSUFBSUMsRUFBU0osRUFBaUJFLEdBQVksQ0FDekNHLEVBQUdILEVBQ0hJLEdBQUcsRUFDSEgsUUFBUyxJQVVWLE9BTkFJLEVBQVFMLEdBQVVNLEtBQUtKLEVBQU9ELFFBQVNDLEVBQVFBLEVBQU9ELFFBQVNGLEdBRy9ERyxFQUFPRSxHQUFJLEVBR0pGLEVBQU9ELFFBS2ZGLEVBQW9CUSxFQUFJRixFQUd4Qk4sRUFBb0JTLEVBQUlWLEVBR3hCQyxFQUFvQlUsRUFBSSxTQUFTUixFQUFTUyxFQUFNQyxHQUMzQ1osRUFBb0JhLEVBQUVYLEVBQVNTLElBQ2xDRyxPQUFPQyxlQUFlYixFQUFTUyxFQUFNLENBQUVLLFlBQVksRUFBTUMsSUFBS0wsS0FLaEVaLEVBQW9Ca0IsRUFBSSxTQUFTaEIsR0FDWCxvQkFBWGlCLFFBQTBCQSxPQUFPQyxhQUMxQ04sT0FBT0MsZUFBZWIsRUFBU2lCLE9BQU9DLFlBQWEsQ0FBRUMsTUFBTyxXQUU3RFAsT0FBT0MsZUFBZWIsRUFBUyxhQUFjLENBQUVtQixPQUFPLEtBUXZEckIsRUFBb0JzQixFQUFJLFNBQVNELEVBQU9FLEdBRXZDLEdBRFUsRUFBUEEsSUFBVUYsRUFBUXJCLEVBQW9CcUIsSUFDL0IsRUFBUEUsRUFBVSxPQUFPRixFQUNwQixHQUFXLEVBQVBFLEdBQThCLGlCQUFWRixHQUFzQkEsR0FBU0EsRUFBTUcsV0FBWSxPQUFPSCxFQUNoRixJQUFJSSxFQUFLWCxPQUFPWSxPQUFPLE1BR3ZCLEdBRkExQixFQUFvQmtCLEVBQUVPLEdBQ3RCWCxPQUFPQyxlQUFlVSxFQUFJLFVBQVcsQ0FBRVQsWUFBWSxFQUFNSyxNQUFPQSxJQUN0RCxFQUFQRSxHQUE0QixpQkFBVEYsRUFBbUIsSUFBSSxJQUFJTSxLQUFPTixFQUFPckIsRUFBb0JVLEVBQUVlLEVBQUlFLEVBQUssU0FBU0EsR0FBTyxPQUFPTixFQUFNTSxJQUFRQyxLQUFLLEtBQU1ELElBQzlJLE9BQU9GLEdBSVJ6QixFQUFvQjZCLEVBQUksU0FBUzFCLEdBQ2hDLElBQUlTLEVBQVNULEdBQVVBLEVBQU9xQixXQUM3QixXQUF3QixPQUFPckIsRUFBZ0IsU0FDL0MsV0FBOEIsT0FBT0EsR0FFdEMsT0FEQUgsRUFBb0JVLEVBQUVFLEVBQVEsSUFBS0EsR0FDNUJBLEdBSVJaLEVBQW9CYSxFQUFJLFNBQVNpQixFQUFRQyxHQUFZLE9BQU9qQixPQUFPa0IsVUFBVUMsZUFBZTFCLEtBQUt1QixFQUFRQyxJQUd6Ry9CLEVBQW9Ca0MsRUFBSSxHQUlqQmxDLEVBQW9CQSxFQUFvQm1DLEVBQUksRyxnRkNsRnJELGFBQ0EsT0FtQkFDLE9BQU9DLFNBQVNDLGNBWEssQ0FDcEJDLE9BQVEsMENBQ1JDLFdBQVkscUNBQ1pDLFlBQWEsNENBQ2JDLFVBQVcscUJBQ1hDLGNBQWUsaUNBQ2ZDLGtCQUFtQixlQUNuQkMsTUFBTyw0Q0FDUEMsY0FBZSxpQkFJaEIsSUFBSUMsRUFBVyxJQUFJWCxPQUFPQyxTQUFTVyxLQUFLQyxtQkEyQ3hDLFNBQWdCQyxFQUFjQyxFQUFnQkMsRUFBa0N6QyxHQUMvRXlCLE9BQU9DLFNBQVNnQixXQUFXQyxJQUFJLFNBQVdILEdBQVFJLElBQUksQ0FDckRDLE9BQVFKLEVBQ1J6QyxLQUFNQSxJQVFSLFNBQWdCOEMsSUFDZkMsYUFBYUMsUUFBUSxnQkFBaUIsSUFDdEN2QixPQUFPQyxTQUFTVyxPQUFPWSxtQkFBbUJiLEdBdkQzQ0EsRUFBU2Msb0JBQW9CLENBQzVCQyxPQUFRLG1CQUVUMUIsT0FBT0MsU0FBU1csT0FBT2UsYUFBZSxLQUN0QzNCLE9BQU9DLFNBQ0xXLE9BQ0FnQixvQkFDQUMsTUFBSyxTQUFTQyxHQUNkLEdBQUlBLEVBQU9DLFdBQVksQ0FDdEJDLFFBQVFDLElBQUksVUFDWixJQUNJYixFQURBYyxFQUFPSixFQUFPSSxLQUVsQmxDLE9BQU9DLFNBQVNnQixXQUFXQyxJQUFJLFVBQVlnQixFQUFLQyxLQUFLQyxLQUFLLFNBQVNQLE1BQUssU0FBU1EsR0FDaEYsR0FBeUIsT0FBbkJBLEVBQVNDLE1BQWlCLENBQy9CbEIsRUFBU2lCLEVBQVNDLE1BQU1sQixPQUViLEVBQUFtQixZQUFZTCxFQUFLTSxZQUFhTixFQUFLTyxNQUFPUCxFQUFLQyxJQUFLZixFQUFRLHNCQUNqRSxDQUNOQSxFQUFTLENBQ1JzQixHQUFJLEVBQ0pDLEdBQUksRUFDSkMsR0FBSSxFQUNKQyxHQUFJLEVBQ0pDLEdBQUksRUFDSkMsSUFBSyxHQUVOakMsRUFBY29CLEVBQUtDLElBQUtmLEVBQVFjLEVBQUtNLGFBQzFCLEVBQUFELFlBQVlMLEVBQUtNLFlBQWFOLEVBQUtPLE1BQU9QLEVBQUtDLElBQUtmLEVBQVEsNkJBRXhFRSxhQUFhQyxRQUFRLFlBQWF5QixLQUFLQyxVQUFVLENBQUVmLFVBQ25EWixhQUFhQyxRQUFRLFNBQVV5QixLQUFLQyxVQUFVLENBQUU3QixtQkFNbEQ4QixPQUFNLFNBQVNDLEdBQ2YsSUFBSUMsRUFBZUQsRUFBTUUsUUFDekJyQixRQUFRQyxJQUFJbUIsR0FDRSxFQUFBRSxRQUFRLHFCQUFzQixtQ0FBbUMsR0FBTyxNQUd4RixrQkFNQSw2QkFBa0N2QyxFQUFnQndDLEdBQ2pEdkIsUUFBUUMsSUFBSXNCLEdBQ1p2RCxPQUFPQyxTQUFTZ0IsV0FBV0MsSUFBSSxTQUFXSCxHQUFReUMsS0FBS0QsSUFHeEQsc0JBS0FFLFNBQVNDLGNBQWMsY0FBY0MsaUJBQWlCLFFBQVN0QyxHQUMvRG9DLFNBQVNDLGNBQWMsWUFBWUMsaUJBQWlCLFFBQVN0QyxHQUdoQixNQUF6Q0MsYUFBYXNDLFFBQVEsa0JBQ3hCSCxTQUFTSSxLQUFLQyxVQUFVQyxJQUFJLFU7Ozs7Ozs7Ozs7Ozs7O0FDeEU3QixNQUFNQyxFQUFhLElBQUlDLFFBOENWQyxFQUFlekYsR0FDSixtQkFBTkEsR0FBb0J1RixFQUFXRyxJQUFJMUYsR0M1Q3hDMkYsT0FBeUNDLElBQTFCckUsT0FBT3NFLHFCQUUzQkQsSUFESnJFLE9BQU9zRSxlQUFlQywwQkFPYkMsRUFBZ0IsQ0FBQ0MsRUFBV0MsRUFBT0MsRUFBTSxLQUFNQyxFQUFTLFFBQ2pFLEtBQU9GLElBQVVDLEdBQUssQ0FDbEIsTUFBTWxGLEVBQUlpRixFQUFNRyxZQUNoQkosRUFBVUssYUFBYUosRUFBT0UsR0FDOUJGLEVBQVFqRixJQU9Ic0YsRUFBYyxDQUFDTixFQUFXQyxFQUFPQyxFQUFNLFFBQ2hELEtBQU9ELElBQVVDLEdBQUssQ0FDbEIsTUFBTWxGLEVBQUlpRixFQUFNRyxZQUNoQkosRUFBVU8sWUFBWU4sR0FDdEJBLEVBQVFqRixJQ3RCSHdGLEVBQVcsR0FJWEMsRUFBVSxHQ0pWQyxFQUFTLFNBQVNDLE9BQU9DLEtBQUtDLFVBQVVDLE1BQU0sT0FLOUNDLEVBQWEsVUFBT0wsVUFDcEJNLEVBQWMsSUFBSUMsT0FBTyxHQUFHUCxLQUFVSyxLQUl0Q0csRUFBdUIsUUFJN0IsTUFBTUMsRUFDVCxZQUFZOUQsRUFBUStELEdBQ2hCQyxLQUFLQyxNQUFRLEdBQ2JELEtBQUtELFFBQVVBLEVBQ2YsTUFBTUcsRUFBZ0IsR0FDaEJDLEVBQVEsR0FFUkMsRUFBU3pDLFNBQVMwQyxpQkFBaUJOLEVBQVFPLFFBQVMsSUFBa0QsTUFBTSxHQUlsSCxJQUFJQyxFQUFnQixFQUNoQkMsR0FBUyxFQUNUQyxFQUFZLEVBQ2hCLE1BQU0sUUFBRUMsRUFBU0MsUUFBUSxPQUFFQyxJQUFhNUUsRUFDeEMsS0FBT3lFLEVBQVlHLEdBQVEsQ0FDdkIsTUFBTUMsRUFBT1QsRUFBT1UsV0FDcEIsR0FBYSxPQUFURCxHQVNKLEdBREFMLElBQ3NCLElBQWxCSyxFQUFLRSxTQUF3QyxDQUM3QyxHQUFJRixFQUFLRyxnQkFBaUIsQ0FDdEIsTUFBTUMsRUFBYUosRUFBS0ksWUFDbEIsT0FBRUwsR0FBV0ssRUFNbkIsSUFBSUMsRUFBUSxFQUNaLElBQUssSUFBSWhKLEVBQUksRUFBR0EsRUFBSTBJLEVBQVExSSxJQUNwQmlKLEVBQVNGLEVBQVcvSSxHQUFHTyxLQUFNb0gsSUFDN0JxQixJQUdSLEtBQU9BLEtBQVUsR0FBRyxDQUdoQixNQUFNRSxFQUFnQlYsRUFBUUQsR0FFeEJoSSxFQUFPNEksRUFBdUJDLEtBQUtGLEdBQWUsR0FNbERHLEVBQXNCOUksRUFBSytJLGNBQWdCM0IsRUFDM0M0QixFQUFpQlosRUFBS2EsYUFBYUgsR0FDekNWLEVBQUtjLGdCQUFnQkosR0FDckIsTUFBTUssRUFBVUgsRUFBZUksTUFBTWxDLEdBQ3JDSyxLQUFLQyxNQUFNdkMsS0FBSyxDQUFFb0UsS0FBTSxZQUFhdEIsUUFBTy9ILE9BQU1pSSxRQUFTa0IsSUFDM0RuQixHQUFhbUIsRUFBUWhCLE9BQVMsR0FHakIsYUFBakJDLEVBQUtrQixVQUNMNUIsRUFBTXpDLEtBQUttRCxHQUNYVCxFQUFPNEIsWUFBY25CLEVBQUtQLGNBRzdCLEdBQXNCLElBQWxCTyxFQUFLRSxTQUFxQyxDQUMvQyxNQUFNa0IsRUFBT3BCLEVBQUtvQixLQUNsQixHQUFJQSxFQUFLQyxRQUFRN0MsSUFBVyxFQUFHLENBQzNCLE1BQU04QyxFQUFTdEIsRUFBS3VCLFdBQ2QxQixFQUFVdUIsRUFBS0osTUFBTWxDLEdBQ3JCMEMsRUFBWTNCLEVBQVFFLE9BQVMsRUFHbkMsSUFBSyxJQUFJMUksRUFBSSxFQUFHQSxFQUFJbUssRUFBV25LLElBQUssQ0FDaEMsSUFBSW9LLEVBQ0FySSxFQUFJeUcsRUFBUXhJLEdBQ2hCLEdBQVUsS0FBTitCLEVBQ0FxSSxFQUFTQyxRQUVSLENBQ0QsTUFBTUMsRUFBUW5CLEVBQXVCQyxLQUFLckgsR0FDNUIsT0FBVnVJLEdBQWtCckIsRUFBU3FCLEVBQU0sR0FBSTNDLEtBQ3JDNUYsRUFBSUEsRUFBRXdGLE1BQU0sRUFBRytDLEVBQU1oQyxPQUFTZ0MsRUFBTSxHQUNoQ0EsRUFBTSxHQUFHL0MsTUFBTSxHQUFJSSxFQUFxQmUsUUFBVTRCLEVBQU0sSUFFaEVGLEVBQVMzRSxTQUFTOEUsZUFBZXhJLEdBRXJDa0ksRUFBT25ELGFBQWFzRCxFQUFRekIsR0FDNUJiLEtBQUtDLE1BQU12QyxLQUFLLENBQUVvRSxLQUFNLE9BQVF0QixRQUFTQSxJQUlsQixLQUF2QkUsRUFBUTJCLElBQ1JGLEVBQU9uRCxhQUFhdUQsSUFBZ0IxQixHQUNwQ1gsRUFBY3hDLEtBQUttRCxJQUduQkEsRUFBS29CLEtBQU92QixFQUFRMkIsR0FHeEI1QixHQUFhNEIsUUFHaEIsR0FBc0IsSUFBbEJ4QixFQUFLRSxTQUNWLEdBQUlGLEVBQUtvQixPQUFTNUMsRUFBUSxDQUN0QixNQUFNOEMsRUFBU3RCLEVBQUt1QixXQUtTLE9BQXpCdkIsRUFBSzZCLGlCQUE0QmxDLElBQVVELElBQzNDQyxJQUNBMkIsRUFBT25ELGFBQWF1RCxJQUFnQjFCLElBRXhDTixFQUFnQkMsRUFDaEJSLEtBQUtDLE1BQU12QyxLQUFLLENBQUVvRSxLQUFNLE9BQVF0QixVQUdQLE9BQXJCSyxFQUFLOUIsWUFDTDhCLEVBQUtvQixLQUFPLElBR1ovQixFQUFjeEMsS0FBS21ELEdBQ25CTCxLQUVKQyxRQUVDLENBQ0QsSUFBSXZJLEdBQUssRUFDVCxNQUFtRCxLQUEzQ0EsRUFBSTJJLEVBQUtvQixLQUFLQyxRQUFRN0MsRUFBUW5ILEVBQUksS0FLdEM4SCxLQUFLQyxNQUFNdkMsS0FBSyxDQUFFb0UsS0FBTSxPQUFRdEIsT0FBUSxJQUN4Q0MsVUFqSFJMLEVBQU80QixZQUFjN0IsRUFBTXdDLE1BdUhuQyxJQUFLLE1BQU1oSixLQUFLdUcsRUFDWnZHLEVBQUV5SSxXQUFXbEQsWUFBWXZGLElBSXJDLE1BQU13SCxFQUFXLENBQUN5QixFQUFLQyxLQUNuQixNQUFNckMsRUFBUW9DLEVBQUloQyxPQUFTaUMsRUFBT2pDLE9BQ2xDLE9BQU9KLEdBQVMsR0FBS29DLEVBQUluRCxNQUFNZSxLQUFXcUMsR0FFakNDLEVBQXdCQyxJQUF5QixJQUFoQkEsRUFBS3ZDLE1BR3RDK0IsRUFBZSxJQUFNNUUsU0FBU3FGLGNBQWMsSUEyQjVDM0IsRUFBeUI7Ozs7Ozs7Ozs7Ozs7O0FDN0wvQixNQUFNLEVBQ1QsWUFBWTRCLEVBQVVDLEVBQVdDLEdBQzdCbkQsS0FBS29ELFFBQVUsR0FDZnBELEtBQUtpRCxTQUFXQSxFQUNoQmpELEtBQUtrRCxVQUFZQSxFQUNqQmxELEtBQUttRCxRQUFVQSxFQUVuQixPQUFPeEMsR0FDSCxJQUFJekksRUFBSSxFQUNSLElBQUssTUFBTTZLLEtBQVEvQyxLQUFLb0QsYUFDUDdFLElBQVR3RSxHQUNBQSxFQUFLTSxTQUFTMUMsRUFBT3pJLElBRXpCQSxJQUVKLElBQUssTUFBTTZLLEtBQVEvQyxLQUFLb0QsYUFDUDdFLElBQVR3RSxHQUNBQSxFQUFLTyxTQUlqQixTQXNDSSxNQUFNQyxFQUFXakYsRUFDYjBCLEtBQUtpRCxTQUFTbEQsUUFBUU8sUUFBUWtELFdBQVUsR0FDeEM3RixTQUFTOEYsV0FBV3pELEtBQUtpRCxTQUFTbEQsUUFBUU8sU0FBUyxHQUNqREgsRUFBUSxHQUNSRixFQUFRRCxLQUFLaUQsU0FBU2hELE1BRXRCRyxFQUFTekMsU0FBUzBDLGlCQUFpQmtELEVBQVUsSUFBa0QsTUFBTSxHQUMzRyxJQUVJUixFQUZBdEMsRUFBWSxFQUNaaUQsRUFBWSxFQUVaN0MsRUFBT1QsRUFBT1UsV0FFbEIsS0FBT0wsRUFBWVIsRUFBTVcsUUFFckIsR0FEQW1DLEVBQU85QyxFQUFNUSxHQUNScUMsRUFBcUJDLEdBQTFCLENBUUEsS0FBT1csRUFBWVgsRUFBS3ZDLE9BQ3BCa0QsSUFDc0IsYUFBbEI3QyxFQUFLOEMsV0FDTHhELEVBQU16QyxLQUFLbUQsR0FDWFQsRUFBTzRCLFlBQWNuQixFQUFLUCxTQUVLLFFBQTlCTyxFQUFPVCxFQUFPVSxjQUtmVixFQUFPNEIsWUFBYzdCLEVBQU13QyxNQUMzQjlCLEVBQU9ULEVBQU9VLFlBSXRCLEdBQWtCLFNBQWRpQyxFQUFLakIsS0FBaUIsQ0FDdEIsTUFBTWlCLEVBQU8vQyxLQUFLa0QsVUFBVVUscUJBQXFCNUQsS0FBS21ELFNBQ3RESixFQUFLYyxnQkFBZ0JoRCxFQUFLNkIsaUJBQzFCMUMsS0FBS29ELFFBQVExRixLQUFLcUYsUUFHbEIvQyxLQUFLb0QsUUFBUTFGLFFBQVFzQyxLQUFLa0QsVUFBVVksMkJBQTJCakQsRUFBTWtDLEVBQUt0SyxLQUFNc0ssRUFBS3JDLFFBQVNWLEtBQUttRCxVQUV2RzFDLFNBL0JJVCxLQUFLb0QsUUFBUTFGLFVBQUthLEdBQ2xCa0MsSUFvQ1IsT0FKSW5DLElBQ0FYLFNBQVNvRyxVQUFVUixHQUNuQi9FLGVBQWV3RixRQUFRVCxJQUVwQkE7Ozs7Ozs7Ozs7Ozs7R0NuSGYsTUFBTVUsRUFBZ0IsSUFBSTVFLEtBS25CLE1BQU0sRUFDVCxZQUFZcUIsRUFBU0MsRUFBUW1CLEVBQU1vQixHQUMvQmxELEtBQUtVLFFBQVVBLEVBQ2ZWLEtBQUtXLE9BQVNBLEVBQ2RYLEtBQUs4QixLQUFPQSxFQUNaOUIsS0FBS2tELFVBQVlBLEVBS3JCLFVBQ0ksTUFBTS9LLEVBQUk2SCxLQUFLVSxRQUFRRSxPQUFTLEVBQ2hDLElBQUlzRCxFQUFPLEdBQ1BDLEdBQW1CLEVBQ3ZCLElBQUssSUFBSWpNLEVBQUksRUFBR0EsRUFBSUMsRUFBR0QsSUFBSyxDQUN4QixNQUFNK0IsRUFBSStGLEtBQUtVLFFBQVF4SSxHQWtCakJrTSxFQUFjbkssRUFBRW9LLFlBQVksV0FJbENGLEdBQW9CQyxHQUFlLEdBQUtELEtBQ0csSUFBdkNsSyxFQUFFaUksUUFBUSxTQUFPa0MsRUFBYyxHQUluQyxNQUFNRSxFQUFpQmpELEVBQXVCQyxLQUFLckgsR0FPL0NpSyxHQU5tQixPQUFuQkksRUFNUXJLLEdBQUtrSyxFQUFtQkYsRUFBZ0J2RSxHQU14Q3pGLEVBQUVzSyxPQUFPLEVBQUdELEVBQWU5RCxPQUFTOEQsRUFBZSxHQUN2REEsRUFBZSxHQUFLekUsRUFBdUJ5RSxFQUFlLEdBQzFEakYsRUFJWixPQURBNkUsR0FBUWxFLEtBQUtVLFFBQVF2SSxHQUd6QixxQkFDSSxNQUFNOEssRUFBV3RGLFNBQVM2RyxjQUFjLFlBRXhDLE9BREF2QixFQUFTd0IsVUFBWXpFLEtBQUswRSxVQUNuQnpCLEdBVVIsTUFBTSxVQUEwQixFQUNuQyxVQUNJLE1BQU8sUUFBUTBCLE1BQU1ELGtCQUV6QixxQkFDSSxNQUFNekIsRUFBVzBCLE1BQU1DLHFCQUNqQnRFLEVBQVUyQyxFQUFTM0MsUUFDbkJ1RSxFQUFhdkUsRUFBUXdFLFdBRzNCLE9BRkF4RSxFQUFRcEIsWUFBWTJGLEdBQ3BCbkcsRUFBYzRCLEVBQVN1RSxFQUFXQyxZQUMzQjdCOzs7Ozs7Ozs7Ozs7O0dDdkZSLE1BQU04QixFQUFlNUwsR0FDTixPQUFWQSxLQUNlLGlCQUFWQSxHQUF1QyxtQkFBVkEsR0FFakM2TCxFQUFjN0wsR0FDaEI4TCxNQUFNQyxRQUFRL0wsT0FFZEEsSUFBU0EsRUFBTUYsT0FBT2tNLFdBTzFCLE1BQU1DLEVBQ1QsWUFBWXJGLEVBQVN0SCxFQUFNaUksR0FDdkJWLEtBQUtxRixPQUFRLEVBQ2JyRixLQUFLRCxRQUFVQSxFQUNmQyxLQUFLdkgsS0FBT0EsRUFDWnVILEtBQUtVLFFBQVVBLEVBQ2ZWLEtBQUtDLE1BQVEsR0FDYixJQUFLLElBQUkvSCxFQUFJLEVBQUdBLEVBQUl3SSxFQUFRRSxPQUFTLEVBQUcxSSxJQUNwQzhILEtBQUtDLE1BQU0vSCxHQUFLOEgsS0FBS3NGLGNBTTdCLGNBQ0ksT0FBTyxJQUFJLEVBQWN0RixNQUU3QixZQUNJLE1BQU1VLEVBQVVWLEtBQUtVLFFBQ2Z2SSxFQUFJdUksRUFBUUUsT0FBUyxFQUMzQixJQUFJMkUsRUFBTyxHQUNYLElBQUssSUFBSXJOLEVBQUksRUFBR0EsRUFBSUMsRUFBR0QsSUFBSyxDQUN4QnFOLEdBQVE3RSxFQUFReEksR0FDaEIsTUFBTTZLLEVBQU8vQyxLQUFLQyxNQUFNL0gsR0FDeEIsUUFBYXFHLElBQVR3RSxFQUFvQixDQUNwQixNQUFNeUMsRUFBSXpDLEVBQUs1SixNQUNmLEdBQUk0TCxFQUFZUyxLQUFPUixFQUFXUSxHQUM5QkQsR0FBcUIsaUJBQU5DLEVBQWlCQSxFQUFJbEcsT0FBT2tHLFFBRzNDLElBQUssTUFBTXBNLEtBQUtvTSxFQUNaRCxHQUFxQixpQkFBTm5NLEVBQWlCQSxFQUFJa0csT0FBT2xHLElBTTNELE9BREFtTSxHQUFRN0UsRUFBUXZJLEdBR3BCLFNBQ1E2SCxLQUFLcUYsUUFDTHJGLEtBQUtxRixPQUFRLEVBQ2JyRixLQUFLRCxRQUFRMEYsYUFBYXpGLEtBQUt2SCxLQUFNdUgsS0FBSzBGLGVBTy9DLE1BQU0sRUFDVCxZQUFZQyxHQUNSM0YsS0FBSzdHLFdBQVFvRixFQUNieUIsS0FBSzJGLFVBQVlBLEVBRXJCLFNBQVN4TSxHQUNEQSxJQUFVZ0csR0FBYzRGLEVBQVk1TCxJQUFVQSxJQUFVNkcsS0FBSzdHLFFBQzdENkcsS0FBSzdHLE1BQVFBLEVBSVJpRixFQUFZakYsS0FDYjZHLEtBQUsyRixVQUFVTixPQUFRLElBSW5DLFNBQ0ksS0FBT2pILEVBQVk0QixLQUFLN0csUUFBUSxDQUM1QixNQUFNeU0sRUFBWTVGLEtBQUs3RyxNQUN2QjZHLEtBQUs3RyxNQUFRZ0csRUFDYnlHLEVBQVU1RixNQUVWQSxLQUFLN0csUUFBVWdHLEdBR25CYSxLQUFLMkYsVUFBVXJDLFVBV2hCLE1BQU0sRUFDVCxZQUFZSCxHQUNSbkQsS0FBSzdHLFdBQVFvRixFQUNieUIsS0FBSzZGLG9CQUFpQnRILEVBQ3RCeUIsS0FBS21ELFFBQVVBLEVBT25CLFdBQVd4RSxHQUNQcUIsS0FBSzhGLFVBQVluSCxFQUFVb0gsWUFBWXhELEtBQ3ZDdkMsS0FBS2dHLFFBQVVySCxFQUFVb0gsWUFBWXhELEtBU3pDLGdCQUFnQm5ILEdBQ1o0RSxLQUFLOEYsVUFBWTFLLEVBQ2pCNEUsS0FBS2dHLFFBQVU1SyxFQUFJMkQsWUFPdkIsZUFBZWdFLEdBQ1hBLEVBQUtrRCxTQUFTakcsS0FBSzhGLFVBQVl2RCxLQUMvQlEsRUFBS2tELFNBQVNqRyxLQUFLZ0csUUFBVXpELEtBT2pDLGdCQUFnQm5ILEdBQ1pBLEVBQUk2SyxTQUFTakcsS0FBSzhGLFVBQVl2RCxLQUM5QnZDLEtBQUtnRyxRQUFVNUssRUFBSTRLLFFBQ25CNUssRUFBSTRLLFFBQVVoRyxLQUFLOEYsVUFFdkIsU0FBUzNNLEdBQ0w2RyxLQUFLNkYsZUFBaUIxTSxFQUUxQixTQUNJLEtBQU9pRixFQUFZNEIsS0FBSzZGLGlCQUFpQixDQUNyQyxNQUFNRCxFQUFZNUYsS0FBSzZGLGVBQ3ZCN0YsS0FBSzZGLGVBQWlCMUcsRUFDdEJ5RyxFQUFVNUYsTUFFZCxNQUFNN0csRUFBUTZHLEtBQUs2RixlQUNmMU0sSUFBVWdHLElBR1Y0RixFQUFZNUwsR0FDUkEsSUFBVTZHLEtBQUs3RyxPQUNmNkcsS0FBS2tHLGFBQWEvTSxHQUdqQkEsYUFBaUIsRUFDdEI2RyxLQUFLbUcsdUJBQXVCaE4sR0FFdkJBLGFBQWlCaU4sS0FDdEJwRyxLQUFLcUcsYUFBYWxOLEdBRWI2TCxFQUFXN0wsR0FDaEI2RyxLQUFLc0csaUJBQWlCbk4sR0FFakJBLElBQVVpRyxHQUNmWSxLQUFLN0csTUFBUWlHLEVBQ2JZLEtBQUt1RyxTQUlMdkcsS0FBS2tHLGFBQWEvTSxJQUcxQixTQUFTMEgsR0FDTGIsS0FBS2dHLFFBQVE1RCxXQUFXcEQsYUFBYTZCLEVBQU1iLEtBQUtnRyxTQUVwRCxhQUFhN00sR0FDTDZHLEtBQUs3RyxRQUFVQSxJQUduQjZHLEtBQUt1RyxRQUNMdkcsS0FBS2lHLFNBQVM5TSxHQUNkNkcsS0FBSzdHLE1BQVFBLEdBRWpCLGFBQWFBLEdBQ1QsTUFBTTBILEVBQU9iLEtBQUs4RixVQUFVL0csWUFJdEJ5SCxFQUFpQyxpQkFIdkNyTixFQUFpQixNQUFUQSxFQUFnQixHQUFLQSxHQUdxQkEsRUFBUW1HLE9BQU9uRyxHQUM3RDBILElBQVNiLEtBQUtnRyxRQUFRdEQsaUJBQ0osSUFBbEI3QixFQUFLRSxTQUlMRixFQUFLb0IsS0FBT3VFLEVBR1p4RyxLQUFLcUcsYUFBYTFJLFNBQVM4RSxlQUFlK0QsSUFFOUN4RyxLQUFLN0csTUFBUUEsRUFFakIsdUJBQXVCQSxHQUNuQixNQUFNOEosRUFBV2pELEtBQUttRCxRQUFRc0QsZ0JBQWdCdE4sR0FDOUMsR0FBSTZHLEtBQUs3RyxpQkFBaUIsR0FDdEI2RyxLQUFLN0csTUFBTThKLFdBQWFBLEVBQ3hCakQsS0FBSzdHLE1BQU11TixPQUFPdk4sRUFBTXdILFlBRXZCLENBS0QsTUFBTWdHLEVBQVcsSUFBSSxFQUFpQjFELEVBQVU5SixFQUFNK0osVUFBV2xELEtBQUttRCxTQUNoRUksRUFBV29ELEVBQVNDLFNBQzFCRCxFQUFTRCxPQUFPdk4sRUFBTXdILFFBQ3RCWCxLQUFLcUcsYUFBYTlDLEdBQ2xCdkQsS0FBSzdHLE1BQVF3TixHQUdyQixpQkFBaUJ4TixHQVVSOEwsTUFBTUMsUUFBUWxGLEtBQUs3RyxTQUNwQjZHLEtBQUs3RyxNQUFRLEdBQ2I2RyxLQUFLdUcsU0FJVCxNQUFNTSxFQUFZN0csS0FBSzdHLE1BQ3ZCLElBQ0kyTixFQURBckcsRUFBWSxFQUVoQixJQUFLLE1BQU1zRyxLQUFRNU4sT0FJRW9GLEtBRmpCdUksRUFBV0QsRUFBVXBHLE1BR2pCcUcsRUFBVyxJQUFJLEVBQVM5RyxLQUFLbUQsU0FDN0IwRCxFQUFVbkosS0FBS29KLEdBQ0csSUFBZHJHLEVBQ0FxRyxFQUFTRSxlQUFlaEgsTUFHeEI4RyxFQUFTRyxnQkFBZ0JKLEVBQVVwRyxFQUFZLEtBR3ZEcUcsRUFBU3pELFNBQVMwRCxHQUNsQkQsRUFBU3hELFNBQ1Q3QyxJQUVBQSxFQUFZb0csRUFBVWpHLFNBRXRCaUcsRUFBVWpHLE9BQVNILEVBQ25CVCxLQUFLdUcsTUFBTU8sR0FBWUEsRUFBU2QsVUFHeEMsTUFBTUYsRUFBWTlGLEtBQUs4RixXQUNuQjdHLEVBQVllLEtBQUs4RixVQUFVMUQsV0FBWTBELEVBQVUvRyxZQUFhaUIsS0FBS2dHLFVBVXBFLE1BQU0sRUFDVCxZQUFZakcsRUFBU3RILEVBQU1pSSxHQUd2QixHQUZBVixLQUFLN0csV0FBUW9GLEVBQ2J5QixLQUFLNkYsb0JBQWlCdEgsRUFDQyxJQUFuQm1DLEVBQVFFLFFBQStCLEtBQWZGLEVBQVEsSUFBNEIsS0FBZkEsRUFBUSxHQUNyRCxNQUFNLElBQUl3RyxNQUFNLDJEQUVwQmxILEtBQUtELFFBQVVBLEVBQ2ZDLEtBQUt2SCxLQUFPQSxFQUNadUgsS0FBS1UsUUFBVUEsRUFFbkIsU0FBU3ZILEdBQ0w2RyxLQUFLNkYsZUFBaUIxTSxFQUUxQixTQUNJLEtBQU9pRixFQUFZNEIsS0FBSzZGLGlCQUFpQixDQUNyQyxNQUFNRCxFQUFZNUYsS0FBSzZGLGVBQ3ZCN0YsS0FBSzZGLGVBQWlCMUcsRUFDdEJ5RyxFQUFVNUYsTUFFZCxHQUFJQSxLQUFLNkYsaUJBQW1CMUcsRUFDeEIsT0FFSixNQUFNaEcsSUFBVTZHLEtBQUs2RixlQUNqQjdGLEtBQUs3RyxRQUFVQSxJQUNYQSxFQUNBNkcsS0FBS0QsUUFBUTBGLGFBQWF6RixLQUFLdkgsS0FBTSxJQUdyQ3VILEtBQUtELFFBQVE0QixnQkFBZ0IzQixLQUFLdkgsTUFFdEN1SCxLQUFLN0csTUFBUUEsR0FFakI2RyxLQUFLNkYsZUFBaUIxRyxHQVl2QixNQUFNZ0ksVUFBMEIvQixFQUNuQyxZQUFZckYsRUFBU3RILEVBQU1pSSxHQUN2QmlFLE1BQU01RSxFQUFTdEgsRUFBTWlJLEdBQ3JCVixLQUFLb0gsT0FDbUIsSUFBbkIxRyxFQUFRRSxRQUErQixLQUFmRixFQUFRLElBQTRCLEtBQWZBLEVBQVEsR0FFOUQsY0FDSSxPQUFPLElBQUkyRyxFQUFhckgsTUFFNUIsWUFDSSxPQUFJQSxLQUFLb0gsT0FDRXBILEtBQUtDLE1BQU0sR0FBRzlHLE1BRWxCd0wsTUFBTWUsWUFFakIsU0FDUTFGLEtBQUtxRixRQUNMckYsS0FBS3FGLE9BQVEsRUFFYnJGLEtBQUtELFFBQVFDLEtBQUt2SCxNQUFRdUgsS0FBSzBGLGNBSXBDLE1BQU0yQixVQUFxQixHQU1sQyxJQUFJQyxHQUF3QixFQUM1QixJQUNJLE1BQU1uRSxFQUFVLENBQ1osY0FFSSxPQURBbUUsR0FBd0IsR0FDakIsSUFJZnBOLE9BQU8yRCxpQkFBaUIsT0FBUXNGLEVBQVNBLEdBRXpDakosT0FBT3FOLG9CQUFvQixPQUFRcEUsRUFBU0EsR0FFaEQsTUFBT3FFLElBRUEsTUFBTSxFQUNULFlBQVl6SCxFQUFTMEgsRUFBV0MsR0FDNUIxSCxLQUFLN0csV0FBUW9GLEVBQ2J5QixLQUFLNkYsb0JBQWlCdEgsRUFDdEJ5QixLQUFLRCxRQUFVQSxFQUNmQyxLQUFLeUgsVUFBWUEsRUFDakJ6SCxLQUFLMEgsYUFBZUEsRUFDcEIxSCxLQUFLMkgsbUJBQXNCQyxHQUFNNUgsS0FBSzZILFlBQVlELEdBRXRELFNBQVN6TyxHQUNMNkcsS0FBSzZGLGVBQWlCMU0sRUFFMUIsU0FDSSxLQUFPaUYsRUFBWTRCLEtBQUs2RixpQkFBaUIsQ0FDckMsTUFBTUQsRUFBWTVGLEtBQUs2RixlQUN2QjdGLEtBQUs2RixlQUFpQjFHLEVBQ3RCeUcsRUFBVTVGLE1BRWQsR0FBSUEsS0FBSzZGLGlCQUFtQjFHLEVBQ3hCLE9BRUosTUFBTTJJLEVBQWM5SCxLQUFLNkYsZUFDbkJrQyxFQUFjL0gsS0FBSzdHLE1BQ25CNk8sRUFBc0MsTUFBZkYsR0FDVixNQUFmQyxJQUNLRCxFQUFZRyxVQUFZRixFQUFZRSxTQUNqQ0gsRUFBWXhMLE9BQVN5TCxFQUFZekwsTUFDakN3TCxFQUFZSSxVQUFZSCxFQUFZRyxTQUMxQ0MsRUFBbUMsTUFBZkwsSUFBdUMsTUFBZkMsR0FBdUJDLEdBQ3JFQSxHQUNBaEksS0FBS0QsUUFBUXdILG9CQUFvQnZILEtBQUt5SCxVQUFXekgsS0FBSzJILG1CQUFvQjNILEtBQUtvSSxXQUUvRUQsSUFDQW5JLEtBQUtvSSxVQUFZQyxFQUFXUCxHQUM1QjlILEtBQUtELFFBQVFsQyxpQkFBaUJtQyxLQUFLeUgsVUFBV3pILEtBQUsySCxtQkFBb0IzSCxLQUFLb0ksWUFFaEZwSSxLQUFLN0csTUFBUTJPLEVBQ2I5SCxLQUFLNkYsZUFBaUIxRyxFQUUxQixZQUFZbUosR0FDa0IsbUJBQWZ0SSxLQUFLN0csTUFDWjZHLEtBQUs3RyxNQUFNZCxLQUFLMkgsS0FBSzBILGNBQWdCMUgsS0FBS0QsUUFBU3VJLEdBR25EdEksS0FBSzdHLE1BQU0wTyxZQUFZUyxJQU9uQyxNQUFNRCxFQUFjMVAsR0FBTUEsSUFDckIyTyxFQUNHLENBQUVXLFFBQVN0UCxFQUFFc1AsUUFBU0MsUUFBU3ZQLEVBQUV1UCxRQUFTNUwsS0FBTTNELEVBQUUyRCxNQUNsRDNELEVBQUVzUDs7Ozs7Ozs7Ozs7OztHQzVZSCxNQUFNTSxFQUEyQixJQWpDakMsTUFVSCwyQkFBMkJ4SSxFQUFTdEgsRUFBTWlJLEVBQVN5QyxHQUMvQyxNQUFNcUYsRUFBUy9QLEVBQUssR0FDcEIsR0FBZSxNQUFYK1AsRUFBZ0IsQ0FFaEIsT0FEa0IsSUFBSXJCLEVBQWtCcEgsRUFBU3RILEVBQUtnSCxNQUFNLEdBQUlpQixHQUMvQ1QsTUFFckIsTUFBZSxNQUFYdUksRUFDTyxDQUFDLElBQUksRUFBVXpJLEVBQVN0SCxFQUFLZ0gsTUFBTSxHQUFJMEQsRUFBUXVFLGVBRTNDLE1BQVhjLEVBQ08sQ0FBQyxJQUFJLEVBQXFCekksRUFBU3RILEVBQUtnSCxNQUFNLEdBQUlpQixJQUUzQyxJQUFJMEUsRUFBbUJyRixFQUFTdEgsRUFBTWlJLEdBQ3ZDVCxNQU1yQixxQkFBcUJrRCxHQUNqQixPQUFPLElBQUksRUFBU0E7Ozs7Ozs7Ozs7Ozs7R0M3QnJCLFNBQVNzRCxFQUFnQnpLLEdBQzVCLElBQUl5TSxFQUFnQkMsRUFBZTNQLElBQUlpRCxFQUFPOEYsV0FDeEJ2RCxJQUFsQmtLLElBQ0FBLEVBQWdCLENBQ1pFLGFBQWMsSUFBSXhLLFFBQ2xCeUssVUFBVyxJQUFJQyxLQUVuQkgsRUFBZXJOLElBQUlXLEVBQU84RixLQUFNMkcsSUFFcEMsSUFBSXhGLEVBQVd3RixFQUFjRSxhQUFhNVAsSUFBSWlELEVBQU8wRSxTQUNyRCxRQUFpQm5DLElBQWIwRSxFQUNBLE9BQU9BLEVBSVgsTUFBTXhKLEVBQU11QyxFQUFPMEUsUUFBUW9JLEtBQUt6SixHQVdoQyxZQVJpQmQsS0FEakIwRSxFQUFXd0YsRUFBY0csVUFBVTdQLElBQUlVLE1BR25Dd0osRUFBVyxJQUFJbkQsRUFBUzlELEVBQVFBLEVBQU80SSxzQkFFdkM2RCxFQUFjRyxVQUFVdk4sSUFBSTVCLEVBQUt3SixJQUdyQ3dGLEVBQWNFLGFBQWF0TixJQUFJVyxFQUFPMEUsUUFBU3VDLEdBQ3hDQSxFQUVKLE1BQU15RixFQUFpQixJQUFJRyxJQzNCckIsRUFBUSxJQUFJMUs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztDQzJCeEJqRSxPQUF3QixrQkFBTUEsT0FBd0IsZ0JBQUksS0FBS3dELEtBQUssU0FLOUQsTUFBTSxFQUFPLENBQUNnRCxLQUFZQyxJQUFXLElBQUksRUFBZUQsRUFBU0MsRUFBUSxPQUFRNEgsR0FLM0VRLEVBQU0sQ0FBQ3JJLEtBQVlDLElBQVcsSUFBSSxFQUFrQkQsRUFBU0MsRUFBUSxNQUFPNEgsR0N2Q25GUyxFQUFtQixJQWlCbEIsU0FBU0MsRUFBd0JoRyxFQUFVL0MsR0FDOUMsTUFBUUgsU0FBUyxRQUFFTyxHQUFTLE1BQUVMLEdBQVVnRCxFQUNsQzdDLEVBQVN6QyxTQUFTMEMsaUJBQWlCQyxFQUFTMEksRUFBa0IsTUFBTSxHQUMxRSxJQUFJdkksRUFBWXlJLEVBQStCakosR0FDM0M4QyxFQUFPOUMsRUFBTVEsR0FDYmlELEdBQWEsRUFDYnlGLEVBQWMsRUFDbEIsTUFBTUMsRUFBMEIsR0FDaEMsSUFBSUMsRUFBc0IsS0FDMUIsS0FBT2pKLEVBQU9VLFlBQVksQ0FDdEI0QyxJQUNBLE1BQU03QyxFQUFPVCxFQUFPNEIsWUFpQnBCLElBZkluQixFQUFLNkIsa0JBQW9CMkcsSUFDekJBLEVBQXNCLE1BR3RCbkosRUFBYzdCLElBQUl3QyxLQUNsQnVJLEVBQXdCMUwsS0FBS21ELEdBRUQsT0FBeEJ3SSxJQUNBQSxFQUFzQnhJLElBSUYsT0FBeEJ3SSxHQUNBRixTQUVZNUssSUFBVHdFLEdBQXNCQSxFQUFLdkMsUUFBVWtELEdBR3hDWCxFQUFLdkMsTUFBZ0MsT0FBeEI2SSxHQUFnQyxFQUFJdEcsRUFBS3ZDLE1BQVEySSxFQUc5RHBHLEVBQU85QyxFQURQUSxFQUFZeUksRUFBK0JqSixFQUFPUSxJQUkxRDJJLEVBQXdCRSxRQUFTM1AsR0FBTUEsRUFBRXlJLFdBQVdsRCxZQUFZdkYsSUFFcEUsTUFBTTRQLEVBQWMxSSxJQUNoQixJQUFJSyxFQUEyQixLQUFsQkwsRUFBS0UsU0FBcUQsRUFBSSxFQUMzRSxNQUFNWCxFQUFTekMsU0FBUzBDLGlCQUFpQlEsRUFBTW1JLEVBQWtCLE1BQU0sR0FDdkUsS0FBTzVJLEVBQU9VLFlBQ1ZJLElBRUosT0FBT0EsR0FFTGdJLEVBQWlDLENBQUNqSixFQUFPdUosR0FBYSxLQUN4RCxJQUFLLElBQUl0UixFQUFJc1IsRUFBYSxFQUFHdFIsRUFBSStILEVBQU1XLE9BQVExSSxJQUFLLENBQ2hELE1BQU02SyxFQUFPOUMsRUFBTS9ILEdBQ25CLEdBQUk0SyxFQUFxQkMsR0FDckIsT0FBTzdLLEVBR2YsT0FBUTs7Ozs7Ozs7Ozs7Ozs7QUN4RFosTUFBTXVSLEVBQXNCLENBQUMzSCxFQUFNNEgsSUFBYyxHQUFHNUgsTUFBUzRILElBQzdELElBQUlDLEdBQTRCLE9BQ0QsSUFBcEJ6UCxPQUFPMFAsU0FDZEQsR0FBNEIsT0FFdUIsSUFBdkN6UCxPQUFPMFAsU0FBU0MscUJBQzVCM04sUUFBUTROLEtBQUssNklBR2JILEdBQTRCLEdBTWhDLE1BQU1JLEVBQXdCTCxHQUFlMU4sSUFDekMsTUFBTWdPLEVBQVdQLEVBQW9Cek4sRUFBTzhGLEtBQU00SCxHQUNsRCxJQUFJakIsRUFBZ0JDLEVBQWUzUCxJQUFJaVIsUUFDakJ6TCxJQUFsQmtLLElBQ0FBLEVBQWdCLENBQ1pFLGFBQWMsSUFBSXhLLFFBQ2xCeUssVUFBVyxJQUFJQyxLQUVuQkgsRUFBZXJOLElBQUkyTyxFQUFVdkIsSUFFakMsSUFBSXhGLEVBQVd3RixFQUFjRSxhQUFhNVAsSUFBSWlELEVBQU8wRSxTQUNyRCxRQUFpQm5DLElBQWIwRSxFQUNBLE9BQU9BLEVBRVgsTUFBTXhKLEVBQU11QyxFQUFPMEUsUUFBUW9JLEtBQUt6SixHQUVoQyxRQUFpQmQsS0FEakIwRSxFQUFXd0YsRUFBY0csVUFBVTdQLElBQUlVLElBQ1gsQ0FDeEIsTUFBTXNHLEVBQVUvRCxFQUFPNEkscUJBQ25CK0UsR0FDQXpQLE9BQU8wUCxTQUFTQyxtQkFBbUI5SixFQUFTMkosR0FFaER6RyxFQUFXLElBQUluRCxFQUFTOUQsRUFBUStELEdBQ2hDMEksRUFBY0csVUFBVXZOLElBQUk1QixFQUFLd0osR0FHckMsT0FEQXdGLEVBQWNFLGFBQWF0TixJQUFJVyxFQUFPMEUsUUFBU3VDLEdBQ3hDQSxHQUVMZ0gsRUFBaUIsQ0FBQyxPQUFRLE9Bb0IxQkMsRUFBaUIsSUFBSUMsSUFlckJDLEVBQXdCLENBQUNWLEVBQVdXLEVBQWFwSCxLQUNuRGlILEVBQWVqTSxJQUFJeUwsR0FJbkIsTUFBTVksRUFBb0JySCxFQUFXQSxFQUFTbEQsUUFBVXBDLFNBQVM2RyxjQUFjLFlBRXpFK0YsRUFBU0YsRUFBWUcsaUJBQWlCLFVBQ3RDLE9BQUU1SixHQUFXMkosRUFFbkIsR0FBZSxJQUFYM0osRUFZQSxZQURBMUcsT0FBTzBQLFNBQVNRLHNCQUFzQkUsRUFBaUJaLEdBRzNELE1BQU1lLEVBQWlCOU0sU0FBUzZHLGNBQWMsU0FNOUMsSUFBSyxJQUFJdE0sRUFBSSxFQUFHQSxFQUFJMEksRUFBUTFJLElBQUssQ0FDN0IsTUFBTXdTLEVBQVFILEVBQU9yUyxHQUNyQndTLEVBQU10SSxXQUFXbEQsWUFBWXdMLEdBQzdCRCxFQUFlRSxhQUFlRCxFQUFNQyxZQWhFUCxDQUFDakIsSUFDbENPLEVBQWVYLFFBQVN4SCxJQUNwQixNQUFNOEksRUFBWWxDLEVBQWUzUCxJQUFJMFEsRUFBb0IzSCxFQUFNNEgsU0FDN0NuTCxJQUFkcU0sR0FDQUEsRUFBVWhDLFVBQVVVLFFBQVNyRyxJQUN6QixNQUFRbEQsU0FBUyxRQUFFTyxJQUFjMkMsRUFFM0JzSCxFQUFTLElBQUlKLElBQ25CbEYsTUFBTTRGLEtBQUt2SyxFQUFRa0ssaUJBQWlCLFVBQVVsQixRQUFTclAsSUFDbkRzUSxFQUFPdE0sSUFBSWhFLEtBRWZnUCxFQUF3QmhHLEVBQVVzSCxRQXdEOUNPLENBQTZCcEIsR0FHN0IsTUFBTXBKLEVBQVVnSyxFQUFnQmhLLFFBQzFCMkMsRUR0REgsU0FBZ0NBLEVBQVVwQyxFQUFNa0ssRUFBVSxNQUM3RCxNQUFRaEwsU0FBUyxRQUFFTyxHQUFTLE1BQUVMLEdBQVVnRCxFQUd4QyxHQUFJOEgsUUFFQSxZQURBekssRUFBUXlGLFlBQVlsRixHQUd4QixNQUFNVCxFQUFTekMsU0FBUzBDLGlCQUFpQkMsRUFBUzBJLEVBQWtCLE1BQU0sR0FDMUUsSUFBSXZJLEVBQVl5SSxFQUErQmpKLEdBQzNDK0ssRUFBYyxFQUNkQyxHQUFlLEVBQ25CLEtBQU83SyxFQUFPVSxZQUFZLENBT3RCLElBTkFtSyxJQUNtQjdLLEVBQU80QixjQUNQK0ksSUFDZkMsRUFBY3pCLEVBQVcxSSxHQUN6QmtLLEVBQVEzSSxXQUFXcEQsYUFBYTZCLEVBQU1rSyxLQUVwQixJQUFmdEssR0FBb0JSLEVBQU1RLEdBQVdELFFBQVV5SyxHQUFhLENBRS9ELEdBQUlELEVBQWMsRUFBRyxDQUNqQixNQUFzQixJQUFmdkssR0FDSFIsRUFBTVEsR0FBV0QsT0FBU3dLLEVBQzFCdkssRUFBWXlJLEVBQStCakosRUFBT1EsR0FFdEQsT0FFSkEsRUFBWXlJLEVBQStCakosRUFBT1EsS0MyQnREeUssQ0FBdUJqSSxFQUFVd0gsRUFBZ0JuSyxFQUFRd0UsWUFHekR4RSxFQUFRdEIsYUFBYXlMLEVBQWdCbkssRUFBUXdFLFlBS2pENUssT0FBTzBQLFNBQVNRLHNCQUFzQkUsRUFBaUJaLEdBQ3ZELE1BQU1nQixFQUFRcEssRUFBUTFDLGNBQWMsU0FDcEMsR0FBSTFELE9BQU8wUCxTQUFTdUIsY0FBMEIsT0FBVlQsRUFHaENMLEVBQVlyTCxhQUFhMEwsRUFBTWxILFdBQVUsR0FBTzZHLEVBQVl2RixpQkFFM0QsR0FBTTdCLEVBQVUsQ0FTakIzQyxFQUFRdEIsYUFBYXlMLEVBQWdCbkssRUFBUXdFLFlBQzdDLE1BQU1zRyxFQUFVLElBQUlqQixJQUNwQmlCLEVBQVFuTixJQUFJd00sR0FDWnhCLEVBQXdCaEcsRUFBVW1JLEtDN0oxQ2xSLE9BQU9tUiwwQkFDSCxDQUFDQyxFQUFNQyxJQUFTRCxFQUNiLE1BQU1FLEVBQW1CLENBQzVCLFlBQVlyUyxFQUFPMkksR0FDZixPQUFRQSxHQUNKLEtBQUsySixRQUNELE9BQU90UyxFQUFRLEdBQUssS0FDeEIsS0FBS1AsT0FDTCxLQUFLcU0sTUFHRCxPQUFnQixNQUFUOUwsRUFBZ0JBLEVBQVErRCxLQUFLQyxVQUFVaEUsR0FFdEQsT0FBT0EsR0FFWCxjQUFjQSxFQUFPMkksR0FDakIsT0FBUUEsR0FDSixLQUFLMkosUUFDRCxPQUFpQixPQUFWdFMsRUFDWCxLQUFLdVMsT0FDRCxPQUFpQixPQUFWdlMsRUFBaUIsS0FBT3VTLE9BQU92UyxHQUMxQyxLQUFLUCxPQUNMLEtBQUtxTSxNQUNELE9BQU8vSCxLQUFLeU8sTUFBTXhTLEdBRTFCLE9BQU9BLElBT0Z5UyxFQUFXLENBQUN6UyxFQUFPMFMsSUFFckJBLElBQVExUyxJQUFVMFMsR0FBUUEsR0FBTzFTLEdBQVVBLEdBRWhEMlMsRUFBNkIsQ0FDL0JDLFdBQVcsRUFDWGpLLEtBQU14QyxPQUNOME0sVUFBV1IsRUFDWFMsU0FBUyxFQUNUQyxXQUFZTixHQUVWTyxFQUFtQkMsUUFBUUMsU0FBUSxHQUNuQ0MsR0FBb0IsRUFDcEJDLEdBQXlCLEVBQ3pCQyxHQUFtQyxFQUNuQ0MsR0FBa0MsR0FDbENDLEdBQXNCLEdBT3RCQyxHQUFZLFlBTVgsTUFBTUMsV0FBd0JDLFlBQ2pDLGNBQ0lsSSxRQUNBM0UsS0FBSzhNLGFBQWUsRUFDcEI5TSxLQUFLK00seUJBQXNCeE8sRUFDM0J5QixLQUFLZ04sZUFBaUJiLEVBQ3RCbk0sS0FBS2lOLDJCQUF3QjFPLEVBSzdCeUIsS0FBS2tOLG1CQUFxQixJQUFJckUsSUFJOUI3SSxLQUFLbU4sMkJBQXdCNU8sRUFDN0J5QixLQUFLb04sYUFNVCxnQ0FFSXBOLEtBQUtxTixXQUNMLE1BQU1wTSxFQUFhLEdBVW5CLE9BUEFqQixLQUFLc04saUJBQWlCaEUsUUFBUSxDQUFDOUQsRUFBR3hMLEtBQzlCLE1BQU11VCxFQUFPdk4sS0FBS3dOLDBCQUEwQnhULEVBQUd3TCxRQUNsQ2pILElBQVRnUCxJQUNBdk4sS0FBS3lOLHdCQUF3QnBTLElBQUlrUyxFQUFNdlQsR0FDdkNpSCxFQUFXdkQsS0FBSzZQLE1BR2pCdE0sRUFRWCxnQ0FFSSxJQUFLakIsS0FBS2pHLGVBQWVzUiwwQkFBMEIsbUJBQW9CckwsT0FBUSxDQUMzRUEsS0FBS3NOLGlCQUFtQixJQUFJekUsSUFFNUIsTUFBTTZFLEVBQWtCOVUsT0FBTytVLGVBQWUzTixNQUFNc04sc0JBQzVCL08sSUFBcEJtUCxHQUNBQSxFQUFnQnBFLFFBQVEsQ0FBQzlELEVBQUdvSSxJQUFNNU4sS0FBS3NOLGlCQUFpQmpTLElBQUl1UyxFQUFHcEksS0FXM0Usc0JBQXNCL00sRUFBTTBLLEVBQVUySSxHQVdsQyxHQVBBOUwsS0FBSzZOLHlCQUNMN04sS0FBS3NOLGlCQUFpQmpTLElBQUk1QyxFQUFNMEssR0FNNUJBLEVBQVEySyxZQUFjOU4sS0FBS2xHLFVBQVVDLGVBQWV0QixHQUNwRCxPQUVKLE1BQU1nQixFQUFzQixpQkFBVGhCLEVBQW9CUSxTQUFXLEtBQUtSLElBQ3ZERyxPQUFPQyxlQUFlbUgsS0FBS2xHLFVBQVdyQixFQUFNLENBRXhDLE1BQ0ksT0FBT3VILEtBQUt2RyxJQUVoQixJQUFJTixHQUNBLE1BQU00VSxFQUFXL04sS0FBS3ZILEdBQ3RCdUgsS0FBS3ZHLEdBQU9OLEVBQ1o2RyxLQUFLZ08sZUFBZXZWLEVBQU1zVixJQUU5QkUsY0FBYyxFQUNkblYsWUFBWSxJQVFwQixrQkFFSSxNQUFNb1YsRUFBWXRWLE9BQU8rVSxlQUFlM04sTUFZeEMsR0FYS2tPLEVBQVVuVSxlQUFlNFMsS0FDMUJ1QixFQUFVYixXQUVkck4sS0FBSzJNLEtBQWEsRUFDbEIzTSxLQUFLNk4seUJBRUw3TixLQUFLeU4sd0JBQTBCLElBQUk1RSxJQUsvQjdJLEtBQUtqRyxlQUFlc1IsMEJBQTBCLGFBQWNyTCxPQUFRLENBQ3BFLE1BQU1tTyxFQUFRbk8sS0FBS29PLFdBRWJDLEVBQVcsSUFDVnpWLE9BQU8wVixvQkFBb0JILE1BQ2MsbUJBQWpDdlYsT0FBTzJWLHNCQUNkM1YsT0FBTzJWLHNCQUFzQkosR0FDN0IsSUFHUixJQUFLLE1BQU1uVSxLQUFLcVUsRUFJWnJPLEtBQUt3TyxlQUFleFUsRUFBR21VLEVBQU1uVSxLQVF6QyxpQ0FBaUN2QixFQUFNMEssR0FDbkMsTUFBTTRJLEVBQVk1SSxFQUFRNEksVUFDMUIsT0FBcUIsSUFBZEEsT0FDSHhOLEVBQ3NCLGlCQUFkd04sRUFDSkEsRUFDaUIsaUJBQVR0VCxFQUFvQkEsRUFBSytJLG1CQUFnQmpELEVBUTdELHdCQUF3QnBGLEVBQU8wUyxFQUFLSyxFQUFhTixHQUM3QyxPQUFPTSxFQUFXL1MsRUFBTzBTLEdBUTdCLG1DQUFtQzFTLEVBQU9nSyxHQUN0QyxNQUFNckIsRUFBT3FCLEVBQVFyQixLQUNma0ssRUFBWTdJLEVBQVE2SSxXQUFhUixFQUNqQ2lELEVBQXNDLG1CQUFkekMsRUFBMkJBLEVBQVlBLEVBQVV5QyxjQUMvRSxPQUFPQSxFQUFnQkEsRUFBY3RWLEVBQU8ySSxHQUFRM0ksRUFVeEQsaUNBQWlDQSxFQUFPZ0ssR0FDcEMsUUFBd0I1RSxJQUFwQjRFLEVBQVE4SSxRQUNSLE9BRUosTUFBTW5LLEVBQU9xQixFQUFRckIsS0FDZmtLLEVBQVk3SSxFQUFRNkksVUFHMUIsT0FGb0JBLEdBQWFBLEVBQVUwQyxhQUN2Q2xELEVBQWlCa0QsYUFDRnZWLEVBQU8ySSxHQU05QixhQUNJOUIsS0FBSzJPLDBCQUdMM08sS0FBS2dPLGlCQWNULDBCQUdJaE8sS0FBSzRPLFlBQ0F0QixpQkFBaUJoRSxRQUFRLENBQUN1RixFQUFJN1UsS0FDL0IsR0FBSWdHLEtBQUtqRyxlQUFlQyxHQUFJLENBQ3hCLE1BQU1iLEVBQVE2RyxLQUFLaEcsVUFDWmdHLEtBQUtoRyxHQUNQZ0csS0FBSytNLHNCQUNOL00sS0FBSytNLG9CQUFzQixJQUFJbEUsS0FFbkM3SSxLQUFLK00sb0JBQW9CMVIsSUFBSXJCLEVBQUdiLE1BTzVDLDJCQUlJNkcsS0FBSytNLG9CQUFvQnpELFFBQVEsQ0FBQzlELEVBQUd4TCxJQUFNZ0csS0FBS2hHLEdBQUt3TCxHQUNyRHhGLEtBQUsrTSx5QkFBc0J4TyxFQUUvQixvQkFDSXlCLEtBQUs4TSxhQUFlOU0sS0FBSzhNLGFBQWVKLEdBS3BDMU0sS0FBS2lOLHdCQUNMak4sS0FBS2lOLHdCQUNMak4sS0FBS2lOLDJCQUF3QjFPLEdBUXJDLHdCQUtBLHlCQUF5QjlGLEVBQU1vVCxFQUFLMVMsR0FDNUIwUyxJQUFRMVMsR0FDUjZHLEtBQUs4TyxxQkFBcUJyVyxFQUFNVSxHQUd4QyxxQkFBcUJWLEVBQU1VLEVBQU9nSyxFQUFVMkksR0FDeEMsTUFBTWlELEVBQU8vTyxLQUFLNE8sWUFDWnJCLEVBQU93QixFQUFLdkIsMEJBQTBCL1UsRUFBTTBLLEdBQ2xELFFBQWE1RSxJQUFUZ1AsRUFBb0IsQ0FDcEIsTUFBTXlCLEVBQVlELEVBQUtFLDBCQUEwQjlWLEVBQU9nSyxHQUV4RCxRQUFrQjVFLElBQWR5USxFQUNBLE9BVUpoUCxLQUFLOE0sYUFBZTlNLEtBQUs4TSxhQUFlTixHQUN2QixNQUFid0MsRUFDQWhQLEtBQUsyQixnQkFBZ0I0TCxHQUdyQnZOLEtBQUt5RixhQUFhOEgsRUFBTXlCLEdBRzVCaFAsS0FBSzhNLGFBQWU5TSxLQUFLOE0sY0FBZ0JOLElBR2pELHFCQUFxQi9ULEVBQU1VLEdBR3ZCLEdBQUk2RyxLQUFLOE0sYUFBZU4sR0FDcEIsT0FFSixNQUFNdUMsRUFBTy9PLEtBQUs0TyxZQUNaTSxFQUFXSCxFQUFLdEIsd0JBQXdCMVUsSUFBSU4sR0FDbEQsUUFBaUI4RixJQUFiMlEsRUFBd0IsQ0FDeEIsTUFBTS9MLEVBQVU0TCxFQUFLekIsaUJBQWlCdlUsSUFBSW1XLElBQWFwRCxFQUV2RDlMLEtBQUs4TSxhQUFlOU0sS0FBSzhNLGFBQWVMLEdBQ3hDek0sS0FBS2tQLEdBRURILEVBQUtJLDRCQUE0QmhXLEVBQU9nSyxHQUU1Q25ELEtBQUs4TSxhQUFlOU0sS0FBSzhNLGNBQWdCTCxJQVFqRCxlQUFlaFUsRUFBTXNWLEdBQ2pCLElBQUlxQixHQUFzQixFQUUxQixRQUFhN1EsSUFBVDlGLEVBQW9CLENBQ3BCLE1BQU1zVyxFQUFPL08sS0FBSzRPLFlBQ1p6TCxFQUFVNEwsRUFBS3pCLGlCQUFpQnZVLElBQUlOLElBQVNxVCxFQUMvQ2lELEVBQUtNLGlCQUFpQnJQLEtBQUt2SCxHQUFPc1YsRUFBVTVLLEVBQVErSSxhQUMvQ2xNLEtBQUtrTixtQkFBbUI3TyxJQUFJNUYsSUFDN0J1SCxLQUFLa04sbUJBQW1CN1IsSUFBSTVDLEVBQU1zVixJQU1kLElBQXBCNUssRUFBUThJLFNBQ05qTSxLQUFLOE0sYUFBZUwsVUFDYWxPLElBQS9CeUIsS0FBS21OLHdCQUNMbk4sS0FBS21OLHNCQUF3QixJQUFJdEUsS0FFckM3SSxLQUFLbU4sc0JBQXNCOVIsSUFBSTVDLEVBQU0wSyxLQUt6Q2lNLEdBQXNCLEdBR3pCcFAsS0FBS3NQLHFCQUF1QkYsR0FDN0JwUCxLQUFLdVAsaUJBZ0JiLGNBQWM5VyxFQUFNc1YsR0FFaEIsT0FEQS9OLEtBQUtnTyxlQUFldlYsRUFBTXNWLEdBQ25CL04sS0FBS3dQLGVBS2hCLHVCQUdJLElBQUluRCxFQUNBb0QsRUFGSnpQLEtBQUs4TSxhQUFlOU0sS0FBSzhNLGFBQWVQLEdBR3hDLE1BQU1tRCxFQUF3QjFQLEtBQUtnTixlQUNuQ2hOLEtBQUtnTixlQUFpQixJQUFJWixRQUFRLENBQUN1RCxFQUFLQyxLQUNwQ3ZELEVBQVVzRCxFQUNWRixFQUFTRyxJQUViLFVBR1VGLEVBRVYsTUFBTzlILElBS0Y1SCxLQUFLNlAscUJBQ0EsSUFBSXpELFFBQVN1RCxHQUFRM1AsS0FBS2lOLHNCQUF3QjBDLEdBRTVELElBQ0ksTUFBTTNULEVBQVNnRSxLQUFLOFAsZ0JBSU4sTUFBVjlULFNBQ01BLEVBR2QsTUFBTzRMLEdBQ0g2SCxFQUFPN0gsR0FFWHlFLEdBQVNyTSxLQUFLc1AscUJBRWxCLG9CQUNJLE9BQVF0UCxLQUFLOE0sYUFBZUosR0FFaEMsMEJBQ0ksT0FBUTFNLEtBQUs4TSxhQUFlUCxHQUVoQyxpQkFDSSxPQUFRdk0sS0FBSzhNLGFBQWVSLEdBa0JoQyxnQkFFUXRNLEtBQUsrTSxxQkFDTC9NLEtBQUsrUCwyQkFFVCxJQUFJQyxHQUFlLEVBQ25CLE1BQU1DLEVBQW9CalEsS0FBS2tOLG1CQUMvQixLQUNJOEMsRUFBZWhRLEtBQUtnUSxhQUFhQyxLQUU3QmpRLEtBQUswRyxPQUFPdUosR0FHcEIsTUFBT3JJLEdBSUgsTUFEQW9JLEdBQWUsRUFDVHBJLEVBRVYsUUFFSTVILEtBQUtrUSxlQUVMRixJQUNNaFEsS0FBSzhNLGFBQWVSLEtBQ3RCdE0sS0FBSzhNLGFBQWU5TSxLQUFLOE0sYUFBZVIsR0FDeEN0TSxLQUFLbVEsYUFBYUYsSUFFdEJqUSxLQUFLb1EsUUFBUUgsSUFHckIsZUFDSWpRLEtBQUtrTixtQkFBcUIsSUFBSXJFLElBQzlCN0ksS0FBSzhNLGFBQWU5TSxLQUFLOE0sY0FBZ0JQLEdBaUI3QyxxQkFDSSxPQUFPdk0sS0FBS3FRLHFCQWtCaEIscUJBQ0ksT0FBT3JRLEtBQUtnTixlQVNoQixhQUFhRSxHQUNULE9BQU8sRUFVWCxPQUFPQSxRQUNnQzNPLElBQS9CeUIsS0FBS21OLHVCQUNMbk4sS0FBS21OLHNCQUFzQm1ELEtBQU8sSUFHbEN0USxLQUFLbU4sc0JBQXNCN0QsUUFBUSxDQUFDOUQsRUFBR29JLElBQU01TixLQUFLdVEscUJBQXFCM0MsRUFBRzVOLEtBQUs0TixHQUFJcEksSUFDbkZ4RixLQUFLbU4sMkJBQXdCNU8sR0FZckMsUUFBUTJPLElBV1IsYUFBYUEsS0FPakJOLEdBSktELEtBSWlCOzs7Ozs7Ozs7Ozs7OztBQ2xtQnRCLE1BMEJhNkQsR0FBaUJ6TyxHQUFhME8sR0FBb0QsbUJBQXRCQSxFQTFCN0MsRUFBQzFPLEVBQVMyTyxLQUNsQ3hXLE9BQU9zRSxlQUFlbVMsT0FBTzVPLEVBQVMyTyxHQU8vQkEsR0FtQlBFLENBQW9CN08sRUFBUzBPLEdBakJILEVBQUMxTyxFQUFTOE8sS0FDcEMsTUFBTSxLQUFFQyxFQUFJLFNBQUVDLEdBQWFGLEVBQzNCLE1BQU8sQ0FDSEMsT0FDQUMsV0FFQSxTQUFTTCxHQUNMeFcsT0FBT3NFLGVBQWVtUyxPQUFPNU8sRUFBUzJPLE1BVzlDTSxDQUFzQmpQLEVBQVMwTyxHQUM3QlEsR0FBbUIsQ0FBQzlOLEVBQVNwRCxJQUlWLFdBQWpCQSxFQUFRK1EsT0FBcUIvUSxFQUFROFEsWUFDbkMsVUFBVzlRLEVBQVE4USxXQVNkLENBQ0hDLEtBQU0sUUFDTnJYLElBQUtSLFNBQ0xpWSxVQUFXLE1BQ1hMLFdBQVksR0FVWixjQUN1QyxtQkFBeEI5USxFQUFRb1IsY0FDZm5SLEtBQUtELEVBQVF0RyxLQUFPc0csRUFBUW9SLFlBQVk5WSxLQUFLMkgsUUFHckQsU0FBUzBRLEdBQ0xBLEVBQU1sQyxlQUFlek8sRUFBUXRHLElBQUswSixLQTVCbkN2SyxPQUFPd1ksT0FBTyxHQUFJclIsRUFBUyxDQUFFLFNBQVMyUSxHQUNyQ0EsRUFBTWxDLGVBQWV6TyxFQUFRdEcsSUFBSzBKLE1BZ0M1Q2tPLEdBQWlCLENBQUNsTyxFQUFTbU8sRUFBTzdZLEtBQ3BDNlksRUFBTTFDLFlBQ0RKLGVBQWUvVixFQUFNMEssSUFTdkIsU0FBU3RKLEdBQVNzSixHQUVyQixNQUFPLENBQUNvTyxFQUFtQjlZLFNBQW1COEYsSUFBVDlGLEVBQ2pDNFksR0FBZWxPLEVBQVNvTyxFQUFtQjlZLEdBQzNDd1ksR0FBaUI5TixFQUFTb08sR0FRM0IsU0FBU0MsR0FBTUMsR0FDbEIsTUFBTyxDQUFDRixFQUVSOVksS0FDSSxNQUFNb1ksRUFBYSxDQUNmLE1BQ0ksT0FBTzdRLEtBQUswUixXQUFXOVQsY0FBYzZULElBRXpDM1ksWUFBWSxFQUNabVYsY0FBYyxHQUVsQixZQUFpQjFQLElBQVQ5RixFQUNKa1osR0FBWWQsRUFBWVUsRUFBbUI5WSxHQUMzQ21aLEdBQWNmLEVBQVlVLElBUy9CLFNBQVNNLEdBQVNKLEdBQ3JCLE1BQU8sQ0FBQ0YsRUFFUjlZLEtBQ0ksTUFBTW9ZLEVBQWEsQ0FDZixNQUNJLE9BQU83USxLQUFLMFIsV0FBV2xILGlCQUFpQmlILElBRTVDM1ksWUFBWSxFQUNabVYsY0FBYyxHQUVsQixZQUFpQjFQLElBQVQ5RixFQUNKa1osR0FBWWQsRUFBWVUsRUFBbUI5WSxHQUMzQ21aLEdBQWNmLEVBQVlVLElBR3RDLE1BQU1JLEdBQWMsQ0FBQ2QsRUFBWVMsRUFBTzdZLEtBQ3BDRyxPQUFPQyxlQUFleVksRUFBTzdZLEVBQU1vWSxJQUVqQ2UsR0FBZ0IsQ0FBQ2YsRUFBWTlRLEtBQVksQ0FDM0MrUSxLQUFNLFNBQ05JLFVBQVcsWUFDWHpYLElBQUtzRyxFQUFRdEcsSUFDYm9YLGVBc0NTaUIsR0FBZ0IzTyxHQU03QixDQUFFb08sRUFBbUI5WSxTQUFtQjhGLElBQVQ5RixFQW5DL0IsRUFBQzBLLEVBQVNtTyxFQUFPN1ksS0FDYkcsT0FBT3dZLE9BQU9FLEVBQU03WSxHQUFPMEssSUFtQzNCNE8sQ0FBbUI1TyxFQUFTb08sRUFBbUI5WSxHQTNDdEIsRUFBQzBLLEVBQVNwRCxJQUM1Qm5ILE9BQU93WSxPQUFPLEdBQUlyUixFQUFTLENBQUUsU0FBUzJRLEdBQ3JDOVgsT0FBT3dZLE9BQU9WLEVBQU01VyxVQUFVaUcsRUFBUXRHLEtBQU0wSixNQTBDcEQ2TyxDQUFxQjdPLEVBQVNvTyxHQ3pMckJVLEdBQStCLHVCQUF3QkMsU0FBU3BZLFdBQ3hFLFlBQWFxWSxjQUFjclksVUFDMUJzWSxHQUFvQm5aLFNBQ25CLE1BQU1vWixHQUNULFlBQVlDLEVBQVNDLEdBQ2pCLEdBQUlBLElBQWNILEdBQ2QsTUFBTSxJQUFJbEwsTUFBTSxxRUFFcEJsSCxLQUFLc1MsUUFBVUEsRUFJbkIsaUJBWUksWUFYeUIvVCxJQUFyQnlCLEtBQUt3UyxjQUdEUCxJQUNBalMsS0FBS3dTLFlBQWMsSUFBSUwsY0FDdkJuUyxLQUFLd1MsWUFBWUMsWUFBWXpTLEtBQUtzUyxVQUdsQ3RTLEtBQUt3UyxZQUFjLE1BR3BCeFMsS0FBS3dTLFlBRWhCLFdBQ0ksT0FBT3hTLEtBQUtzUyxTQVViLE1BQU1JLEdBQWF2WixHQUNmLElBQUlrWixHQUFVL1MsT0FBT25HLEdBQVFpWixJQW9CM0JPLEdBQU0sQ0FBQ2pTLEtBQVlDLEtBQzVCLE1BQU0yUixFQUFVM1IsRUFBT2lTLE9BQU8sQ0FBQ0MsRUFBS3JOLEVBQUdzTixJQUFRRCxFQW5CekIsQ0FBQzFaLElBQ3ZCLEdBQUlBLGFBQWlCa1osR0FDakIsT0FBT2xaLEVBQU1tWixRQUVaLEdBQXFCLGlCQUFWblosRUFDWixPQUFPQSxFQUdQLE1BQU0sSUFBSStOLE1BQU0sbUVBQW1FL04sdUdBV2xDNFosQ0FBa0J2TixHQUFLOUUsRUFBUW9TLEVBQU0sR0FBSXBTLEVBQVEsSUFDdEcsT0FBTyxJQUFJMlIsR0FBVUMsRUFBU0YsS0N0RWxDOzs7Ozs7Ozs7Ozs7OztDQXdCQ2xZLE9BQTJCLHFCQUFNQSxPQUEyQixtQkFBSSxLQUM1RHdELEtBQUssU0FtQlYsTUFBTXNWLEdBQWlCekksR0FBV0EsRUFBTzBJLEtBQU8xSSxFQUFPMEksS0FBS0MsS0FiNUQsU0FBU0MsRUFBVTVJLEVBQVF2TyxFQUFTLElBQ2hDLElBQUssSUFBSTlELEVBQUksRUFBRzBJLEVBQVMySixFQUFPM0osT0FBUTFJLEVBQUkwSSxFQUFRMUksSUFBSyxDQUNyRCxNQUFNaUIsRUFBUW9SLEVBQU9yUyxHQUNqQitNLE1BQU1DLFFBQVEvTCxHQUNkZ2EsRUFBVWhhLEVBQU82QyxHQUdqQkEsRUFBTzBCLEtBQUt2RSxHQUdwQixPQUFPNkMsRUFHNkRtWCxDQUFVNUksR0FDM0UsTUFBTSxXQUFtQnFDLEdBRTVCLGtCQUdJakksTUFBTTBJLFNBQVNoVixLQUFLMkgsTUFHcEJBLEtBQUtvVCxRQUNEcFQsS0FBS2pHLGVBQWVzUiwwQkFBMEIsU0FBVXJMLE9BQ3BEQSxLQUFLcVQsbUJBQ0xyVCxLQUFLb1QsU0FBVyxHQUc1QiwwQkFPSSxNQUFNRSxFQUFhdFQsS0FBS3VLLE9BQ2xCQSxFQUFTLEdBQ2YsR0FBSXRGLE1BQU1DLFFBQVFvTyxHQUFhLENBQ1JOLEdBQWNNLEdBTUxDLFlBQVksQ0FBQ2xZLEVBQUtwQixLQUMxQ29CLEVBQUk0QyxJQUFJaEUsR0FFRG9CLEdBQ1IsSUFBSThPLEtBRUViLFFBQVM5RCxHQUFNK0UsRUFBT2lKLFFBQVFoTyxTQUVsQzhOLEdBQ0wvSSxFQUFPN00sS0FBSzRWLEdBRWhCLE9BQU8vSSxFQU9YLGFBQ0k1RixNQUFNeUksYUFDTnBOLEtBQUswUixXQUNEMVIsS0FBS3lULG1CQUlMdlosT0FBT3daLFlBQWMxVCxLQUFLMFIsc0JBQXNCeFgsT0FBT3daLFlBQ3ZEMVQsS0FBSzJULGNBVWIsbUJBQ0ksT0FBTzNULEtBQUs0VCxhQUFhLENBQUV2YSxLQUFNLFNBV3JDLGNBQ0ksTUFBTWtSLEVBQVN2SyxLQUFLNE8sWUFBWXdFLFFBQ1YsSUFBbEI3SSxFQUFPM0osY0FRYXJDLElBQXBCckUsT0FBTzBQLFVBQTJCMVAsT0FBTzBQLFNBQVN1QixhQUc3QzhHLEdBQ0xqUyxLQUFLMFIsV0FBV21DLG1CQUNadEosRUFBT3VKLElBQUs3WixHQUFNQSxFQUFFOFosWUFLeEIvVCxLQUFLZ1UsOEJBQStCLEVBVHBDOVosT0FBTzBQLFNBQVNxSyxZQUFZQyxzQkFBc0IzSixFQUFPdUosSUFBSzdaLEdBQU1BLEVBQUVxWSxTQUFVdFMsS0FBS21VLFlBWTdGLG9CQUNJeFAsTUFBTXlQLG9CQUdGcFUsS0FBS3FVLGlCQUFrQzlWLElBQXBCckUsT0FBTzBQLFVBQzFCMVAsT0FBTzBQLFNBQVMwSyxhQUFhdFUsTUFTckMsT0FBT2lRLEdBQ0h0TCxNQUFNK0IsT0FBT3VKLEdBQ2IsTUFBTXNFLEVBQWlCdlUsS0FBS3dVLFNBQ3hCRCxhQUEwQixHQUMxQnZVLEtBQUs0TyxZQUNBNEYsT0FBT0QsRUFBZ0J2VSxLQUFLMFIsV0FBWSxDQUFFaEksVUFBVzFKLEtBQUttVSxVQUFXek0sYUFBYzFILE9BS3hGQSxLQUFLZ1UsK0JBQ0xoVSxLQUFLZ1UsOEJBQStCLEVBQ3BDaFUsS0FBSzRPLFlBQVl3RSxRQUFROUosUUFBU3JQLElBQzlCLE1BQU15USxFQUFRL00sU0FBUzZHLGNBQWMsU0FDckNrRyxFQUFNQyxZQUFjMVEsRUFBRXFZLFFBQ3RCdFMsS0FBSzBSLFdBQVczTCxZQUFZMkUsTUFTeEMsV0FVSixHQUFzQixXQUFJLEVBUzFCLEdBQVc4SixPSmlDVyxDQUFDeFksRUFBUTJDLEVBQVd3RSxLQUN0QyxJQUFLQSxHQUE4QixpQkFBWkEsSUFBeUJBLEVBQVF1RyxVQUNwRCxNQUFNLElBQUl4QyxNQUFNLHVDQUVwQixNQUFNd0MsRUFBWXZHLEVBQVF1RyxVQUNwQitLLEVBQWMsRUFBTXBXLElBQUlNLEdBQ3hCK1YsRUFBZS9LLEdBQ00sS0FBdkJoTCxFQUFVb0MsWUFDUnBDLEVBQVVnVyxLQUVWQyxFQUFtQkYsSUFBaUJ4SyxFQUFlN0wsSUFBSXFMLEdBR3ZEbUwsRUFBa0JELEVBQW1CalgsU0FBU21YLHlCQUEyQm5XLEVBVy9FLEdIak9rQixFQUFDM0MsRUFBUTJDLEVBQVd3RSxLQUN0QyxJQUFJSixFQUFPLEVBQU1oSyxJQUFJNEYsUUFDUkosSUFBVHdFLElBQ0E5RCxFQUFZTixFQUFXQSxFQUFVbUcsWUFDakMsRUFBTXpKLElBQUlzRCxFQUFXb0UsRUFBTyxJQUFJLEVBQVNuSyxPQUFPd1ksT0FBTyxDQUFFM0ssbUJBQW1CdEQsS0FDNUVKLEVBQUtnUyxXQUFXcFcsSUFFcEJvRSxFQUFLTSxTQUFTckgsR0FDZCtHLEVBQUtPLFVHK01MLENBQVV0SCxFQUFRNlksRUFBaUJqYyxPQUFPd1ksT0FBTyxDQUFFM0ssZ0JBQWlCc0QsRUFBcUJMLElBQWN2RyxJQVVuR3lSLEVBQWtCLENBQ2xCLE1BQU03UixFQUFPLEVBQU1oSyxJQUFJOGIsR0FDdkIsRUFBTUcsT0FBT0gsR0FNYixNQUFNNVIsRUFBV0YsRUFBSzVKLGlCQUFpQixFQUNuQzRKLEVBQUs1SixNQUFNOEosY0FDWDFFLEVBQ0o2TCxFQUFzQlYsRUFBV21MLEVBQWlCNVIsR0FDbERoRSxFQUFZTixFQUFXQSxFQUFVbUcsWUFDakNuRyxFQUFVb0gsWUFBWThPLEdBQ3RCLEVBQU14WixJQUFJc0QsRUFBV29FLElBUXBCMFIsR0FBZUMsR0FDaEJ4YSxPQUFPMFAsU0FBUzBLLGFBQWEzVixFQUFVZ1csUSw4WUszUi9DLGFBTUEsT0FDQSxPQUVBLE9BR0EsT0FnQkEsTUFBYU0sVUFBeUIsRUFBQUMsV0FBdEMsYyxvQkFnV0UsS0FBQTVaLE9BQWlCLEVBSWpCLEtBQUE2WixPQUFpQixFQUFBQSxPQUVqQixLQUFBamQsRUFBWSxFQUNaLEtBQUF5QixFQUFZLEVBQ1osS0FBQXhCLEVBQVksRUFFWixLQUFBaUQsS0FBZSxFQUNmLEtBQUFnYSxPQUFTbGIsT0FBT21iLGdCQU9oQixLQUFBdEgsU0FBbUIsS0FqWG5CLHdCQUNFLE1BQU8sR0FFVCxvQkFDRSxNQUFPLENBQ0wsRUFBQTRFLEdBQUc7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7U0E2V1AsYUFBYTJDLEdBQ1gzUSxNQUFNd0wsYUFBYW1GLEdBQ25CdFYsS0FBS3VWLFlBQWN2VixLQUFLd1YsV0FBVzVYLGNBQWMsYUFDakRvQyxLQUFLMUUsT0FBUzBFLEtBQUt5VixnQkFBZ0I3WSxHQUNuQ29ELEtBQUtyQixVQUFZcUIsS0FBS3dWLFdBQVk1WCxjQUFjLGNBQ2hEb0MsS0FBSzBWLGdCQUFrQjFWLEtBQUt3VixXQUFZNVgsY0FBYyxvQkFDdERvQyxLQUFLMFYsZ0JBQWdCaEwsTUFBTWlMLFFBQVUsT0FDckMzVixLQUFLaUMsS0FBT2pDLEtBQUttVixPQUFPdlksR0FDeEJvRCxLQUFLN0gsRUFBSVMsT0FBT2dkLFFBQVE1VixLQUFLaUMsTUFBTXJCLE9BQ25DWixLQUFLOUgsRUFBSXFILEtBQUtzVyxNQUFNdFcsS0FBS0MsU0FBV1EsS0FBSzdILEdBQ3pDNkgsS0FBS3JHLEVBQUk0RixLQUFLc1csTUFBc0IsRUFBaEJ0VyxLQUFLQyxVQUN6QixJQUFJc1csRUFBYWxkLE9BQU9nZCxRQUFRNVYsS0FBS2lDLE1BQU1qQyxLQUFLOUgsR0FDNUM0ZCxFQUFLLEdBQUdDLFNBQVMsS0FDbkIvVixLQUFLZ1csWUFBY3BkLE9BQU8rSCxPQUFPbVYsR0FBTSxHQUFHRyxXQUUxQ2pXLEtBQUtnVyxZQUFjRixFQUFLLEdBRTFCLElBQUlJLEVBQVVKLEVBQUtyVyxNQUFNLEdBQ3pCTyxLQUFLbVcsWUFBY2xSLE1BQU00RixLQUFLcUwsRUFBUSxJQUN0Q2xXLEtBQUtvVyxRQUNMcFcsS0FBS3FXLGdCQUdQLFFBQ0VDLFdBQVcsS0FDVHRXLEtBQUt3VixXQUFXNVgsY0FBMkIsYUFBYThNLE1BQU1pTCxRQUFVLE9BQ3pFM1YsS0FBS3VXLGlCQUNKdlcsS0FBS3dWLFdBQVc1WCxjQUEyQixzQkFBc0I4TSxNQUFNOEwsUUFBVSxLQUNoRixNQUdMLGlCQUNDQyxzQkFBc0IsS0FDUnhSLE1BQU00RixLQUFLN0ssS0FBS3dWLFdBQVdoTCxpQkFBaUIsb0JBQ25EbEIsUUFBUSxDQUFDb04sRUFBS3hlLEtBQ2hCd2UsRUFBSUMsUUFBUSxDQUFDLENBQUNDLFVBQVcscUJBQXFCLENBQUNBLFVBQVcsb0JBQzFELENBQUNDLFNBQVUsSUFDWEMsTUFBUyxJQUFGNWUsUUFLYixnQkFBZ0I2ZSxHQUNJLFFBQWJBLEVBQ0RuZSxPQUFPK0gsT0FBT1gsS0FBS21WLFFBQVFyQixJQUFJa0QsR0FDdEJoWCxLQUFLaUMsS0FBTyxPQUFILFVBQU8rVSxJQUl2QmhYLEtBQUtpQyxLQUFPakMsS0FBS21WLE9BQU8sR0FBRzRCLEtBQy9CL1csS0FBSzFFLE9BQVMwRSxLQUFLeVYsZ0JBQWdCLEdBQUdzQixLQUN0Q04sc0JBQXNCLEtBQ3RCelcsS0FBS3VXLG1CQUdMdlcsS0FBS2lYLGdCQUlULG9CQUNJalgsS0FBS3VWLFlBQVk3SyxNQUFNa00sVUFBWSxrQkFDckNILHNCQUFzQixLQUNwQnpXLEtBQUt3VixXQUFXNVgsY0FBOEIsWUFBWXNaLFFBQVUsS0FDbEVsWCxLQUFLdVYsWUFBWTdLLE1BQU1rTSxVQUFZLG9CQUNuQ0gsc0JBQXNCLEtBQ3RCelcsS0FBS3dWLFdBQVc1WCxjQUE4QixZQUFZc1osUUFBVSxVQUk1RSxpQkFDRWxYLEtBQUsxRSxPQUFTMEUsS0FBSzFFLE9BQVMsRUFDNUIwRSxLQUFLeVYsZ0JBQWdCLEdBQUd6VixLQUFLK04sWUFBYy9OLEtBQUsxRSxPQUNoRCxFQUFBTixjQUFjZ0YsS0FBSzVELEtBQUtDLElBQUsyRCxLQUFLeVYsZ0JBQWlCelYsS0FBSzVELEtBQUszRCxNQUM3RHVILEtBQUtxVyxnQkFDTHJXLEtBQUt1VixZQUFZYyxnQkFHakIsZ0JBQ0VyVyxLQUFLd1YsV0FBVzVYLGNBQTJCLG9CQUFvQjhNLE1BQU1rTSxVQUNuRSxrQkFDRjVXLEtBQUtxVyxnQkFFUCxlQUNFLElBQUljLEVBQXdCblgsS0FBS3dWLFdBQVk1WCxjQUFjLFdBQzNELEdBQUlvQyxLQUFLMUUsT0FBUyxHQUFNLElBQ3RCcUMsU0FBU0MsY0FBMkIsV0FBVzhNLE1BQU1pTCxRQUFVLFFBQy9Ed0IsRUFBU1IsUUFDUCxDQUNFLENBQUVDLFVBQVcsNkNBQ2IsQ0FBRUEsVUFBVyw4Q0FDYixDQUFFQSxVQUFXLDBDQUVmLENBQUVDLFNBQVUsTUFFVjdXLEtBQUsxRSxPQUFTLElBQU8sR0FBRyxDQUMxQixJQUFJOGIsRUFBbUIsQ0FBRUMsT0FBUSxVQUNsQixJQUFJLFVBQWtCRCxHQUM1QjVDLFNBQ0x4VSxLQUFLMUUsT0FBUyxJQUFPLElBQ3ZCMEUsS0FBSzBWLGdCQUFnQmhMLE1BQU1pTCxRQUFVLFNBSy9DLFlBQ0l6YixPQUFPQyxTQUFTVyxPQUFPd2MsVUFBVXZiLEtBQUssS0FDcENpRSxLQUFLNUQsS0FBTyxLQUNaWixhQUFhK2IsV0FBVyxhQUN4Qi9iLGFBQWErYixXQUFXLFVBQ3hCLEVBQUEvWixRQUFRLHNCQUF1QixvQ0FBb0MsR0FBTSxLQUs3RSxVQUFVb0ssR0FDUkEsRUFBRTRQLGlCQUNZNVAsRUFBRXlQLE9BQVFyWixVQUFVQyxJQUFJLGFBQ3hCMkosRUFBRXlQLE9BQVF4WixpQkFBaUIsV0FBWStKLElBQ3JDQSxFQUFFeVAsT0FBUXJaLFVBQVV5WixPQUFPLGVBSTdDLFVBQ0UsR0FBb0IsSUFBaEJ6WCxLQUFLMUUsT0FBYyxDQUNrQjJKLE1BQU00RixLQUMzQzdLLEtBQUt3VixXQUFXaEwsaUJBQWlDLGFBRXRDbEIsUUFBUXdNLElBQ25CQSxFQUFLcEwsTUFBTThMLFFBQVUsSUFDckJWLEVBQUtwTCxNQUFNZ04sV0FBYSxTQUs5QixnQkFDRWpCLHNCQUFzQixLQUN1QixTQUF2Q3pXLEtBQUswVixnQkFBZ0JoTCxNQUFNaUwsU0FDN0JXLFlBQVcsV0FDVDNZLFNBQVNDLGNBQWlDLFdBQVc4TSxNQUFNaUwsUUFBVSxTQUNwRSxLQUVxQzFRLE1BQU00RixLQUM5QzdLLEtBQUt3VixXQUFXaEwsaUJBQWlCLGFBRXRCbEIsUUFBUXdNLElBQ25CQSxFQUFLcEwsTUFBTThMLFFBQVUsTUFFdkJ4VyxLQUFLckcsRUFBSTRGLEtBQUtzVyxNQUFzQixFQUFoQnRXLEtBQUtDLFVBQ3pCUSxLQUFLN0gsRUFBSVMsT0FBT2dkLFFBQVE1VixLQUFLaUMsTUFBTXJCLE9BQ25DWixLQUFLOUgsRUFBSXFILEtBQUtzVyxNQUFNdFcsS0FBS0MsU0FBV1EsS0FBSzdILEdBQ3pDLElBQUkyZCxFQUF3Q2xkLE9BQU9nZCxRQUFRNVYsS0FBS2lDLE1BQU1qQyxLQUFLOUgsR0FDdkU0ZCxFQUFLLEdBQUdDLFNBQVMsS0FDbkIvVixLQUFLZ1csWUFBY3BkLE9BQU8rSCxPQUFPbVYsR0FBTSxHQUFHRyxXQUUxQ2pXLEtBQUtnVyxZQUFjRixFQUFLLEdBRTFCLElBQUlJLEVBQVVKLEVBQUtyVyxNQUFNLEdBQ3pCTyxLQUFLbVcsWUFBY2xSLE1BQU00RixLQUFLcUwsRUFBUSxJQUN0Q2xXLEtBQUt3VixXQUFXNVgsY0FBZ0MsVUFBVXpFLE1BQVEsR0FDbEU2RyxLQUFLd1YsV0FBVzVYLGNBQWdDLFVBQVU4TSxNQUFNaU4sVUFDOUQsK0NBQ0YzWCxLQUFLNUUsS0FBTSxFQUNYNEUsS0FBS3dWLFdBQVc1WCxjQUE4QixvQkFBb0I4TSxNQUFNa00sVUFDdEUsZ0JBQ0Y1VyxLQUFLcVcsa0JBSUgsWUFBWXVCLEcseUNBQ2hCNVgsS0FBS3dWLFdBQVc1WCxjQUFnQyxzQkFBc0JpYSxJQUFNLDJCQUM1RSxJQUFJQyxFQUFNLElBQUlDLHlCQUF5QkgsR0FDbkNJLEVBQVNoWSxLQUFLb1YsT0FBTzZDLFlBQ3pCSCxFQUFJSSxLQUFPLFFBQ1hKLEVBQUlLLE1BQVFILEVBQU8sR0FFbkJoWSxLQUFLb1YsT0FBT2dELE1BQU1OLEdBQ2xCeEIsV0FBVyxLQUNYdFcsS0FBS3dWLFdBQVc1WCxjQUFnQyxzQkFBc0JpYSxJQUFNLHdCQUEwQixRQUd4RyxRQUFRdkMsR0FDTjNRLE1BQU15TCxRQUFRa0YsR0FDZG1CLHNCQUFzQixLQUNwQnpXLEtBQUt3VixXQUFXNVgsY0FBZ0MsVUFBVXlhLFVBSTlELFNBQ0UsT0FBTyxFQUFBblUsSUFBSTs0QkFDYWxFLEtBQUtzWSw4QkFBK0IxUSxJQUFtQjVILEtBQUsrTixTQUFXbkcsRUFBRTJRLE9BQU94SyxnQ0FBaUNuRyxJQUFtQjVILEtBQUt3WSxnQkFBZ0I1USxFQUFFMlEsT0FBT3hCLDBDQUEwQy9XLEtBQUs1RCxLQUFLM0QscUJBQXFCdUgsS0FBSzVELEtBQUtPLG1CQUFtQnFELEtBQUs1RCxLQUFLQywwQkFBMEIyRCxLQUFLeVY7O21FQUUxUXpWLEtBQUt5WSxvQkFBb0J6WSxLQUFLNUQsS0FBSzNELEtBQUtvSixNQUFNLEtBQUs7O3NEQUVoRSxLQUNoRDdCLEtBQUswVixnQkFBZ0JoTCxNQUFNaUwsUUFBVSxPQUNyQ1csWUFBVyxXQUNUM1ksU0FBU0MsY0FBaUMsV0FBVzhNLE1BQU1pTCxRQUFVLFNBQ3BFOztvQ0FHMkIzVixLQUFLNUQsS0FBSzNELEtBQUtvSixNQUFNOzs7Ozs7MERBTUM3QixLQUFLMFk7O21CQUUzQixRQUFqQjFZLEtBQUsrTixTQUFvQixVQUFVL04sS0FBSytOLFlBQWMseUJBQXlCL04sS0FBSzFFOzsrRkFFUjBFLEtBQUtnVzs7O1dBR3pFelgsSUFBckJ5QixLQUFLbVcsaUJBQTRCNVgsRUFBWXlCLEtBQUttVyxZQUFZckMsSUFBSSxDQUFDOEQsRUFBTXBYLElBQ25FQSxJQUFVUixLQUFLckcsRUFDWixFQUFBdUssSUFBSTs7O3NCQUdHLEtBQ1JsRSxLQUFLMlksWUFBWWY7MEJBRUpoUSxJQUNiNUgsS0FBSzRZLFVBQVVoUjs7O2lCQUlaM0MsTUFBTUMsUUFBUTBTLEdBQVFBLEVBQUs5TyxLQUFLLEtBQU84Tzs7O1VBS3pDLEVBQUExVCxJQUFJOzs7O29DQUlpQjBULDRCQUFnQ2hRLElBSzFELEdBSko1SCxLQUFLdVYsWUFBWTdLLE1BQU1rTSxVQUFZLG9CQUNxQixJQUEzQmhQLEVBQUV5UCxPQUFRbGUsTUFBTXlILFNBQ3pCZ0gsRUFBRXlQLE9BQVEzTSxNQUFNaU4sVUFBWSxxQkFFMUIsS0FBZC9QLEVBQUVpUixRQUNKLEdBQUk1VCxNQUFNQyxRQUFRMFMsR0FBTyxDQUNKQSxFQUFLOU8sT0FHbkJ0SCxjQUNBdVUsU0FBNEJuTyxFQUFFeVAsT0FBUWxlLE1BQU04YyxXQUFXelUsZ0JBRTFEeEIsS0FBSzhZLGlCQUNMOVksS0FBSytZLFVBQ0wvWSxLQUFLZ1osZUFDZSxJQUFoQmhaLEtBQUsxRSxRQUNZc00sRUFBRXlQLE9BQVEzTSxNQUFNaU4sVUFBWSw0QkFDL0NyQixXQUFXLEtBQ1R0VyxLQUFLaVgsaUJBQ0osUUFFZ0JyUCxFQUFFeVAsT0FBUTNNLE1BQU1pTixVQUFZLHdCQUMvQ3JCLFdBQVcsS0FDVHRXLEtBQUtpWCxpQkFDSixRQUdjclAsRUFBRXlQLE9BQVEzTSxNQUFNaU4sVUFBWSxxQkFDL0MzWCxLQUFLNUUsS0FBTSxFQUNYNEUsS0FBS3FXLHNCQUdnQnpPLEVBQUV5UCxPQUFRbGUsTUFBTXFJLGdCQUFrQm9XLEdBQ3ZENVgsS0FBSzhZLGlCQUNMOVksS0FBSytZLFVBQ0wvWSxLQUFLZ1osZUFDZSxJQUFoQmhaLEtBQUsxRSxRQUNZc00sRUFBRXlQLE9BQVEzTSxNQUFNaU4sVUFBWSw0QkFDL0NyQixXQUFXLEtBQ1R0VyxLQUFLaVgsaUJBQ0osUUFFZ0JyUCxFQUFFeVAsT0FBUTNNLE1BQU1pTixVQUFZLHdCQUMvQ3JCLFdBQVcsS0FDVHRXLEtBQUtpWCxpQkFDSixRQUdjclAsRUFBRXlQLE9BQVEzTSxNQUFNaU4sVUFBWSx5QkFDL0MzWCxLQUFLNUUsS0FBTSxFQUNYNEUsS0FBS3FXOztvQkFNRCxLQUNkclcsS0FBSzJZLFlBQVlmOzJCQUdmM1MsTUFBTUMsUUFBUTBTLEdBQVFBLEVBQUs5TyxLQUFLLEtBQU84Tzs7Ozs7Ozs7OzhDQVlBaFEsSUFDMUM1SCxLQUFLNFksVUFBVWhSLGdCQUNINUgsS0FBS2lYLGlDQUNoQmpYLEtBQUs1RSxJQUNELEVBQUE4SSxJQUFJO3lCQUNXbEUsS0FBS2laOzs4QkFFQ3JSLElBQ2I1SCxLQUFLNFksVUFBVWhSOzs7O2lCQU12QnJKOztPQXJyQlYscUJBNHJCQUMsZUFBZW1TLE9BQU8sZ0JBQWlCc0UsR0FFdkMsdUJBQWtDeGMsRUFBY2tFLEVBQWVOLEVBQWFmLEVBQXlCNGQsRUFBa0IsUyx5Q0FDckh2YixTQUFTSSxLQUFLQyxVQUFVQyxJQUFJLFNBQzNCekMsYUFBYStiLFdBQVcsaUJBQ3pCLE1BQU00QixRQUFjLElBQUlsRSxFQW1CeEIsT0FqQkFrRSxFQUFNVixnQkFBa0JTLEVBQ3hCQyxFQUFNL2MsS0FBTyxDQUNYTyxRQUNBTixNQUNBNUQsUUFFRjBnQixFQUFNMUQsZ0JBQWtCbmEsRUFDZ0IsT0FBckNxQyxTQUFTQyxjQUFjLFlBQ3hCRCxTQUFTSSxLQUFLbUIsWUFBWXZCLFNBQVNDLGNBQWMsVUFHWCxPQUFqQ0QsU0FBU0MsY0FBYyxTQUM1QkQsU0FBU0ksS0FBS21CLFlBQVl2QixTQUFTQyxjQUFjLFNBRWpERCxTQUFTSSxLQUFLbUIsWUFBWXZCLFNBQVNDLGNBQWMsY0FFbkRELFNBQVNJLEtBQUtnSSxZQUFZb1QsR0FDbkJBLE8sOFlDaHZCVCxhQUNBLE9BUUEsTUFBYUMsVUFBa0IsRUFBQWxFLFdBSzlCLG9CQUNDLE1BQU8sQ0FDTixFQUFBdkMsR0FBRzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O01BaUZMLFNBQ0MzUyxLQUFLcVosY0FBYyxJQUFJQyxZQUFZLFNBQVUsQ0FBRUMsU0FBUyxFQUFNQyxVQUFVLEtBQ3hFeFosS0FBS3FXLGdCQUdOLFNBQ0MsT0FBTyxFQUFBblMsSUFBSTs7Ozs7a0JBS0tsRSxLQUFLeVo7b0JBQ0h6WixLQUFLekM7SUFDckJ5QyxLQUFLMFosVUFDSixFQUFBeFYsSUFBSSxxQ0FBcUMsRUFBQTNJLHdEQUN6Q2dEOzs7TUF2R0wsY0E2R0FDLGVBQWVtUyxPQUFPLGFBQWN5SSxHQUVwQyxtQkFBOEJLLEVBQWVsYyxFQUFpQm1jLEdBQXFCLEVBQU9DLEdBQWtCLEcseUNBQzNHLE1BQU1DLFFBQW1CLElBQUlSLEVBUTdCLE9BUEFRLEVBQVdILE1BQVFBLEVBQ25CRyxFQUFXcmMsUUFBVUEsRUFDckJxYyxFQUFXRCxPQUFTQSxFQUNwQkMsRUFBV0YsVUFBWUEsRUFDdkJFLEVBQVdDLEdBQUssTUFDaEJsYyxTQUFTSSxLQUFLbUIsWUFBWXZCLFNBQVNJLEtBQUsrYixXQUN4Q25jLFNBQVNJLEtBQUtnSSxZQUFZNlQsR0FDbkJBLE8sOEVDNUhLLEVBQUF6RSxPQUFpQixDQUM3QnZZLEdBQUksQ0FDSCxlQUFnQixDQUFFLFFBQVMsQ0FBRSxVQUFXLFVBQVksQ0FBRSxVQUFXLFdBQ2pFbWQsTUFBSyxDQUFFLEtBQU0sTUFBTyxRQUNwQkMsUUFBTyxDQUFFLEtBQU0sTUFBTyxRQUN0QixhQUFjLENBQUUsU0FBVSxTQUFVLFVBQ3BDLDZCQUE4QixDQUFFLFFBQVMsUUFBUyxVQUNsRCwyQkFBNEIsQ0FBRSxRQUFTLFVBQVcsV0FDbERDLFVBQVMsQ0FBRSxRQUFTLFFBQVMsU0FDN0JDLFVBQVMsQ0FBRSxNQUFPLFNBQVUsVUFDNUJDLFFBQU8sQ0FBRSxRQUFTLFNBQVUsVUFDNUJDLFdBQVUsQ0FBRSxTQUFVLFFBQVMsVUFDL0Isc0JBQXVCLENBQUUsT0FBUSxPQUFRLFFBQ3pDQyxZQUFXLENBQUUsT0FBUSxPQUFRLFFBQzdCLHlCQUEwQixDQUFFLE1BQU8sTUFBTyxPQUMxQyxnQ0FBaUMsQ0FBRSxPQUFRLE9BQVEsU0FDbkQsZ0NBQWlDLENBQUUsUUFBUyxRQUFTLFVBQ3JEQyxNQUFLLENBQUUsUUFBUyxRQUFTLFNBQ3pCQyxPQUFNLENBQUUsTUFBTyxNQUFPLFNBQ3RCLHdCQUF5QixDQUFFLE9BQVEsT0FBUSxVQUMzQ0MsT0FBTSxDQUFFLE9BQVEsT0FBUSxRQUN4QkMsVUFBUyxDQUFFLE9BQVEsUUFBUyxTQUM1QkMsUUFBTyxDQUFFLE1BQU8sT0FBUSxTQUN4QkMsV0FBVSxDQUFFLE1BQU8sTUFBTyxPQUMxQkMsUUFBTyxDQUFFLE9BQVEsT0FBUSxTQUN6QkMsTUFBSyxDQUFFLEtBQU0sT0FBUSxRQUNyQkMsU0FBUSxDQUFFLE9BQVEsT0FBUSxTQUMxQkMsT0FBTSxDQUFFLE9BQVEsTUFBTyxPQUN2QkMsVUFBUyxDQUFFLE9BQVEsUUFBUyxTQUM1QkMsVUFBUyxDQUFFLE1BQU8sTUFBTyxPQUN6QixvQ0FBcUMsQ0FBRSxPQUFRLE9BQVEsUUFDdkQsZUFBZ0IsQ0FBRSxPQUFRLE9BQVEsUUFDbENDLFVBQVMsQ0FBRSxPQUFRLE9BQVEsUUFDM0IsaUJBQWtCLENBQUUsT0FBUSxPQUFRLFNBQ3BDLFlBQWEsQ0FBRSxRQUFTLENBQUUsU0FBVSxXQUFhLENBQUUsU0FBVSxZQUM3RCxrQ0FBbUMsQ0FBRSxRQUFTLE9BQVEsUUFDdEQsbUJBQW9CLENBQUUsT0FBUSxPQUFRLFFBQ3RDLGlCQUFrQixDQUFFLE9BQVEsT0FBUSxRQUNwQyxtQkFBb0IsQ0FBRSxPQUFRLE9BQVEsUUFDdEMsbUNBQW9DLENBQUUsT0FBUSxRQUFTLFNBQ3ZELG1CQUFvQixDQUFFLE9BQVEsTUFBTyxPQUNyQ0MsU0FBUSxDQUFFLE1BQU8sT0FBUSxRQUN6QkMsUUFBTyxDQUFFLE1BQU8sTUFBTyxPQUN2QkMsU0FBUSxDQUFFLE9BQVEsT0FBUSxRQUMxQkMsVUFBUyxDQUFFLE9BQVEsT0FBUSxVQUMzQkMsVUFBUyxDQUFFLE9BQVEsT0FBUSxRQUMzQkMsS0FBTSxDQUFFLE1BQU8sTUFBTyxPQUN0QkMsUUFBTyxDQUFFLE1BQU8sT0FBUSxRQUN4QkMsVUFBUyxDQUFFLE1BQU8sTUFBTyxRQUN6QkMsYUFBWSxDQUFFLE9BQVEsT0FBUSxRQUM5QixnQkFBaUIsQ0FBRSxPQUFRLE9BQVEsUUFDbkNDLFlBQVcsQ0FBRSxPQUFRLFNBQVUsU0FDL0JDLFVBQVMsQ0FBRSxPQUFRLE9BQVEsUUFDM0JDLFVBQVMsQ0FBRSxPQUFRLE9BQVEsUUFDM0IsbUJBQW9CLENBQUUsTUFBTyxNQUFPLE9BQ3BDQyxPQUFNLENBQUUsUUFBUyxRQUFTLFNBQzFCLG1CQUFvQixDQUFFLFFBQVMsUUFBUyxVQUN4QyxtQkFBb0IsQ0FBRSxRQUFTLFFBQVMsU0FDeENDLE9BQU0sQ0FBRSxRQUFTLFFBQVMsU0FDMUJDLFFBQU8sQ0FBRSxRQUFTLFFBQVMsVUFDM0JDLFNBQVEsQ0FBRSxPQUFRLE9BQVEsUUFDMUJDLE9BQU0sQ0FBRSxPQUFRLE9BQVEsU0FDeEIsZ0JBQWlCLENBQUUsUUFBUyxTQUFVLFVBQ3RDLDBCQUEyQixDQUFFLE9BQVEsT0FBUSxRQUM3Qyx5QkFBMEIsQ0FBRSxRQUFTLFVBQVcsV0FDaERDLFNBQVEsQ0FBRSxRQUFTLFFBQVMsVUFDNUJDLFNBQVEsQ0FBRSxPQUFRLE9BQVEsU0FDMUIsa0JBQW1CLENBQUUsT0FBUSxPQUFRLFFBQ3JDQyxXQUFVLENBQUUsYUFBYyxhQUFjLGNBQ3hDQyxXQUFVLENBQUUsTUFBTyxNQUFPLE9BQzFCQyxRQUFPLENBQUUsUUFBUyxRQUFTLFlBRTVCM2YsR0FBSSxDQUNINGYsVUFBUyxDQUFFLFFBQVMsUUFBUyxVQUM3QkMsTUFBSyxDQUFFLE9BQVEsT0FBUSxVQUN2QkMsU0FBUSxDQUFFLE9BQVEsTUFBTyxVQUN6QkMsVUFBUyxDQUFFLFFBQVMsT0FBUSxRQUM1QixnQkFBaUIsQ0FBRSxPQUFRLE9BQVEsU0FDbkMsd0JBQXlCLENBQUUsT0FBUSxDQUFFLFNBQVUsU0FBVyxDQUFFLFNBQVUsVUFDdEUsb0JBQXFCLENBQUUsTUFBTyxNQUFPLE9BQ3JDLGdCQUFpQixDQUFFLE9BQVEsTUFBTyxPQUNsQyxtQkFBb0IsQ0FBRSxRQUFTLFNBQVUsVUFDekNDLFlBQVcsQ0FBRSxTQUFVLFNBQVUsYUFDakNDLFdBQVUsQ0FBRSxVQUFXLFVBQVcsWUFDbENDLFdBQVUsQ0FBRSxTQUFVLFFBQVMsVUFDL0IsNEJBQTZCLENBQUUsT0FBUSxPQUFRLFFBQy9DLGtCQUFtQixDQUFFLE9BQVEsTUFBTyxVQUNwQ0MsV0FBVSxDQUFFLE1BQU8sTUFBTyxPQUMxQixtQkFBb0IsQ0FBRSxNQUFPLE1BQU8sUUFDcEMsK0JBQWdDLENBQUUsUUFBUyxDQUFFLFVBQVcsT0FBUyxDQUFFLFVBQVcsUUFDOUUsb0JBQXFCLENBQUUsT0FBUSxPQUFRLFFBQ3ZDLHFCQUFzQixDQUFFLE9BQVEsT0FBUSxTQUN4QyxvQkFBcUIsQ0FBRSxRQUFTLFFBQVMsVUFDekMscUJBQXNCLENBQUUsUUFBUyxRQUFTLFNBQzFDQyxXQUFVLENBQUUsUUFBUyxPQUFRLFFBQzdCLGdDQUFpQyxDQUFFLE9BQVEsT0FBUSxRQUNuRCx1Q0FBd0MsQ0FBRSxRQUFTLFFBQVMsU0FDNUQsbUJBQW9CLENBQUUsU0FBVSxTQUFVLFVBQzFDLG9CQUFxQixDQUFFLE9BQVEsT0FBUSxTQUV4Q25nQixHQUFJLENBQ0gscUNBQXNDLENBQUUsT0FBUSxPQUFRLFNBQ3hELG1CQUFvQixDQUFFLE9BQVEsT0FBUSxRQUN0QyxrQ0FBbUMsQ0FBRSxRQUFTLE9BQVEsU0FDdEQsa0JBQW1CLENBQUUsT0FBUSxPQUFRLFFBQ3JDLHdEQUF5RCxDQUFFLE9BQVEsUUFBUyxTQUM1RW9nQixZQUFXLENBQUUsU0FBVSxVQUFXLGFBQ2xDLGtCQUFtQixDQUFFLFFBQVMsQ0FBRSxVQUFXLFNBQVcsQ0FBRSxVQUFXLFVBQ25FLG1CQUFvQixDQUFFLE9BQVEsQ0FBRSxPQUFRLFdBQWEsQ0FBRSxPQUFRLFlBQy9EQyxZQUFXLENBQUUsT0FBUSxNQUFPLE9BQzVCLHFCQUFzQixDQUFFLE9BQVEsU0FBVSxVQUMxQywyRUFBNEUsQ0FBRSxNQUFPLE1BQU8sT0FDNUYsdUJBQXdCLENBQUUsU0FBVSxTQUFVLFVBQzlDLHdCQUF5QixDQUFFLFFBQVMsT0FBUSxRQUM1QyxzQkFBdUIsQ0FBRSxRQUFTLFFBQVMsU0FDM0MseUVBQTBFLENBQUUsU0FBVSxTQUFVLFVBQ2hHLHlCQUEwQixDQUFFLFFBQVMsUUFBUyxTQUM5QyxvQkFBcUIsQ0FBRSxRQUFTLFFBQVMsU0FDekMscUJBQXNCLENBQUUsUUFBUyxRQUFTLFVBRTNDcGdCLEdBQUksQ0FDSCxjQUFlLENBQUUsUUFBUyxRQUFTLFVBQ25DLHNCQUF1QixDQUFFLE1BQU8sTUFBTyxPQUN2QywyQkFBNEIsQ0FBRSxPQUFRLE9BQVEsUUFDOUMsaUJBQWtCLENBQUUsTUFBTyxPQUFRLFFBQ25DLHNDQUF1QyxDQUFFLE9BQVEsT0FBUSxRQUN6RCxzQkFBdUIsQ0FBRSxRQUFTLFFBQVMsVUFFNUNDLEdBQUksQ0FDSCxxQ0FBc0MsQ0FBRSxPQUFRLFFBQVMsU0FDekQsK0NBQWdELENBQUUsUUFBUyxRQUFTLFNBQ3BFLDhDQUErQyxDQUFFLFFBQVMsUUFBUyxTQUNuRSxpQkFBa0IsQ0FBRSxRQUFTLFFBQVMsU0FDdEMsK0JBQWdDLENBQUUsVUFBVyxVQUFXLFlBQ3hELDRCQUE2QixDQUFFLFdBQVksV0FBWSxZQUN2RCwrQ0FBZ0QsQ0FBRSxRQUFTLFNBQVUsVUFDckVvZ0IsU0FBUSxDQUFFLE9BQVEsQ0FBRSxTQUFVLFFBQVUsQ0FBRSxTQUFVLFNBQ3BEQyxVQUFTLENBQUUsTUFBTyxRQUFTLFFBQzNCLHdCQUF5QixDQUFFLE9BQVEsT0FBUSxRQUMzQ0MsVUFBUyxDQUFFLE9BQVEsT0FBUSxTQUMzQixpQkFBa0IsQ0FBRSxRQUFTLFFBQVMsU0FDdEMsMkJBQTRCLENBQUUsU0FBVSxTQUFVLFVBQ2xEQyxTQUFRLENBQUUsUUFBUyxRQUFTLFNBQzVCLDREQUE2RCxDQUFFLFNBQVUsU0FBVSxXQUNuRiwwQkFBMkIsQ0FBRSxRQUFTLE9BQVEsV0FDOUMsbUJBQW9CLENBQUUsT0FBUSxPQUFRLFFBQ3RDLDZCQUE4QixDQUFFLE9BQVEsUUFBUyxTQUNqRCxnQ0FBaUMsQ0FBRSxRQUFTLFFBQVMsWSw4WUN4SnZELGFBQ0EsT0FRQSxNQUFhQyxVQUFrQixFQUFBdEksV0FFOUIsb0JBQ0MsTUFBTyxDQUNOLEVBQUF2QyxHQUFHOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O01BaUdMLFNBQVMvSyxHQUNSQSxFQUFFNFAsaUJBQ0YsSUFBSWphLEVBQVV5QyxLQUFLd1YsV0FBVzVYLGNBQWdDLFNBQVN6RSxNQUN2RSxFQUFBc2tCLGtCQUFrQnpkLEtBQUswZCxPQUFRbmdCLEdBQy9CeUMsS0FBS3dWLFdBQVc1WCxjQUFjLFVBQVUrTSxZQUFjLDJCQUN0RDNLLEtBQUt3VixXQUFXNVgsY0FBMkIsU0FBUzhNLE1BQU1pTCxRQUFVLE9BQ3BFM1YsS0FBS3dWLFdBQVc1WCxjQUEyQixjQUFjOE0sTUFBTWlMLFFBQVUsT0FDekUzVixLQUFLd1YsV0FBVzVYLGNBQTJCLFVBQVU4TSxNQUFNaUwsUUFBVSxPQUNyRVcsWUFBVyxXQUNWM1ksU0FBU0ksS0FBS21CLFlBQVl2QixTQUFTQyxjQUFjLGlCQUMvQyxLQUdKLFNBQ0MsT0FBTyxFQUFBc0csSUFBSTttQkFDTzBELElBQ2pCNUgsS0FBSzJkLFNBQVMvVjs7a0JBR0VBLElBQ2hCNUgsS0FBS25DLGlCQUFpQixRQUFTLEtBQzlCRixTQUFTSSxLQUFLbUIsWUFBWXZCLFNBQVNDLGNBQWM7Ozs7Ozs7TUExSHJELGNBc0lBWSxlQUFlbVMsT0FBTyxhQUFjNk0sR0FFcEMscUJBQWdDbmhCLEcseUNBQy9CLE1BQU11aEIsUUFBbUIsSUFBSUosRUFJN0IsT0FIQUksRUFBV0YsT0FBU3JoQixFQUNwQnVoQixFQUFXL0QsR0FBSyxZQUNoQmxjLFNBQVNJLEtBQUtnSSxZQUFZNlgsR0FDbkJBLE8sNGNDdEpSLFFBQ0EsUUFDQSxRQUNBLFFBQ0EsUUFDQSxRQUNBLGFBQzRCLGNBQXRCQyxTQUFTQyxVQUNWLGtCQUFtQkMsV0FDdEI3akIsT0FBTzJELGlCQUFpQixPQUFRLEtBQy9Ca2dCLFVBQVVDLGNBQWNDLFNBQVMsV0FVcEMvakIsT0FBT2drQixPQUFVNVYsS0FHakIsVyxrQ0FDQyxHQUE0QyxPQUF0QzlNLGFBQWFzQyxRQUFRLGFBQXdCLENBQ2xELElBQUk3QyxFQUFTaUMsS0FBS3lPLE1BQU1uUSxhQUFhc0MsUUFBUSxjQUFjMUIsS0FBS0MsVUFDMURuQyxPQUFPQyxTQUFTZ0IsV0FBV0MsSUFBSSxVQUFZSCxHQUFRcUIsS0FBSyxTQUFTUCxNQUFLLFNBQVNRLEdBQ3BGLElBQUlqQixFQUFVaUIsRUFBU0MsT0FBU0QsRUFBU0MsTUFBTWxCLFFBQVcsQ0FBRXNCLEdBQUksRUFBR0MsR0FBSSxFQUFHQyxHQUFJLEVBQUdDLEdBQUksRUFBR0MsR0FBSSxFQUFHQyxJQUFLLEdBQ3BHekIsYUFBYUMsUUFBUSxTQUFVeUIsS0FBS0MsVUFBVSxDQUFFN0IsZUFFdEMsRUFBQW1CLFlBQ1ZTLEtBQUt5TyxNQUFNblEsYUFBYXNDLFFBQVEsY0FBYzFCLEtBQUtNLFlBQ25EUSxLQUFLeU8sTUFBTW5RLGFBQWFzQyxRQUFRLGNBQWMxQixLQUFLTyxNQUNuRE8sS0FBS3lPLE1BQU1uUSxhQUFhc0MsUUFBUSxjQUFjMUIsS0FBS0MsSUFDbkRhLEtBQUt5TyxNQUFNblEsYUFBYXNDLFFBQVEsV0FBV3hDLFlBYjdDNmlCLEssNkJDckJELE9BbU5lLFVBbk5mLFNBQTJCQyxHQUd6QixJQUFJQyxFQUFXLENBQ2JoSCxPQUFRLGtCQUNSaUgsSUFBSyxHQUNMaE8sS0FBTSxFQUNOcUcsU0FBUyxFQUNUeEksTUFBTyxDQUFDLFNBQVUsU0FBVSxXQUFZLFFBQ3hDb1EsT0FBUSxDQUFDLENBQUMsSUFBSSxJQUFJLEtBQUssQ0FBQyxJQUFJLEdBQUcsS0FBSyxDQUFDLEVBQUUsSUFBSSxLQUFLLENBQUMsSUFBSSxJQUFJLE1BQ3pEQyxNQUFPLEdBQ1BDLFNBQVUsS0FDVkMsUUFBUSxFQUNSQyxNQUFPemtCLE9BQU8wa0IsV0FDZEMsT0FBUTNrQixPQUFPNGtCLGFBS2RWLElBQ0VBLEVBQU8vRyxTQUNSZ0gsRUFBU2hILE9BQVMrRyxFQUFPL0csUUFDeEIrRyxFQUFPRSxNQUNSRCxFQUFTQyxJQUFNRixFQUFPRSxLQUNyQkYsRUFBTzlOLE9BQ1IrTixFQUFTL04sS0FBTzhOLEVBQU85TixXQUNIL1IsSUFBbkI2ZixFQUFPekgsU0FBNEMsT0FBbkJ5SCxFQUFPekgsVUFDeEMwSCxFQUFTMUgsUUFBVXlILEVBQU96SCxTQUN6QnlILEVBQU9qUSxRQUNSa1EsRUFBU2xRLE1BQVFpUSxFQUFPalEsT0FDdkJpUSxFQUFPRyxTQUNSRixFQUFTRSxPQUFTSCxFQUFPRyxRQUN4QkgsRUFBT0ksUUFDUkgsRUFBU0csTUFBUUosRUFBT0ksT0FDdkJKLEVBQU9PLFFBQ1JOLEVBQVNNLE1BQVFQLEVBQU9PLE9BQ3ZCUCxFQUFPUyxTQUNSUixFQUFTUSxPQUFTVCxFQUFPUyxhQUNOdGdCLElBQWxCNmYsRUFBT00sUUFBMEMsT0FBbEJOLEVBQU9NLFNBQ3ZDTCxFQUFTSyxPQUFTTixFQUFPTSxTQUs3QixJQUFJSyxFQUFLcGhCLFNBQVNxaEIsZUFBZVgsRUFBU2hILFFBQ3RDNEgsRUFBTUYsRUFBR0csV0FBVyxNQUNwQkMsRUFBWSxHQUloQixTQUFTQyxFQUFLQyxFQUFPeEosR0FDZndKLElBQU9BLEVBQVEsR0FDbkIsSUFBSUQsRUFBTzdmLEtBQUtDLFNBQVc2ZixFQUMzQixPQUFReEosRUFBZXRXLEtBQUtzVyxNQUFNdUosR0FBbEJBLEVBR2xCLElBQUlFLEVBQWNqQixFQUFTbFEsTUFBTXlFLFFBQU8sU0FBUzJNLEVBQVFqVSxHQUN2RCxPQUFPaVUsR0FBVWpVLEVBQUtpVSxRQUFVLEtBQy9CLEdBWUgsU0FBU0MsSUFDUCxJQUFJbFUsRUFBTytTLEVBQVNsUSxNQVp0QixXQUVFLElBREEsSUFBSWlSLEVBQU83ZixLQUFLQyxTQUFXOGYsRUFDbEJwbkIsRUFBSSxFQUFHQSxFQUFJbW1CLEVBQVNsUSxNQUFNdk4sU0FBVTFJLEVBQUcsQ0FDOUMsSUFBSXFuQixFQUFTbEIsRUFBU2xRLE1BQU1qVyxHQUFHcW5CLFFBQVUsRUFDekMsR0FBSUgsRUFBT0csRUFBUSxPQUFPcm5CLEVBQzFCa25CLEdBQVFHLEdBT2dCRSxJQWdCMUIsTUFmUSxDQUNOblUsS0FBTUEsRUFBS3hKLEtBQU93SixFQUFLeEosS0FBT3dKLEVBQzlCb1UsRUFBR04sRUFBS2YsRUFBU00sT0FDakJnQixFQUFHUCxFQUFLZixFQUFTUSxRQUNqQmhILElBQUt2TSxFQUFLdU0sSUFDVitILE9BQVFSLEVBQUssR0FBSyxFQUNsQjlPLEtBQU1oRixFQUFLZ0YsS0FDWG9PLE9BQVFMLEVBQVNLLE9BQ2pCbUIsS0FBTXRnQixLQUFLc1csTUFBTXVKLEVBQUssSUFBTSxJQUM1QlUsT0FBUSxDQUFDVixFQUFLLElBQUksR0FBUSxFQUFHQSxFQUFLLElBQUksR0FBUSxFQUFHQSxFQUFLLElBQUksR0FBUSxFQUFHQSxFQUFLLElBQUksR0FBUSxHQUN0RlcsTUFBTzFCLEVBQVNFLE9BQU9hLEVBQUtmLEVBQVNFLE9BQU8zZCxRQUFRLElBQ3BEb2YsU0FBVVosRUFBSyxLQUFLLEdBQVE3ZixLQUFLMGdCLEdBQUcsSUFDcENDLE1BQU9kLEVBQUtmLEVBQVNHLE1BQVEsR0FBTUgsRUFBU0csTUFBUSxJQVF4RCxTQUFTMkIsRUFBYW5tQixHQUNwQixJQUFJb21CLEVBQU1wbUIsRUFBRTRsQixRQUFVLEVBQUssR0FBTSxHQUtqQyxPQUhBWCxFQUFJb0IsVUFBWXBCLEVBQUlxQixZQUFjLFFBQVV0bUIsRUFBRStsQixNQUFRLEtBQU1LLEVBQUksSUFDaEVuQixFQUFJc0IsWUFFR3ZtQixFQUFFc1IsTUFDUCxJQUFLLFNBQ0gyVCxFQUFJdUIsT0FBT3htQixFQUFFMGxCLEVBQUcxbEIsRUFBRTJsQixHQUNsQlYsRUFBSXdCLElBQUl6bUIsRUFBRTBsQixFQUFHMWxCLEVBQUUybEIsRUFBRzNsQixFQUFFNGxCLE9BQVN2QixFQUFTL04sS0FBTSxFQUFhLEVBQVYvUSxLQUFLMGdCLElBQVEsR0FDNURoQixFQUFJeUIsT0FDSixNQUVGLElBQUssV0FDSHpCLEVBQUl1QixPQUFPeG1CLEVBQUUwbEIsRUFBRzFsQixFQUFFMmxCLEdBQ2xCVixFQUFJMEIsT0FBTzNtQixFQUFFMGxCLEVBQUsxbEIsRUFBRThsQixPQUFPLEdBQUt6QixFQUFTL04sS0FBT3RXLEVBQUUybEIsRUFBSzNsQixFQUFFOGxCLE9BQU8sR0FBS3pCLEVBQVMvTixNQUM5RTJPLEVBQUkwQixPQUFPM21CLEVBQUUwbEIsRUFBSzFsQixFQUFFOGxCLE9BQU8sR0FBS3pCLEVBQVMvTixLQUFPdFcsRUFBRTJsQixFQUFLM2xCLEVBQUU4bEIsT0FBTyxHQUFLekIsRUFBUy9OLE1BQzlFMk8sRUFBSTJCLFlBQ0ozQixFQUFJeUIsT0FDSixNQUVGLElBQUssT0FDSHpCLEVBQUl1QixPQUFPeG1CLEVBQUUwbEIsRUFBRzFsQixFQUFFMmxCLEdBQ2xCVixFQUFJMEIsT0FBTzNtQixFQUFFMGxCLEVBQUsxbEIsRUFBRTZsQixLQUFPeEIsRUFBUy9OLEtBQU90VyxFQUFFMmxCLEVBQWdCLEVBQVgzbEIsRUFBRTRsQixRQUNwRFgsRUFBSTRCLFVBQVksRUFBSXhDLEVBQVMvTixLQUM3QjJPLEVBQUk2QixTQUNKLE1BRUYsSUFBSyxTQUNIN0IsRUFBSThCLE9BQ0o5QixFQUFJK0IsVUFBVWhuQixFQUFFMGxCLEVBQUUsR0FBSTFsQixFQUFFMmxCLEVBQUUsR0FDMUJWLEVBQUlQLE9BQU8xa0IsRUFBRWdtQixVQUNiZixFQUFJZ0MsVUFBVSxHQUFLNUMsRUFBUy9OLE1BQU0sRUFBSStOLEVBQVMvTixLQUFLLEdBQUsrTixFQUFTL04sS0FBSyxFQUFJK04sRUFBUy9OLE1BQ3BGMk8sRUFBSWlDLFVBQ0osTUFFRixJQUFLLE1BQ0hqQyxFQUFJOEIsT0FDSixJQUFJSSxFQUFRLElBQUlDLE1BQ2hCRCxFQUFNdEosSUFBTTdkLEVBQUU2ZCxJQUNkLElBQUl2SCxFQUFPdFcsRUFBRXNXLE1BQVEsR0FDckIyTyxFQUFJK0IsVUFBVWhuQixFQUFFMGxCLEVBQUlwUCxFQUFPLEVBQUd0VyxFQUFFMmxCLEVBQUlyUCxFQUFPLEdBQ3hDdFcsRUFBRTBrQixRQUNITyxFQUFJUCxPQUFPMWtCLEVBQUVnbUIsVUFDZmYsRUFBSW9DLFVBQVVGLEdBQVM3USxFQUFLLEVBQUsrTixFQUFTL04sTUFBUUEsRUFBSyxFQUFLK04sRUFBUy9OLEtBQU1BLEVBQU8rTixFQUFTL04sS0FBTUEsRUFBTytOLEVBQVMvTixNQUNqSDJPLEVBQUlpQyxXQW9FVixNQUFPLENBQ0wxTSxPQTNDWSxXQUVWdUssRUFBR0osTUFBUU4sRUFBU00sTUFDcEJJLEVBQUdGLE9BQVNSLEVBQVNRLE9BQ3JCTSxFQUFZLEdBRVosSUFBSSxJQUFJam5CLEVBQUksRUFBR0EsRUFBSW1tQixFQUFTQyxJQUFLcG1CLElBQy9CaW5CLEVBQVV6aEIsS0FBSzhoQixLQWdDakIsT0FBTy9JLHVCQTlCUCxTQUFTNkssSUFHUCxJQUFJLElBQUlwcEIsS0FGUittQixFQUFJc0MsVUFBVSxFQUFHLEVBQUdsRCxFQUFTTSxNQUFPTixFQUFTUSxRQUVoQ00sRUFDWGdCLEVBQWFoQixFQUFVam5CLEtBUTNCLFdBRUUsSUFBSyxJQUFJQSxFQUFJLEVBQUdBLEVBQUltbUIsRUFBU0MsSUFBS3BtQixJQUFLLENBQ3JDLElBQUk4QixFQUFJbWxCLEVBQVVqbkIsR0FDZm1tQixFQUFTMUgsVUFDVjNjLEVBQUUybEIsR0FBSzNsQixFQUFFa21CLE9BRVBsbUIsRUFBRTBrQixTQUNKMWtCLEVBQUVnbUIsVUFBWWhtQixFQUFFa21CLE1BQVEsS0FFckJsbUIsRUFBRWttQixPQUFTLEdBQUtsbUIsRUFBRTJsQixFQUFJdEIsRUFBU1EsUUFBWTdrQixFQUFFa21CLE1BQVEsR0FBS2xtQixFQUFFMmxCLEVBQUksS0FDbkVSLEVBQVVqbkIsR0FBSzhCLEVBQ2ZtbEIsRUFBVWpuQixHQUFHd25CLEVBQUlOLEVBQUtmLEVBQVNNLE9BQU8sR0FDdENRLEVBQVVqbkIsR0FBR3luQixFQUFJM2xCLEVBQUVrbUIsT0FBUyxHQUFLLEdBQUtzQixXQUFXbkQsRUFBU1EsVUFuQjlEblksR0FHRzJYLEVBQVMxSCxTQUFTRixzQkFBc0I2SyxPQTBCL0MvYSxNQTFEVyxXQUNYOFgsRUFBUzFILFNBQVUsRUFDbkI4SyxjQUFjcEQsRUFBU0ksVUFFdkJoSSx1QkFBc0IsV0FDckJ3SSxFQUFJc0MsVUFBVSxFQUFHLEVBQUd4QyxFQUFHSixNQUFPSSxFQUFHRixRQUNoQyxJQUFJNkMsRUFBSTNDLEVBQUdKLE1BQ1hJLEVBQUdKLE1BQVEsRUFDWEksRUFBR0osTUFBUStDLFMsOEVDN0pqQixhQUNBLE9BUUEsTUFBYUMsVUFBb0IsRUFBQXpNLFdBQ2hDLHdCQUNDLE1BQU8sQ0FDTjBNLFNBQVUsQ0FDVDlmLEtBQU14QyxPQUNOMk0sU0FBUyxHQUVWNFYsVUFBVyxDQUNWL2YsS0FBTXhDLE9BQ04yTSxTQUFTLEdBRVZ3SixnQkFBaUIsQ0FDaEIzVCxLQUFNbEosT0FDTm1ULFVBQVcsa0JBQ1hFLFNBQVMsSUFRWixvQkFDQyxNQUFPLENBQ04sRUFBQTBHLEdBQUc7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztNQTJFTCxTQUNDM1MsS0FBS3FaLGNBQWMsSUFBSUMsWUFBWSxTQUFVLENBQUVDLFNBQVMsRUFBTUMsVUFBVSxLQUN4RXhaLEtBQUtxVyxnQkFHTixTQUNDLE9BQU8sRUFBQW5TLElBQUk7UUFDTGxFLEtBQUs0aEI7T0FDTjVoQixLQUFLNmhCOztzQkFFV2phLElBQ3JCNUgsS0FBS3FaLGNBQ0osSUFBSUMsWUFBWSxnQkFBaUIsQ0FDaENDLFNBQVMsRUFDVEMsVUFBVSxFQUNWakIsT0FBUSxDQUFFeEssU0FBVSxJQUFNL04sS0FBS3dWLFdBQVc1WCxjQUFnQyxXQUFXekUsd0JBR3hFeU8sSUFDZDVILEtBQUtxWixjQUNKLElBQUlDLFlBQVksZ0JBQWlCLENBQ2hDQyxTQUFTLEVBQ1RDLFVBQVUsRUFDVmpCLE9BQVEsQ0FBRXhCLFNBQVUsSUFBTS9XLEtBQUt3VixXQUFXNVgsY0FBZ0MsV0FBV3pFO01BSXBGUCxPQUFPZ2QsUUFBUTVWLEtBQUt5VixpQkFBaUIzQixJQUFJLEVBQUdrRCxFQUFPMWIsS0FDaEQsRUFBQTRJLElBQUk7bUJBQ004UyxNQUFtQixPQUFUQSxFQUFpQixVQUFVQSxLQUFXLGlDQUFpQzFiOzs7YUFJdEZzTSxJQUNELEVBQUFrYSxVQUFVOWhCLEtBQUswZDswQkFFRjFkLEtBQUsraEI7O09BdkkvQixnQkE0SUF2akIsZUFBZW1TLE9BQU8sZUFBZ0JnUiIsImZpbGUiOiJtYWluLmJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSA2KTtcbiIsImltcG9ydCB7IHNob3dUaGVHYW1lIH0gZnJvbSAnLi9lbmdsaXNoJztcclxuaW1wb3J0IHsgc2hvd0xvZyB9IGZyb20gJy4vbG9nLXNjcmVlbic7XHJcbmRlY2xhcmUgZ2xvYmFsIHtcclxuXHRpbnRlcmZhY2UgV2luZG93IHtcclxuXHRcdGZpcmViYXNlOiBhbnk7XHJcblx0fVxyXG59XHJcbnR5cGUgUG9pbnRDb2xsZWN0aW9uID0geyBba2V5OiBzdHJpbmddOiBudW1iZXIgfTtcclxuLy8gWW91ciB3ZWIgYXBwJ3MgRmlyZWJhc2UgY29uZmlndXJhdGlvblxyXG52YXIgZmlyZWJhc2VDb25maWcgPSB7XHJcblx0YXBpS2V5OiAnQUl6YVN5QzRQS2xWVFZXcFFiTjQ0NTl3OVFmTy1xM1RhM1N6b1pzJyxcclxuXHRhdXRoRG9tYWluOiAnZW5nbGlzaC12ZXJicy1nYW1lLmZpcmViYXNlYXBwLmNvbScsXHJcblx0ZGF0YWJhc2VVUkw6ICdodHRwczovL2VuZ2xpc2gtdmVyYnMtZ2FtZS5maXJlYmFzZWlvLmNvbScsXHJcblx0cHJvamVjdElkOiAnZW5nbGlzaC12ZXJicy1nYW1lJyxcclxuXHRzdG9yYWdlQnVja2V0OiAnZW5nbGlzaC12ZXJicy1nYW1lLmFwcHNwb3QuY29tJyxcclxuXHRtZXNzYWdpbmdTZW5kZXJJZDogJzg3ODY0MjYwNzAzOScsXHJcblx0YXBwSWQ6ICcxOjg3ODY0MjYwNzAzOTp3ZWI6ZTFkMGM1YTFjNmQ3OGMyMGU4NjcwYScsXHJcblx0bWVhc3VyZW1lbnRJZDogJ0ctTlo1VjVCWkRYSCdcclxufTtcclxuLy8gSW5pdGlhbGl6ZSBGaXJlYmFzZVxyXG53aW5kb3cuZmlyZWJhc2UuaW5pdGlhbGl6ZUFwcChmaXJlYmFzZUNvbmZpZyk7XHJcbnZhciBwcm92aWRlciA9IG5ldyB3aW5kb3cuZmlyZWJhc2UuYXV0aC5Hb29nbGVBdXRoUHJvdmlkZXIoKTtcclxucHJvdmlkZXIuc2V0Q3VzdG9tUGFyYW1ldGVycyh7XHJcblx0cHJvbXB0OiAnc2VsZWN0X2FjY291bnQnXHJcbn0pO1xyXG53aW5kb3cuZmlyZWJhc2UuYXV0aCgpLmxhbmd1YWdlQ29kZSA9ICdwbCc7XHJcbndpbmRvdy5maXJlYmFzZVxyXG5cdC5hdXRoKClcclxuXHQuZ2V0UmVkaXJlY3RSZXN1bHQoKVxyXG5cdC50aGVuKGZ1bmN0aW9uKHJlc3VsdDogYW55KSB7XHJcblx0XHRpZiAocmVzdWx0LmNyZWRlbnRpYWwpIHtcclxuXHRcdFx0Y29uc29sZS5sb2coJ2xvZ2dlZCcpO1xyXG5cdFx0XHRsZXQgdXNlciA9IHJlc3VsdC51c2VyO1xyXG5cdFx0XHRsZXQgcG9pbnRzOiBQb2ludENvbGxlY3Rpb247XHJcblx0XHRcdHdpbmRvdy5maXJlYmFzZS5kYXRhYmFzZSgpLnJlZignL3VzZXJzLycgKyB1c2VyLnVpZCkub25jZSgndmFsdWUnKS50aGVuKGZ1bmN0aW9uKHNuYXBzaG90OiBhbnkpIHtcclxuXHRcdFx0XHRpZiAoIShzbmFwc2hvdC52YWwoKSA9PT0gbnVsbCkpIHtcclxuXHRcdFx0XHRcdHBvaW50cyA9IHNuYXBzaG90LnZhbCgpLnBvaW50cztcclxuXHJcblx0XHRcdFx0XHRsZXQgZ2FtZSA9IHNob3dUaGVHYW1lKHVzZXIuZGlzcGxheU5hbWUsIHVzZXIuZW1haWwsIHVzZXIudWlkLCBwb2ludHMsICdXaXRhaiBwb25vd25pZScpO1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRwb2ludHMgPSB7XHJcblx0XHRcdFx0XHRcdEEyOiAwLFxyXG5cdFx0XHRcdFx0XHRCMTogMCxcclxuXHRcdFx0XHRcdFx0QjI6IDAsXHJcblx0XHRcdFx0XHRcdEMxOiAwLFxyXG5cdFx0XHRcdFx0XHRDMjogMCxcclxuXHRcdFx0XHRcdFx0QWxsOiAwXHJcblx0XHRcdFx0XHR9O1xyXG5cdFx0XHRcdFx0d3JpdGVVc2VyRGF0YSh1c2VyLnVpZCwgcG9pbnRzLCB1c2VyLmRpc3BsYXlOYW1lKTtcclxuXHRcdFx0XHRcdGxldCBnYW1lID0gc2hvd1RoZUdhbWUodXNlci5kaXNwbGF5TmFtZSwgdXNlci5lbWFpbCwgdXNlci51aWQsIHBvaW50cywgJ0R6acSZa3VqZW15IHphIHJlamVzdHJhY2rEmScpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndXNlci1pbmZvJywgSlNPTi5zdHJpbmdpZnkoeyB1c2VyIH0pKTtcclxuXHRcdFx0XHRsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgncG9pbnRzJywgSlNPTi5zdHJpbmdpZnkoeyBwb2ludHMgfSkpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBSZW1vdmUgaXNSZWRpcmVjdGluZyBmcm9tIGxvY2Fsc3RvcmFnZVxyXG5cdH0pXHJcblx0LmNhdGNoKGZ1bmN0aW9uKGVycm9yOiBFcnJvcikge1xyXG5cdFx0dmFyIGVycm9yTWVzc2FnZSA9IGVycm9yLm1lc3NhZ2U7XHJcblx0XHRjb25zb2xlLmxvZyhlcnJvck1lc3NhZ2UpO1xyXG5cdFx0bGV0IHNob3dsb2cgPSBzaG93TG9nKCdDb8WbIHBvc3rFgm8gbmllIHRhaycsICdTcHLDs2J1aiBwb25vd25pZSB6YSBraWxrYSBtaW51dCcsIGZhbHNlLCB0cnVlKTtcclxuXHR9KTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiB3cml0ZVVzZXJEYXRhKHVzZXJJZDogbnVtYmVyLCBwb2ludGNvbGxlY3Rpb246IFBvaW50Q29sbGVjdGlvbiwgbmFtZTogc3RyaW5nKSB7XHJcblx0d2luZG93LmZpcmViYXNlLmRhdGFiYXNlKCkucmVmKCd1c2Vycy8nICsgdXNlcklkKS5zZXQoe1xyXG5cdFx0cG9pbnRzOiBwb2ludGNvbGxlY3Rpb24sXHJcblx0XHRuYW1lOiBuYW1lXHJcblx0fSk7XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIHJlcG9ydEJ1Z1RvU2VydmVyKHVzZXJJZDogbnVtYmVyLCBidWdNZXNzYWdlOiBzdHJpbmcpIHtcclxuXHRjb25zb2xlLmxvZyhidWdNZXNzYWdlKTtcclxuXHR3aW5kb3cuZmlyZWJhc2UuZGF0YWJhc2UoKS5yZWYoJ3VzZXJzLycgKyB1c2VySWQpLnB1c2goYnVnTWVzc2FnZSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiByZWRpcmVjdGluZ1NpZ25VcCgpIHtcclxuXHRsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnaXNSZWRpcmVjdGluZycsICcnKTtcclxuXHR3aW5kb3cuZmlyZWJhc2UuYXV0aCgpLnNpZ25JbldpdGhSZWRpcmVjdChwcm92aWRlcik7XHJcbn1cclxuXHJcbmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNub3dla29udG8nKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHJlZGlyZWN0aW5nU2lnblVwKTtcclxuZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3phbG9ndWonKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHJlZGlyZWN0aW5nU2lnblVwKTtcclxuXHJcbi8vIENoZWNrIHdoZXRoZXIgd2UgYXJlIHJlZGlyZWN0aW5nLiBJZiB3ZSBhcmUsIHdlIGFscmVhZHkgbm93IG1hcmsgdGhlIHBhZ2UgYXMgcmVhZHkuXHJcbmlmIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnaXNSZWRpcmVjdGluZycpID09IG51bGwpIHtcclxuXHRkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoJ3JlYWR5Jyk7XHJcbn1cclxuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIFRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbiAqIENvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG4gKiBzdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiAqL1xuY29uc3QgZGlyZWN0aXZlcyA9IG5ldyBXZWFrTWFwKCk7XG4vKipcbiAqIEJyYW5kcyBhIGZ1bmN0aW9uIGFzIGEgZGlyZWN0aXZlIGZhY3RvcnkgZnVuY3Rpb24gc28gdGhhdCBsaXQtaHRtbCB3aWxsIGNhbGxcbiAqIHRoZSBmdW5jdGlvbiBkdXJpbmcgdGVtcGxhdGUgcmVuZGVyaW5nLCByYXRoZXIgdGhhbiBwYXNzaW5nIGFzIGEgdmFsdWUuXG4gKlxuICogQSBfZGlyZWN0aXZlXyBpcyBhIGZ1bmN0aW9uIHRoYXQgdGFrZXMgYSBQYXJ0IGFzIGFuIGFyZ3VtZW50LiBJdCBoYXMgdGhlXG4gKiBzaWduYXR1cmU6IGAocGFydDogUGFydCkgPT4gdm9pZGAuXG4gKlxuICogQSBkaXJlY3RpdmUgX2ZhY3RvcnlfIGlzIGEgZnVuY3Rpb24gdGhhdCB0YWtlcyBhcmd1bWVudHMgZm9yIGRhdGEgYW5kXG4gKiBjb25maWd1cmF0aW9uIGFuZCByZXR1cm5zIGEgZGlyZWN0aXZlLiBVc2VycyBvZiBkaXJlY3RpdmUgdXN1YWxseSByZWZlciB0b1xuICogdGhlIGRpcmVjdGl2ZSBmYWN0b3J5IGFzIHRoZSBkaXJlY3RpdmUuIEZvciBleGFtcGxlLCBcIlRoZSByZXBlYXQgZGlyZWN0aXZlXCIuXG4gKlxuICogVXN1YWxseSBhIHRlbXBsYXRlIGF1dGhvciB3aWxsIGludm9rZSBhIGRpcmVjdGl2ZSBmYWN0b3J5IGluIHRoZWlyIHRlbXBsYXRlXG4gKiB3aXRoIHJlbGV2YW50IGFyZ3VtZW50cywgd2hpY2ggd2lsbCB0aGVuIHJldHVybiBhIGRpcmVjdGl2ZSBmdW5jdGlvbi5cbiAqXG4gKiBIZXJlJ3MgYW4gZXhhbXBsZSBvZiB1c2luZyB0aGUgYHJlcGVhdCgpYCBkaXJlY3RpdmUgZmFjdG9yeSB0aGF0IHRha2VzIGFuXG4gKiBhcnJheSBhbmQgYSBmdW5jdGlvbiB0byByZW5kZXIgYW4gaXRlbTpcbiAqXG4gKiBgYGBqc1xuICogaHRtbGA8dWw+PCR7cmVwZWF0KGl0ZW1zLCAoaXRlbSkgPT4gaHRtbGA8bGk+JHtpdGVtfTwvbGk+YCl9PC91bD5gXG4gKiBgYGBcbiAqXG4gKiBXaGVuIGByZXBlYXRgIGlzIGludm9rZWQsIGl0IHJldHVybnMgYSBkaXJlY3RpdmUgZnVuY3Rpb24gdGhhdCBjbG9zZXMgb3ZlclxuICogYGl0ZW1zYCBhbmQgdGhlIHRlbXBsYXRlIGZ1bmN0aW9uLiBXaGVuIHRoZSBvdXRlciB0ZW1wbGF0ZSBpcyByZW5kZXJlZCwgdGhlXG4gKiByZXR1cm4gZGlyZWN0aXZlIGZ1bmN0aW9uIGlzIGNhbGxlZCB3aXRoIHRoZSBQYXJ0IGZvciB0aGUgZXhwcmVzc2lvbi5cbiAqIGByZXBlYXRgIHRoZW4gcGVyZm9ybXMgaXQncyBjdXN0b20gbG9naWMgdG8gcmVuZGVyIG11bHRpcGxlIGl0ZW1zLlxuICpcbiAqIEBwYXJhbSBmIFRoZSBkaXJlY3RpdmUgZmFjdG9yeSBmdW5jdGlvbi4gTXVzdCBiZSBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhXG4gKiBmdW5jdGlvbiBvZiB0aGUgc2lnbmF0dXJlIGAocGFydDogUGFydCkgPT4gdm9pZGAuIFRoZSByZXR1cm5lZCBmdW5jdGlvbiB3aWxsXG4gKiBiZSBjYWxsZWQgd2l0aCB0aGUgcGFydCBvYmplY3QuXG4gKlxuICogQGV4YW1wbGVcbiAqXG4gKiBpbXBvcnQge2RpcmVjdGl2ZSwgaHRtbH0gZnJvbSAnbGl0LWh0bWwnO1xuICpcbiAqIGNvbnN0IGltbXV0YWJsZSA9IGRpcmVjdGl2ZSgodikgPT4gKHBhcnQpID0+IHtcbiAqICAgaWYgKHBhcnQudmFsdWUgIT09IHYpIHtcbiAqICAgICBwYXJ0LnNldFZhbHVlKHYpXG4gKiAgIH1cbiAqIH0pO1xuICovXG5leHBvcnQgY29uc3QgZGlyZWN0aXZlID0gKGYpID0+ICgoLi4uYXJncykgPT4ge1xuICAgIGNvbnN0IGQgPSBmKC4uLmFyZ3MpO1xuICAgIGRpcmVjdGl2ZXMuc2V0KGQsIHRydWUpO1xuICAgIHJldHVybiBkO1xufSk7XG5leHBvcnQgY29uc3QgaXNEaXJlY3RpdmUgPSAobykgPT4ge1xuICAgIHJldHVybiB0eXBlb2YgbyA9PT0gJ2Z1bmN0aW9uJyAmJiBkaXJlY3RpdmVzLmhhcyhvKTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kaXJlY3RpdmUuanMubWFwIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIFRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbiAqIENvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG4gKiBzdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiAqL1xuLyoqXG4gKiBUcnVlIGlmIHRoZSBjdXN0b20gZWxlbWVudHMgcG9seWZpbGwgaXMgaW4gdXNlLlxuICovXG5leHBvcnQgY29uc3QgaXNDRVBvbHlmaWxsID0gd2luZG93LmN1c3RvbUVsZW1lbnRzICE9PSB1bmRlZmluZWQgJiZcbiAgICB3aW5kb3cuY3VzdG9tRWxlbWVudHMucG9seWZpbGxXcmFwRmx1c2hDYWxsYmFjayAhPT1cbiAgICAgICAgdW5kZWZpbmVkO1xuLyoqXG4gKiBSZXBhcmVudHMgbm9kZXMsIHN0YXJ0aW5nIGZyb20gYHN0YXJ0YCAoaW5jbHVzaXZlKSB0byBgZW5kYCAoZXhjbHVzaXZlKSxcbiAqIGludG8gYW5vdGhlciBjb250YWluZXIgKGNvdWxkIGJlIHRoZSBzYW1lIGNvbnRhaW5lciksIGJlZm9yZSBgYmVmb3JlYC4gSWZcbiAqIGBiZWZvcmVgIGlzIG51bGwsIGl0IGFwcGVuZHMgdGhlIG5vZGVzIHRvIHRoZSBjb250YWluZXIuXG4gKi9cbmV4cG9ydCBjb25zdCByZXBhcmVudE5vZGVzID0gKGNvbnRhaW5lciwgc3RhcnQsIGVuZCA9IG51bGwsIGJlZm9yZSA9IG51bGwpID0+IHtcbiAgICB3aGlsZSAoc3RhcnQgIT09IGVuZCkge1xuICAgICAgICBjb25zdCBuID0gc3RhcnQubmV4dFNpYmxpbmc7XG4gICAgICAgIGNvbnRhaW5lci5pbnNlcnRCZWZvcmUoc3RhcnQsIGJlZm9yZSk7XG4gICAgICAgIHN0YXJ0ID0gbjtcbiAgICB9XG59O1xuLyoqXG4gKiBSZW1vdmVzIG5vZGVzLCBzdGFydGluZyBmcm9tIGBzdGFydGAgKGluY2x1c2l2ZSkgdG8gYGVuZGAgKGV4Y2x1c2l2ZSksIGZyb21cbiAqIGBjb250YWluZXJgLlxuICovXG5leHBvcnQgY29uc3QgcmVtb3ZlTm9kZXMgPSAoY29udGFpbmVyLCBzdGFydCwgZW5kID0gbnVsbCkgPT4ge1xuICAgIHdoaWxlIChzdGFydCAhPT0gZW5kKSB7XG4gICAgICAgIGNvbnN0IG4gPSBzdGFydC5uZXh0U2libGluZztcbiAgICAgICAgY29udGFpbmVyLnJlbW92ZUNoaWxkKHN0YXJ0KTtcbiAgICAgICAgc3RhcnQgPSBuO1xuICAgIH1cbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kb20uanMubWFwIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IChjKSAyMDE4IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIFRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbiAqIENvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG4gKiBzdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiAqL1xuLyoqXG4gKiBBIHNlbnRpbmVsIHZhbHVlIHRoYXQgc2lnbmFscyB0aGF0IGEgdmFsdWUgd2FzIGhhbmRsZWQgYnkgYSBkaXJlY3RpdmUgYW5kXG4gKiBzaG91bGQgbm90IGJlIHdyaXR0ZW4gdG8gdGhlIERPTS5cbiAqL1xuZXhwb3J0IGNvbnN0IG5vQ2hhbmdlID0ge307XG4vKipcbiAqIEEgc2VudGluZWwgdmFsdWUgdGhhdCBzaWduYWxzIGEgTm9kZVBhcnQgdG8gZnVsbHkgY2xlYXIgaXRzIGNvbnRlbnQuXG4gKi9cbmV4cG9ydCBjb25zdCBub3RoaW5nID0ge307XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYXJ0LmpzLm1hcCIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBUaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG4gKiBDb2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuICogc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4gKi9cbi8qKlxuICogQW4gZXhwcmVzc2lvbiBtYXJrZXIgd2l0aCBlbWJlZGRlZCB1bmlxdWUga2V5IHRvIGF2b2lkIGNvbGxpc2lvbiB3aXRoXG4gKiBwb3NzaWJsZSB0ZXh0IGluIHRlbXBsYXRlcy5cbiAqL1xuZXhwb3J0IGNvbnN0IG1hcmtlciA9IGB7e2xpdC0ke1N0cmluZyhNYXRoLnJhbmRvbSgpKS5zbGljZSgyKX19fWA7XG4vKipcbiAqIEFuIGV4cHJlc3Npb24gbWFya2VyIHVzZWQgdGV4dC1wb3NpdGlvbnMsIG11bHRpLWJpbmRpbmcgYXR0cmlidXRlcywgYW5kXG4gKiBhdHRyaWJ1dGVzIHdpdGggbWFya3VwLWxpa2UgdGV4dCB2YWx1ZXMuXG4gKi9cbmV4cG9ydCBjb25zdCBub2RlTWFya2VyID0gYDwhLS0ke21hcmtlcn0tLT5gO1xuZXhwb3J0IGNvbnN0IG1hcmtlclJlZ2V4ID0gbmV3IFJlZ0V4cChgJHttYXJrZXJ9fCR7bm9kZU1hcmtlcn1gKTtcbi8qKlxuICogU3VmZml4IGFwcGVuZGVkIHRvIGFsbCBib3VuZCBhdHRyaWJ1dGUgbmFtZXMuXG4gKi9cbmV4cG9ydCBjb25zdCBib3VuZEF0dHJpYnV0ZVN1ZmZpeCA9ICckbGl0JCc7XG4vKipcbiAqIEFuIHVwZGF0ZWFibGUgVGVtcGxhdGUgdGhhdCB0cmFja3MgdGhlIGxvY2F0aW9uIG9mIGR5bmFtaWMgcGFydHMuXG4gKi9cbmV4cG9ydCBjbGFzcyBUZW1wbGF0ZSB7XG4gICAgY29uc3RydWN0b3IocmVzdWx0LCBlbGVtZW50KSB7XG4gICAgICAgIHRoaXMucGFydHMgPSBbXTtcbiAgICAgICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcbiAgICAgICAgY29uc3Qgbm9kZXNUb1JlbW92ZSA9IFtdO1xuICAgICAgICBjb25zdCBzdGFjayA9IFtdO1xuICAgICAgICAvLyBFZGdlIG5lZWRzIGFsbCA0IHBhcmFtZXRlcnMgcHJlc2VudDsgSUUxMSBuZWVkcyAzcmQgcGFyYW1ldGVyIHRvIGJlIG51bGxcbiAgICAgICAgY29uc3Qgd2Fsa2VyID0gZG9jdW1lbnQuY3JlYXRlVHJlZVdhbGtlcihlbGVtZW50LmNvbnRlbnQsIDEzMyAvKiBOb2RlRmlsdGVyLlNIT1dfe0VMRU1FTlR8Q09NTUVOVHxURVhUfSAqLywgbnVsbCwgZmFsc2UpO1xuICAgICAgICAvLyBLZWVwcyB0cmFjayBvZiB0aGUgbGFzdCBpbmRleCBhc3NvY2lhdGVkIHdpdGggYSBwYXJ0LiBXZSB0cnkgdG8gZGVsZXRlXG4gICAgICAgIC8vIHVubmVjZXNzYXJ5IG5vZGVzLCBidXQgd2UgbmV2ZXIgd2FudCB0byBhc3NvY2lhdGUgdHdvIGRpZmZlcmVudCBwYXJ0c1xuICAgICAgICAvLyB0byB0aGUgc2FtZSBpbmRleC4gVGhleSBtdXN0IGhhdmUgYSBjb25zdGFudCBub2RlIGJldHdlZW4uXG4gICAgICAgIGxldCBsYXN0UGFydEluZGV4ID0gMDtcbiAgICAgICAgbGV0IGluZGV4ID0gLTE7XG4gICAgICAgIGxldCBwYXJ0SW5kZXggPSAwO1xuICAgICAgICBjb25zdCB7IHN0cmluZ3MsIHZhbHVlczogeyBsZW5ndGggfSB9ID0gcmVzdWx0O1xuICAgICAgICB3aGlsZSAocGFydEluZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgICAgICBjb25zdCBub2RlID0gd2Fsa2VyLm5leHROb2RlKCk7XG4gICAgICAgICAgICBpZiAobm9kZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIC8vIFdlJ3ZlIGV4aGF1c3RlZCB0aGUgY29udGVudCBpbnNpZGUgYSBuZXN0ZWQgdGVtcGxhdGUgZWxlbWVudC5cbiAgICAgICAgICAgICAgICAvLyBCZWNhdXNlIHdlIHN0aWxsIGhhdmUgcGFydHMgKHRoZSBvdXRlciBmb3ItbG9vcCksIHdlIGtub3c6XG4gICAgICAgICAgICAgICAgLy8gLSBUaGVyZSBpcyBhIHRlbXBsYXRlIGluIHRoZSBzdGFja1xuICAgICAgICAgICAgICAgIC8vIC0gVGhlIHdhbGtlciB3aWxsIGZpbmQgYSBuZXh0Tm9kZSBvdXRzaWRlIHRoZSB0ZW1wbGF0ZVxuICAgICAgICAgICAgICAgIHdhbGtlci5jdXJyZW50Tm9kZSA9IHN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaW5kZXgrKztcbiAgICAgICAgICAgIGlmIChub2RlLm5vZGVUeXBlID09PSAxIC8qIE5vZGUuRUxFTUVOVF9OT0RFICovKSB7XG4gICAgICAgICAgICAgICAgaWYgKG5vZGUuaGFzQXR0cmlidXRlcygpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGF0dHJpYnV0ZXMgPSBub2RlLmF0dHJpYnV0ZXM7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgbGVuZ3RoIH0gPSBhdHRyaWJ1dGVzO1xuICAgICAgICAgICAgICAgICAgICAvLyBQZXJcbiAgICAgICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL05hbWVkTm9kZU1hcCxcbiAgICAgICAgICAgICAgICAgICAgLy8gYXR0cmlidXRlcyBhcmUgbm90IGd1YXJhbnRlZWQgdG8gYmUgcmV0dXJuZWQgaW4gZG9jdW1lbnQgb3JkZXIuXG4gICAgICAgICAgICAgICAgICAgIC8vIEluIHBhcnRpY3VsYXIsIEVkZ2UvSUUgY2FuIHJldHVybiB0aGVtIG91dCBvZiBvcmRlciwgc28gd2UgY2Fubm90XG4gICAgICAgICAgICAgICAgICAgIC8vIGFzc3VtZSBhIGNvcnJlc3BvbmRlbmNlIGJldHdlZW4gcGFydCBpbmRleCBhbmQgYXR0cmlidXRlIGluZGV4LlxuICAgICAgICAgICAgICAgICAgICBsZXQgY291bnQgPSAwO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZW5kc1dpdGgoYXR0cmlidXRlc1tpXS5uYW1lLCBib3VuZEF0dHJpYnV0ZVN1ZmZpeCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3VudCsrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHdoaWxlIChjb3VudC0tID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gR2V0IHRoZSB0ZW1wbGF0ZSBsaXRlcmFsIHNlY3Rpb24gbGVhZGluZyB1cCB0byB0aGUgZmlyc3RcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGV4cHJlc3Npb24gaW4gdGhpcyBhdHRyaWJ1dGVcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0cmluZ0ZvclBhcnQgPSBzdHJpbmdzW3BhcnRJbmRleF07XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBGaW5kIHRoZSBhdHRyaWJ1dGUgbmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmFtZSA9IGxhc3RBdHRyaWJ1dGVOYW1lUmVnZXguZXhlYyhzdHJpbmdGb3JQYXJ0KVsyXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZpbmQgdGhlIGNvcnJlc3BvbmRpbmcgYXR0cmlidXRlXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBBbGwgYm91bmQgYXR0cmlidXRlcyBoYXZlIGhhZCBhIHN1ZmZpeCBhZGRlZCBpblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGVtcGxhdGVSZXN1bHQjZ2V0SFRNTCB0byBvcHQgb3V0IG9mIHNwZWNpYWwgYXR0cmlidXRlXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBoYW5kbGluZy4gVG8gbG9vayB1cCB0aGUgYXR0cmlidXRlIHZhbHVlIHdlIGFsc28gbmVlZCB0byBhZGRcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoZSBzdWZmaXguXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhdHRyaWJ1dGVMb29rdXBOYW1lID0gbmFtZS50b0xvd2VyQ2FzZSgpICsgYm91bmRBdHRyaWJ1dGVTdWZmaXg7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhdHRyaWJ1dGVWYWx1ZSA9IG5vZGUuZ2V0QXR0cmlidXRlKGF0dHJpYnV0ZUxvb2t1cE5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5yZW1vdmVBdHRyaWJ1dGUoYXR0cmlidXRlTG9va3VwTmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzdGF0aWNzID0gYXR0cmlidXRlVmFsdWUuc3BsaXQobWFya2VyUmVnZXgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXJ0cy5wdXNoKHsgdHlwZTogJ2F0dHJpYnV0ZScsIGluZGV4LCBuYW1lLCBzdHJpbmdzOiBzdGF0aWNzIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFydEluZGV4ICs9IHN0YXRpY3MubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAobm9kZS50YWdOYW1lID09PSAnVEVNUExBVEUnKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YWNrLnB1c2gobm9kZSk7XG4gICAgICAgICAgICAgICAgICAgIHdhbGtlci5jdXJyZW50Tm9kZSA9IG5vZGUuY29udGVudDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChub2RlLm5vZGVUeXBlID09PSAzIC8qIE5vZGUuVEVYVF9OT0RFICovKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IG5vZGUuZGF0YTtcbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5pbmRleE9mKG1hcmtlcikgPj0gMCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXJlbnQgPSBub2RlLnBhcmVudE5vZGU7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0cmluZ3MgPSBkYXRhLnNwbGl0KG1hcmtlclJlZ2V4KTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbGFzdEluZGV4ID0gc3RyaW5ncy5sZW5ndGggLSAxO1xuICAgICAgICAgICAgICAgICAgICAvLyBHZW5lcmF0ZSBhIG5ldyB0ZXh0IG5vZGUgZm9yIGVhY2ggbGl0ZXJhbCBzZWN0aW9uXG4gICAgICAgICAgICAgICAgICAgIC8vIFRoZXNlIG5vZGVzIGFyZSBhbHNvIHVzZWQgYXMgdGhlIG1hcmtlcnMgZm9yIG5vZGUgcGFydHNcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsYXN0SW5kZXg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGluc2VydDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzID0gc3RyaW5nc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzID09PSAnJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluc2VydCA9IGNyZWF0ZU1hcmtlcigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbWF0Y2ggPSBsYXN0QXR0cmlidXRlTmFtZVJlZ2V4LmV4ZWMocyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1hdGNoICE9PSBudWxsICYmIGVuZHNXaXRoKG1hdGNoWzJdLCBib3VuZEF0dHJpYnV0ZVN1ZmZpeCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcyA9IHMuc2xpY2UoMCwgbWF0Y2guaW5kZXgpICsgbWF0Y2hbMV0gK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hbMl0uc2xpY2UoMCwgLWJvdW5kQXR0cmlidXRlU3VmZml4Lmxlbmd0aCkgKyBtYXRjaFszXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5zZXJ0ID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUocyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnQuaW5zZXJ0QmVmb3JlKGluc2VydCwgbm9kZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcnRzLnB1c2goeyB0eXBlOiAnbm9kZScsIGluZGV4OiArK2luZGV4IH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIElmIHRoZXJlJ3Mgbm8gdGV4dCwgd2UgbXVzdCBpbnNlcnQgYSBjb21tZW50IHRvIG1hcmsgb3VyIHBsYWNlLlxuICAgICAgICAgICAgICAgICAgICAvLyBFbHNlLCB3ZSBjYW4gdHJ1c3QgaXQgd2lsbCBzdGljayBhcm91bmQgYWZ0ZXIgY2xvbmluZy5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0cmluZ3NbbGFzdEluZGV4XSA9PT0gJycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudC5pbnNlcnRCZWZvcmUoY3JlYXRlTWFya2VyKCksIG5vZGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZXNUb1JlbW92ZS5wdXNoKG5vZGUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5kYXRhID0gc3RyaW5nc1tsYXN0SW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIFdlIGhhdmUgYSBwYXJ0IGZvciBlYWNoIG1hdGNoIGZvdW5kXG4gICAgICAgICAgICAgICAgICAgIHBhcnRJbmRleCArPSBsYXN0SW5kZXg7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAobm9kZS5ub2RlVHlwZSA9PT0gOCAvKiBOb2RlLkNPTU1FTlRfTk9ERSAqLykge1xuICAgICAgICAgICAgICAgIGlmIChub2RlLmRhdGEgPT09IG1hcmtlcikge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXJlbnQgPSBub2RlLnBhcmVudE5vZGU7XG4gICAgICAgICAgICAgICAgICAgIC8vIEFkZCBhIG5ldyBtYXJrZXIgbm9kZSB0byBiZSB0aGUgc3RhcnROb2RlIG9mIHRoZSBQYXJ0IGlmIGFueSBvZlxuICAgICAgICAgICAgICAgICAgICAvLyB0aGUgZm9sbG93aW5nIGFyZSB0cnVlOlxuICAgICAgICAgICAgICAgICAgICAvLyAgKiBXZSBkb24ndCBoYXZlIGEgcHJldmlvdXNTaWJsaW5nXG4gICAgICAgICAgICAgICAgICAgIC8vICAqIFRoZSBwcmV2aW91c1NpYmxpbmcgaXMgYWxyZWFkeSB0aGUgc3RhcnQgb2YgYSBwcmV2aW91cyBwYXJ0XG4gICAgICAgICAgICAgICAgICAgIGlmIChub2RlLnByZXZpb3VzU2libGluZyA9PT0gbnVsbCB8fCBpbmRleCA9PT0gbGFzdFBhcnRJbmRleCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXgrKztcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudC5pbnNlcnRCZWZvcmUoY3JlYXRlTWFya2VyKCksIG5vZGUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGxhc3RQYXJ0SW5kZXggPSBpbmRleDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXJ0cy5wdXNoKHsgdHlwZTogJ25vZGUnLCBpbmRleCB9KTtcbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgd2UgZG9uJ3QgaGF2ZSBhIG5leHRTaWJsaW5nLCBrZWVwIHRoaXMgbm9kZSBzbyB3ZSBoYXZlIGFuIGVuZC5cbiAgICAgICAgICAgICAgICAgICAgLy8gRWxzZSwgd2UgY2FuIHJlbW92ZSBpdCB0byBzYXZlIGZ1dHVyZSBjb3N0cy5cbiAgICAgICAgICAgICAgICAgICAgaWYgKG5vZGUubmV4dFNpYmxpbmcgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUuZGF0YSA9ICcnO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZXNUb1JlbW92ZS5wdXNoKG5vZGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXgtLTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBwYXJ0SW5kZXgrKztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBpID0gLTE7XG4gICAgICAgICAgICAgICAgICAgIHdoaWxlICgoaSA9IG5vZGUuZGF0YS5pbmRleE9mKG1hcmtlciwgaSArIDEpKSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENvbW1lbnQgbm9kZSBoYXMgYSBiaW5kaW5nIG1hcmtlciBpbnNpZGUsIG1ha2UgYW4gaW5hY3RpdmUgcGFydFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhlIGJpbmRpbmcgd29uJ3Qgd29yaywgYnV0IHN1YnNlcXVlbnQgYmluZGluZ3Mgd2lsbFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVE9ETyAoanVzdGluZmFnbmFuaSk6IGNvbnNpZGVyIHdoZXRoZXIgaXQncyBldmVuIHdvcnRoIGl0IHRvXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBtYWtlIGJpbmRpbmdzIGluIGNvbW1lbnRzIHdvcmtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGFydHMucHVzaCh7IHR5cGU6ICdub2RlJywgaW5kZXg6IC0xIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFydEluZGV4Kys7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gUmVtb3ZlIHRleHQgYmluZGluZyBub2RlcyBhZnRlciB0aGUgd2FsayB0byBub3QgZGlzdHVyYiB0aGUgVHJlZVdhbGtlclxuICAgICAgICBmb3IgKGNvbnN0IG4gb2Ygbm9kZXNUb1JlbW92ZSkge1xuICAgICAgICAgICAgbi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG4pO1xuICAgICAgICB9XG4gICAgfVxufVxuY29uc3QgZW5kc1dpdGggPSAoc3RyLCBzdWZmaXgpID0+IHtcbiAgICBjb25zdCBpbmRleCA9IHN0ci5sZW5ndGggLSBzdWZmaXgubGVuZ3RoO1xuICAgIHJldHVybiBpbmRleCA+PSAwICYmIHN0ci5zbGljZShpbmRleCkgPT09IHN1ZmZpeDtcbn07XG5leHBvcnQgY29uc3QgaXNUZW1wbGF0ZVBhcnRBY3RpdmUgPSAocGFydCkgPT4gcGFydC5pbmRleCAhPT0gLTE7XG4vLyBBbGxvd3MgYGRvY3VtZW50LmNyZWF0ZUNvbW1lbnQoJycpYCB0byBiZSByZW5hbWVkIGZvciBhXG4vLyBzbWFsbCBtYW51YWwgc2l6ZS1zYXZpbmdzLlxuZXhwb3J0IGNvbnN0IGNyZWF0ZU1hcmtlciA9ICgpID0+IGRvY3VtZW50LmNyZWF0ZUNvbW1lbnQoJycpO1xuLyoqXG4gKiBUaGlzIHJlZ2V4IGV4dHJhY3RzIHRoZSBhdHRyaWJ1dGUgbmFtZSBwcmVjZWRpbmcgYW4gYXR0cmlidXRlLXBvc2l0aW9uXG4gKiBleHByZXNzaW9uLiBJdCBkb2VzIHRoaXMgYnkgbWF0Y2hpbmcgdGhlIHN5bnRheCBhbGxvd2VkIGZvciBhdHRyaWJ1dGVzXG4gKiBhZ2FpbnN0IHRoZSBzdHJpbmcgbGl0ZXJhbCBkaXJlY3RseSBwcmVjZWRpbmcgdGhlIGV4cHJlc3Npb24sIGFzc3VtaW5nIHRoYXRcbiAqIHRoZSBleHByZXNzaW9uIGlzIGluIGFuIGF0dHJpYnV0ZS12YWx1ZSBwb3NpdGlvbi5cbiAqXG4gKiBTZWUgYXR0cmlidXRlcyBpbiB0aGUgSFRNTCBzcGVjOlxuICogaHR0cHM6Ly93d3cudzMub3JnL1RSL2h0bWw1L3N5bnRheC5odG1sI2VsZW1lbnRzLWF0dHJpYnV0ZXNcbiAqXG4gKiBcIiBcXHgwOVxceDBhXFx4MGNcXHgwZFwiIGFyZSBIVE1MIHNwYWNlIGNoYXJhY3RlcnM6XG4gKiBodHRwczovL3d3dy53My5vcmcvVFIvaHRtbDUvaW5mcmFzdHJ1Y3R1cmUuaHRtbCNzcGFjZS1jaGFyYWN0ZXJzXG4gKlxuICogXCJcXDAtXFx4MUZcXHg3Ri1cXHg5RlwiIGFyZSBVbmljb2RlIGNvbnRyb2wgY2hhcmFjdGVycywgd2hpY2ggaW5jbHVkZXMgZXZlcnlcbiAqIHNwYWNlIGNoYXJhY3RlciBleGNlcHQgXCIgXCIuXG4gKlxuICogU28gYW4gYXR0cmlidXRlIGlzOlxuICogICogVGhlIG5hbWU6IGFueSBjaGFyYWN0ZXIgZXhjZXB0IGEgY29udHJvbCBjaGFyYWN0ZXIsIHNwYWNlIGNoYXJhY3RlciwgKCcpLFxuICogICAgKFwiKSwgXCI+XCIsIFwiPVwiLCBvciBcIi9cIlxuICogICogRm9sbG93ZWQgYnkgemVybyBvciBtb3JlIHNwYWNlIGNoYXJhY3RlcnNcbiAqICAqIEZvbGxvd2VkIGJ5IFwiPVwiXG4gKiAgKiBGb2xsb3dlZCBieSB6ZXJvIG9yIG1vcmUgc3BhY2UgY2hhcmFjdGVyc1xuICogICogRm9sbG93ZWQgYnk6XG4gKiAgICAqIEFueSBjaGFyYWN0ZXIgZXhjZXB0IHNwYWNlLCAoJyksIChcIiksIFwiPFwiLCBcIj5cIiwgXCI9XCIsIChgKSwgb3JcbiAqICAgICogKFwiKSB0aGVuIGFueSBub24tKFwiKSwgb3JcbiAqICAgICogKCcpIHRoZW4gYW55IG5vbi0oJylcbiAqL1xuZXhwb3J0IGNvbnN0IGxhc3RBdHRyaWJ1dGVOYW1lUmVnZXggPSAvKFsgXFx4MDlcXHgwYVxceDBjXFx4MGRdKShbXlxcMC1cXHgxRlxceDdGLVxceDlGIFwiJz49L10rKShbIFxceDA5XFx4MGFcXHgwY1xceDBkXSo9WyBcXHgwOVxceDBhXFx4MGNcXHgwZF0qKD86W14gXFx4MDlcXHgwYVxceDBjXFx4MGRcIidgPD49XSp8XCJbXlwiXSp8J1teJ10qKSkkLztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRlbXBsYXRlLmpzLm1hcCIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBUaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG4gKiBDb2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuICogc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4gKi9cbi8qKlxuICogQG1vZHVsZSBsaXQtaHRtbFxuICovXG5pbXBvcnQgeyBpc0NFUG9seWZpbGwgfSBmcm9tICcuL2RvbS5qcyc7XG5pbXBvcnQgeyBpc1RlbXBsYXRlUGFydEFjdGl2ZSB9IGZyb20gJy4vdGVtcGxhdGUuanMnO1xuLyoqXG4gKiBBbiBpbnN0YW5jZSBvZiBhIGBUZW1wbGF0ZWAgdGhhdCBjYW4gYmUgYXR0YWNoZWQgdG8gdGhlIERPTSBhbmQgdXBkYXRlZFxuICogd2l0aCBuZXcgdmFsdWVzLlxuICovXG5leHBvcnQgY2xhc3MgVGVtcGxhdGVJbnN0YW5jZSB7XG4gICAgY29uc3RydWN0b3IodGVtcGxhdGUsIHByb2Nlc3Nvciwgb3B0aW9ucykge1xuICAgICAgICB0aGlzLl9fcGFydHMgPSBbXTtcbiAgICAgICAgdGhpcy50ZW1wbGF0ZSA9IHRlbXBsYXRlO1xuICAgICAgICB0aGlzLnByb2Nlc3NvciA9IHByb2Nlc3NvcjtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICB9XG4gICAgdXBkYXRlKHZhbHVlcykge1xuICAgICAgICBsZXQgaSA9IDA7XG4gICAgICAgIGZvciAoY29uc3QgcGFydCBvZiB0aGlzLl9fcGFydHMpIHtcbiAgICAgICAgICAgIGlmIChwYXJ0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBwYXJ0LnNldFZhbHVlKHZhbHVlc1tpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpKys7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCBwYXJ0IG9mIHRoaXMuX19wYXJ0cykge1xuICAgICAgICAgICAgaWYgKHBhcnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHBhcnQuY29tbWl0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgX2Nsb25lKCkge1xuICAgICAgICAvLyBUaGVyZSBhcmUgYSBudW1iZXIgb2Ygc3RlcHMgaW4gdGhlIGxpZmVjeWNsZSBvZiBhIHRlbXBsYXRlIGluc3RhbmNlJ3NcbiAgICAgICAgLy8gRE9NIGZyYWdtZW50OlxuICAgICAgICAvLyAgMS4gQ2xvbmUgLSBjcmVhdGUgdGhlIGluc3RhbmNlIGZyYWdtZW50XG4gICAgICAgIC8vICAyLiBBZG9wdCAtIGFkb3B0IGludG8gdGhlIG1haW4gZG9jdW1lbnRcbiAgICAgICAgLy8gIDMuIFByb2Nlc3MgLSBmaW5kIHBhcnQgbWFya2VycyBhbmQgY3JlYXRlIHBhcnRzXG4gICAgICAgIC8vICA0LiBVcGdyYWRlIC0gdXBncmFkZSBjdXN0b20gZWxlbWVudHNcbiAgICAgICAgLy8gIDUuIFVwZGF0ZSAtIHNldCBub2RlLCBhdHRyaWJ1dGUsIHByb3BlcnR5LCBldGMuLCB2YWx1ZXNcbiAgICAgICAgLy8gIDYuIENvbm5lY3QgLSBjb25uZWN0IHRvIHRoZSBkb2N1bWVudC4gT3B0aW9uYWwgYW5kIG91dHNpZGUgb2YgdGhpc1xuICAgICAgICAvLyAgICAgbWV0aG9kLlxuICAgICAgICAvL1xuICAgICAgICAvLyBXZSBoYXZlIGEgZmV3IGNvbnN0cmFpbnRzIG9uIHRoZSBvcmRlcmluZyBvZiB0aGVzZSBzdGVwczpcbiAgICAgICAgLy8gICogV2UgbmVlZCB0byB1cGdyYWRlIGJlZm9yZSB1cGRhdGluZywgc28gdGhhdCBwcm9wZXJ0eSB2YWx1ZXMgd2lsbCBwYXNzXG4gICAgICAgIC8vICAgIHRocm91Z2ggYW55IHByb3BlcnR5IHNldHRlcnMuXG4gICAgICAgIC8vICAqIFdlIHdvdWxkIGxpa2UgdG8gcHJvY2VzcyBiZWZvcmUgdXBncmFkaW5nIHNvIHRoYXQgd2UncmUgc3VyZSB0aGF0IHRoZVxuICAgICAgICAvLyAgICBjbG9uZWQgZnJhZ21lbnQgaXMgaW5lcnQgYW5kIG5vdCBkaXN0dXJiZWQgYnkgc2VsZi1tb2RpZnlpbmcgRE9NLlxuICAgICAgICAvLyAgKiBXZSB3YW50IGN1c3RvbSBlbGVtZW50cyB0byB1cGdyYWRlIGV2ZW4gaW4gZGlzY29ubmVjdGVkIGZyYWdtZW50cy5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gR2l2ZW4gdGhlc2UgY29uc3RyYWludHMsIHdpdGggZnVsbCBjdXN0b20gZWxlbWVudHMgc3VwcG9ydCB3ZSB3b3VsZFxuICAgICAgICAvLyBwcmVmZXIgdGhlIG9yZGVyOiBDbG9uZSwgUHJvY2VzcywgQWRvcHQsIFVwZ3JhZGUsIFVwZGF0ZSwgQ29ubmVjdFxuICAgICAgICAvL1xuICAgICAgICAvLyBCdXQgU2FmYXJpIGRvb2VzIG5vdCBpbXBsZW1lbnQgQ3VzdG9tRWxlbWVudFJlZ2lzdHJ5I3VwZ3JhZGUsIHNvIHdlXG4gICAgICAgIC8vIGNhbiBub3QgaW1wbGVtZW50IHRoYXQgb3JkZXIgYW5kIHN0aWxsIGhhdmUgdXBncmFkZS1iZWZvcmUtdXBkYXRlIGFuZFxuICAgICAgICAvLyB1cGdyYWRlIGRpc2Nvbm5lY3RlZCBmcmFnbWVudHMuIFNvIHdlIGluc3RlYWQgc2FjcmlmaWNlIHRoZVxuICAgICAgICAvLyBwcm9jZXNzLWJlZm9yZS11cGdyYWRlIGNvbnN0cmFpbnQsIHNpbmNlIGluIEN1c3RvbSBFbGVtZW50cyB2MSBlbGVtZW50c1xuICAgICAgICAvLyBtdXN0IG5vdCBtb2RpZnkgdGhlaXIgbGlnaHQgRE9NIGluIHRoZSBjb25zdHJ1Y3Rvci4gV2Ugc3RpbGwgaGF2ZSBpc3N1ZXNcbiAgICAgICAgLy8gd2hlbiBjby1leGlzdGluZyB3aXRoIENFdjAgZWxlbWVudHMgbGlrZSBQb2x5bWVyIDEsIGFuZCB3aXRoIHBvbHlmaWxsc1xuICAgICAgICAvLyB0aGF0IGRvbid0IHN0cmljdGx5IGFkaGVyZSB0byB0aGUgbm8tbW9kaWZpY2F0aW9uIHJ1bGUgYmVjYXVzZSBzaGFkb3dcbiAgICAgICAgLy8gRE9NLCB3aGljaCBtYXkgYmUgY3JlYXRlZCBpbiB0aGUgY29uc3RydWN0b3IsIGlzIGVtdWxhdGVkIGJ5IGJlaW5nIHBsYWNlZFxuICAgICAgICAvLyBpbiB0aGUgbGlnaHQgRE9NLlxuICAgICAgICAvL1xuICAgICAgICAvLyBUaGUgcmVzdWx0aW5nIG9yZGVyIGlzIG9uIG5hdGl2ZSBpczogQ2xvbmUsIEFkb3B0LCBVcGdyYWRlLCBQcm9jZXNzLFxuICAgICAgICAvLyBVcGRhdGUsIENvbm5lY3QuIGRvY3VtZW50LmltcG9ydE5vZGUoKSBwZXJmb3JtcyBDbG9uZSwgQWRvcHQsIGFuZCBVcGdyYWRlXG4gICAgICAgIC8vIGluIG9uZSBzdGVwLlxuICAgICAgICAvL1xuICAgICAgICAvLyBUaGUgQ3VzdG9tIEVsZW1lbnRzIHYxIHBvbHlmaWxsIHN1cHBvcnRzIHVwZ3JhZGUoKSwgc28gdGhlIG9yZGVyIHdoZW5cbiAgICAgICAgLy8gcG9seWZpbGxlZCBpcyB0aGUgbW9yZSBpZGVhbDogQ2xvbmUsIFByb2Nlc3MsIEFkb3B0LCBVcGdyYWRlLCBVcGRhdGUsXG4gICAgICAgIC8vIENvbm5lY3QuXG4gICAgICAgIGNvbnN0IGZyYWdtZW50ID0gaXNDRVBvbHlmaWxsID9cbiAgICAgICAgICAgIHRoaXMudGVtcGxhdGUuZWxlbWVudC5jb250ZW50LmNsb25lTm9kZSh0cnVlKSA6XG4gICAgICAgICAgICBkb2N1bWVudC5pbXBvcnROb2RlKHRoaXMudGVtcGxhdGUuZWxlbWVudC5jb250ZW50LCB0cnVlKTtcbiAgICAgICAgY29uc3Qgc3RhY2sgPSBbXTtcbiAgICAgICAgY29uc3QgcGFydHMgPSB0aGlzLnRlbXBsYXRlLnBhcnRzO1xuICAgICAgICAvLyBFZGdlIG5lZWRzIGFsbCA0IHBhcmFtZXRlcnMgcHJlc2VudDsgSUUxMSBuZWVkcyAzcmQgcGFyYW1ldGVyIHRvIGJlIG51bGxcbiAgICAgICAgY29uc3Qgd2Fsa2VyID0gZG9jdW1lbnQuY3JlYXRlVHJlZVdhbGtlcihmcmFnbWVudCwgMTMzIC8qIE5vZGVGaWx0ZXIuU0hPV197RUxFTUVOVHxDT01NRU5UfFRFWFR9ICovLCBudWxsLCBmYWxzZSk7XG4gICAgICAgIGxldCBwYXJ0SW5kZXggPSAwO1xuICAgICAgICBsZXQgbm9kZUluZGV4ID0gMDtcbiAgICAgICAgbGV0IHBhcnQ7XG4gICAgICAgIGxldCBub2RlID0gd2Fsa2VyLm5leHROb2RlKCk7XG4gICAgICAgIC8vIExvb3AgdGhyb3VnaCBhbGwgdGhlIG5vZGVzIGFuZCBwYXJ0cyBvZiBhIHRlbXBsYXRlXG4gICAgICAgIHdoaWxlIChwYXJ0SW5kZXggPCBwYXJ0cy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHBhcnQgPSBwYXJ0c1twYXJ0SW5kZXhdO1xuICAgICAgICAgICAgaWYgKCFpc1RlbXBsYXRlUGFydEFjdGl2ZShwYXJ0KSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX19wYXJ0cy5wdXNoKHVuZGVmaW5lZCk7XG4gICAgICAgICAgICAgICAgcGFydEluZGV4Kys7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBQcm9ncmVzcyB0aGUgdHJlZSB3YWxrZXIgdW50aWwgd2UgZmluZCBvdXIgbmV4dCBwYXJ0J3Mgbm9kZS5cbiAgICAgICAgICAgIC8vIE5vdGUgdGhhdCBtdWx0aXBsZSBwYXJ0cyBtYXkgc2hhcmUgdGhlIHNhbWUgbm9kZSAoYXR0cmlidXRlIHBhcnRzXG4gICAgICAgICAgICAvLyBvbiBhIHNpbmdsZSBlbGVtZW50KSwgc28gdGhpcyBsb29wIG1heSBub3QgcnVuIGF0IGFsbC5cbiAgICAgICAgICAgIHdoaWxlIChub2RlSW5kZXggPCBwYXJ0LmluZGV4KSB7XG4gICAgICAgICAgICAgICAgbm9kZUluZGV4Kys7XG4gICAgICAgICAgICAgICAgaWYgKG5vZGUubm9kZU5hbWUgPT09ICdURU1QTEFURScpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhY2sucHVzaChub2RlKTtcbiAgICAgICAgICAgICAgICAgICAgd2Fsa2VyLmN1cnJlbnROb2RlID0gbm9kZS5jb250ZW50O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoKG5vZGUgPSB3YWxrZXIubmV4dE5vZGUoKSkgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gV2UndmUgZXhoYXVzdGVkIHRoZSBjb250ZW50IGluc2lkZSBhIG5lc3RlZCB0ZW1wbGF0ZSBlbGVtZW50LlxuICAgICAgICAgICAgICAgICAgICAvLyBCZWNhdXNlIHdlIHN0aWxsIGhhdmUgcGFydHMgKHRoZSBvdXRlciBmb3ItbG9vcCksIHdlIGtub3c6XG4gICAgICAgICAgICAgICAgICAgIC8vIC0gVGhlcmUgaXMgYSB0ZW1wbGF0ZSBpbiB0aGUgc3RhY2tcbiAgICAgICAgICAgICAgICAgICAgLy8gLSBUaGUgd2Fsa2VyIHdpbGwgZmluZCBhIG5leHROb2RlIG91dHNpZGUgdGhlIHRlbXBsYXRlXG4gICAgICAgICAgICAgICAgICAgIHdhbGtlci5jdXJyZW50Tm9kZSA9IHN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgICAgICAgICBub2RlID0gd2Fsa2VyLm5leHROb2RlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gV2UndmUgYXJyaXZlZCBhdCBvdXIgcGFydCdzIG5vZGUuXG4gICAgICAgICAgICBpZiAocGFydC50eXBlID09PSAnbm9kZScpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJ0ID0gdGhpcy5wcm9jZXNzb3IuaGFuZGxlVGV4dEV4cHJlc3Npb24odGhpcy5vcHRpb25zKTtcbiAgICAgICAgICAgICAgICBwYXJ0Lmluc2VydEFmdGVyTm9kZShub2RlLnByZXZpb3VzU2libGluZyk7XG4gICAgICAgICAgICAgICAgdGhpcy5fX3BhcnRzLnB1c2gocGFydCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9fcGFydHMucHVzaCguLi50aGlzLnByb2Nlc3Nvci5oYW5kbGVBdHRyaWJ1dGVFeHByZXNzaW9ucyhub2RlLCBwYXJ0Lm5hbWUsIHBhcnQuc3RyaW5ncywgdGhpcy5vcHRpb25zKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwYXJ0SW5kZXgrKztcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNDRVBvbHlmaWxsKSB7XG4gICAgICAgICAgICBkb2N1bWVudC5hZG9wdE5vZGUoZnJhZ21lbnQpO1xuICAgICAgICAgICAgY3VzdG9tRWxlbWVudHMudXBncmFkZShmcmFnbWVudCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZyYWdtZW50O1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRlbXBsYXRlLWluc3RhbmNlLmpzLm1hcCIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBUaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG4gKiBDb2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuICogc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4gKi9cbi8qKlxuICogQG1vZHVsZSBsaXQtaHRtbFxuICovXG5pbXBvcnQgeyByZXBhcmVudE5vZGVzIH0gZnJvbSAnLi9kb20uanMnO1xuaW1wb3J0IHsgYm91bmRBdHRyaWJ1dGVTdWZmaXgsIGxhc3RBdHRyaWJ1dGVOYW1lUmVnZXgsIG1hcmtlciwgbm9kZU1hcmtlciB9IGZyb20gJy4vdGVtcGxhdGUuanMnO1xuY29uc3QgY29tbWVudE1hcmtlciA9IGAgJHttYXJrZXJ9IGA7XG4vKipcbiAqIFRoZSByZXR1cm4gdHlwZSBvZiBgaHRtbGAsIHdoaWNoIGhvbGRzIGEgVGVtcGxhdGUgYW5kIHRoZSB2YWx1ZXMgZnJvbVxuICogaW50ZXJwb2xhdGVkIGV4cHJlc3Npb25zLlxuICovXG5leHBvcnQgY2xhc3MgVGVtcGxhdGVSZXN1bHQge1xuICAgIGNvbnN0cnVjdG9yKHN0cmluZ3MsIHZhbHVlcywgdHlwZSwgcHJvY2Vzc29yKSB7XG4gICAgICAgIHRoaXMuc3RyaW5ncyA9IHN0cmluZ3M7XG4gICAgICAgIHRoaXMudmFsdWVzID0gdmFsdWVzO1xuICAgICAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgICAgICB0aGlzLnByb2Nlc3NvciA9IHByb2Nlc3NvcjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIHN0cmluZyBvZiBIVE1MIHVzZWQgdG8gY3JlYXRlIGEgYDx0ZW1wbGF0ZT5gIGVsZW1lbnQuXG4gICAgICovXG4gICAgZ2V0SFRNTCgpIHtcbiAgICAgICAgY29uc3QgbCA9IHRoaXMuc3RyaW5ncy5sZW5ndGggLSAxO1xuICAgICAgICBsZXQgaHRtbCA9ICcnO1xuICAgICAgICBsZXQgaXNDb21tZW50QmluZGluZyA9IGZhbHNlO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgcyA9IHRoaXMuc3RyaW5nc1tpXTtcbiAgICAgICAgICAgIC8vIEZvciBlYWNoIGJpbmRpbmcgd2Ugd2FudCB0byBkZXRlcm1pbmUgdGhlIGtpbmQgb2YgbWFya2VyIHRvIGluc2VydFxuICAgICAgICAgICAgLy8gaW50byB0aGUgdGVtcGxhdGUgc291cmNlIGJlZm9yZSBpdCdzIHBhcnNlZCBieSB0aGUgYnJvd3NlcidzIEhUTUxcbiAgICAgICAgICAgIC8vIHBhcnNlci4gVGhlIG1hcmtlciB0eXBlIGlzIGJhc2VkIG9uIHdoZXRoZXIgdGhlIGV4cHJlc3Npb24gaXMgaW4gYW5cbiAgICAgICAgICAgIC8vIGF0dHJpYnV0ZSwgdGV4dCwgb3IgY29tbWVudCBwb2lzaXRpb24uXG4gICAgICAgICAgICAvLyAgICogRm9yIG5vZGUtcG9zaXRpb24gYmluZGluZ3Mgd2UgaW5zZXJ0IGEgY29tbWVudCB3aXRoIHRoZSBtYXJrZXJcbiAgICAgICAgICAgIC8vICAgICBzZW50aW5lbCBhcyBpdHMgdGV4dCBjb250ZW50LCBsaWtlIDwhLS17e2xpdC1ndWlkfX0tLT4uXG4gICAgICAgICAgICAvLyAgICogRm9yIGF0dHJpYnV0ZSBiaW5kaW5ncyB3ZSBpbnNlcnQganVzdCB0aGUgbWFya2VyIHNlbnRpbmVsIGZvciB0aGVcbiAgICAgICAgICAgIC8vICAgICBmaXJzdCBiaW5kaW5nLCBzbyB0aGF0IHdlIHN1cHBvcnQgdW5xdW90ZWQgYXR0cmlidXRlIGJpbmRpbmdzLlxuICAgICAgICAgICAgLy8gICAgIFN1YnNlcXVlbnQgYmluZGluZ3MgY2FuIHVzZSBhIGNvbW1lbnQgbWFya2VyIGJlY2F1c2UgbXVsdGktYmluZGluZ1xuICAgICAgICAgICAgLy8gICAgIGF0dHJpYnV0ZXMgbXVzdCBiZSBxdW90ZWQuXG4gICAgICAgICAgICAvLyAgICogRm9yIGNvbW1lbnQgYmluZGluZ3Mgd2UgaW5zZXJ0IGp1c3QgdGhlIG1hcmtlciBzZW50aW5lbCBzbyB3ZSBkb24ndFxuICAgICAgICAgICAgLy8gICAgIGNsb3NlIHRoZSBjb21tZW50LlxuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vIFRoZSBmb2xsb3dpbmcgY29kZSBzY2FucyB0aGUgdGVtcGxhdGUgc291cmNlLCBidXQgaXMgKm5vdCogYW4gSFRNTFxuICAgICAgICAgICAgLy8gcGFyc2VyLiBXZSBkb24ndCBuZWVkIHRvIHRyYWNrIHRoZSB0cmVlIHN0cnVjdHVyZSBvZiB0aGUgSFRNTCwgb25seVxuICAgICAgICAgICAgLy8gd2hldGhlciBhIGJpbmRpbmcgaXMgaW5zaWRlIGEgY29tbWVudCwgYW5kIGlmIG5vdCwgaWYgaXQgYXBwZWFycyB0byBiZVxuICAgICAgICAgICAgLy8gdGhlIGZpcnN0IGJpbmRpbmcgaW4gYW4gYXR0cmlidXRlLlxuICAgICAgICAgICAgY29uc3QgY29tbWVudE9wZW4gPSBzLmxhc3RJbmRleE9mKCc8IS0tJyk7XG4gICAgICAgICAgICAvLyBXZSdyZSBpbiBjb21tZW50IHBvc2l0aW9uIGlmIHdlIGhhdmUgYSBjb21tZW50IG9wZW4gd2l0aCBubyBmb2xsb3dpbmdcbiAgICAgICAgICAgIC8vIGNvbW1lbnQgY2xvc2UuIEJlY2F1c2UgPC0tIGNhbiBhcHBlYXIgaW4gYW4gYXR0cmlidXRlIHZhbHVlIHRoZXJlIGNhblxuICAgICAgICAgICAgLy8gYmUgZmFsc2UgcG9zaXRpdmVzLlxuICAgICAgICAgICAgaXNDb21tZW50QmluZGluZyA9IChjb21tZW50T3BlbiA+IC0xIHx8IGlzQ29tbWVudEJpbmRpbmcpICYmXG4gICAgICAgICAgICAgICAgcy5pbmRleE9mKCctLT4nLCBjb21tZW50T3BlbiArIDEpID09PSAtMTtcbiAgICAgICAgICAgIC8vIENoZWNrIHRvIHNlZSBpZiB3ZSBoYXZlIGFuIGF0dHJpYnV0ZS1saWtlIHNlcXVlbmNlIHByZWNlZWRpbmcgdGhlXG4gICAgICAgICAgICAvLyBleHByZXNzaW9uLiBUaGlzIGNhbiBtYXRjaCBcIm5hbWU9dmFsdWVcIiBsaWtlIHN0cnVjdHVyZXMgaW4gdGV4dCxcbiAgICAgICAgICAgIC8vIGNvbW1lbnRzLCBhbmQgYXR0cmlidXRlIHZhbHVlcywgc28gdGhlcmUgY2FuIGJlIGZhbHNlLXBvc2l0aXZlcy5cbiAgICAgICAgICAgIGNvbnN0IGF0dHJpYnV0ZU1hdGNoID0gbGFzdEF0dHJpYnV0ZU5hbWVSZWdleC5leGVjKHMpO1xuICAgICAgICAgICAgaWYgKGF0dHJpYnV0ZU1hdGNoID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgLy8gV2UncmUgb25seSBpbiB0aGlzIGJyYW5jaCBpZiB3ZSBkb24ndCBoYXZlIGEgYXR0cmlidXRlLWxpa2VcbiAgICAgICAgICAgICAgICAvLyBwcmVjZWVkaW5nIHNlcXVlbmNlLiBGb3IgY29tbWVudHMsIHRoaXMgZ3VhcmRzIGFnYWluc3QgdW51c3VhbFxuICAgICAgICAgICAgICAgIC8vIGF0dHJpYnV0ZSB2YWx1ZXMgbGlrZSA8ZGl2IGZvbz1cIjwhLS0keydiYXInfVwiPi4gQ2FzZXMgbGlrZVxuICAgICAgICAgICAgICAgIC8vIDwhLS0gZm9vPSR7J2Jhcid9LS0+IGFyZSBoYW5kbGVkIGNvcnJlY3RseSBpbiB0aGUgYXR0cmlidXRlIGJyYW5jaFxuICAgICAgICAgICAgICAgIC8vIGJlbG93LlxuICAgICAgICAgICAgICAgIGh0bWwgKz0gcyArIChpc0NvbW1lbnRCaW5kaW5nID8gY29tbWVudE1hcmtlciA6IG5vZGVNYXJrZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gRm9yIGF0dHJpYnV0ZXMgd2UgdXNlIGp1c3QgYSBtYXJrZXIgc2VudGluZWwsIGFuZCBhbHNvIGFwcGVuZCBhXG4gICAgICAgICAgICAgICAgLy8gJGxpdCQgc3VmZml4IHRvIHRoZSBuYW1lIHRvIG9wdC1vdXQgb2YgYXR0cmlidXRlLXNwZWNpZmljIHBhcnNpbmdcbiAgICAgICAgICAgICAgICAvLyB0aGF0IElFIGFuZCBFZGdlIGRvIGZvciBzdHlsZSBhbmQgY2VydGFpbiBTVkcgYXR0cmlidXRlcy5cbiAgICAgICAgICAgICAgICBodG1sICs9IHMuc3Vic3RyKDAsIGF0dHJpYnV0ZU1hdGNoLmluZGV4KSArIGF0dHJpYnV0ZU1hdGNoWzFdICtcbiAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlTWF0Y2hbMl0gKyBib3VuZEF0dHJpYnV0ZVN1ZmZpeCArIGF0dHJpYnV0ZU1hdGNoWzNdICtcbiAgICAgICAgICAgICAgICAgICAgbWFya2VyO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGh0bWwgKz0gdGhpcy5zdHJpbmdzW2xdO1xuICAgICAgICByZXR1cm4gaHRtbDtcbiAgICB9XG4gICAgZ2V0VGVtcGxhdGVFbGVtZW50KCkge1xuICAgICAgICBjb25zdCB0ZW1wbGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RlbXBsYXRlJyk7XG4gICAgICAgIHRlbXBsYXRlLmlubmVySFRNTCA9IHRoaXMuZ2V0SFRNTCgpO1xuICAgICAgICByZXR1cm4gdGVtcGxhdGU7XG4gICAgfVxufVxuLyoqXG4gKiBBIFRlbXBsYXRlUmVzdWx0IGZvciBTVkcgZnJhZ21lbnRzLlxuICpcbiAqIFRoaXMgY2xhc3Mgd3JhcHMgSFRNTCBpbiBhbiBgPHN2Zz5gIHRhZyBpbiBvcmRlciB0byBwYXJzZSBpdHMgY29udGVudHMgaW4gdGhlXG4gKiBTVkcgbmFtZXNwYWNlLCB0aGVuIG1vZGlmaWVzIHRoZSB0ZW1wbGF0ZSB0byByZW1vdmUgdGhlIGA8c3ZnPmAgdGFnIHNvIHRoYXRcbiAqIGNsb25lcyBvbmx5IGNvbnRhaW5lciB0aGUgb3JpZ2luYWwgZnJhZ21lbnQuXG4gKi9cbmV4cG9ydCBjbGFzcyBTVkdUZW1wbGF0ZVJlc3VsdCBleHRlbmRzIFRlbXBsYXRlUmVzdWx0IHtcbiAgICBnZXRIVE1MKCkge1xuICAgICAgICByZXR1cm4gYDxzdmc+JHtzdXBlci5nZXRIVE1MKCl9PC9zdmc+YDtcbiAgICB9XG4gICAgZ2V0VGVtcGxhdGVFbGVtZW50KCkge1xuICAgICAgICBjb25zdCB0ZW1wbGF0ZSA9IHN1cGVyLmdldFRlbXBsYXRlRWxlbWVudCgpO1xuICAgICAgICBjb25zdCBjb250ZW50ID0gdGVtcGxhdGUuY29udGVudDtcbiAgICAgICAgY29uc3Qgc3ZnRWxlbWVudCA9IGNvbnRlbnQuZmlyc3RDaGlsZDtcbiAgICAgICAgY29udGVudC5yZW1vdmVDaGlsZChzdmdFbGVtZW50KTtcbiAgICAgICAgcmVwYXJlbnROb2Rlcyhjb250ZW50LCBzdmdFbGVtZW50LmZpcnN0Q2hpbGQpO1xuICAgICAgICByZXR1cm4gdGVtcGxhdGU7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGVtcGxhdGUtcmVzdWx0LmpzLm1hcCIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBUaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG4gKiBDb2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuICogc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4gKi9cbi8qKlxuICogQG1vZHVsZSBsaXQtaHRtbFxuICovXG5pbXBvcnQgeyBpc0RpcmVjdGl2ZSB9IGZyb20gJy4vZGlyZWN0aXZlLmpzJztcbmltcG9ydCB7IHJlbW92ZU5vZGVzIH0gZnJvbSAnLi9kb20uanMnO1xuaW1wb3J0IHsgbm9DaGFuZ2UsIG5vdGhpbmcgfSBmcm9tICcuL3BhcnQuanMnO1xuaW1wb3J0IHsgVGVtcGxhdGVJbnN0YW5jZSB9IGZyb20gJy4vdGVtcGxhdGUtaW5zdGFuY2UuanMnO1xuaW1wb3J0IHsgVGVtcGxhdGVSZXN1bHQgfSBmcm9tICcuL3RlbXBsYXRlLXJlc3VsdC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVNYXJrZXIgfSBmcm9tICcuL3RlbXBsYXRlLmpzJztcbmV4cG9ydCBjb25zdCBpc1ByaW1pdGl2ZSA9ICh2YWx1ZSkgPT4ge1xuICAgIHJldHVybiAodmFsdWUgPT09IG51bGwgfHxcbiAgICAgICAgISh0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnIHx8IHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJykpO1xufTtcbmV4cG9ydCBjb25zdCBpc0l0ZXJhYmxlID0gKHZhbHVlKSA9PiB7XG4gICAgcmV0dXJuIEFycmF5LmlzQXJyYXkodmFsdWUpIHx8XG4gICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1hbnlcbiAgICAgICAgISEodmFsdWUgJiYgdmFsdWVbU3ltYm9sLml0ZXJhdG9yXSk7XG59O1xuLyoqXG4gKiBXcml0ZXMgYXR0cmlidXRlIHZhbHVlcyB0byB0aGUgRE9NIGZvciBhIGdyb3VwIG9mIEF0dHJpYnV0ZVBhcnRzIGJvdW5kIHRvIGFcbiAqIHNpbmdsZSBhdHRpYnV0ZS4gVGhlIHZhbHVlIGlzIG9ubHkgc2V0IG9uY2UgZXZlbiBpZiB0aGVyZSBhcmUgbXVsdGlwbGUgcGFydHNcbiAqIGZvciBhbiBhdHRyaWJ1dGUuXG4gKi9cbmV4cG9ydCBjbGFzcyBBdHRyaWJ1dGVDb21taXR0ZXIge1xuICAgIGNvbnN0cnVjdG9yKGVsZW1lbnQsIG5hbWUsIHN0cmluZ3MpIHtcbiAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICAgIHRoaXMuc3RyaW5ncyA9IHN0cmluZ3M7XG4gICAgICAgIHRoaXMucGFydHMgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdHJpbmdzLmxlbmd0aCAtIDE7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5wYXJ0c1tpXSA9IHRoaXMuX2NyZWF0ZVBhcnQoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgc2luZ2xlIHBhcnQuIE92ZXJyaWRlIHRoaXMgdG8gY3JlYXRlIGEgZGlmZmVybnQgdHlwZSBvZiBwYXJ0LlxuICAgICAqL1xuICAgIF9jcmVhdGVQYXJ0KCkge1xuICAgICAgICByZXR1cm4gbmV3IEF0dHJpYnV0ZVBhcnQodGhpcyk7XG4gICAgfVxuICAgIF9nZXRWYWx1ZSgpIHtcbiAgICAgICAgY29uc3Qgc3RyaW5ncyA9IHRoaXMuc3RyaW5ncztcbiAgICAgICAgY29uc3QgbCA9IHN0cmluZ3MubGVuZ3RoIC0gMTtcbiAgICAgICAgbGV0IHRleHQgPSAnJztcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICAgIHRleHQgKz0gc3RyaW5nc1tpXTtcbiAgICAgICAgICAgIGNvbnN0IHBhcnQgPSB0aGlzLnBhcnRzW2ldO1xuICAgICAgICAgICAgaWYgKHBhcnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHYgPSBwYXJ0LnZhbHVlO1xuICAgICAgICAgICAgICAgIGlmIChpc1ByaW1pdGl2ZSh2KSB8fCAhaXNJdGVyYWJsZSh2KSkge1xuICAgICAgICAgICAgICAgICAgICB0ZXh0ICs9IHR5cGVvZiB2ID09PSAnc3RyaW5nJyA/IHYgOiBTdHJpbmcodik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHQgb2Ygdikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dCArPSB0eXBlb2YgdCA9PT0gJ3N0cmluZycgPyB0IDogU3RyaW5nKHQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRleHQgKz0gc3RyaW5nc1tsXTtcbiAgICAgICAgcmV0dXJuIHRleHQ7XG4gICAgfVxuICAgIGNvbW1pdCgpIHtcbiAgICAgICAgaWYgKHRoaXMuZGlydHkpIHtcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5zZXRBdHRyaWJ1dGUodGhpcy5uYW1lLCB0aGlzLl9nZXRWYWx1ZSgpKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuICogQSBQYXJ0IHRoYXQgY29udHJvbHMgYWxsIG9yIHBhcnQgb2YgYW4gYXR0cmlidXRlIHZhbHVlLlxuICovXG5leHBvcnQgY2xhc3MgQXR0cmlidXRlUGFydCB7XG4gICAgY29uc3RydWN0b3IoY29tbWl0dGVyKSB7XG4gICAgICAgIHRoaXMudmFsdWUgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuY29tbWl0dGVyID0gY29tbWl0dGVyO1xuICAgIH1cbiAgICBzZXRWYWx1ZSh2YWx1ZSkge1xuICAgICAgICBpZiAodmFsdWUgIT09IG5vQ2hhbmdlICYmICghaXNQcmltaXRpdmUodmFsdWUpIHx8IHZhbHVlICE9PSB0aGlzLnZhbHVlKSkge1xuICAgICAgICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgICAgICAgICAgLy8gSWYgdGhlIHZhbHVlIGlzIGEgbm90IGEgZGlyZWN0aXZlLCBkaXJ0eSB0aGUgY29tbWl0dGVyIHNvIHRoYXQgaXQnbGxcbiAgICAgICAgICAgIC8vIGNhbGwgc2V0QXR0cmlidXRlLiBJZiB0aGUgdmFsdWUgaXMgYSBkaXJlY3RpdmUsIGl0J2xsIGRpcnR5IHRoZVxuICAgICAgICAgICAgLy8gY29tbWl0dGVyIGlmIGl0IGNhbGxzIHNldFZhbHVlKCkuXG4gICAgICAgICAgICBpZiAoIWlzRGlyZWN0aXZlKHZhbHVlKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuY29tbWl0dGVyLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBjb21taXQoKSB7XG4gICAgICAgIHdoaWxlIChpc0RpcmVjdGl2ZSh0aGlzLnZhbHVlKSkge1xuICAgICAgICAgICAgY29uc3QgZGlyZWN0aXZlID0gdGhpcy52YWx1ZTtcbiAgICAgICAgICAgIHRoaXMudmFsdWUgPSBub0NoYW5nZTtcbiAgICAgICAgICAgIGRpcmVjdGl2ZSh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy52YWx1ZSA9PT0gbm9DaGFuZ2UpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNvbW1pdHRlci5jb21taXQoKTtcbiAgICB9XG59XG4vKipcbiAqIEEgUGFydCB0aGF0IGNvbnRyb2xzIGEgbG9jYXRpb24gd2l0aGluIGEgTm9kZSB0cmVlLiBMaWtlIGEgUmFuZ2UsIE5vZGVQYXJ0XG4gKiBoYXMgc3RhcnQgYW5kIGVuZCBsb2NhdGlvbnMgYW5kIGNhbiBzZXQgYW5kIHVwZGF0ZSB0aGUgTm9kZXMgYmV0d2VlbiB0aG9zZVxuICogbG9jYXRpb25zLlxuICpcbiAqIE5vZGVQYXJ0cyBzdXBwb3J0IHNldmVyYWwgdmFsdWUgdHlwZXM6IHByaW1pdGl2ZXMsIE5vZGVzLCBUZW1wbGF0ZVJlc3VsdHMsXG4gKiBhcyB3ZWxsIGFzIGFycmF5cyBhbmQgaXRlcmFibGVzIG9mIHRob3NlIHR5cGVzLlxuICovXG5leHBvcnQgY2xhc3MgTm9kZVBhcnQge1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy52YWx1ZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5fX3BlbmRpbmdWYWx1ZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQXBwZW5kcyB0aGlzIHBhcnQgaW50byBhIGNvbnRhaW5lci5cbiAgICAgKlxuICAgICAqIFRoaXMgcGFydCBtdXN0IGJlIGVtcHR5LCBhcyBpdHMgY29udGVudHMgYXJlIG5vdCBhdXRvbWF0aWNhbGx5IG1vdmVkLlxuICAgICAqL1xuICAgIGFwcGVuZEludG8oY29udGFpbmVyKSB7XG4gICAgICAgIHRoaXMuc3RhcnROb2RlID0gY29udGFpbmVyLmFwcGVuZENoaWxkKGNyZWF0ZU1hcmtlcigpKTtcbiAgICAgICAgdGhpcy5lbmROb2RlID0gY29udGFpbmVyLmFwcGVuZENoaWxkKGNyZWF0ZU1hcmtlcigpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW5zZXJ0cyB0aGlzIHBhcnQgYWZ0ZXIgdGhlIGByZWZgIG5vZGUgKGJldHdlZW4gYHJlZmAgYW5kIGByZWZgJ3MgbmV4dFxuICAgICAqIHNpYmxpbmcpLiBCb3RoIGByZWZgIGFuZCBpdHMgbmV4dCBzaWJsaW5nIG11c3QgYmUgc3RhdGljLCB1bmNoYW5naW5nIG5vZGVzXG4gICAgICogc3VjaCBhcyB0aG9zZSB0aGF0IGFwcGVhciBpbiBhIGxpdGVyYWwgc2VjdGlvbiBvZiBhIHRlbXBsYXRlLlxuICAgICAqXG4gICAgICogVGhpcyBwYXJ0IG11c3QgYmUgZW1wdHksIGFzIGl0cyBjb250ZW50cyBhcmUgbm90IGF1dG9tYXRpY2FsbHkgbW92ZWQuXG4gICAgICovXG4gICAgaW5zZXJ0QWZ0ZXJOb2RlKHJlZikge1xuICAgICAgICB0aGlzLnN0YXJ0Tm9kZSA9IHJlZjtcbiAgICAgICAgdGhpcy5lbmROb2RlID0gcmVmLm5leHRTaWJsaW5nO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBcHBlbmRzIHRoaXMgcGFydCBpbnRvIGEgcGFyZW50IHBhcnQuXG4gICAgICpcbiAgICAgKiBUaGlzIHBhcnQgbXVzdCBiZSBlbXB0eSwgYXMgaXRzIGNvbnRlbnRzIGFyZSBub3QgYXV0b21hdGljYWxseSBtb3ZlZC5cbiAgICAgKi9cbiAgICBhcHBlbmRJbnRvUGFydChwYXJ0KSB7XG4gICAgICAgIHBhcnQuX19pbnNlcnQodGhpcy5zdGFydE5vZGUgPSBjcmVhdGVNYXJrZXIoKSk7XG4gICAgICAgIHBhcnQuX19pbnNlcnQodGhpcy5lbmROb2RlID0gY3JlYXRlTWFya2VyKCkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbnNlcnRzIHRoaXMgcGFydCBhZnRlciB0aGUgYHJlZmAgcGFydC5cbiAgICAgKlxuICAgICAqIFRoaXMgcGFydCBtdXN0IGJlIGVtcHR5LCBhcyBpdHMgY29udGVudHMgYXJlIG5vdCBhdXRvbWF0aWNhbGx5IG1vdmVkLlxuICAgICAqL1xuICAgIGluc2VydEFmdGVyUGFydChyZWYpIHtcbiAgICAgICAgcmVmLl9faW5zZXJ0KHRoaXMuc3RhcnROb2RlID0gY3JlYXRlTWFya2VyKCkpO1xuICAgICAgICB0aGlzLmVuZE5vZGUgPSByZWYuZW5kTm9kZTtcbiAgICAgICAgcmVmLmVuZE5vZGUgPSB0aGlzLnN0YXJ0Tm9kZTtcbiAgICB9XG4gICAgc2V0VmFsdWUodmFsdWUpIHtcbiAgICAgICAgdGhpcy5fX3BlbmRpbmdWYWx1ZSA9IHZhbHVlO1xuICAgIH1cbiAgICBjb21taXQoKSB7XG4gICAgICAgIHdoaWxlIChpc0RpcmVjdGl2ZSh0aGlzLl9fcGVuZGluZ1ZhbHVlKSkge1xuICAgICAgICAgICAgY29uc3QgZGlyZWN0aXZlID0gdGhpcy5fX3BlbmRpbmdWYWx1ZTtcbiAgICAgICAgICAgIHRoaXMuX19wZW5kaW5nVmFsdWUgPSBub0NoYW5nZTtcbiAgICAgICAgICAgIGRpcmVjdGl2ZSh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB2YWx1ZSA9IHRoaXMuX19wZW5kaW5nVmFsdWU7XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gbm9DaGFuZ2UpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNQcmltaXRpdmUodmFsdWUpKSB7XG4gICAgICAgICAgICBpZiAodmFsdWUgIT09IHRoaXMudmFsdWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9fY29tbWl0VGV4dCh2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodmFsdWUgaW5zdGFuY2VvZiBUZW1wbGF0ZVJlc3VsdCkge1xuICAgICAgICAgICAgdGhpcy5fX2NvbW1pdFRlbXBsYXRlUmVzdWx0KHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh2YWx1ZSBpbnN0YW5jZW9mIE5vZGUpIHtcbiAgICAgICAgICAgIHRoaXMuX19jb21taXROb2RlKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc0l0ZXJhYmxlKHZhbHVlKSkge1xuICAgICAgICAgICAgdGhpcy5fX2NvbW1pdEl0ZXJhYmxlKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh2YWx1ZSA9PT0gbm90aGluZykge1xuICAgICAgICAgICAgdGhpcy52YWx1ZSA9IG5vdGhpbmc7XG4gICAgICAgICAgICB0aGlzLmNsZWFyKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBGYWxsYmFjaywgd2lsbCByZW5kZXIgdGhlIHN0cmluZyByZXByZXNlbnRhdGlvblxuICAgICAgICAgICAgdGhpcy5fX2NvbW1pdFRleHQodmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIF9faW5zZXJ0KG5vZGUpIHtcbiAgICAgICAgdGhpcy5lbmROb2RlLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKG5vZGUsIHRoaXMuZW5kTm9kZSk7XG4gICAgfVxuICAgIF9fY29tbWl0Tm9kZSh2YWx1ZSkge1xuICAgICAgICBpZiAodGhpcy52YWx1ZSA9PT0gdmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNsZWFyKCk7XG4gICAgICAgIHRoaXMuX19pbnNlcnQodmFsdWUpO1xuICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgfVxuICAgIF9fY29tbWl0VGV4dCh2YWx1ZSkge1xuICAgICAgICBjb25zdCBub2RlID0gdGhpcy5zdGFydE5vZGUubmV4dFNpYmxpbmc7XG4gICAgICAgIHZhbHVlID0gdmFsdWUgPT0gbnVsbCA/ICcnIDogdmFsdWU7XG4gICAgICAgIC8vIElmIGB2YWx1ZWAgaXNuJ3QgYWxyZWFkeSBhIHN0cmluZywgd2UgZXhwbGljaXRseSBjb252ZXJ0IGl0IGhlcmUgaW4gY2FzZVxuICAgICAgICAvLyBpdCBjYW4ndCBiZSBpbXBsaWNpdGx5IGNvbnZlcnRlZCAtIGkuZS4gaXQncyBhIHN5bWJvbC5cbiAgICAgICAgY29uc3QgdmFsdWVBc1N0cmluZyA9IHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgPyB2YWx1ZSA6IFN0cmluZyh2YWx1ZSk7XG4gICAgICAgIGlmIChub2RlID09PSB0aGlzLmVuZE5vZGUucHJldmlvdXNTaWJsaW5nICYmXG4gICAgICAgICAgICBub2RlLm5vZGVUeXBlID09PSAzIC8qIE5vZGUuVEVYVF9OT0RFICovKSB7XG4gICAgICAgICAgICAvLyBJZiB3ZSBvbmx5IGhhdmUgYSBzaW5nbGUgdGV4dCBub2RlIGJldHdlZW4gdGhlIG1hcmtlcnMsIHdlIGNhbiBqdXN0XG4gICAgICAgICAgICAvLyBzZXQgaXRzIHZhbHVlLCByYXRoZXIgdGhhbiByZXBsYWNpbmcgaXQuXG4gICAgICAgICAgICAvLyBUT0RPKGp1c3RpbmZhZ25hbmkpOiBDYW4gd2UganVzdCBjaGVjayBpZiB0aGlzLnZhbHVlIGlzIHByaW1pdGl2ZT9cbiAgICAgICAgICAgIG5vZGUuZGF0YSA9IHZhbHVlQXNTdHJpbmc7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9fY29tbWl0Tm9kZShkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSh2YWx1ZUFzU3RyaW5nKSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgIH1cbiAgICBfX2NvbW1pdFRlbXBsYXRlUmVzdWx0KHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IHRlbXBsYXRlID0gdGhpcy5vcHRpb25zLnRlbXBsYXRlRmFjdG9yeSh2YWx1ZSk7XG4gICAgICAgIGlmICh0aGlzLnZhbHVlIGluc3RhbmNlb2YgVGVtcGxhdGVJbnN0YW5jZSAmJlxuICAgICAgICAgICAgdGhpcy52YWx1ZS50ZW1wbGF0ZSA9PT0gdGVtcGxhdGUpIHtcbiAgICAgICAgICAgIHRoaXMudmFsdWUudXBkYXRlKHZhbHVlLnZhbHVlcyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBNYWtlIHN1cmUgd2UgcHJvcGFnYXRlIHRoZSB0ZW1wbGF0ZSBwcm9jZXNzb3IgZnJvbSB0aGUgVGVtcGxhdGVSZXN1bHRcbiAgICAgICAgICAgIC8vIHNvIHRoYXQgd2UgdXNlIGl0cyBzeW50YXggZXh0ZW5zaW9uLCBldGMuIFRoZSB0ZW1wbGF0ZSBmYWN0b3J5IGNvbWVzXG4gICAgICAgICAgICAvLyBmcm9tIHRoZSByZW5kZXIgZnVuY3Rpb24gb3B0aW9ucyBzbyB0aGF0IGl0IGNhbiBjb250cm9sIHRlbXBsYXRlXG4gICAgICAgICAgICAvLyBjYWNoaW5nIGFuZCBwcmVwcm9jZXNzaW5nLlxuICAgICAgICAgICAgY29uc3QgaW5zdGFuY2UgPSBuZXcgVGVtcGxhdGVJbnN0YW5jZSh0ZW1wbGF0ZSwgdmFsdWUucHJvY2Vzc29yLCB0aGlzLm9wdGlvbnMpO1xuICAgICAgICAgICAgY29uc3QgZnJhZ21lbnQgPSBpbnN0YW5jZS5fY2xvbmUoKTtcbiAgICAgICAgICAgIGluc3RhbmNlLnVwZGF0ZSh2YWx1ZS52YWx1ZXMpO1xuICAgICAgICAgICAgdGhpcy5fX2NvbW1pdE5vZGUoZnJhZ21lbnQpO1xuICAgICAgICAgICAgdGhpcy52YWx1ZSA9IGluc3RhbmNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIF9fY29tbWl0SXRlcmFibGUodmFsdWUpIHtcbiAgICAgICAgLy8gRm9yIGFuIEl0ZXJhYmxlLCB3ZSBjcmVhdGUgYSBuZXcgSW5zdGFuY2VQYXJ0IHBlciBpdGVtLCB0aGVuIHNldCBpdHNcbiAgICAgICAgLy8gdmFsdWUgdG8gdGhlIGl0ZW0uIFRoaXMgaXMgYSBsaXR0bGUgYml0IG9mIG92ZXJoZWFkIGZvciBldmVyeSBpdGVtIGluXG4gICAgICAgIC8vIGFuIEl0ZXJhYmxlLCBidXQgaXQgbGV0cyB1cyByZWN1cnNlIGVhc2lseSBhbmQgZWZmaWNpZW50bHkgdXBkYXRlIEFycmF5c1xuICAgICAgICAvLyBvZiBUZW1wbGF0ZVJlc3VsdHMgdGhhdCB3aWxsIGJlIGNvbW1vbmx5IHJldHVybmVkIGZyb20gZXhwcmVzc2lvbnMgbGlrZTpcbiAgICAgICAgLy8gYXJyYXkubWFwKChpKSA9PiBodG1sYCR7aX1gKSwgYnkgcmV1c2luZyBleGlzdGluZyBUZW1wbGF0ZUluc3RhbmNlcy5cbiAgICAgICAgLy8gSWYgX3ZhbHVlIGlzIGFuIGFycmF5LCB0aGVuIHRoZSBwcmV2aW91cyByZW5kZXIgd2FzIG9mIGFuXG4gICAgICAgIC8vIGl0ZXJhYmxlIGFuZCBfdmFsdWUgd2lsbCBjb250YWluIHRoZSBOb2RlUGFydHMgZnJvbSB0aGUgcHJldmlvdXNcbiAgICAgICAgLy8gcmVuZGVyLiBJZiBfdmFsdWUgaXMgbm90IGFuIGFycmF5LCBjbGVhciB0aGlzIHBhcnQgYW5kIG1ha2UgYSBuZXdcbiAgICAgICAgLy8gYXJyYXkgZm9yIE5vZGVQYXJ0cy5cbiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHRoaXMudmFsdWUpKSB7XG4gICAgICAgICAgICB0aGlzLnZhbHVlID0gW107XG4gICAgICAgICAgICB0aGlzLmNsZWFyKCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gTGV0cyB1cyBrZWVwIHRyYWNrIG9mIGhvdyBtYW55IGl0ZW1zIHdlIHN0YW1wZWQgc28gd2UgY2FuIGNsZWFyIGxlZnRvdmVyXG4gICAgICAgIC8vIGl0ZW1zIGZyb20gYSBwcmV2aW91cyByZW5kZXJcbiAgICAgICAgY29uc3QgaXRlbVBhcnRzID0gdGhpcy52YWx1ZTtcbiAgICAgICAgbGV0IHBhcnRJbmRleCA9IDA7XG4gICAgICAgIGxldCBpdGVtUGFydDtcbiAgICAgICAgZm9yIChjb25zdCBpdGVtIG9mIHZhbHVlKSB7XG4gICAgICAgICAgICAvLyBUcnkgdG8gcmV1c2UgYW4gZXhpc3RpbmcgcGFydFxuICAgICAgICAgICAgaXRlbVBhcnQgPSBpdGVtUGFydHNbcGFydEluZGV4XTtcbiAgICAgICAgICAgIC8vIElmIG5vIGV4aXN0aW5nIHBhcnQsIGNyZWF0ZSBhIG5ldyBvbmVcbiAgICAgICAgICAgIGlmIChpdGVtUGFydCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgaXRlbVBhcnQgPSBuZXcgTm9kZVBhcnQodGhpcy5vcHRpb25zKTtcbiAgICAgICAgICAgICAgICBpdGVtUGFydHMucHVzaChpdGVtUGFydCk7XG4gICAgICAgICAgICAgICAgaWYgKHBhcnRJbmRleCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBpdGVtUGFydC5hcHBlbmRJbnRvUGFydCh0aGlzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGl0ZW1QYXJ0Lmluc2VydEFmdGVyUGFydChpdGVtUGFydHNbcGFydEluZGV4IC0gMV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGl0ZW1QYXJ0LnNldFZhbHVlKGl0ZW0pO1xuICAgICAgICAgICAgaXRlbVBhcnQuY29tbWl0KCk7XG4gICAgICAgICAgICBwYXJ0SW5kZXgrKztcbiAgICAgICAgfVxuICAgICAgICBpZiAocGFydEluZGV4IDwgaXRlbVBhcnRzLmxlbmd0aCkge1xuICAgICAgICAgICAgLy8gVHJ1bmNhdGUgdGhlIHBhcnRzIGFycmF5IHNvIF92YWx1ZSByZWZsZWN0cyB0aGUgY3VycmVudCBzdGF0ZVxuICAgICAgICAgICAgaXRlbVBhcnRzLmxlbmd0aCA9IHBhcnRJbmRleDtcbiAgICAgICAgICAgIHRoaXMuY2xlYXIoaXRlbVBhcnQgJiYgaXRlbVBhcnQuZW5kTm9kZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2xlYXIoc3RhcnROb2RlID0gdGhpcy5zdGFydE5vZGUpIHtcbiAgICAgICAgcmVtb3ZlTm9kZXModGhpcy5zdGFydE5vZGUucGFyZW50Tm9kZSwgc3RhcnROb2RlLm5leHRTaWJsaW5nLCB0aGlzLmVuZE5vZGUpO1xuICAgIH1cbn1cbi8qKlxuICogSW1wbGVtZW50cyBhIGJvb2xlYW4gYXR0cmlidXRlLCByb3VnaGx5IGFzIGRlZmluZWQgaW4gdGhlIEhUTUxcbiAqIHNwZWNpZmljYXRpb24uXG4gKlxuICogSWYgdGhlIHZhbHVlIGlzIHRydXRoeSwgdGhlbiB0aGUgYXR0cmlidXRlIGlzIHByZXNlbnQgd2l0aCBhIHZhbHVlIG9mXG4gKiAnJy4gSWYgdGhlIHZhbHVlIGlzIGZhbHNleSwgdGhlIGF0dHJpYnV0ZSBpcyByZW1vdmVkLlxuICovXG5leHBvcnQgY2xhc3MgQm9vbGVhbkF0dHJpYnV0ZVBhcnQge1xuICAgIGNvbnN0cnVjdG9yKGVsZW1lbnQsIG5hbWUsIHN0cmluZ3MpIHtcbiAgICAgICAgdGhpcy52YWx1ZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5fX3BlbmRpbmdWYWx1ZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKHN0cmluZ3MubGVuZ3RoICE9PSAyIHx8IHN0cmluZ3NbMF0gIT09ICcnIHx8IHN0cmluZ3NbMV0gIT09ICcnKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Jvb2xlYW4gYXR0cmlidXRlcyBjYW4gb25seSBjb250YWluIGEgc2luZ2xlIGV4cHJlc3Npb24nKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgICB0aGlzLnN0cmluZ3MgPSBzdHJpbmdzO1xuICAgIH1cbiAgICBzZXRWYWx1ZSh2YWx1ZSkge1xuICAgICAgICB0aGlzLl9fcGVuZGluZ1ZhbHVlID0gdmFsdWU7XG4gICAgfVxuICAgIGNvbW1pdCgpIHtcbiAgICAgICAgd2hpbGUgKGlzRGlyZWN0aXZlKHRoaXMuX19wZW5kaW5nVmFsdWUpKSB7XG4gICAgICAgICAgICBjb25zdCBkaXJlY3RpdmUgPSB0aGlzLl9fcGVuZGluZ1ZhbHVlO1xuICAgICAgICAgICAgdGhpcy5fX3BlbmRpbmdWYWx1ZSA9IG5vQ2hhbmdlO1xuICAgICAgICAgICAgZGlyZWN0aXZlKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9fcGVuZGluZ1ZhbHVlID09PSBub0NoYW5nZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHZhbHVlID0gISF0aGlzLl9fcGVuZGluZ1ZhbHVlO1xuICAgICAgICBpZiAodGhpcy52YWx1ZSAhPT0gdmFsdWUpIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudC5zZXRBdHRyaWJ1dGUodGhpcy5uYW1lLCAnJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKHRoaXMubmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fX3BlbmRpbmdWYWx1ZSA9IG5vQ2hhbmdlO1xuICAgIH1cbn1cbi8qKlxuICogU2V0cyBhdHRyaWJ1dGUgdmFsdWVzIGZvciBQcm9wZXJ0eVBhcnRzLCBzbyB0aGF0IHRoZSB2YWx1ZSBpcyBvbmx5IHNldCBvbmNlXG4gKiBldmVuIGlmIHRoZXJlIGFyZSBtdWx0aXBsZSBwYXJ0cyBmb3IgYSBwcm9wZXJ0eS5cbiAqXG4gKiBJZiBhbiBleHByZXNzaW9uIGNvbnRyb2xzIHRoZSB3aG9sZSBwcm9wZXJ0eSB2YWx1ZSwgdGhlbiB0aGUgdmFsdWUgaXMgc2ltcGx5XG4gKiBhc3NpZ25lZCB0byB0aGUgcHJvcGVydHkgdW5kZXIgY29udHJvbC4gSWYgdGhlcmUgYXJlIHN0cmluZyBsaXRlcmFscyBvclxuICogbXVsdGlwbGUgZXhwcmVzc2lvbnMsIHRoZW4gdGhlIHN0cmluZ3MgYXJlIGV4cHJlc3Npb25zIGFyZSBpbnRlcnBvbGF0ZWQgaW50b1xuICogYSBzdHJpbmcgZmlyc3QuXG4gKi9cbmV4cG9ydCBjbGFzcyBQcm9wZXJ0eUNvbW1pdHRlciBleHRlbmRzIEF0dHJpYnV0ZUNvbW1pdHRlciB7XG4gICAgY29uc3RydWN0b3IoZWxlbWVudCwgbmFtZSwgc3RyaW5ncykge1xuICAgICAgICBzdXBlcihlbGVtZW50LCBuYW1lLCBzdHJpbmdzKTtcbiAgICAgICAgdGhpcy5zaW5nbGUgPVxuICAgICAgICAgICAgKHN0cmluZ3MubGVuZ3RoID09PSAyICYmIHN0cmluZ3NbMF0gPT09ICcnICYmIHN0cmluZ3NbMV0gPT09ICcnKTtcbiAgICB9XG4gICAgX2NyZWF0ZVBhcnQoKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvcGVydHlQYXJ0KHRoaXMpO1xuICAgIH1cbiAgICBfZ2V0VmFsdWUoKSB7XG4gICAgICAgIGlmICh0aGlzLnNpbmdsZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucGFydHNbMF0udmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN1cGVyLl9nZXRWYWx1ZSgpO1xuICAgIH1cbiAgICBjb21taXQoKSB7XG4gICAgICAgIGlmICh0aGlzLmRpcnR5KSB7XG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XG4gICAgICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tYW55XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnRbdGhpcy5uYW1lXSA9IHRoaXMuX2dldFZhbHVlKCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnQgY2xhc3MgUHJvcGVydHlQYXJ0IGV4dGVuZHMgQXR0cmlidXRlUGFydCB7XG59XG4vLyBEZXRlY3QgZXZlbnQgbGlzdGVuZXIgb3B0aW9ucyBzdXBwb3J0LiBJZiB0aGUgYGNhcHR1cmVgIHByb3BlcnR5IGlzIHJlYWRcbi8vIGZyb20gdGhlIG9wdGlvbnMgb2JqZWN0LCB0aGVuIG9wdGlvbnMgYXJlIHN1cHBvcnRlZC4gSWYgbm90LCB0aGVuIHRoZSB0aHJpZFxuLy8gYXJndW1lbnQgdG8gYWRkL3JlbW92ZUV2ZW50TGlzdGVuZXIgaXMgaW50ZXJwcmV0ZWQgYXMgdGhlIGJvb2xlYW4gY2FwdHVyZVxuLy8gdmFsdWUgc28gd2Ugc2hvdWxkIG9ubHkgcGFzcyB0aGUgYGNhcHR1cmVgIHByb3BlcnR5LlxubGV0IGV2ZW50T3B0aW9uc1N1cHBvcnRlZCA9IGZhbHNlO1xudHJ5IHtcbiAgICBjb25zdCBvcHRpb25zID0ge1xuICAgICAgICBnZXQgY2FwdHVyZSgpIHtcbiAgICAgICAgICAgIGV2ZW50T3B0aW9uc1N1cHBvcnRlZCA9IHRydWU7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1hbnlcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigndGVzdCcsIG9wdGlvbnMsIG9wdGlvbnMpO1xuICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1hbnlcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigndGVzdCcsIG9wdGlvbnMsIG9wdGlvbnMpO1xufVxuY2F0Y2ggKF9lKSB7XG59XG5leHBvcnQgY2xhc3MgRXZlbnRQYXJ0IHtcbiAgICBjb25zdHJ1Y3RvcihlbGVtZW50LCBldmVudE5hbWUsIGV2ZW50Q29udGV4dCkge1xuICAgICAgICB0aGlzLnZhbHVlID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLl9fcGVuZGluZ1ZhbHVlID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgICB0aGlzLmV2ZW50TmFtZSA9IGV2ZW50TmFtZTtcbiAgICAgICAgdGhpcy5ldmVudENvbnRleHQgPSBldmVudENvbnRleHQ7XG4gICAgICAgIHRoaXMuX19ib3VuZEhhbmRsZUV2ZW50ID0gKGUpID0+IHRoaXMuaGFuZGxlRXZlbnQoZSk7XG4gICAgfVxuICAgIHNldFZhbHVlKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuX19wZW5kaW5nVmFsdWUgPSB2YWx1ZTtcbiAgICB9XG4gICAgY29tbWl0KCkge1xuICAgICAgICB3aGlsZSAoaXNEaXJlY3RpdmUodGhpcy5fX3BlbmRpbmdWYWx1ZSkpIHtcbiAgICAgICAgICAgIGNvbnN0IGRpcmVjdGl2ZSA9IHRoaXMuX19wZW5kaW5nVmFsdWU7XG4gICAgICAgICAgICB0aGlzLl9fcGVuZGluZ1ZhbHVlID0gbm9DaGFuZ2U7XG4gICAgICAgICAgICBkaXJlY3RpdmUodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX19wZW5kaW5nVmFsdWUgPT09IG5vQ2hhbmdlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbmV3TGlzdGVuZXIgPSB0aGlzLl9fcGVuZGluZ1ZhbHVlO1xuICAgICAgICBjb25zdCBvbGRMaXN0ZW5lciA9IHRoaXMudmFsdWU7XG4gICAgICAgIGNvbnN0IHNob3VsZFJlbW92ZUxpc3RlbmVyID0gbmV3TGlzdGVuZXIgPT0gbnVsbCB8fFxuICAgICAgICAgICAgb2xkTGlzdGVuZXIgIT0gbnVsbCAmJlxuICAgICAgICAgICAgICAgIChuZXdMaXN0ZW5lci5jYXB0dXJlICE9PSBvbGRMaXN0ZW5lci5jYXB0dXJlIHx8XG4gICAgICAgICAgICAgICAgICAgIG5ld0xpc3RlbmVyLm9uY2UgIT09IG9sZExpc3RlbmVyLm9uY2UgfHxcbiAgICAgICAgICAgICAgICAgICAgbmV3TGlzdGVuZXIucGFzc2l2ZSAhPT0gb2xkTGlzdGVuZXIucGFzc2l2ZSk7XG4gICAgICAgIGNvbnN0IHNob3VsZEFkZExpc3RlbmVyID0gbmV3TGlzdGVuZXIgIT0gbnVsbCAmJiAob2xkTGlzdGVuZXIgPT0gbnVsbCB8fCBzaG91bGRSZW1vdmVMaXN0ZW5lcik7XG4gICAgICAgIGlmIChzaG91bGRSZW1vdmVMaXN0ZW5lcikge1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIodGhpcy5ldmVudE5hbWUsIHRoaXMuX19ib3VuZEhhbmRsZUV2ZW50LCB0aGlzLl9fb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNob3VsZEFkZExpc3RlbmVyKSB7XG4gICAgICAgICAgICB0aGlzLl9fb3B0aW9ucyA9IGdldE9wdGlvbnMobmV3TGlzdGVuZXIpO1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIodGhpcy5ldmVudE5hbWUsIHRoaXMuX19ib3VuZEhhbmRsZUV2ZW50LCB0aGlzLl9fb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy52YWx1ZSA9IG5ld0xpc3RlbmVyO1xuICAgICAgICB0aGlzLl9fcGVuZGluZ1ZhbHVlID0gbm9DaGFuZ2U7XG4gICAgfVxuICAgIGhhbmRsZUV2ZW50KGV2ZW50KSB7XG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy52YWx1ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgdGhpcy52YWx1ZS5jYWxsKHRoaXMuZXZlbnRDb250ZXh0IHx8IHRoaXMuZWxlbWVudCwgZXZlbnQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy52YWx1ZS5oYW5kbGVFdmVudChldmVudCk7XG4gICAgICAgIH1cbiAgICB9XG59XG4vLyBXZSBjb3B5IG9wdGlvbnMgYmVjYXVzZSBvZiB0aGUgaW5jb25zaXN0ZW50IGJlaGF2aW9yIG9mIGJyb3dzZXJzIHdoZW4gcmVhZGluZ1xuLy8gdGhlIHRoaXJkIGFyZ3VtZW50IG9mIGFkZC9yZW1vdmVFdmVudExpc3RlbmVyLiBJRTExIGRvZXNuJ3Qgc3VwcG9ydCBvcHRpb25zXG4vLyBhdCBhbGwuIENocm9tZSA0MSBvbmx5IHJlYWRzIGBjYXB0dXJlYCBpZiB0aGUgYXJndW1lbnQgaXMgYW4gb2JqZWN0LlxuY29uc3QgZ2V0T3B0aW9ucyA9IChvKSA9PiBvICYmXG4gICAgKGV2ZW50T3B0aW9uc1N1cHBvcnRlZCA/XG4gICAgICAgIHsgY2FwdHVyZTogby5jYXB0dXJlLCBwYXNzaXZlOiBvLnBhc3NpdmUsIG9uY2U6IG8ub25jZSB9IDpcbiAgICAgICAgby5jYXB0dXJlKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhcnRzLmpzLm1hcCIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBUaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG4gKiBDb2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuICogc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4gKi9cbmltcG9ydCB7IEF0dHJpYnV0ZUNvbW1pdHRlciwgQm9vbGVhbkF0dHJpYnV0ZVBhcnQsIEV2ZW50UGFydCwgTm9kZVBhcnQsIFByb3BlcnR5Q29tbWl0dGVyIH0gZnJvbSAnLi9wYXJ0cy5qcyc7XG4vKipcbiAqIENyZWF0ZXMgUGFydHMgd2hlbiBhIHRlbXBsYXRlIGlzIGluc3RhbnRpYXRlZC5cbiAqL1xuZXhwb3J0IGNsYXNzIERlZmF1bHRUZW1wbGF0ZVByb2Nlc3NvciB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIHBhcnRzIGZvciBhbiBhdHRyaWJ1dGUtcG9zaXRpb24gYmluZGluZywgZ2l2ZW4gdGhlIGV2ZW50LCBhdHRyaWJ1dGVcbiAgICAgKiBuYW1lLCBhbmQgc3RyaW5nIGxpdGVyYWxzLlxuICAgICAqXG4gICAgICogQHBhcmFtIGVsZW1lbnQgVGhlIGVsZW1lbnQgY29udGFpbmluZyB0aGUgYmluZGluZ1xuICAgICAqIEBwYXJhbSBuYW1lICBUaGUgYXR0cmlidXRlIG5hbWVcbiAgICAgKiBAcGFyYW0gc3RyaW5ncyBUaGUgc3RyaW5nIGxpdGVyYWxzLiBUaGVyZSBhcmUgYWx3YXlzIGF0IGxlYXN0IHR3byBzdHJpbmdzLFxuICAgICAqICAgZXZlbnQgZm9yIGZ1bGx5LWNvbnRyb2xsZWQgYmluZGluZ3Mgd2l0aCBhIHNpbmdsZSBleHByZXNzaW9uLlxuICAgICAqL1xuICAgIGhhbmRsZUF0dHJpYnV0ZUV4cHJlc3Npb25zKGVsZW1lbnQsIG5hbWUsIHN0cmluZ3MsIG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgcHJlZml4ID0gbmFtZVswXTtcbiAgICAgICAgaWYgKHByZWZpeCA9PT0gJy4nKSB7XG4gICAgICAgICAgICBjb25zdCBjb21taXR0ZXIgPSBuZXcgUHJvcGVydHlDb21taXR0ZXIoZWxlbWVudCwgbmFtZS5zbGljZSgxKSwgc3RyaW5ncyk7XG4gICAgICAgICAgICByZXR1cm4gY29tbWl0dGVyLnBhcnRzO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwcmVmaXggPT09ICdAJykge1xuICAgICAgICAgICAgcmV0dXJuIFtuZXcgRXZlbnRQYXJ0KGVsZW1lbnQsIG5hbWUuc2xpY2UoMSksIG9wdGlvbnMuZXZlbnRDb250ZXh0KV07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHByZWZpeCA9PT0gJz8nKSB7XG4gICAgICAgICAgICByZXR1cm4gW25ldyBCb29sZWFuQXR0cmlidXRlUGFydChlbGVtZW50LCBuYW1lLnNsaWNlKDEpLCBzdHJpbmdzKV07XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY29tbWl0dGVyID0gbmV3IEF0dHJpYnV0ZUNvbW1pdHRlcihlbGVtZW50LCBuYW1lLCBzdHJpbmdzKTtcbiAgICAgICAgcmV0dXJuIGNvbW1pdHRlci5wYXJ0cztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIHBhcnRzIGZvciBhIHRleHQtcG9zaXRpb24gYmluZGluZy5cbiAgICAgKiBAcGFyYW0gdGVtcGxhdGVGYWN0b3J5XG4gICAgICovXG4gICAgaGFuZGxlVGV4dEV4cHJlc3Npb24ob3B0aW9ucykge1xuICAgICAgICByZXR1cm4gbmV3IE5vZGVQYXJ0KG9wdGlvbnMpO1xuICAgIH1cbn1cbmV4cG9ydCBjb25zdCBkZWZhdWx0VGVtcGxhdGVQcm9jZXNzb3IgPSBuZXcgRGVmYXVsdFRlbXBsYXRlUHJvY2Vzc29yKCk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kZWZhdWx0LXRlbXBsYXRlLXByb2Nlc3Nvci5qcy5tYXAiLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuICogQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbiAqIHN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuICovXG5pbXBvcnQgeyBtYXJrZXIsIFRlbXBsYXRlIH0gZnJvbSAnLi90ZW1wbGF0ZS5qcyc7XG4vKipcbiAqIFRoZSBkZWZhdWx0IFRlbXBsYXRlRmFjdG9yeSB3aGljaCBjYWNoZXMgVGVtcGxhdGVzIGtleWVkIG9uXG4gKiByZXN1bHQudHlwZSBhbmQgcmVzdWx0LnN0cmluZ3MuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0ZW1wbGF0ZUZhY3RvcnkocmVzdWx0KSB7XG4gICAgbGV0IHRlbXBsYXRlQ2FjaGUgPSB0ZW1wbGF0ZUNhY2hlcy5nZXQocmVzdWx0LnR5cGUpO1xuICAgIGlmICh0ZW1wbGF0ZUNhY2hlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGVtcGxhdGVDYWNoZSA9IHtcbiAgICAgICAgICAgIHN0cmluZ3NBcnJheTogbmV3IFdlYWtNYXAoKSxcbiAgICAgICAgICAgIGtleVN0cmluZzogbmV3IE1hcCgpXG4gICAgICAgIH07XG4gICAgICAgIHRlbXBsYXRlQ2FjaGVzLnNldChyZXN1bHQudHlwZSwgdGVtcGxhdGVDYWNoZSk7XG4gICAgfVxuICAgIGxldCB0ZW1wbGF0ZSA9IHRlbXBsYXRlQ2FjaGUuc3RyaW5nc0FycmF5LmdldChyZXN1bHQuc3RyaW5ncyk7XG4gICAgaWYgKHRlbXBsYXRlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHRlbXBsYXRlO1xuICAgIH1cbiAgICAvLyBJZiB0aGUgVGVtcGxhdGVTdHJpbmdzQXJyYXkgaXMgbmV3LCBnZW5lcmF0ZSBhIGtleSBmcm9tIHRoZSBzdHJpbmdzXG4gICAgLy8gVGhpcyBrZXkgaXMgc2hhcmVkIGJldHdlZW4gYWxsIHRlbXBsYXRlcyB3aXRoIGlkZW50aWNhbCBjb250ZW50XG4gICAgY29uc3Qga2V5ID0gcmVzdWx0LnN0cmluZ3Muam9pbihtYXJrZXIpO1xuICAgIC8vIENoZWNrIGlmIHdlIGFscmVhZHkgaGF2ZSBhIFRlbXBsYXRlIGZvciB0aGlzIGtleVxuICAgIHRlbXBsYXRlID0gdGVtcGxhdGVDYWNoZS5rZXlTdHJpbmcuZ2V0KGtleSk7XG4gICAgaWYgKHRlbXBsYXRlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgLy8gSWYgd2UgaGF2ZSBub3Qgc2VlbiB0aGlzIGtleSBiZWZvcmUsIGNyZWF0ZSBhIG5ldyBUZW1wbGF0ZVxuICAgICAgICB0ZW1wbGF0ZSA9IG5ldyBUZW1wbGF0ZShyZXN1bHQsIHJlc3VsdC5nZXRUZW1wbGF0ZUVsZW1lbnQoKSk7XG4gICAgICAgIC8vIENhY2hlIHRoZSBUZW1wbGF0ZSBmb3IgdGhpcyBrZXlcbiAgICAgICAgdGVtcGxhdGVDYWNoZS5rZXlTdHJpbmcuc2V0KGtleSwgdGVtcGxhdGUpO1xuICAgIH1cbiAgICAvLyBDYWNoZSBhbGwgZnV0dXJlIHF1ZXJpZXMgZm9yIHRoaXMgVGVtcGxhdGVTdHJpbmdzQXJyYXlcbiAgICB0ZW1wbGF0ZUNhY2hlLnN0cmluZ3NBcnJheS5zZXQocmVzdWx0LnN0cmluZ3MsIHRlbXBsYXRlKTtcbiAgICByZXR1cm4gdGVtcGxhdGU7XG59XG5leHBvcnQgY29uc3QgdGVtcGxhdGVDYWNoZXMgPSBuZXcgTWFwKCk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD10ZW1wbGF0ZS1mYWN0b3J5LmpzLm1hcCIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBUaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG4gKiBDb2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuICogc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4gKi9cbi8qKlxuICogQG1vZHVsZSBsaXQtaHRtbFxuICovXG5pbXBvcnQgeyByZW1vdmVOb2RlcyB9IGZyb20gJy4vZG9tLmpzJztcbmltcG9ydCB7IE5vZGVQYXJ0IH0gZnJvbSAnLi9wYXJ0cy5qcyc7XG5pbXBvcnQgeyB0ZW1wbGF0ZUZhY3RvcnkgfSBmcm9tICcuL3RlbXBsYXRlLWZhY3RvcnkuanMnO1xuZXhwb3J0IGNvbnN0IHBhcnRzID0gbmV3IFdlYWtNYXAoKTtcbi8qKlxuICogUmVuZGVycyBhIHRlbXBsYXRlIHJlc3VsdCBvciBvdGhlciB2YWx1ZSB0byBhIGNvbnRhaW5lci5cbiAqXG4gKiBUbyB1cGRhdGUgYSBjb250YWluZXIgd2l0aCBuZXcgdmFsdWVzLCByZWV2YWx1YXRlIHRoZSB0ZW1wbGF0ZSBsaXRlcmFsIGFuZFxuICogY2FsbCBgcmVuZGVyYCB3aXRoIHRoZSBuZXcgcmVzdWx0LlxuICpcbiAqIEBwYXJhbSByZXN1bHQgQW55IHZhbHVlIHJlbmRlcmFibGUgYnkgTm9kZVBhcnQgLSB0eXBpY2FsbHkgYSBUZW1wbGF0ZVJlc3VsdFxuICogICAgIGNyZWF0ZWQgYnkgZXZhbHVhdGluZyBhIHRlbXBsYXRlIHRhZyBsaWtlIGBodG1sYCBvciBgc3ZnYC5cbiAqIEBwYXJhbSBjb250YWluZXIgQSBET00gcGFyZW50IHRvIHJlbmRlciB0by4gVGhlIGVudGlyZSBjb250ZW50cyBhcmUgZWl0aGVyXG4gKiAgICAgcmVwbGFjZWQsIG9yIGVmZmljaWVudGx5IHVwZGF0ZWQgaWYgdGhlIHNhbWUgcmVzdWx0IHR5cGUgd2FzIHByZXZpb3VzXG4gKiAgICAgcmVuZGVyZWQgdGhlcmUuXG4gKiBAcGFyYW0gb3B0aW9ucyBSZW5kZXJPcHRpb25zIGZvciB0aGUgZW50aXJlIHJlbmRlciB0cmVlIHJlbmRlcmVkIHRvIHRoaXNcbiAqICAgICBjb250YWluZXIuIFJlbmRlciBvcHRpb25zIG11c3QgKm5vdCogY2hhbmdlIGJldHdlZW4gcmVuZGVycyB0byB0aGUgc2FtZVxuICogICAgIGNvbnRhaW5lciwgYXMgdGhvc2UgY2hhbmdlcyB3aWxsIG5vdCBlZmZlY3QgcHJldmlvdXNseSByZW5kZXJlZCBET00uXG4gKi9cbmV4cG9ydCBjb25zdCByZW5kZXIgPSAocmVzdWx0LCBjb250YWluZXIsIG9wdGlvbnMpID0+IHtcbiAgICBsZXQgcGFydCA9IHBhcnRzLmdldChjb250YWluZXIpO1xuICAgIGlmIChwYXJ0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmVtb3ZlTm9kZXMoY29udGFpbmVyLCBjb250YWluZXIuZmlyc3RDaGlsZCk7XG4gICAgICAgIHBhcnRzLnNldChjb250YWluZXIsIHBhcnQgPSBuZXcgTm9kZVBhcnQoT2JqZWN0LmFzc2lnbih7IHRlbXBsYXRlRmFjdG9yeSB9LCBvcHRpb25zKSkpO1xuICAgICAgICBwYXJ0LmFwcGVuZEludG8oY29udGFpbmVyKTtcbiAgICB9XG4gICAgcGFydC5zZXRWYWx1ZShyZXN1bHQpO1xuICAgIHBhcnQuY29tbWl0KCk7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmVuZGVyLmpzLm1hcCIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBUaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG4gKiBDb2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuICogc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4gKi9cbi8qKlxuICpcbiAqIE1haW4gbGl0LWh0bWwgbW9kdWxlLlxuICpcbiAqIE1haW4gZXhwb3J0czpcbiAqXG4gKiAtICBbW2h0bWxdXVxuICogLSAgW1tzdmddXVxuICogLSAgW1tyZW5kZXJdXVxuICpcbiAqIEBtb2R1bGUgbGl0LWh0bWxcbiAqIEBwcmVmZXJyZWRcbiAqL1xuLyoqXG4gKiBEbyBub3QgcmVtb3ZlIHRoaXMgY29tbWVudDsgaXQga2VlcHMgdHlwZWRvYyBmcm9tIG1pc3BsYWNpbmcgdGhlIG1vZHVsZVxuICogZG9jcy5cbiAqL1xuaW1wb3J0IHsgZGVmYXVsdFRlbXBsYXRlUHJvY2Vzc29yIH0gZnJvbSAnLi9saWIvZGVmYXVsdC10ZW1wbGF0ZS1wcm9jZXNzb3IuanMnO1xuaW1wb3J0IHsgU1ZHVGVtcGxhdGVSZXN1bHQsIFRlbXBsYXRlUmVzdWx0IH0gZnJvbSAnLi9saWIvdGVtcGxhdGUtcmVzdWx0LmpzJztcbmV4cG9ydCB7IERlZmF1bHRUZW1wbGF0ZVByb2Nlc3NvciwgZGVmYXVsdFRlbXBsYXRlUHJvY2Vzc29yIH0gZnJvbSAnLi9saWIvZGVmYXVsdC10ZW1wbGF0ZS1wcm9jZXNzb3IuanMnO1xuZXhwb3J0IHsgZGlyZWN0aXZlLCBpc0RpcmVjdGl2ZSB9IGZyb20gJy4vbGliL2RpcmVjdGl2ZS5qcyc7XG4vLyBUT0RPKGp1c3RpbmZhZ25hbmkpOiByZW1vdmUgbGluZSB3aGVuIHdlIGdldCBOb2RlUGFydCBtb3ZpbmcgbWV0aG9kc1xuZXhwb3J0IHsgcmVtb3ZlTm9kZXMsIHJlcGFyZW50Tm9kZXMgfSBmcm9tICcuL2xpYi9kb20uanMnO1xuZXhwb3J0IHsgbm9DaGFuZ2UsIG5vdGhpbmcgfSBmcm9tICcuL2xpYi9wYXJ0LmpzJztcbmV4cG9ydCB7IEF0dHJpYnV0ZUNvbW1pdHRlciwgQXR0cmlidXRlUGFydCwgQm9vbGVhbkF0dHJpYnV0ZVBhcnQsIEV2ZW50UGFydCwgaXNJdGVyYWJsZSwgaXNQcmltaXRpdmUsIE5vZGVQYXJ0LCBQcm9wZXJ0eUNvbW1pdHRlciwgUHJvcGVydHlQYXJ0IH0gZnJvbSAnLi9saWIvcGFydHMuanMnO1xuZXhwb3J0IHsgcGFydHMsIHJlbmRlciB9IGZyb20gJy4vbGliL3JlbmRlci5qcyc7XG5leHBvcnQgeyB0ZW1wbGF0ZUNhY2hlcywgdGVtcGxhdGVGYWN0b3J5IH0gZnJvbSAnLi9saWIvdGVtcGxhdGUtZmFjdG9yeS5qcyc7XG5leHBvcnQgeyBUZW1wbGF0ZUluc3RhbmNlIH0gZnJvbSAnLi9saWIvdGVtcGxhdGUtaW5zdGFuY2UuanMnO1xuZXhwb3J0IHsgU1ZHVGVtcGxhdGVSZXN1bHQsIFRlbXBsYXRlUmVzdWx0IH0gZnJvbSAnLi9saWIvdGVtcGxhdGUtcmVzdWx0LmpzJztcbmV4cG9ydCB7IGNyZWF0ZU1hcmtlciwgaXNUZW1wbGF0ZVBhcnRBY3RpdmUsIFRlbXBsYXRlIH0gZnJvbSAnLi9saWIvdGVtcGxhdGUuanMnO1xuLy8gSU1QT1JUQU5UOiBkbyBub3QgY2hhbmdlIHRoZSBwcm9wZXJ0eSBuYW1lIG9yIHRoZSBhc3NpZ25tZW50IGV4cHJlc3Npb24uXG4vLyBUaGlzIGxpbmUgd2lsbCBiZSB1c2VkIGluIHJlZ2V4ZXMgdG8gc2VhcmNoIGZvciBsaXQtaHRtbCB1c2FnZS5cbi8vIFRPRE8oanVzdGluZmFnbmFuaSk6IGluamVjdCB2ZXJzaW9uIG51bWJlciBhdCBidWlsZCB0aW1lXG4od2luZG93WydsaXRIdG1sVmVyc2lvbnMnXSB8fCAod2luZG93WydsaXRIdG1sVmVyc2lvbnMnXSA9IFtdKSkucHVzaCgnMS4xLjInKTtcbi8qKlxuICogSW50ZXJwcmV0cyBhIHRlbXBsYXRlIGxpdGVyYWwgYXMgYW4gSFRNTCB0ZW1wbGF0ZSB0aGF0IGNhbiBlZmZpY2llbnRseVxuICogcmVuZGVyIHRvIGFuZCB1cGRhdGUgYSBjb250YWluZXIuXG4gKi9cbmV4cG9ydCBjb25zdCBodG1sID0gKHN0cmluZ3MsIC4uLnZhbHVlcykgPT4gbmV3IFRlbXBsYXRlUmVzdWx0KHN0cmluZ3MsIHZhbHVlcywgJ2h0bWwnLCBkZWZhdWx0VGVtcGxhdGVQcm9jZXNzb3IpO1xuLyoqXG4gKiBJbnRlcnByZXRzIGEgdGVtcGxhdGUgbGl0ZXJhbCBhcyBhbiBTVkcgdGVtcGxhdGUgdGhhdCBjYW4gZWZmaWNpZW50bHlcbiAqIHJlbmRlciB0byBhbmQgdXBkYXRlIGEgY29udGFpbmVyLlxuICovXG5leHBvcnQgY29uc3Qgc3ZnID0gKHN0cmluZ3MsIC4uLnZhbHVlcykgPT4gbmV3IFNWR1RlbXBsYXRlUmVzdWx0KHN0cmluZ3MsIHZhbHVlcywgJ3N2ZycsIGRlZmF1bHRUZW1wbGF0ZVByb2Nlc3Nvcik7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1saXQtaHRtbC5qcy5tYXAiLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuICogQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbiAqIHN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuICovXG4vKipcbiAqIEBtb2R1bGUgc2hhZHktcmVuZGVyXG4gKi9cbmltcG9ydCB7IGlzVGVtcGxhdGVQYXJ0QWN0aXZlIH0gZnJvbSAnLi90ZW1wbGF0ZS5qcyc7XG5jb25zdCB3YWxrZXJOb2RlRmlsdGVyID0gMTMzIC8qIE5vZGVGaWx0ZXIuU0hPV197RUxFTUVOVHxDT01NRU5UfFRFWFR9ICovO1xuLyoqXG4gKiBSZW1vdmVzIHRoZSBsaXN0IG9mIG5vZGVzIGZyb20gYSBUZW1wbGF0ZSBzYWZlbHkuIEluIGFkZGl0aW9uIHRvIHJlbW92aW5nXG4gKiBub2RlcyBmcm9tIHRoZSBUZW1wbGF0ZSwgdGhlIFRlbXBsYXRlIHBhcnQgaW5kaWNlcyBhcmUgdXBkYXRlZCB0byBtYXRjaFxuICogdGhlIG11dGF0ZWQgVGVtcGxhdGUgRE9NLlxuICpcbiAqIEFzIHRoZSB0ZW1wbGF0ZSBpcyB3YWxrZWQgdGhlIHJlbW92YWwgc3RhdGUgaXMgdHJhY2tlZCBhbmRcbiAqIHBhcnQgaW5kaWNlcyBhcmUgYWRqdXN0ZWQgYXMgbmVlZGVkLlxuICpcbiAqIGRpdlxuICogICBkaXYjMSAocmVtb3ZlKSA8LS0gc3RhcnQgcmVtb3ZpbmcgKHJlbW92aW5nIG5vZGUgaXMgZGl2IzEpXG4gKiAgICAgZGl2XG4gKiAgICAgICBkaXYjMiAocmVtb3ZlKSAgPC0tIGNvbnRpbnVlIHJlbW92aW5nIChyZW1vdmluZyBub2RlIGlzIHN0aWxsIGRpdiMxKVxuICogICAgICAgICBkaXZcbiAqIGRpdiA8LS0gc3RvcCByZW1vdmluZyBzaW5jZSBwcmV2aW91cyBzaWJsaW5nIGlzIHRoZSByZW1vdmluZyBub2RlIChkaXYjMSxcbiAqIHJlbW92ZWQgNCBub2RlcylcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZU5vZGVzRnJvbVRlbXBsYXRlKHRlbXBsYXRlLCBub2Rlc1RvUmVtb3ZlKSB7XG4gICAgY29uc3QgeyBlbGVtZW50OiB7IGNvbnRlbnQgfSwgcGFydHMgfSA9IHRlbXBsYXRlO1xuICAgIGNvbnN0IHdhbGtlciA9IGRvY3VtZW50LmNyZWF0ZVRyZWVXYWxrZXIoY29udGVudCwgd2Fsa2VyTm9kZUZpbHRlciwgbnVsbCwgZmFsc2UpO1xuICAgIGxldCBwYXJ0SW5kZXggPSBuZXh0QWN0aXZlSW5kZXhJblRlbXBsYXRlUGFydHMocGFydHMpO1xuICAgIGxldCBwYXJ0ID0gcGFydHNbcGFydEluZGV4XTtcbiAgICBsZXQgbm9kZUluZGV4ID0gLTE7XG4gICAgbGV0IHJlbW92ZUNvdW50ID0gMDtcbiAgICBjb25zdCBub2Rlc1RvUmVtb3ZlSW5UZW1wbGF0ZSA9IFtdO1xuICAgIGxldCBjdXJyZW50UmVtb3ZpbmdOb2RlID0gbnVsbDtcbiAgICB3aGlsZSAod2Fsa2VyLm5leHROb2RlKCkpIHtcbiAgICAgICAgbm9kZUluZGV4Kys7XG4gICAgICAgIGNvbnN0IG5vZGUgPSB3YWxrZXIuY3VycmVudE5vZGU7XG4gICAgICAgIC8vIEVuZCByZW1vdmFsIGlmIHN0ZXBwZWQgcGFzdCB0aGUgcmVtb3Zpbmcgbm9kZVxuICAgICAgICBpZiAobm9kZS5wcmV2aW91c1NpYmxpbmcgPT09IGN1cnJlbnRSZW1vdmluZ05vZGUpIHtcbiAgICAgICAgICAgIGN1cnJlbnRSZW1vdmluZ05vZGUgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIC8vIEEgbm9kZSB0byByZW1vdmUgd2FzIGZvdW5kIGluIHRoZSB0ZW1wbGF0ZVxuICAgICAgICBpZiAobm9kZXNUb1JlbW92ZS5oYXMobm9kZSkpIHtcbiAgICAgICAgICAgIG5vZGVzVG9SZW1vdmVJblRlbXBsYXRlLnB1c2gobm9kZSk7XG4gICAgICAgICAgICAvLyBUcmFjayBub2RlIHdlJ3JlIHJlbW92aW5nXG4gICAgICAgICAgICBpZiAoY3VycmVudFJlbW92aW5nTm9kZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRSZW1vdmluZ05vZGUgPSBub2RlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIFdoZW4gcmVtb3ZpbmcsIGluY3JlbWVudCBjb3VudCBieSB3aGljaCB0byBhZGp1c3Qgc3Vic2VxdWVudCBwYXJ0IGluZGljZXNcbiAgICAgICAgaWYgKGN1cnJlbnRSZW1vdmluZ05vZGUgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHJlbW92ZUNvdW50Kys7XG4gICAgICAgIH1cbiAgICAgICAgd2hpbGUgKHBhcnQgIT09IHVuZGVmaW5lZCAmJiBwYXJ0LmluZGV4ID09PSBub2RlSW5kZXgpIHtcbiAgICAgICAgICAgIC8vIElmIHBhcnQgaXMgaW4gYSByZW1vdmVkIG5vZGUgZGVhY3RpdmF0ZSBpdCBieSBzZXR0aW5nIGluZGV4IHRvIC0xIG9yXG4gICAgICAgICAgICAvLyBhZGp1c3QgdGhlIGluZGV4IGFzIG5lZWRlZC5cbiAgICAgICAgICAgIHBhcnQuaW5kZXggPSBjdXJyZW50UmVtb3ZpbmdOb2RlICE9PSBudWxsID8gLTEgOiBwYXJ0LmluZGV4IC0gcmVtb3ZlQ291bnQ7XG4gICAgICAgICAgICAvLyBnbyB0byB0aGUgbmV4dCBhY3RpdmUgcGFydC5cbiAgICAgICAgICAgIHBhcnRJbmRleCA9IG5leHRBY3RpdmVJbmRleEluVGVtcGxhdGVQYXJ0cyhwYXJ0cywgcGFydEluZGV4KTtcbiAgICAgICAgICAgIHBhcnQgPSBwYXJ0c1twYXJ0SW5kZXhdO1xuICAgICAgICB9XG4gICAgfVxuICAgIG5vZGVzVG9SZW1vdmVJblRlbXBsYXRlLmZvckVhY2goKG4pID0+IG4ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChuKSk7XG59XG5jb25zdCBjb3VudE5vZGVzID0gKG5vZGUpID0+IHtcbiAgICBsZXQgY291bnQgPSAobm9kZS5ub2RlVHlwZSA9PT0gMTEgLyogTm9kZS5ET0NVTUVOVF9GUkFHTUVOVF9OT0RFICovKSA/IDAgOiAxO1xuICAgIGNvbnN0IHdhbGtlciA9IGRvY3VtZW50LmNyZWF0ZVRyZWVXYWxrZXIobm9kZSwgd2Fsa2VyTm9kZUZpbHRlciwgbnVsbCwgZmFsc2UpO1xuICAgIHdoaWxlICh3YWxrZXIubmV4dE5vZGUoKSkge1xuICAgICAgICBjb3VudCsrO1xuICAgIH1cbiAgICByZXR1cm4gY291bnQ7XG59O1xuY29uc3QgbmV4dEFjdGl2ZUluZGV4SW5UZW1wbGF0ZVBhcnRzID0gKHBhcnRzLCBzdGFydEluZGV4ID0gLTEpID0+IHtcbiAgICBmb3IgKGxldCBpID0gc3RhcnRJbmRleCArIDE7IGkgPCBwYXJ0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBwYXJ0ID0gcGFydHNbaV07XG4gICAgICAgIGlmIChpc1RlbXBsYXRlUGFydEFjdGl2ZShwYXJ0KSkge1xuICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIC0xO1xufTtcbi8qKlxuICogSW5zZXJ0cyB0aGUgZ2l2ZW4gbm9kZSBpbnRvIHRoZSBUZW1wbGF0ZSwgb3B0aW9uYWxseSBiZWZvcmUgdGhlIGdpdmVuXG4gKiByZWZOb2RlLiBJbiBhZGRpdGlvbiB0byBpbnNlcnRpbmcgdGhlIG5vZGUgaW50byB0aGUgVGVtcGxhdGUsIHRoZSBUZW1wbGF0ZVxuICogcGFydCBpbmRpY2VzIGFyZSB1cGRhdGVkIHRvIG1hdGNoIHRoZSBtdXRhdGVkIFRlbXBsYXRlIERPTS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluc2VydE5vZGVJbnRvVGVtcGxhdGUodGVtcGxhdGUsIG5vZGUsIHJlZk5vZGUgPSBudWxsKSB7XG4gICAgY29uc3QgeyBlbGVtZW50OiB7IGNvbnRlbnQgfSwgcGFydHMgfSA9IHRlbXBsYXRlO1xuICAgIC8vIElmIHRoZXJlJ3Mgbm8gcmVmTm9kZSwgdGhlbiBwdXQgbm9kZSBhdCBlbmQgb2YgdGVtcGxhdGUuXG4gICAgLy8gTm8gcGFydCBpbmRpY2VzIG5lZWQgdG8gYmUgc2hpZnRlZCBpbiB0aGlzIGNhc2UuXG4gICAgaWYgKHJlZk5vZGUgPT09IG51bGwgfHwgcmVmTm9kZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnQuYXBwZW5kQ2hpbGQobm9kZSk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3Qgd2Fsa2VyID0gZG9jdW1lbnQuY3JlYXRlVHJlZVdhbGtlcihjb250ZW50LCB3YWxrZXJOb2RlRmlsdGVyLCBudWxsLCBmYWxzZSk7XG4gICAgbGV0IHBhcnRJbmRleCA9IG5leHRBY3RpdmVJbmRleEluVGVtcGxhdGVQYXJ0cyhwYXJ0cyk7XG4gICAgbGV0IGluc2VydENvdW50ID0gMDtcbiAgICBsZXQgd2Fsa2VySW5kZXggPSAtMTtcbiAgICB3aGlsZSAod2Fsa2VyLm5leHROb2RlKCkpIHtcbiAgICAgICAgd2Fsa2VySW5kZXgrKztcbiAgICAgICAgY29uc3Qgd2Fsa2VyTm9kZSA9IHdhbGtlci5jdXJyZW50Tm9kZTtcbiAgICAgICAgaWYgKHdhbGtlck5vZGUgPT09IHJlZk5vZGUpIHtcbiAgICAgICAgICAgIGluc2VydENvdW50ID0gY291bnROb2Rlcyhub2RlKTtcbiAgICAgICAgICAgIHJlZk5vZGUucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUobm9kZSwgcmVmTm9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgd2hpbGUgKHBhcnRJbmRleCAhPT0gLTEgJiYgcGFydHNbcGFydEluZGV4XS5pbmRleCA9PT0gd2Fsa2VySW5kZXgpIHtcbiAgICAgICAgICAgIC8vIElmIHdlJ3ZlIGluc2VydGVkIHRoZSBub2RlLCBzaW1wbHkgYWRqdXN0IGFsbCBzdWJzZXF1ZW50IHBhcnRzXG4gICAgICAgICAgICBpZiAoaW5zZXJ0Q291bnQgPiAwKSB7XG4gICAgICAgICAgICAgICAgd2hpbGUgKHBhcnRJbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgcGFydHNbcGFydEluZGV4XS5pbmRleCArPSBpbnNlcnRDb3VudDtcbiAgICAgICAgICAgICAgICAgICAgcGFydEluZGV4ID0gbmV4dEFjdGl2ZUluZGV4SW5UZW1wbGF0ZVBhcnRzKHBhcnRzLCBwYXJ0SW5kZXgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwYXJ0SW5kZXggPSBuZXh0QWN0aXZlSW5kZXhJblRlbXBsYXRlUGFydHMocGFydHMsIHBhcnRJbmRleCk7XG4gICAgICAgIH1cbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tb2RpZnktdGVtcGxhdGUuanMubWFwIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIFRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbiAqIENvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG4gKiBzdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiAqL1xuLyoqXG4gKiBNb2R1bGUgdG8gYWRkIHNoYWR5IERPTS9zaGFkeSBDU1MgcG9seWZpbGwgc3VwcG9ydCB0byBsaXQtaHRtbCB0ZW1wbGF0ZVxuICogcmVuZGVyaW5nLiBTZWUgdGhlIFtbcmVuZGVyXV0gbWV0aG9kIGZvciBkZXRhaWxzLlxuICpcbiAqIEBtb2R1bGUgc2hhZHktcmVuZGVyXG4gKiBAcHJlZmVycmVkXG4gKi9cbi8qKlxuICogRG8gbm90IHJlbW92ZSB0aGlzIGNvbW1lbnQ7IGl0IGtlZXBzIHR5cGVkb2MgZnJvbSBtaXNwbGFjaW5nIHRoZSBtb2R1bGVcbiAqIGRvY3MuXG4gKi9cbmltcG9ydCB7IHJlbW92ZU5vZGVzIH0gZnJvbSAnLi9kb20uanMnO1xuaW1wb3J0IHsgaW5zZXJ0Tm9kZUludG9UZW1wbGF0ZSwgcmVtb3ZlTm9kZXNGcm9tVGVtcGxhdGUgfSBmcm9tICcuL21vZGlmeS10ZW1wbGF0ZS5qcyc7XG5pbXBvcnQgeyBwYXJ0cywgcmVuZGVyIGFzIGxpdFJlbmRlciB9IGZyb20gJy4vcmVuZGVyLmpzJztcbmltcG9ydCB7IHRlbXBsYXRlQ2FjaGVzIH0gZnJvbSAnLi90ZW1wbGF0ZS1mYWN0b3J5LmpzJztcbmltcG9ydCB7IFRlbXBsYXRlSW5zdGFuY2UgfSBmcm9tICcuL3RlbXBsYXRlLWluc3RhbmNlLmpzJztcbmltcG9ydCB7IG1hcmtlciwgVGVtcGxhdGUgfSBmcm9tICcuL3RlbXBsYXRlLmpzJztcbmV4cG9ydCB7IGh0bWwsIHN2ZywgVGVtcGxhdGVSZXN1bHQgfSBmcm9tICcuLi9saXQtaHRtbC5qcyc7XG4vLyBHZXQgYSBrZXkgdG8gbG9va3VwIGluIGB0ZW1wbGF0ZUNhY2hlc2AuXG5jb25zdCBnZXRUZW1wbGF0ZUNhY2hlS2V5ID0gKHR5cGUsIHNjb3BlTmFtZSkgPT4gYCR7dHlwZX0tLSR7c2NvcGVOYW1lfWA7XG5sZXQgY29tcGF0aWJsZVNoYWR5Q1NTVmVyc2lvbiA9IHRydWU7XG5pZiAodHlwZW9mIHdpbmRvdy5TaGFkeUNTUyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBjb21wYXRpYmxlU2hhZHlDU1NWZXJzaW9uID0gZmFsc2U7XG59XG5lbHNlIGlmICh0eXBlb2Ygd2luZG93LlNoYWR5Q1NTLnByZXBhcmVUZW1wbGF0ZURvbSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBjb25zb2xlLndhcm4oYEluY29tcGF0aWJsZSBTaGFkeUNTUyB2ZXJzaW9uIGRldGVjdGVkLiBgICtcbiAgICAgICAgYFBsZWFzZSB1cGRhdGUgdG8gYXQgbGVhc3QgQHdlYmNvbXBvbmVudHMvd2ViY29tcG9uZW50c2pzQDIuMC4yIGFuZCBgICtcbiAgICAgICAgYEB3ZWJjb21wb25lbnRzL3NoYWR5Y3NzQDEuMy4xLmApO1xuICAgIGNvbXBhdGlibGVTaGFkeUNTU1ZlcnNpb24gPSBmYWxzZTtcbn1cbi8qKlxuICogVGVtcGxhdGUgZmFjdG9yeSB3aGljaCBzY29wZXMgdGVtcGxhdGUgRE9NIHVzaW5nIFNoYWR5Q1NTLlxuICogQHBhcmFtIHNjb3BlTmFtZSB7c3RyaW5nfVxuICovXG5jb25zdCBzaGFkeVRlbXBsYXRlRmFjdG9yeSA9IChzY29wZU5hbWUpID0+IChyZXN1bHQpID0+IHtcbiAgICBjb25zdCBjYWNoZUtleSA9IGdldFRlbXBsYXRlQ2FjaGVLZXkocmVzdWx0LnR5cGUsIHNjb3BlTmFtZSk7XG4gICAgbGV0IHRlbXBsYXRlQ2FjaGUgPSB0ZW1wbGF0ZUNhY2hlcy5nZXQoY2FjaGVLZXkpO1xuICAgIGlmICh0ZW1wbGF0ZUNhY2hlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGVtcGxhdGVDYWNoZSA9IHtcbiAgICAgICAgICAgIHN0cmluZ3NBcnJheTogbmV3IFdlYWtNYXAoKSxcbiAgICAgICAgICAgIGtleVN0cmluZzogbmV3IE1hcCgpXG4gICAgICAgIH07XG4gICAgICAgIHRlbXBsYXRlQ2FjaGVzLnNldChjYWNoZUtleSwgdGVtcGxhdGVDYWNoZSk7XG4gICAgfVxuICAgIGxldCB0ZW1wbGF0ZSA9IHRlbXBsYXRlQ2FjaGUuc3RyaW5nc0FycmF5LmdldChyZXN1bHQuc3RyaW5ncyk7XG4gICAgaWYgKHRlbXBsYXRlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHRlbXBsYXRlO1xuICAgIH1cbiAgICBjb25zdCBrZXkgPSByZXN1bHQuc3RyaW5ncy5qb2luKG1hcmtlcik7XG4gICAgdGVtcGxhdGUgPSB0ZW1wbGF0ZUNhY2hlLmtleVN0cmluZy5nZXQoa2V5KTtcbiAgICBpZiAodGVtcGxhdGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb25zdCBlbGVtZW50ID0gcmVzdWx0LmdldFRlbXBsYXRlRWxlbWVudCgpO1xuICAgICAgICBpZiAoY29tcGF0aWJsZVNoYWR5Q1NTVmVyc2lvbikge1xuICAgICAgICAgICAgd2luZG93LlNoYWR5Q1NTLnByZXBhcmVUZW1wbGF0ZURvbShlbGVtZW50LCBzY29wZU5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIHRlbXBsYXRlID0gbmV3IFRlbXBsYXRlKHJlc3VsdCwgZWxlbWVudCk7XG4gICAgICAgIHRlbXBsYXRlQ2FjaGUua2V5U3RyaW5nLnNldChrZXksIHRlbXBsYXRlKTtcbiAgICB9XG4gICAgdGVtcGxhdGVDYWNoZS5zdHJpbmdzQXJyYXkuc2V0KHJlc3VsdC5zdHJpbmdzLCB0ZW1wbGF0ZSk7XG4gICAgcmV0dXJuIHRlbXBsYXRlO1xufTtcbmNvbnN0IFRFTVBMQVRFX1RZUEVTID0gWydodG1sJywgJ3N2ZyddO1xuLyoqXG4gKiBSZW1vdmVzIGFsbCBzdHlsZSBlbGVtZW50cyBmcm9tIFRlbXBsYXRlcyBmb3IgdGhlIGdpdmVuIHNjb3BlTmFtZS5cbiAqL1xuY29uc3QgcmVtb3ZlU3R5bGVzRnJvbUxpdFRlbXBsYXRlcyA9IChzY29wZU5hbWUpID0+IHtcbiAgICBURU1QTEFURV9UWVBFUy5mb3JFYWNoKCh0eXBlKSA9PiB7XG4gICAgICAgIGNvbnN0IHRlbXBsYXRlcyA9IHRlbXBsYXRlQ2FjaGVzLmdldChnZXRUZW1wbGF0ZUNhY2hlS2V5KHR5cGUsIHNjb3BlTmFtZSkpO1xuICAgICAgICBpZiAodGVtcGxhdGVzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRlbXBsYXRlcy5rZXlTdHJpbmcuZm9yRWFjaCgodGVtcGxhdGUpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGVsZW1lbnQ6IHsgY29udGVudCB9IH0gPSB0ZW1wbGF0ZTtcbiAgICAgICAgICAgICAgICAvLyBJRSAxMSBkb2Vzbid0IHN1cHBvcnQgdGhlIGl0ZXJhYmxlIHBhcmFtIFNldCBjb25zdHJ1Y3RvclxuICAgICAgICAgICAgICAgIGNvbnN0IHN0eWxlcyA9IG5ldyBTZXQoKTtcbiAgICAgICAgICAgICAgICBBcnJheS5mcm9tKGNvbnRlbnQucXVlcnlTZWxlY3RvckFsbCgnc3R5bGUnKSkuZm9yRWFjaCgocykgPT4ge1xuICAgICAgICAgICAgICAgICAgICBzdHlsZXMuYWRkKHMpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJlbW92ZU5vZGVzRnJvbVRlbXBsYXRlKHRlbXBsYXRlLCBzdHlsZXMpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9KTtcbn07XG5jb25zdCBzaGFkeVJlbmRlclNldCA9IG5ldyBTZXQoKTtcbi8qKlxuICogRm9yIHRoZSBnaXZlbiBzY29wZSBuYW1lLCBlbnN1cmVzIHRoYXQgU2hhZHlDU1Mgc3R5bGUgc2NvcGluZyBpcyBwZXJmb3JtZWQuXG4gKiBUaGlzIGlzIGRvbmUganVzdCBvbmNlIHBlciBzY29wZSBuYW1lIHNvIHRoZSBmcmFnbWVudCBhbmQgdGVtcGxhdGUgY2Fubm90XG4gKiBiZSBtb2RpZmllZC5cbiAqICgxKSBleHRyYWN0cyBzdHlsZXMgZnJvbSB0aGUgcmVuZGVyZWQgZnJhZ21lbnQgYW5kIGhhbmRzIHRoZW0gdG8gU2hhZHlDU1NcbiAqIHRvIGJlIHNjb3BlZCBhbmQgYXBwZW5kZWQgdG8gdGhlIGRvY3VtZW50XG4gKiAoMikgcmVtb3ZlcyBzdHlsZSBlbGVtZW50cyBmcm9tIGFsbCBsaXQtaHRtbCBUZW1wbGF0ZXMgZm9yIHRoaXMgc2NvcGUgbmFtZS5cbiAqXG4gKiBOb3RlLCA8c3R5bGU+IGVsZW1lbnRzIGNhbiBvbmx5IGJlIHBsYWNlZCBpbnRvIHRlbXBsYXRlcyBmb3IgdGhlXG4gKiBpbml0aWFsIHJlbmRlcmluZyBvZiB0aGUgc2NvcGUuIElmIDxzdHlsZT4gZWxlbWVudHMgYXJlIGluY2x1ZGVkIGluIHRlbXBsYXRlc1xuICogZHluYW1pY2FsbHkgcmVuZGVyZWQgdG8gdGhlIHNjb3BlIChhZnRlciB0aGUgZmlyc3Qgc2NvcGUgcmVuZGVyKSwgdGhleSB3aWxsXG4gKiBub3QgYmUgc2NvcGVkIGFuZCB0aGUgPHN0eWxlPiB3aWxsIGJlIGxlZnQgaW4gdGhlIHRlbXBsYXRlIGFuZCByZW5kZXJlZFxuICogb3V0cHV0LlxuICovXG5jb25zdCBwcmVwYXJlVGVtcGxhdGVTdHlsZXMgPSAoc2NvcGVOYW1lLCByZW5kZXJlZERPTSwgdGVtcGxhdGUpID0+IHtcbiAgICBzaGFkeVJlbmRlclNldC5hZGQoc2NvcGVOYW1lKTtcbiAgICAvLyBJZiBgcmVuZGVyZWRET01gIGlzIHN0YW1wZWQgZnJvbSBhIFRlbXBsYXRlLCB0aGVuIHdlIG5lZWQgdG8gZWRpdCB0aGF0XG4gICAgLy8gVGVtcGxhdGUncyB1bmRlcmx5aW5nIHRlbXBsYXRlIGVsZW1lbnQuIE90aGVyd2lzZSwgd2UgY3JlYXRlIG9uZSBoZXJlXG4gICAgLy8gdG8gZ2l2ZSB0byBTaGFkeUNTUywgd2hpY2ggc3RpbGwgcmVxdWlyZXMgb25lIHdoaWxlIHNjb3BpbmcuXG4gICAgY29uc3QgdGVtcGxhdGVFbGVtZW50ID0gISF0ZW1wbGF0ZSA/IHRlbXBsYXRlLmVsZW1lbnQgOiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZW1wbGF0ZScpO1xuICAgIC8vIE1vdmUgc3R5bGVzIG91dCBvZiByZW5kZXJlZCBET00gYW5kIHN0b3JlLlxuICAgIGNvbnN0IHN0eWxlcyA9IHJlbmRlcmVkRE9NLnF1ZXJ5U2VsZWN0b3JBbGwoJ3N0eWxlJyk7XG4gICAgY29uc3QgeyBsZW5ndGggfSA9IHN0eWxlcztcbiAgICAvLyBJZiB0aGVyZSBhcmUgbm8gc3R5bGVzLCBza2lwIHVubmVjZXNzYXJ5IHdvcmtcbiAgICBpZiAobGVuZ3RoID09PSAwKSB7XG4gICAgICAgIC8vIEVuc3VyZSBwcmVwYXJlVGVtcGxhdGVTdHlsZXMgaXMgY2FsbGVkIHRvIHN1cHBvcnQgYWRkaW5nXG4gICAgICAgIC8vIHN0eWxlcyB2aWEgYHByZXBhcmVBZG9wdGVkQ3NzVGV4dGAgc2luY2UgdGhhdCByZXF1aXJlcyB0aGF0XG4gICAgICAgIC8vIGBwcmVwYXJlVGVtcGxhdGVTdHlsZXNgIGlzIGNhbGxlZC5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gU2hhZHlDU1Mgd2lsbCBvbmx5IHVwZGF0ZSBzdHlsZXMgY29udGFpbmluZyBAYXBwbHkgaW4gdGhlIHRlbXBsYXRlXG4gICAgICAgIC8vIGdpdmVuIHRvIGBwcmVwYXJlVGVtcGxhdGVTdHlsZXNgLiBJZiBubyBsaXQgVGVtcGxhdGUgd2FzIGdpdmVuLFxuICAgICAgICAvLyBTaGFkeUNTUyB3aWxsIG5vdCBiZSBhYmxlIHRvIHVwZGF0ZSB1c2VzIG9mIEBhcHBseSBpbiBhbnkgcmVsZXZhbnRcbiAgICAgICAgLy8gdGVtcGxhdGUuIEhvd2V2ZXIsIHRoaXMgaXMgbm90IGEgcHJvYmxlbSBiZWNhdXNlIHdlIG9ubHkgY3JlYXRlIHRoZVxuICAgICAgICAvLyB0ZW1wbGF0ZSBmb3IgdGhlIHB1cnBvc2Ugb2Ygc3VwcG9ydGluZyBgcHJlcGFyZUFkb3B0ZWRDc3NUZXh0YCxcbiAgICAgICAgLy8gd2hpY2ggZG9lc24ndCBzdXBwb3J0IEBhcHBseSBhdCBhbGwuXG4gICAgICAgIHdpbmRvdy5TaGFkeUNTUy5wcmVwYXJlVGVtcGxhdGVTdHlsZXModGVtcGxhdGVFbGVtZW50LCBzY29wZU5hbWUpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGNvbmRlbnNlZFN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgICAvLyBDb2xsZWN0IHN0eWxlcyBpbnRvIGEgc2luZ2xlIHN0eWxlLiBUaGlzIGhlbHBzIHVzIG1ha2Ugc3VyZSBTaGFkeUNTU1xuICAgIC8vIG1hbmlwdWxhdGlvbnMgd2lsbCBub3QgcHJldmVudCB1cyBmcm9tIGJlaW5nIGFibGUgdG8gZml4IHVwIHRlbXBsYXRlXG4gICAgLy8gcGFydCBpbmRpY2VzLlxuICAgIC8vIE5PVEU6IGNvbGxlY3Rpbmcgc3R5bGVzIGlzIGluZWZmaWNpZW50IGZvciBicm93c2VycyBidXQgU2hhZHlDU1NcbiAgICAvLyBjdXJyZW50bHkgZG9lcyB0aGlzIGFueXdheS4gV2hlbiBpdCBkb2VzIG5vdCwgdGhpcyBzaG91bGQgYmUgY2hhbmdlZC5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IHN0eWxlID0gc3R5bGVzW2ldO1xuICAgICAgICBzdHlsZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHN0eWxlKTtcbiAgICAgICAgY29uZGVuc2VkU3R5bGUudGV4dENvbnRlbnQgKz0gc3R5bGUudGV4dENvbnRlbnQ7XG4gICAgfVxuICAgIC8vIFJlbW92ZSBzdHlsZXMgZnJvbSBuZXN0ZWQgdGVtcGxhdGVzIGluIHRoaXMgc2NvcGUuXG4gICAgcmVtb3ZlU3R5bGVzRnJvbUxpdFRlbXBsYXRlcyhzY29wZU5hbWUpO1xuICAgIC8vIEFuZCB0aGVuIHB1dCB0aGUgY29uZGVuc2VkIHN0eWxlIGludG8gdGhlIFwicm9vdFwiIHRlbXBsYXRlIHBhc3NlZCBpbiBhc1xuICAgIC8vIGB0ZW1wbGF0ZWAuXG4gICAgY29uc3QgY29udGVudCA9IHRlbXBsYXRlRWxlbWVudC5jb250ZW50O1xuICAgIGlmICghIXRlbXBsYXRlKSB7XG4gICAgICAgIGluc2VydE5vZGVJbnRvVGVtcGxhdGUodGVtcGxhdGUsIGNvbmRlbnNlZFN0eWxlLCBjb250ZW50LmZpcnN0Q2hpbGQpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY29udGVudC5pbnNlcnRCZWZvcmUoY29uZGVuc2VkU3R5bGUsIGNvbnRlbnQuZmlyc3RDaGlsZCk7XG4gICAgfVxuICAgIC8vIE5vdGUsIGl0J3MgaW1wb3J0YW50IHRoYXQgU2hhZHlDU1MgZ2V0cyB0aGUgdGVtcGxhdGUgdGhhdCBgbGl0LWh0bWxgXG4gICAgLy8gd2lsbCBhY3R1YWxseSByZW5kZXIgc28gdGhhdCBpdCBjYW4gdXBkYXRlIHRoZSBzdHlsZSBpbnNpZGUgd2hlblxuICAgIC8vIG5lZWRlZCAoZS5nLiBAYXBwbHkgbmF0aXZlIFNoYWRvdyBET00gY2FzZSkuXG4gICAgd2luZG93LlNoYWR5Q1NTLnByZXBhcmVUZW1wbGF0ZVN0eWxlcyh0ZW1wbGF0ZUVsZW1lbnQsIHNjb3BlTmFtZSk7XG4gICAgY29uc3Qgc3R5bGUgPSBjb250ZW50LnF1ZXJ5U2VsZWN0b3IoJ3N0eWxlJyk7XG4gICAgaWYgKHdpbmRvdy5TaGFkeUNTUy5uYXRpdmVTaGFkb3cgJiYgc3R5bGUgIT09IG51bGwpIHtcbiAgICAgICAgLy8gV2hlbiBpbiBuYXRpdmUgU2hhZG93IERPTSwgZW5zdXJlIHRoZSBzdHlsZSBjcmVhdGVkIGJ5IFNoYWR5Q1NTIGlzXG4gICAgICAgIC8vIGluY2x1ZGVkIGluIGluaXRpYWxseSByZW5kZXJlZCBvdXRwdXQgKGByZW5kZXJlZERPTWApLlxuICAgICAgICByZW5kZXJlZERPTS5pbnNlcnRCZWZvcmUoc3R5bGUuY2xvbmVOb2RlKHRydWUpLCByZW5kZXJlZERPTS5maXJzdENoaWxkKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoISF0ZW1wbGF0ZSkge1xuICAgICAgICAvLyBXaGVuIG5vIHN0eWxlIGlzIGxlZnQgaW4gdGhlIHRlbXBsYXRlLCBwYXJ0cyB3aWxsIGJlIGJyb2tlbiBhcyBhXG4gICAgICAgIC8vIHJlc3VsdC4gVG8gZml4IHRoaXMsIHdlIHB1dCBiYWNrIHRoZSBzdHlsZSBub2RlIFNoYWR5Q1NTIHJlbW92ZWRcbiAgICAgICAgLy8gYW5kIHRoZW4gdGVsbCBsaXQgdG8gcmVtb3ZlIHRoYXQgbm9kZSBmcm9tIHRoZSB0ZW1wbGF0ZS5cbiAgICAgICAgLy8gVGhlcmUgY2FuIGJlIG5vIHN0eWxlIGluIHRoZSB0ZW1wbGF0ZSBpbiAyIGNhc2VzICgxKSB3aGVuIFNoYWR5IERPTVxuICAgICAgICAvLyBpcyBpbiB1c2UsIFNoYWR5Q1NTIHJlbW92ZXMgYWxsIHN0eWxlcywgKDIpIHdoZW4gbmF0aXZlIFNoYWRvdyBET01cbiAgICAgICAgLy8gaXMgaW4gdXNlIFNoYWR5Q1NTIHJlbW92ZXMgdGhlIHN0eWxlIGlmIGl0IGNvbnRhaW5zIG5vIGNvbnRlbnQuXG4gICAgICAgIC8vIE5PVEUsIFNoYWR5Q1NTIGNyZWF0ZXMgaXRzIG93biBzdHlsZSBzbyB3ZSBjYW4gc2FmZWx5IGFkZC9yZW1vdmVcbiAgICAgICAgLy8gYGNvbmRlbnNlZFN0eWxlYCBoZXJlLlxuICAgICAgICBjb250ZW50Lmluc2VydEJlZm9yZShjb25kZW5zZWRTdHlsZSwgY29udGVudC5maXJzdENoaWxkKTtcbiAgICAgICAgY29uc3QgcmVtb3ZlcyA9IG5ldyBTZXQoKTtcbiAgICAgICAgcmVtb3Zlcy5hZGQoY29uZGVuc2VkU3R5bGUpO1xuICAgICAgICByZW1vdmVOb2Rlc0Zyb21UZW1wbGF0ZSh0ZW1wbGF0ZSwgcmVtb3Zlcyk7XG4gICAgfVxufTtcbi8qKlxuICogRXh0ZW5zaW9uIHRvIHRoZSBzdGFuZGFyZCBgcmVuZGVyYCBtZXRob2Qgd2hpY2ggc3VwcG9ydHMgcmVuZGVyaW5nXG4gKiB0byBTaGFkb3dSb290cyB3aGVuIHRoZSBTaGFkeURPTSAoaHR0cHM6Ly9naXRodWIuY29tL3dlYmNvbXBvbmVudHMvc2hhZHlkb20pXG4gKiBhbmQgU2hhZHlDU1MgKGh0dHBzOi8vZ2l0aHViLmNvbS93ZWJjb21wb25lbnRzL3NoYWR5Y3NzKSBwb2x5ZmlsbHMgYXJlIHVzZWRcbiAqIG9yIHdoZW4gdGhlIHdlYmNvbXBvbmVudHNqc1xuICogKGh0dHBzOi8vZ2l0aHViLmNvbS93ZWJjb21wb25lbnRzL3dlYmNvbXBvbmVudHNqcykgcG9seWZpbGwgaXMgdXNlZC5cbiAqXG4gKiBBZGRzIGEgYHNjb3BlTmFtZWAgb3B0aW9uIHdoaWNoIGlzIHVzZWQgdG8gc2NvcGUgZWxlbWVudCBET00gYW5kIHN0eWxlc2hlZXRzXG4gKiB3aGVuIG5hdGl2ZSBTaGFkb3dET00gaXMgdW5hdmFpbGFibGUuIFRoZSBgc2NvcGVOYW1lYCB3aWxsIGJlIGFkZGVkIHRvXG4gKiB0aGUgY2xhc3MgYXR0cmlidXRlIG9mIGFsbCByZW5kZXJlZCBET00uIEluIGFkZGl0aW9uLCBhbnkgc3R5bGUgZWxlbWVudHMgd2lsbFxuICogYmUgYXV0b21hdGljYWxseSByZS13cml0dGVuIHdpdGggdGhpcyBgc2NvcGVOYW1lYCBzZWxlY3RvciBhbmQgbW92ZWQgb3V0XG4gKiBvZiB0aGUgcmVuZGVyZWQgRE9NIGFuZCBpbnRvIHRoZSBkb2N1bWVudCBgPGhlYWQ+YC5cbiAqXG4gKiBJdCBpcyBjb21tb24gdG8gdXNlIHRoaXMgcmVuZGVyIG1ldGhvZCBpbiBjb25qdW5jdGlvbiB3aXRoIGEgY3VzdG9tIGVsZW1lbnRcbiAqIHdoaWNoIHJlbmRlcnMgYSBzaGFkb3dSb290LiBXaGVuIHRoaXMgaXMgZG9uZSwgdHlwaWNhbGx5IHRoZSBlbGVtZW50J3NcbiAqIGBsb2NhbE5hbWVgIHNob3VsZCBiZSB1c2VkIGFzIHRoZSBgc2NvcGVOYW1lYC5cbiAqXG4gKiBJbiBhZGRpdGlvbiB0byBET00gc2NvcGluZywgU2hhZHlDU1MgYWxzbyBzdXBwb3J0cyBhIGJhc2ljIHNoaW0gZm9yIGNzc1xuICogY3VzdG9tIHByb3BlcnRpZXMgKG5lZWRlZCBvbmx5IG9uIG9sZGVyIGJyb3dzZXJzIGxpa2UgSUUxMSkgYW5kIGEgc2hpbSBmb3JcbiAqIGEgZGVwcmVjYXRlZCBmZWF0dXJlIGNhbGxlZCBgQGFwcGx5YCB0aGF0IHN1cHBvcnRzIGFwcGx5aW5nIGEgc2V0IG9mIGNzc1xuICogY3VzdG9tIHByb3BlcnRpZXMgdG8gYSBnaXZlbiBsb2NhdGlvbi5cbiAqXG4gKiBVc2FnZSBjb25zaWRlcmF0aW9uczpcbiAqXG4gKiAqIFBhcnQgdmFsdWVzIGluIGA8c3R5bGU+YCBlbGVtZW50cyBhcmUgb25seSBhcHBsaWVkIHRoZSBmaXJzdCB0aW1lIGEgZ2l2ZW5cbiAqIGBzY29wZU5hbWVgIHJlbmRlcnMuIFN1YnNlcXVlbnQgY2hhbmdlcyB0byBwYXJ0cyBpbiBzdHlsZSBlbGVtZW50cyB3aWxsIGhhdmVcbiAqIG5vIGVmZmVjdC4gQmVjYXVzZSBvZiB0aGlzLCBwYXJ0cyBpbiBzdHlsZSBlbGVtZW50cyBzaG91bGQgb25seSBiZSB1c2VkIGZvclxuICogdmFsdWVzIHRoYXQgd2lsbCBuZXZlciBjaGFuZ2UsIGZvciBleGFtcGxlIHBhcnRzIHRoYXQgc2V0IHNjb3BlLXdpZGUgdGhlbWVcbiAqIHZhbHVlcyBvciBwYXJ0cyB3aGljaCByZW5kZXIgc2hhcmVkIHN0eWxlIGVsZW1lbnRzLlxuICpcbiAqICogTm90ZSwgZHVlIHRvIGEgbGltaXRhdGlvbiBvZiB0aGUgU2hhZHlET00gcG9seWZpbGwsIHJlbmRlcmluZyBpbiBhXG4gKiBjdXN0b20gZWxlbWVudCdzIGBjb25zdHJ1Y3RvcmAgaXMgbm90IHN1cHBvcnRlZC4gSW5zdGVhZCByZW5kZXJpbmcgc2hvdWxkXG4gKiBlaXRoZXIgZG9uZSBhc3luY2hyb25vdXNseSwgZm9yIGV4YW1wbGUgYXQgbWljcm90YXNrIHRpbWluZyAoZm9yIGV4YW1wbGVcbiAqIGBQcm9taXNlLnJlc29sdmUoKWApLCBvciBiZSBkZWZlcnJlZCB1bnRpbCB0aGUgZmlyc3QgdGltZSB0aGUgZWxlbWVudCdzXG4gKiBgY29ubmVjdGVkQ2FsbGJhY2tgIHJ1bnMuXG4gKlxuICogVXNhZ2UgY29uc2lkZXJhdGlvbnMgd2hlbiB1c2luZyBzaGltbWVkIGN1c3RvbSBwcm9wZXJ0aWVzIG9yIGBAYXBwbHlgOlxuICpcbiAqICogV2hlbmV2ZXIgYW55IGR5bmFtaWMgY2hhbmdlcyBhcmUgbWFkZSB3aGljaCBhZmZlY3RcbiAqIGNzcyBjdXN0b20gcHJvcGVydGllcywgYFNoYWR5Q1NTLnN0eWxlRWxlbWVudChlbGVtZW50KWAgbXVzdCBiZSBjYWxsZWRcbiAqIHRvIHVwZGF0ZSB0aGUgZWxlbWVudC4gVGhlcmUgYXJlIHR3byBjYXNlcyB3aGVuIHRoaXMgaXMgbmVlZGVkOlxuICogKDEpIHRoZSBlbGVtZW50IGlzIGNvbm5lY3RlZCB0byBhIG5ldyBwYXJlbnQsICgyKSBhIGNsYXNzIGlzIGFkZGVkIHRvIHRoZVxuICogZWxlbWVudCB0aGF0IGNhdXNlcyBpdCB0byBtYXRjaCBkaWZmZXJlbnQgY3VzdG9tIHByb3BlcnRpZXMuXG4gKiBUbyBhZGRyZXNzIHRoZSBmaXJzdCBjYXNlIHdoZW4gcmVuZGVyaW5nIGEgY3VzdG9tIGVsZW1lbnQsIGBzdHlsZUVsZW1lbnRgXG4gKiBzaG91bGQgYmUgY2FsbGVkIGluIHRoZSBlbGVtZW50J3MgYGNvbm5lY3RlZENhbGxiYWNrYC5cbiAqXG4gKiAqIFNoaW1tZWQgY3VzdG9tIHByb3BlcnRpZXMgbWF5IG9ubHkgYmUgZGVmaW5lZCBlaXRoZXIgZm9yIGFuIGVudGlyZVxuICogc2hhZG93Um9vdCAoZm9yIGV4YW1wbGUsIGluIGEgYDpob3N0YCBydWxlKSBvciB2aWEgYSBydWxlIHRoYXQgZGlyZWN0bHlcbiAqIG1hdGNoZXMgYW4gZWxlbWVudCB3aXRoIGEgc2hhZG93Um9vdC4gSW4gb3RoZXIgd29yZHMsIGluc3RlYWQgb2YgZmxvd2luZyBmcm9tXG4gKiBwYXJlbnQgdG8gY2hpbGQgYXMgZG8gbmF0aXZlIGNzcyBjdXN0b20gcHJvcGVydGllcywgc2hpbW1lZCBjdXN0b20gcHJvcGVydGllc1xuICogZmxvdyBvbmx5IGZyb20gc2hhZG93Um9vdHMgdG8gbmVzdGVkIHNoYWRvd1Jvb3RzLlxuICpcbiAqICogV2hlbiB1c2luZyBgQGFwcGx5YCBtaXhpbmcgY3NzIHNob3J0aGFuZCBwcm9wZXJ0eSBuYW1lcyB3aXRoXG4gKiBub24tc2hvcnRoYW5kIG5hbWVzIChmb3IgZXhhbXBsZSBgYm9yZGVyYCBhbmQgYGJvcmRlci13aWR0aGApIGlzIG5vdFxuICogc3VwcG9ydGVkLlxuICovXG5leHBvcnQgY29uc3QgcmVuZGVyID0gKHJlc3VsdCwgY29udGFpbmVyLCBvcHRpb25zKSA9PiB7XG4gICAgaWYgKCFvcHRpb25zIHx8IHR5cGVvZiBvcHRpb25zICE9PSAnb2JqZWN0JyB8fCAhb3B0aW9ucy5zY29wZU5hbWUpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGUgYHNjb3BlTmFtZWAgb3B0aW9uIGlzIHJlcXVpcmVkLicpO1xuICAgIH1cbiAgICBjb25zdCBzY29wZU5hbWUgPSBvcHRpb25zLnNjb3BlTmFtZTtcbiAgICBjb25zdCBoYXNSZW5kZXJlZCA9IHBhcnRzLmhhcyhjb250YWluZXIpO1xuICAgIGNvbnN0IG5lZWRzU2NvcGluZyA9IGNvbXBhdGlibGVTaGFkeUNTU1ZlcnNpb24gJiZcbiAgICAgICAgY29udGFpbmVyLm5vZGVUeXBlID09PSAxMSAvKiBOb2RlLkRPQ1VNRU5UX0ZSQUdNRU5UX05PREUgKi8gJiZcbiAgICAgICAgISFjb250YWluZXIuaG9zdDtcbiAgICAvLyBIYW5kbGUgZmlyc3QgcmVuZGVyIHRvIGEgc2NvcGUgc3BlY2lhbGx5Li4uXG4gICAgY29uc3QgZmlyc3RTY29wZVJlbmRlciA9IG5lZWRzU2NvcGluZyAmJiAhc2hhZHlSZW5kZXJTZXQuaGFzKHNjb3BlTmFtZSk7XG4gICAgLy8gT24gZmlyc3Qgc2NvcGUgcmVuZGVyLCByZW5kZXIgaW50byBhIGZyYWdtZW50OyB0aGlzIGNhbm5vdCBiZSBhIHNpbmdsZVxuICAgIC8vIGZyYWdtZW50IHRoYXQgaXMgcmV1c2VkIHNpbmNlIG5lc3RlZCByZW5kZXJzIGNhbiBvY2N1ciBzeW5jaHJvbm91c2x5LlxuICAgIGNvbnN0IHJlbmRlckNvbnRhaW5lciA9IGZpcnN0U2NvcGVSZW5kZXIgPyBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCkgOiBjb250YWluZXI7XG4gICAgbGl0UmVuZGVyKHJlc3VsdCwgcmVuZGVyQ29udGFpbmVyLCBPYmplY3QuYXNzaWduKHsgdGVtcGxhdGVGYWN0b3J5OiBzaGFkeVRlbXBsYXRlRmFjdG9yeShzY29wZU5hbWUpIH0sIG9wdGlvbnMpKTtcbiAgICAvLyBXaGVuIHBlcmZvcm1pbmcgZmlyc3Qgc2NvcGUgcmVuZGVyLFxuICAgIC8vICgxKSBXZSd2ZSByZW5kZXJlZCBpbnRvIGEgZnJhZ21lbnQgc28gdGhhdCB0aGVyZSdzIGEgY2hhbmNlIHRvXG4gICAgLy8gYHByZXBhcmVUZW1wbGF0ZVN0eWxlc2AgYmVmb3JlIHN1Yi1lbGVtZW50cyBoaXQgdGhlIERPTVxuICAgIC8vICh3aGljaCBtaWdodCBjYXVzZSB0aGVtIHRvIHJlbmRlciBiYXNlZCBvbiBhIGNvbW1vbiBwYXR0ZXJuIG9mXG4gICAgLy8gcmVuZGVyaW5nIGluIGEgY3VzdG9tIGVsZW1lbnQncyBgY29ubmVjdGVkQ2FsbGJhY2tgKTtcbiAgICAvLyAoMikgU2NvcGUgdGhlIHRlbXBsYXRlIHdpdGggU2hhZHlDU1Mgb25lIHRpbWUgb25seSBmb3IgdGhpcyBzY29wZS5cbiAgICAvLyAoMykgUmVuZGVyIHRoZSBmcmFnbWVudCBpbnRvIHRoZSBjb250YWluZXIgYW5kIG1ha2Ugc3VyZSB0aGVcbiAgICAvLyBjb250YWluZXIga25vd3MgaXRzIGBwYXJ0YCBpcyB0aGUgb25lIHdlIGp1c3QgcmVuZGVyZWQuIFRoaXMgZW5zdXJlc1xuICAgIC8vIERPTSB3aWxsIGJlIHJlLXVzZWQgb24gc3Vic2VxdWVudCByZW5kZXJzLlxuICAgIGlmIChmaXJzdFNjb3BlUmVuZGVyKSB7XG4gICAgICAgIGNvbnN0IHBhcnQgPSBwYXJ0cy5nZXQocmVuZGVyQ29udGFpbmVyKTtcbiAgICAgICAgcGFydHMuZGVsZXRlKHJlbmRlckNvbnRhaW5lcik7XG4gICAgICAgIC8vIFNoYWR5Q1NTIG1pZ2h0IGhhdmUgc3R5bGUgc2hlZXRzIChlLmcuIGZyb20gYHByZXBhcmVBZG9wdGVkQ3NzVGV4dGApXG4gICAgICAgIC8vIHRoYXQgc2hvdWxkIGFwcGx5IHRvIGByZW5kZXJDb250YWluZXJgIGV2ZW4gaWYgdGhlIHJlbmRlcmVkIHZhbHVlIGlzXG4gICAgICAgIC8vIG5vdCBhIFRlbXBsYXRlSW5zdGFuY2UuIEhvd2V2ZXIsIGl0IHdpbGwgb25seSBpbnNlcnQgc2NvcGVkIHN0eWxlc1xuICAgICAgICAvLyBpbnRvIHRoZSBkb2N1bWVudCBpZiBgcHJlcGFyZVRlbXBsYXRlU3R5bGVzYCBoYXMgYWxyZWFkeSBiZWVuIGNhbGxlZFxuICAgICAgICAvLyBmb3IgdGhlIGdpdmVuIHNjb3BlIG5hbWUuXG4gICAgICAgIGNvbnN0IHRlbXBsYXRlID0gcGFydC52YWx1ZSBpbnN0YW5jZW9mIFRlbXBsYXRlSW5zdGFuY2UgP1xuICAgICAgICAgICAgcGFydC52YWx1ZS50ZW1wbGF0ZSA6XG4gICAgICAgICAgICB1bmRlZmluZWQ7XG4gICAgICAgIHByZXBhcmVUZW1wbGF0ZVN0eWxlcyhzY29wZU5hbWUsIHJlbmRlckNvbnRhaW5lciwgdGVtcGxhdGUpO1xuICAgICAgICByZW1vdmVOb2Rlcyhjb250YWluZXIsIGNvbnRhaW5lci5maXJzdENoaWxkKTtcbiAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHJlbmRlckNvbnRhaW5lcik7XG4gICAgICAgIHBhcnRzLnNldChjb250YWluZXIsIHBhcnQpO1xuICAgIH1cbiAgICAvLyBBZnRlciBlbGVtZW50cyBoYXZlIGhpdCB0aGUgRE9NLCB1cGRhdGUgc3R5bGluZyBpZiB0aGlzIGlzIHRoZVxuICAgIC8vIGluaXRpYWwgcmVuZGVyIHRvIHRoaXMgY29udGFpbmVyLlxuICAgIC8vIFRoaXMgaXMgbmVlZGVkIHdoZW5ldmVyIGR5bmFtaWMgY2hhbmdlcyBhcmUgbWFkZSBzbyBpdCB3b3VsZCBiZVxuICAgIC8vIHNhZmVzdCB0byBkbyBldmVyeSByZW5kZXI7IGhvd2V2ZXIsIHRoaXMgd291bGQgcmVncmVzcyBwZXJmb3JtYW5jZVxuICAgIC8vIHNvIHdlIGxlYXZlIGl0IHVwIHRvIHRoZSB1c2VyIHRvIGNhbGwgYFNoYWR5Q1NTLnN0eWxlRWxlbWVudGBcbiAgICAvLyBmb3IgZHluYW1pYyBjaGFuZ2VzLlxuICAgIGlmICghaGFzUmVuZGVyZWQgJiYgbmVlZHNTY29waW5nKSB7XG4gICAgICAgIHdpbmRvdy5TaGFkeUNTUy5zdHlsZUVsZW1lbnQoY29udGFpbmVyLmhvc3QpO1xuICAgIH1cbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zaGFkeS1yZW5kZXIuanMubWFwIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIFRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbiAqIENvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG4gKiBzdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiAqL1xudmFyIF9hO1xuLyoqXG4gKiBXaGVuIHVzaW5nIENsb3N1cmUgQ29tcGlsZXIsIEpTQ29tcGlsZXJfcmVuYW1lUHJvcGVydHkocHJvcGVydHksIG9iamVjdCkgaXNcbiAqIHJlcGxhY2VkIGF0IGNvbXBpbGUgdGltZSBieSB0aGUgbXVuZ2VkIG5hbWUgZm9yIG9iamVjdFtwcm9wZXJ0eV0uIFdlIGNhbm5vdFxuICogYWxpYXMgdGhpcyBmdW5jdGlvbiwgc28gd2UgaGF2ZSB0byB1c2UgYSBzbWFsbCBzaGltIHRoYXQgaGFzIHRoZSBzYW1lXG4gKiBiZWhhdmlvciB3aGVuIG5vdCBjb21waWxpbmcuXG4gKi9cbndpbmRvdy5KU0NvbXBpbGVyX3JlbmFtZVByb3BlcnR5ID1cbiAgICAocHJvcCwgX29iaikgPT4gcHJvcDtcbmV4cG9ydCBjb25zdCBkZWZhdWx0Q29udmVydGVyID0ge1xuICAgIHRvQXR0cmlidXRlKHZhbHVlLCB0eXBlKSB7XG4gICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgICAgY2FzZSBCb29sZWFuOlxuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZSA/ICcnIDogbnVsbDtcbiAgICAgICAgICAgIGNhc2UgT2JqZWN0OlxuICAgICAgICAgICAgY2FzZSBBcnJheTpcbiAgICAgICAgICAgICAgICAvLyBpZiB0aGUgdmFsdWUgaXMgYG51bGxgIG9yIGB1bmRlZmluZWRgIHBhc3MgdGhpcyB0aHJvdWdoXG4gICAgICAgICAgICAgICAgLy8gdG8gYWxsb3cgcmVtb3Zpbmcvbm8gY2hhbmdlIGJlaGF2aW9yLlxuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZSA9PSBudWxsID8gdmFsdWUgOiBKU09OLnN0cmluZ2lmeSh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH0sXG4gICAgZnJvbUF0dHJpYnV0ZSh2YWx1ZSwgdHlwZSkge1xuICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgQm9vbGVhbjpcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUgIT09IG51bGw7XG4gICAgICAgICAgICBjYXNlIE51bWJlcjpcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUgPT09IG51bGwgPyBudWxsIDogTnVtYmVyKHZhbHVlKTtcbiAgICAgICAgICAgIGNhc2UgT2JqZWN0OlxuICAgICAgICAgICAgY2FzZSBBcnJheTpcbiAgICAgICAgICAgICAgICByZXR1cm4gSlNPTi5wYXJzZSh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbn07XG4vKipcbiAqIENoYW5nZSBmdW5jdGlvbiB0aGF0IHJldHVybnMgdHJ1ZSBpZiBgdmFsdWVgIGlzIGRpZmZlcmVudCBmcm9tIGBvbGRWYWx1ZWAuXG4gKiBUaGlzIG1ldGhvZCBpcyB1c2VkIGFzIHRoZSBkZWZhdWx0IGZvciBhIHByb3BlcnR5J3MgYGhhc0NoYW5nZWRgIGZ1bmN0aW9uLlxuICovXG5leHBvcnQgY29uc3Qgbm90RXF1YWwgPSAodmFsdWUsIG9sZCkgPT4ge1xuICAgIC8vIFRoaXMgZW5zdXJlcyAob2xkPT1OYU4sIHZhbHVlPT1OYU4pIGFsd2F5cyByZXR1cm5zIGZhbHNlXG4gICAgcmV0dXJuIG9sZCAhPT0gdmFsdWUgJiYgKG9sZCA9PT0gb2xkIHx8IHZhbHVlID09PSB2YWx1ZSk7XG59O1xuY29uc3QgZGVmYXVsdFByb3BlcnR5RGVjbGFyYXRpb24gPSB7XG4gICAgYXR0cmlidXRlOiB0cnVlLFxuICAgIHR5cGU6IFN0cmluZyxcbiAgICBjb252ZXJ0ZXI6IGRlZmF1bHRDb252ZXJ0ZXIsXG4gICAgcmVmbGVjdDogZmFsc2UsXG4gICAgaGFzQ2hhbmdlZDogbm90RXF1YWxcbn07XG5jb25zdCBtaWNyb3Rhc2tQcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKHRydWUpO1xuY29uc3QgU1RBVEVfSEFTX1VQREFURUQgPSAxO1xuY29uc3QgU1RBVEVfVVBEQVRFX1JFUVVFU1RFRCA9IDEgPDwgMjtcbmNvbnN0IFNUQVRFX0lTX1JFRkxFQ1RJTkdfVE9fQVRUUklCVVRFID0gMSA8PCAzO1xuY29uc3QgU1RBVEVfSVNfUkVGTEVDVElOR19UT19QUk9QRVJUWSA9IDEgPDwgNDtcbmNvbnN0IFNUQVRFX0hBU19DT05ORUNURUQgPSAxIDw8IDU7XG4vKipcbiAqIFRoZSBDbG9zdXJlIEpTIENvbXBpbGVyIGRvZXNuJ3QgY3VycmVudGx5IGhhdmUgZ29vZCBzdXBwb3J0IGZvciBzdGF0aWNcbiAqIHByb3BlcnR5IHNlbWFudGljcyB3aGVyZSBcInRoaXNcIiBpcyBkeW5hbWljIChlLmcuXG4gKiBodHRwczovL2dpdGh1Yi5jb20vZ29vZ2xlL2Nsb3N1cmUtY29tcGlsZXIvaXNzdWVzLzMxNzcgYW5kIG90aGVycykgc28gd2UgdXNlXG4gKiB0aGlzIGhhY2sgdG8gYnlwYXNzIGFueSByZXdyaXRpbmcgYnkgdGhlIGNvbXBpbGVyLlxuICovXG5jb25zdCBmaW5hbGl6ZWQgPSAnZmluYWxpemVkJztcbi8qKlxuICogQmFzZSBlbGVtZW50IGNsYXNzIHdoaWNoIG1hbmFnZXMgZWxlbWVudCBwcm9wZXJ0aWVzIGFuZCBhdHRyaWJ1dGVzLiBXaGVuXG4gKiBwcm9wZXJ0aWVzIGNoYW5nZSwgdGhlIGB1cGRhdGVgIG1ldGhvZCBpcyBhc3luY2hyb25vdXNseSBjYWxsZWQuIFRoaXMgbWV0aG9kXG4gKiBzaG91bGQgYmUgc3VwcGxpZWQgYnkgc3ViY2xhc3NlcnMgdG8gcmVuZGVyIHVwZGF0ZXMgYXMgZGVzaXJlZC5cbiAqL1xuZXhwb3J0IGNsYXNzIFVwZGF0aW5nRWxlbWVudCBleHRlbmRzIEhUTUxFbGVtZW50IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5fdXBkYXRlU3RhdGUgPSAwO1xuICAgICAgICB0aGlzLl9pbnN0YW5jZVByb3BlcnRpZXMgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuX3VwZGF0ZVByb21pc2UgPSBtaWNyb3Rhc2tQcm9taXNlO1xuICAgICAgICB0aGlzLl9oYXNDb25uZWN0ZWRSZXNvbHZlciA9IHVuZGVmaW5lZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1hcCB3aXRoIGtleXMgZm9yIGFueSBwcm9wZXJ0aWVzIHRoYXQgaGF2ZSBjaGFuZ2VkIHNpbmNlIHRoZSBsYXN0XG4gICAgICAgICAqIHVwZGF0ZSBjeWNsZSB3aXRoIHByZXZpb3VzIHZhbHVlcy5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2NoYW5nZWRQcm9wZXJ0aWVzID0gbmV3IE1hcCgpO1xuICAgICAgICAvKipcbiAgICAgICAgICogTWFwIHdpdGgga2V5cyBvZiBwcm9wZXJ0aWVzIHRoYXQgc2hvdWxkIGJlIHJlZmxlY3RlZCB3aGVuIHVwZGF0ZWQuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9yZWZsZWN0aW5nUHJvcGVydGllcyA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5pbml0aWFsaXplKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBsaXN0IG9mIGF0dHJpYnV0ZXMgY29ycmVzcG9uZGluZyB0byB0aGUgcmVnaXN0ZXJlZCBwcm9wZXJ0aWVzLlxuICAgICAqIEBub2NvbGxhcHNlXG4gICAgICovXG4gICAgc3RhdGljIGdldCBvYnNlcnZlZEF0dHJpYnV0ZXMoKSB7XG4gICAgICAgIC8vIG5vdGU6IHBpZ2d5IGJhY2tpbmcgb24gdGhpcyB0byBlbnN1cmUgd2UncmUgZmluYWxpemVkLlxuICAgICAgICB0aGlzLmZpbmFsaXplKCk7XG4gICAgICAgIGNvbnN0IGF0dHJpYnV0ZXMgPSBbXTtcbiAgICAgICAgLy8gVXNlIGZvckVhY2ggc28gdGhpcyB3b3JrcyBldmVuIGlmIGZvci9vZiBsb29wcyBhcmUgY29tcGlsZWQgdG8gZm9yIGxvb3BzXG4gICAgICAgIC8vIGV4cGVjdGluZyBhcnJheXNcbiAgICAgICAgdGhpcy5fY2xhc3NQcm9wZXJ0aWVzLmZvckVhY2goKHYsIHApID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGF0dHIgPSB0aGlzLl9hdHRyaWJ1dGVOYW1lRm9yUHJvcGVydHkocCwgdik7XG4gICAgICAgICAgICBpZiAoYXR0ciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYXR0cmlidXRlVG9Qcm9wZXJ0eU1hcC5zZXQoYXR0ciwgcCk7XG4gICAgICAgICAgICAgICAgYXR0cmlidXRlcy5wdXNoKGF0dHIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGF0dHJpYnV0ZXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEVuc3VyZXMgdGhlIHByaXZhdGUgYF9jbGFzc1Byb3BlcnRpZXNgIHByb3BlcnR5IG1ldGFkYXRhIGlzIGNyZWF0ZWQuXG4gICAgICogSW4gYWRkaXRpb24gdG8gYGZpbmFsaXplYCB0aGlzIGlzIGFsc28gY2FsbGVkIGluIGBjcmVhdGVQcm9wZXJ0eWAgdG9cbiAgICAgKiBlbnN1cmUgdGhlIGBAcHJvcGVydHlgIGRlY29yYXRvciBjYW4gYWRkIHByb3BlcnR5IG1ldGFkYXRhLlxuICAgICAqL1xuICAgIC8qKiBAbm9jb2xsYXBzZSAqL1xuICAgIHN0YXRpYyBfZW5zdXJlQ2xhc3NQcm9wZXJ0aWVzKCkge1xuICAgICAgICAvLyBlbnN1cmUgcHJpdmF0ZSBzdG9yYWdlIGZvciBwcm9wZXJ0eSBkZWNsYXJhdGlvbnMuXG4gICAgICAgIGlmICghdGhpcy5oYXNPd25Qcm9wZXJ0eShKU0NvbXBpbGVyX3JlbmFtZVByb3BlcnR5KCdfY2xhc3NQcm9wZXJ0aWVzJywgdGhpcykpKSB7XG4gICAgICAgICAgICB0aGlzLl9jbGFzc1Byb3BlcnRpZXMgPSBuZXcgTWFwKCk7XG4gICAgICAgICAgICAvLyBOT1RFOiBXb3JrYXJvdW5kIElFMTEgbm90IHN1cHBvcnRpbmcgTWFwIGNvbnN0cnVjdG9yIGFyZ3VtZW50LlxuICAgICAgICAgICAgY29uc3Qgc3VwZXJQcm9wZXJ0aWVzID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKHRoaXMpLl9jbGFzc1Byb3BlcnRpZXM7XG4gICAgICAgICAgICBpZiAoc3VwZXJQcm9wZXJ0aWVzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBzdXBlclByb3BlcnRpZXMuZm9yRWFjaCgodiwgaykgPT4gdGhpcy5fY2xhc3NQcm9wZXJ0aWVzLnNldChrLCB2KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHByb3BlcnR5IGFjY2Vzc29yIG9uIHRoZSBlbGVtZW50IHByb3RvdHlwZSBpZiBvbmUgZG9lcyBub3QgZXhpc3QuXG4gICAgICogVGhlIHByb3BlcnR5IHNldHRlciBjYWxscyB0aGUgcHJvcGVydHkncyBgaGFzQ2hhbmdlZGAgcHJvcGVydHkgb3B0aW9uXG4gICAgICogb3IgdXNlcyBhIHN0cmljdCBpZGVudGl0eSBjaGVjayB0byBkZXRlcm1pbmUgd2hldGhlciBvciBub3QgdG8gcmVxdWVzdFxuICAgICAqIGFuIHVwZGF0ZS5cbiAgICAgKiBAbm9jb2xsYXBzZVxuICAgICAqL1xuICAgIHN0YXRpYyBjcmVhdGVQcm9wZXJ0eShuYW1lLCBvcHRpb25zID0gZGVmYXVsdFByb3BlcnR5RGVjbGFyYXRpb24pIHtcbiAgICAgICAgLy8gTm90ZSwgc2luY2UgdGhpcyBjYW4gYmUgY2FsbGVkIGJ5IHRoZSBgQHByb3BlcnR5YCBkZWNvcmF0b3Igd2hpY2hcbiAgICAgICAgLy8gaXMgY2FsbGVkIGJlZm9yZSBgZmluYWxpemVgLCB3ZSBlbnN1cmUgc3RvcmFnZSBleGlzdHMgZm9yIHByb3BlcnR5XG4gICAgICAgIC8vIG1ldGFkYXRhLlxuICAgICAgICB0aGlzLl9lbnN1cmVDbGFzc1Byb3BlcnRpZXMoKTtcbiAgICAgICAgdGhpcy5fY2xhc3NQcm9wZXJ0aWVzLnNldChuYW1lLCBvcHRpb25zKTtcbiAgICAgICAgLy8gRG8gbm90IGdlbmVyYXRlIGFuIGFjY2Vzc29yIGlmIHRoZSBwcm90b3R5cGUgYWxyZWFkeSBoYXMgb25lLCBzaW5jZVxuICAgICAgICAvLyBpdCB3b3VsZCBiZSBsb3N0IG90aGVyd2lzZSBhbmQgdGhhdCB3b3VsZCBuZXZlciBiZSB0aGUgdXNlcidzIGludGVudGlvbjtcbiAgICAgICAgLy8gSW5zdGVhZCwgd2UgZXhwZWN0IHVzZXJzIHRvIGNhbGwgYHJlcXVlc3RVcGRhdGVgIHRoZW1zZWx2ZXMgZnJvbVxuICAgICAgICAvLyB1c2VyLWRlZmluZWQgYWNjZXNzb3JzLiBOb3RlIHRoYXQgaWYgdGhlIHN1cGVyIGhhcyBhbiBhY2Nlc3NvciB3ZSB3aWxsXG4gICAgICAgIC8vIHN0aWxsIG92ZXJ3cml0ZSBpdFxuICAgICAgICBpZiAob3B0aW9ucy5ub0FjY2Vzc29yIHx8IHRoaXMucHJvdG90eXBlLmhhc093blByb3BlcnR5KG5hbWUpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qga2V5ID0gdHlwZW9mIG5hbWUgPT09ICdzeW1ib2wnID8gU3ltYm9sKCkgOiBgX18ke25hbWV9YDtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMucHJvdG90eXBlLCBuYW1lLCB7XG4gICAgICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tYW55IG5vIHN5bWJvbCBpbiBpbmRleFxuICAgICAgICAgICAgZ2V0KCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzW2tleV07XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0KHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgb2xkVmFsdWUgPSB0aGlzW25hbWVdO1xuICAgICAgICAgICAgICAgIHRoaXNba2V5XSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIHRoaXMuX3JlcXVlc3RVcGRhdGUobmFtZSwgb2xkVmFsdWUpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWVcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgcHJvcGVydHkgYWNjZXNzb3JzIGZvciByZWdpc3RlcmVkIHByb3BlcnRpZXMgYW5kIGVuc3VyZXNcbiAgICAgKiBhbnkgc3VwZXJjbGFzc2VzIGFyZSBhbHNvIGZpbmFsaXplZC5cbiAgICAgKiBAbm9jb2xsYXBzZVxuICAgICAqL1xuICAgIHN0YXRpYyBmaW5hbGl6ZSgpIHtcbiAgICAgICAgLy8gZmluYWxpemUgYW55IHN1cGVyY2xhc3Nlc1xuICAgICAgICBjb25zdCBzdXBlckN0b3IgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YodGhpcyk7XG4gICAgICAgIGlmICghc3VwZXJDdG9yLmhhc093blByb3BlcnR5KGZpbmFsaXplZCkpIHtcbiAgICAgICAgICAgIHN1cGVyQ3Rvci5maW5hbGl6ZSgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXNbZmluYWxpemVkXSA9IHRydWU7XG4gICAgICAgIHRoaXMuX2Vuc3VyZUNsYXNzUHJvcGVydGllcygpO1xuICAgICAgICAvLyBpbml0aWFsaXplIE1hcCBwb3B1bGF0ZWQgaW4gb2JzZXJ2ZWRBdHRyaWJ1dGVzXG4gICAgICAgIHRoaXMuX2F0dHJpYnV0ZVRvUHJvcGVydHlNYXAgPSBuZXcgTWFwKCk7XG4gICAgICAgIC8vIG1ha2UgYW55IHByb3BlcnRpZXNcbiAgICAgICAgLy8gTm90ZSwgb25seSBwcm9jZXNzIFwib3duXCIgcHJvcGVydGllcyBzaW5jZSB0aGlzIGVsZW1lbnQgd2lsbCBpbmhlcml0XG4gICAgICAgIC8vIGFueSBwcm9wZXJ0aWVzIGRlZmluZWQgb24gdGhlIHN1cGVyQ2xhc3MsIGFuZCBmaW5hbGl6YXRpb24gZW5zdXJlc1xuICAgICAgICAvLyB0aGUgZW50aXJlIHByb3RvdHlwZSBjaGFpbiBpcyBmaW5hbGl6ZWQuXG4gICAgICAgIGlmICh0aGlzLmhhc093blByb3BlcnR5KEpTQ29tcGlsZXJfcmVuYW1lUHJvcGVydHkoJ3Byb3BlcnRpZXMnLCB0aGlzKSkpIHtcbiAgICAgICAgICAgIGNvbnN0IHByb3BzID0gdGhpcy5wcm9wZXJ0aWVzO1xuICAgICAgICAgICAgLy8gc3VwcG9ydCBzeW1ib2xzIGluIHByb3BlcnRpZXMgKElFMTEgZG9lcyBub3Qgc3VwcG9ydCB0aGlzKVxuICAgICAgICAgICAgY29uc3QgcHJvcEtleXMgPSBbXG4gICAgICAgICAgICAgICAgLi4uT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMocHJvcHMpLFxuICAgICAgICAgICAgICAgIC4uLih0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gJ2Z1bmN0aW9uJykgP1xuICAgICAgICAgICAgICAgICAgICBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHByb3BzKSA6XG4gICAgICAgICAgICAgICAgICAgIFtdXG4gICAgICAgICAgICBdO1xuICAgICAgICAgICAgLy8gVGhpcyBmb3Ivb2YgaXMgb2sgYmVjYXVzZSBwcm9wS2V5cyBpcyBhbiBhcnJheVxuICAgICAgICAgICAgZm9yIChjb25zdCBwIG9mIHByb3BLZXlzKSB7XG4gICAgICAgICAgICAgICAgLy8gbm90ZSwgdXNlIG9mIGBhbnlgIGlzIGR1ZSB0byBUeXBlU3JpcHQgbGFjayBvZiBzdXBwb3J0IGZvciBzeW1ib2wgaW5cbiAgICAgICAgICAgICAgICAvLyBpbmRleCB0eXBlc1xuICAgICAgICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1hbnkgbm8gc3ltYm9sIGluIGluZGV4XG4gICAgICAgICAgICAgICAgdGhpcy5jcmVhdGVQcm9wZXJ0eShwLCBwcm9wc1twXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgcHJvcGVydHkgbmFtZSBmb3IgdGhlIGdpdmVuIGF0dHJpYnV0ZSBgbmFtZWAuXG4gICAgICogQG5vY29sbGFwc2VcbiAgICAgKi9cbiAgICBzdGF0aWMgX2F0dHJpYnV0ZU5hbWVGb3JQcm9wZXJ0eShuYW1lLCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IGF0dHJpYnV0ZSA9IG9wdGlvbnMuYXR0cmlidXRlO1xuICAgICAgICByZXR1cm4gYXR0cmlidXRlID09PSBmYWxzZSA/XG4gICAgICAgICAgICB1bmRlZmluZWQgOlxuICAgICAgICAgICAgKHR5cGVvZiBhdHRyaWJ1dGUgPT09ICdzdHJpbmcnID9cbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGUgOlxuICAgICAgICAgICAgICAgICh0eXBlb2YgbmFtZSA9PT0gJ3N0cmluZycgPyBuYW1lLnRvTG93ZXJDYXNlKCkgOiB1bmRlZmluZWQpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0cnVlIGlmIGEgcHJvcGVydHkgc2hvdWxkIHJlcXVlc3QgYW4gdXBkYXRlLlxuICAgICAqIENhbGxlZCB3aGVuIGEgcHJvcGVydHkgdmFsdWUgaXMgc2V0IGFuZCB1c2VzIHRoZSBgaGFzQ2hhbmdlZGBcbiAgICAgKiBvcHRpb24gZm9yIHRoZSBwcm9wZXJ0eSBpZiBwcmVzZW50IG9yIGEgc3RyaWN0IGlkZW50aXR5IGNoZWNrLlxuICAgICAqIEBub2NvbGxhcHNlXG4gICAgICovXG4gICAgc3RhdGljIF92YWx1ZUhhc0NoYW5nZWQodmFsdWUsIG9sZCwgaGFzQ2hhbmdlZCA9IG5vdEVxdWFsKSB7XG4gICAgICAgIHJldHVybiBoYXNDaGFuZ2VkKHZhbHVlLCBvbGQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBwcm9wZXJ0eSB2YWx1ZSBmb3IgdGhlIGdpdmVuIGF0dHJpYnV0ZSB2YWx1ZS5cbiAgICAgKiBDYWxsZWQgdmlhIHRoZSBgYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrYCBhbmQgdXNlcyB0aGUgcHJvcGVydHknc1xuICAgICAqIGBjb252ZXJ0ZXJgIG9yIGBjb252ZXJ0ZXIuZnJvbUF0dHJpYnV0ZWAgcHJvcGVydHkgb3B0aW9uLlxuICAgICAqIEBub2NvbGxhcHNlXG4gICAgICovXG4gICAgc3RhdGljIF9wcm9wZXJ0eVZhbHVlRnJvbUF0dHJpYnV0ZSh2YWx1ZSwgb3B0aW9ucykge1xuICAgICAgICBjb25zdCB0eXBlID0gb3B0aW9ucy50eXBlO1xuICAgICAgICBjb25zdCBjb252ZXJ0ZXIgPSBvcHRpb25zLmNvbnZlcnRlciB8fCBkZWZhdWx0Q29udmVydGVyO1xuICAgICAgICBjb25zdCBmcm9tQXR0cmlidXRlID0gKHR5cGVvZiBjb252ZXJ0ZXIgPT09ICdmdW5jdGlvbicgPyBjb252ZXJ0ZXIgOiBjb252ZXJ0ZXIuZnJvbUF0dHJpYnV0ZSk7XG4gICAgICAgIHJldHVybiBmcm9tQXR0cmlidXRlID8gZnJvbUF0dHJpYnV0ZSh2YWx1ZSwgdHlwZSkgOiB2YWx1ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgYXR0cmlidXRlIHZhbHVlIGZvciB0aGUgZ2l2ZW4gcHJvcGVydHkgdmFsdWUuIElmIHRoaXNcbiAgICAgKiByZXR1cm5zIHVuZGVmaW5lZCwgdGhlIHByb3BlcnR5IHdpbGwgKm5vdCogYmUgcmVmbGVjdGVkIHRvIGFuIGF0dHJpYnV0ZS5cbiAgICAgKiBJZiB0aGlzIHJldHVybnMgbnVsbCwgdGhlIGF0dHJpYnV0ZSB3aWxsIGJlIHJlbW92ZWQsIG90aGVyd2lzZSB0aGVcbiAgICAgKiBhdHRyaWJ1dGUgd2lsbCBiZSBzZXQgdG8gdGhlIHZhbHVlLlxuICAgICAqIFRoaXMgdXNlcyB0aGUgcHJvcGVydHkncyBgcmVmbGVjdGAgYW5kIGB0eXBlLnRvQXR0cmlidXRlYCBwcm9wZXJ0eSBvcHRpb25zLlxuICAgICAqIEBub2NvbGxhcHNlXG4gICAgICovXG4gICAgc3RhdGljIF9wcm9wZXJ0eVZhbHVlVG9BdHRyaWJ1dGUodmFsdWUsIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKG9wdGlvbnMucmVmbGVjdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdHlwZSA9IG9wdGlvbnMudHlwZTtcbiAgICAgICAgY29uc3QgY29udmVydGVyID0gb3B0aW9ucy5jb252ZXJ0ZXI7XG4gICAgICAgIGNvbnN0IHRvQXR0cmlidXRlID0gY29udmVydGVyICYmIGNvbnZlcnRlci50b0F0dHJpYnV0ZSB8fFxuICAgICAgICAgICAgZGVmYXVsdENvbnZlcnRlci50b0F0dHJpYnV0ZTtcbiAgICAgICAgcmV0dXJuIHRvQXR0cmlidXRlKHZhbHVlLCB0eXBlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUGVyZm9ybXMgZWxlbWVudCBpbml0aWFsaXphdGlvbi4gQnkgZGVmYXVsdCBjYXB0dXJlcyBhbnkgcHJlLXNldCB2YWx1ZXMgZm9yXG4gICAgICogcmVnaXN0ZXJlZCBwcm9wZXJ0aWVzLlxuICAgICAqL1xuICAgIGluaXRpYWxpemUoKSB7XG4gICAgICAgIHRoaXMuX3NhdmVJbnN0YW5jZVByb3BlcnRpZXMoKTtcbiAgICAgICAgLy8gZW5zdXJlcyBmaXJzdCB1cGRhdGUgd2lsbCBiZSBjYXVnaHQgYnkgYW4gZWFybHkgYWNjZXNzIG9mXG4gICAgICAgIC8vIGB1cGRhdGVDb21wbGV0ZWBcbiAgICAgICAgdGhpcy5fcmVxdWVzdFVwZGF0ZSgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBGaXhlcyBhbnkgcHJvcGVydGllcyBzZXQgb24gdGhlIGluc3RhbmNlIGJlZm9yZSB1cGdyYWRlIHRpbWUuXG4gICAgICogT3RoZXJ3aXNlIHRoZXNlIHdvdWxkIHNoYWRvdyB0aGUgYWNjZXNzb3IgYW5kIGJyZWFrIHRoZXNlIHByb3BlcnRpZXMuXG4gICAgICogVGhlIHByb3BlcnRpZXMgYXJlIHN0b3JlZCBpbiBhIE1hcCB3aGljaCBpcyBwbGF5ZWQgYmFjayBhZnRlciB0aGVcbiAgICAgKiBjb25zdHJ1Y3RvciBydW5zLiBOb3RlLCBvbiB2ZXJ5IG9sZCB2ZXJzaW9ucyBvZiBTYWZhcmkgKDw9OSkgb3IgQ2hyb21lXG4gICAgICogKDw9NDEpLCBwcm9wZXJ0aWVzIGNyZWF0ZWQgZm9yIG5hdGl2ZSBwbGF0Zm9ybSBwcm9wZXJ0aWVzIGxpa2UgKGBpZGAgb3JcbiAgICAgKiBgbmFtZWApIG1heSBub3QgaGF2ZSBkZWZhdWx0IHZhbHVlcyBzZXQgaW4gdGhlIGVsZW1lbnQgY29uc3RydWN0b3IuIE9uXG4gICAgICogdGhlc2UgYnJvd3NlcnMgbmF0aXZlIHByb3BlcnRpZXMgYXBwZWFyIG9uIGluc3RhbmNlcyBhbmQgdGhlcmVmb3JlIHRoZWlyXG4gICAgICogZGVmYXVsdCB2YWx1ZSB3aWxsIG92ZXJ3cml0ZSBhbnkgZWxlbWVudCBkZWZhdWx0IChlLmcuIGlmIHRoZSBlbGVtZW50IHNldHNcbiAgICAgKiB0aGlzLmlkID0gJ2lkJyBpbiB0aGUgY29uc3RydWN0b3IsIHRoZSAnaWQnIHdpbGwgYmVjb21lICcnIHNpbmNlIHRoaXMgaXNcbiAgICAgKiB0aGUgbmF0aXZlIHBsYXRmb3JtIGRlZmF1bHQpLlxuICAgICAqL1xuICAgIF9zYXZlSW5zdGFuY2VQcm9wZXJ0aWVzKCkge1xuICAgICAgICAvLyBVc2UgZm9yRWFjaCBzbyB0aGlzIHdvcmtzIGV2ZW4gaWYgZm9yL29mIGxvb3BzIGFyZSBjb21waWxlZCB0byBmb3IgbG9vcHNcbiAgICAgICAgLy8gZXhwZWN0aW5nIGFycmF5c1xuICAgICAgICB0aGlzLmNvbnN0cnVjdG9yXG4gICAgICAgICAgICAuX2NsYXNzUHJvcGVydGllcy5mb3JFYWNoKChfdiwgcCkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMuaGFzT3duUHJvcGVydHkocCkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHRoaXNbcF07XG4gICAgICAgICAgICAgICAgZGVsZXRlIHRoaXNbcF07XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLl9pbnN0YW5jZVByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faW5zdGFuY2VQcm9wZXJ0aWVzID0gbmV3IE1hcCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLl9pbnN0YW5jZVByb3BlcnRpZXMuc2V0KHAsIHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgcHJldmlvdXNseSBzYXZlZCBpbnN0YW5jZSBwcm9wZXJ0aWVzLlxuICAgICAqL1xuICAgIF9hcHBseUluc3RhbmNlUHJvcGVydGllcygpIHtcbiAgICAgICAgLy8gVXNlIGZvckVhY2ggc28gdGhpcyB3b3JrcyBldmVuIGlmIGZvci9vZiBsb29wcyBhcmUgY29tcGlsZWQgdG8gZm9yIGxvb3BzXG4gICAgICAgIC8vIGV4cGVjdGluZyBhcnJheXNcbiAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWFueVxuICAgICAgICB0aGlzLl9pbnN0YW5jZVByb3BlcnRpZXMuZm9yRWFjaCgodiwgcCkgPT4gdGhpc1twXSA9IHYpO1xuICAgICAgICB0aGlzLl9pbnN0YW5jZVByb3BlcnRpZXMgPSB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgICAgICB0aGlzLl91cGRhdGVTdGF0ZSA9IHRoaXMuX3VwZGF0ZVN0YXRlIHwgU1RBVEVfSEFTX0NPTk5FQ1RFRDtcbiAgICAgICAgLy8gRW5zdXJlIGZpcnN0IGNvbm5lY3Rpb24gY29tcGxldGVzIGFuIHVwZGF0ZS4gVXBkYXRlcyBjYW5ub3QgY29tcGxldGVcbiAgICAgICAgLy8gYmVmb3JlIGNvbm5lY3Rpb24gYW5kIGlmIG9uZSBpcyBwZW5kaW5nIGNvbm5lY3Rpb24gdGhlXG4gICAgICAgIC8vIGBfaGFzQ29ubmVjdGlvblJlc29sdmVyYCB3aWxsIGV4aXN0LiBJZiBzbywgcmVzb2x2ZSBpdCB0byBjb21wbGV0ZSB0aGVcbiAgICAgICAgLy8gdXBkYXRlLCBvdGhlcndpc2UgcmVxdWVzdFVwZGF0ZS5cbiAgICAgICAgaWYgKHRoaXMuX2hhc0Nvbm5lY3RlZFJlc29sdmVyKSB7XG4gICAgICAgICAgICB0aGlzLl9oYXNDb25uZWN0ZWRSZXNvbHZlcigpO1xuICAgICAgICAgICAgdGhpcy5faGFzQ29ubmVjdGVkUmVzb2x2ZXIgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQWxsb3dzIGZvciBgc3VwZXIuZGlzY29ubmVjdGVkQ2FsbGJhY2soKWAgaW4gZXh0ZW5zaW9ucyB3aGlsZVxuICAgICAqIHJlc2VydmluZyB0aGUgcG9zc2liaWxpdHkgb2YgbWFraW5nIG5vbi1icmVha2luZyBmZWF0dXJlIGFkZGl0aW9uc1xuICAgICAqIHdoZW4gZGlzY29ubmVjdGluZyBhdCBzb21lIHBvaW50IGluIHRoZSBmdXR1cmUuXG4gICAgICovXG4gICAgZGlzY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFN5bmNocm9uaXplcyBwcm9wZXJ0eSB2YWx1ZXMgd2hlbiBhdHRyaWJ1dGVzIGNoYW5nZS5cbiAgICAgKi9cbiAgICBhdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2sobmFtZSwgb2xkLCB2YWx1ZSkge1xuICAgICAgICBpZiAob2xkICE9PSB2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5fYXR0cmlidXRlVG9Qcm9wZXJ0eShuYW1lLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgX3Byb3BlcnR5VG9BdHRyaWJ1dGUobmFtZSwgdmFsdWUsIG9wdGlvbnMgPSBkZWZhdWx0UHJvcGVydHlEZWNsYXJhdGlvbikge1xuICAgICAgICBjb25zdCBjdG9yID0gdGhpcy5jb25zdHJ1Y3RvcjtcbiAgICAgICAgY29uc3QgYXR0ciA9IGN0b3IuX2F0dHJpYnV0ZU5hbWVGb3JQcm9wZXJ0eShuYW1lLCBvcHRpb25zKTtcbiAgICAgICAgaWYgKGF0dHIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY29uc3QgYXR0clZhbHVlID0gY3Rvci5fcHJvcGVydHlWYWx1ZVRvQXR0cmlidXRlKHZhbHVlLCBvcHRpb25zKTtcbiAgICAgICAgICAgIC8vIGFuIHVuZGVmaW5lZCB2YWx1ZSBkb2VzIG5vdCBjaGFuZ2UgdGhlIGF0dHJpYnV0ZS5cbiAgICAgICAgICAgIGlmIChhdHRyVmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFRyYWNrIGlmIHRoZSBwcm9wZXJ0eSBpcyBiZWluZyByZWZsZWN0ZWQgdG8gYXZvaWRcbiAgICAgICAgICAgIC8vIHNldHRpbmcgdGhlIHByb3BlcnR5IGFnYWluIHZpYSBgYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrYC4gTm90ZTpcbiAgICAgICAgICAgIC8vIDEuIHRoaXMgdGFrZXMgYWR2YW50YWdlIG9mIHRoZSBmYWN0IHRoYXQgdGhlIGNhbGxiYWNrIGlzIHN5bmNocm9ub3VzLlxuICAgICAgICAgICAgLy8gMi4gd2lsbCBiZWhhdmUgaW5jb3JyZWN0bHkgaWYgbXVsdGlwbGUgYXR0cmlidXRlcyBhcmUgaW4gdGhlIHJlYWN0aW9uXG4gICAgICAgICAgICAvLyBzdGFjayBhdCB0aW1lIG9mIGNhbGxpbmcuIEhvd2V2ZXIsIHNpbmNlIHdlIHByb2Nlc3MgYXR0cmlidXRlc1xuICAgICAgICAgICAgLy8gaW4gYHVwZGF0ZWAgdGhpcyBzaG91bGQgbm90IGJlIHBvc3NpYmxlIChvciBhbiBleHRyZW1lIGNvcm5lciBjYXNlXG4gICAgICAgICAgICAvLyB0aGF0IHdlJ2QgbGlrZSB0byBkaXNjb3ZlcikuXG4gICAgICAgICAgICAvLyBtYXJrIHN0YXRlIHJlZmxlY3RpbmdcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZVN0YXRlID0gdGhpcy5fdXBkYXRlU3RhdGUgfCBTVEFURV9JU19SRUZMRUNUSU5HX1RPX0FUVFJJQlVURTtcbiAgICAgICAgICAgIGlmIChhdHRyVmFsdWUgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlQXR0cmlidXRlKGF0dHIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRBdHRyaWJ1dGUoYXR0ciwgYXR0clZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIG1hcmsgc3RhdGUgbm90IHJlZmxlY3RpbmdcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZVN0YXRlID0gdGhpcy5fdXBkYXRlU3RhdGUgJiB+U1RBVEVfSVNfUkVGTEVDVElOR19UT19BVFRSSUJVVEU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgX2F0dHJpYnV0ZVRvUHJvcGVydHkobmFtZSwgdmFsdWUpIHtcbiAgICAgICAgLy8gVXNlIHRyYWNraW5nIGluZm8gdG8gYXZvaWQgZGVzZXJpYWxpemluZyBhdHRyaWJ1dGUgdmFsdWUgaWYgaXQgd2FzXG4gICAgICAgIC8vIGp1c3Qgc2V0IGZyb20gYSBwcm9wZXJ0eSBzZXR0ZXIuXG4gICAgICAgIGlmICh0aGlzLl91cGRhdGVTdGF0ZSAmIFNUQVRFX0lTX1JFRkxFQ1RJTkdfVE9fQVRUUklCVVRFKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY3RvciA9IHRoaXMuY29uc3RydWN0b3I7XG4gICAgICAgIGNvbnN0IHByb3BOYW1lID0gY3Rvci5fYXR0cmlidXRlVG9Qcm9wZXJ0eU1hcC5nZXQobmFtZSk7XG4gICAgICAgIGlmIChwcm9wTmFtZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjb25zdCBvcHRpb25zID0gY3Rvci5fY2xhc3NQcm9wZXJ0aWVzLmdldChwcm9wTmFtZSkgfHwgZGVmYXVsdFByb3BlcnR5RGVjbGFyYXRpb247XG4gICAgICAgICAgICAvLyBtYXJrIHN0YXRlIHJlZmxlY3RpbmdcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZVN0YXRlID0gdGhpcy5fdXBkYXRlU3RhdGUgfCBTVEFURV9JU19SRUZMRUNUSU5HX1RPX1BST1BFUlRZO1xuICAgICAgICAgICAgdGhpc1twcm9wTmFtZV0gPVxuICAgICAgICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1hbnlcbiAgICAgICAgICAgICAgICBjdG9yLl9wcm9wZXJ0eVZhbHVlRnJvbUF0dHJpYnV0ZSh2YWx1ZSwgb3B0aW9ucyk7XG4gICAgICAgICAgICAvLyBtYXJrIHN0YXRlIG5vdCByZWZsZWN0aW5nXG4gICAgICAgICAgICB0aGlzLl91cGRhdGVTdGF0ZSA9IHRoaXMuX3VwZGF0ZVN0YXRlICYgflNUQVRFX0lTX1JFRkxFQ1RJTkdfVE9fUFJPUEVSVFk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhpcyBwcml2YXRlIHZlcnNpb24gb2YgYHJlcXVlc3RVcGRhdGVgIGRvZXMgbm90IGFjY2VzcyBvciByZXR1cm4gdGhlXG4gICAgICogYHVwZGF0ZUNvbXBsZXRlYCBwcm9taXNlLiBUaGlzIHByb21pc2UgY2FuIGJlIG92ZXJyaWRkZW4gYW5kIGlzIHRoZXJlZm9yZVxuICAgICAqIG5vdCBmcmVlIHRvIGFjY2Vzcy5cbiAgICAgKi9cbiAgICBfcmVxdWVzdFVwZGF0ZShuYW1lLCBvbGRWYWx1ZSkge1xuICAgICAgICBsZXQgc2hvdWxkUmVxdWVzdFVwZGF0ZSA9IHRydWU7XG4gICAgICAgIC8vIElmIHdlIGhhdmUgYSBwcm9wZXJ0eSBrZXksIHBlcmZvcm0gcHJvcGVydHkgdXBkYXRlIHN0ZXBzLlxuICAgICAgICBpZiAobmFtZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjb25zdCBjdG9yID0gdGhpcy5jb25zdHJ1Y3RvcjtcbiAgICAgICAgICAgIGNvbnN0IG9wdGlvbnMgPSBjdG9yLl9jbGFzc1Byb3BlcnRpZXMuZ2V0KG5hbWUpIHx8IGRlZmF1bHRQcm9wZXJ0eURlY2xhcmF0aW9uO1xuICAgICAgICAgICAgaWYgKGN0b3IuX3ZhbHVlSGFzQ2hhbmdlZCh0aGlzW25hbWVdLCBvbGRWYWx1ZSwgb3B0aW9ucy5oYXNDaGFuZ2VkKSkge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5fY2hhbmdlZFByb3BlcnRpZXMuaGFzKG5hbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2NoYW5nZWRQcm9wZXJ0aWVzLnNldChuYW1lLCBvbGRWYWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIEFkZCB0byByZWZsZWN0aW5nIHByb3BlcnRpZXMgc2V0LlxuICAgICAgICAgICAgICAgIC8vIE5vdGUsIGl0J3MgaW1wb3J0YW50IHRoYXQgZXZlcnkgY2hhbmdlIGhhcyBhIGNoYW5jZSB0byBhZGQgdGhlXG4gICAgICAgICAgICAgICAgLy8gcHJvcGVydHkgdG8gYF9yZWZsZWN0aW5nUHJvcGVydGllc2AuIFRoaXMgZW5zdXJlcyBzZXR0aW5nXG4gICAgICAgICAgICAgICAgLy8gYXR0cmlidXRlICsgcHJvcGVydHkgcmVmbGVjdHMgY29ycmVjdGx5LlxuICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLnJlZmxlY3QgPT09IHRydWUgJiZcbiAgICAgICAgICAgICAgICAgICAgISh0aGlzLl91cGRhdGVTdGF0ZSAmIFNUQVRFX0lTX1JFRkxFQ1RJTkdfVE9fUFJPUEVSVFkpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9yZWZsZWN0aW5nUHJvcGVydGllcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9yZWZsZWN0aW5nUHJvcGVydGllcyA9IG5ldyBNYXAoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9yZWZsZWN0aW5nUHJvcGVydGllcy5zZXQobmFtZSwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gQWJvcnQgdGhlIHJlcXVlc3QgaWYgdGhlIHByb3BlcnR5IHNob3VsZCBub3QgYmUgY29uc2lkZXJlZCBjaGFuZ2VkLlxuICAgICAgICAgICAgICAgIHNob3VsZFJlcXVlc3RVcGRhdGUgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuX2hhc1JlcXVlc3RlZFVwZGF0ZSAmJiBzaG91bGRSZXF1ZXN0VXBkYXRlKSB7XG4gICAgICAgICAgICB0aGlzLl9lbnF1ZXVlVXBkYXRlKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVxdWVzdHMgYW4gdXBkYXRlIHdoaWNoIGlzIHByb2Nlc3NlZCBhc3luY2hyb25vdXNseS4gVGhpcyBzaG91bGRcbiAgICAgKiBiZSBjYWxsZWQgd2hlbiBhbiBlbGVtZW50IHNob3VsZCB1cGRhdGUgYmFzZWQgb24gc29tZSBzdGF0ZSBub3QgdHJpZ2dlcmVkXG4gICAgICogYnkgc2V0dGluZyBhIHByb3BlcnR5LiBJbiB0aGlzIGNhc2UsIHBhc3Mgbm8gYXJndW1lbnRzLiBJdCBzaG91bGQgYWxzbyBiZVxuICAgICAqIGNhbGxlZCB3aGVuIG1hbnVhbGx5IGltcGxlbWVudGluZyBhIHByb3BlcnR5IHNldHRlci4gSW4gdGhpcyBjYXNlLCBwYXNzIHRoZVxuICAgICAqIHByb3BlcnR5IGBuYW1lYCBhbmQgYG9sZFZhbHVlYCB0byBlbnN1cmUgdGhhdCBhbnkgY29uZmlndXJlZCBwcm9wZXJ0eVxuICAgICAqIG9wdGlvbnMgYXJlIGhvbm9yZWQuIFJldHVybnMgdGhlIGB1cGRhdGVDb21wbGV0ZWAgUHJvbWlzZSB3aGljaCBpcyByZXNvbHZlZFxuICAgICAqIHdoZW4gdGhlIHVwZGF0ZSBjb21wbGV0ZXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gbmFtZSB7UHJvcGVydHlLZXl9IChvcHRpb25hbCkgbmFtZSBvZiByZXF1ZXN0aW5nIHByb3BlcnR5XG4gICAgICogQHBhcmFtIG9sZFZhbHVlIHthbnl9IChvcHRpb25hbCkgb2xkIHZhbHVlIG9mIHJlcXVlc3RpbmcgcHJvcGVydHlcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZX0gQSBQcm9taXNlIHRoYXQgaXMgcmVzb2x2ZWQgd2hlbiB0aGUgdXBkYXRlIGNvbXBsZXRlcy5cbiAgICAgKi9cbiAgICByZXF1ZXN0VXBkYXRlKG5hbWUsIG9sZFZhbHVlKSB7XG4gICAgICAgIHRoaXMuX3JlcXVlc3RVcGRhdGUobmFtZSwgb2xkVmFsdWUpO1xuICAgICAgICByZXR1cm4gdGhpcy51cGRhdGVDb21wbGV0ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0cyB1cCB0aGUgZWxlbWVudCB0byBhc3luY2hyb25vdXNseSB1cGRhdGUuXG4gICAgICovXG4gICAgYXN5bmMgX2VucXVldWVVcGRhdGUoKSB7XG4gICAgICAgIC8vIE1hcmsgc3RhdGUgdXBkYXRpbmcuLi5cbiAgICAgICAgdGhpcy5fdXBkYXRlU3RhdGUgPSB0aGlzLl91cGRhdGVTdGF0ZSB8IFNUQVRFX1VQREFURV9SRVFVRVNURUQ7XG4gICAgICAgIGxldCByZXNvbHZlO1xuICAgICAgICBsZXQgcmVqZWN0O1xuICAgICAgICBjb25zdCBwcmV2aW91c1VwZGF0ZVByb21pc2UgPSB0aGlzLl91cGRhdGVQcm9taXNlO1xuICAgICAgICB0aGlzLl91cGRhdGVQcm9taXNlID0gbmV3IFByb21pc2UoKHJlcywgcmVqKSA9PiB7XG4gICAgICAgICAgICByZXNvbHZlID0gcmVzO1xuICAgICAgICAgICAgcmVqZWN0ID0gcmVqO1xuICAgICAgICB9KTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIEVuc3VyZSBhbnkgcHJldmlvdXMgdXBkYXRlIGhhcyByZXNvbHZlZCBiZWZvcmUgdXBkYXRpbmcuXG4gICAgICAgICAgICAvLyBUaGlzIGBhd2FpdGAgYWxzbyBlbnN1cmVzIHRoYXQgcHJvcGVydHkgY2hhbmdlcyBhcmUgYmF0Y2hlZC5cbiAgICAgICAgICAgIGF3YWl0IHByZXZpb3VzVXBkYXRlUHJvbWlzZTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgLy8gSWdub3JlIGFueSBwcmV2aW91cyBlcnJvcnMuIFdlIG9ubHkgY2FyZSB0aGF0IHRoZSBwcmV2aW91cyBjeWNsZSBpc1xuICAgICAgICAgICAgLy8gZG9uZS4gQW55IGVycm9yIHNob3VsZCBoYXZlIGJlZW4gaGFuZGxlZCBpbiB0aGUgcHJldmlvdXMgdXBkYXRlLlxuICAgICAgICB9XG4gICAgICAgIC8vIE1ha2Ugc3VyZSB0aGUgZWxlbWVudCBoYXMgY29ubmVjdGVkIGJlZm9yZSB1cGRhdGluZy5cbiAgICAgICAgaWYgKCF0aGlzLl9oYXNDb25uZWN0ZWQpIHtcbiAgICAgICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKChyZXMpID0+IHRoaXMuX2hhc0Nvbm5lY3RlZFJlc29sdmVyID0gcmVzKTtcbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gdGhpcy5wZXJmb3JtVXBkYXRlKCk7XG4gICAgICAgICAgICAvLyBJZiBgcGVyZm9ybVVwZGF0ZWAgcmV0dXJucyBhIFByb21pc2UsIHdlIGF3YWl0IGl0LiBUaGlzIGlzIGRvbmUgdG9cbiAgICAgICAgICAgIC8vIGVuYWJsZSBjb29yZGluYXRpbmcgdXBkYXRlcyB3aXRoIGEgc2NoZWR1bGVyLiBOb3RlLCB0aGUgcmVzdWx0IGlzXG4gICAgICAgICAgICAvLyBjaGVja2VkIHRvIGF2b2lkIGRlbGF5aW5nIGFuIGFkZGl0aW9uYWwgbWljcm90YXNrIHVubGVzcyB3ZSBuZWVkIHRvLlxuICAgICAgICAgICAgaWYgKHJlc3VsdCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgcmVzdWx0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmVzb2x2ZSghdGhpcy5faGFzUmVxdWVzdGVkVXBkYXRlKTtcbiAgICB9XG4gICAgZ2V0IF9oYXNDb25uZWN0ZWQoKSB7XG4gICAgICAgIHJldHVybiAodGhpcy5fdXBkYXRlU3RhdGUgJiBTVEFURV9IQVNfQ09OTkVDVEVEKTtcbiAgICB9XG4gICAgZ2V0IF9oYXNSZXF1ZXN0ZWRVcGRhdGUoKSB7XG4gICAgICAgIHJldHVybiAodGhpcy5fdXBkYXRlU3RhdGUgJiBTVEFURV9VUERBVEVfUkVRVUVTVEVEKTtcbiAgICB9XG4gICAgZ2V0IGhhc1VwZGF0ZWQoKSB7XG4gICAgICAgIHJldHVybiAodGhpcy5fdXBkYXRlU3RhdGUgJiBTVEFURV9IQVNfVVBEQVRFRCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFBlcmZvcm1zIGFuIGVsZW1lbnQgdXBkYXRlLiBOb3RlLCBpZiBhbiBleGNlcHRpb24gaXMgdGhyb3duIGR1cmluZyB0aGVcbiAgICAgKiB1cGRhdGUsIGBmaXJzdFVwZGF0ZWRgIGFuZCBgdXBkYXRlZGAgd2lsbCBub3QgYmUgY2FsbGVkLlxuICAgICAqXG4gICAgICogWW91IGNhbiBvdmVycmlkZSB0aGlzIG1ldGhvZCB0byBjaGFuZ2UgdGhlIHRpbWluZyBvZiB1cGRhdGVzLiBJZiB0aGlzXG4gICAgICogbWV0aG9kIGlzIG92ZXJyaWRkZW4sIGBzdXBlci5wZXJmb3JtVXBkYXRlKClgIG11c3QgYmUgY2FsbGVkLlxuICAgICAqXG4gICAgICogRm9yIGluc3RhbmNlLCB0byBzY2hlZHVsZSB1cGRhdGVzIHRvIG9jY3VyIGp1c3QgYmVmb3JlIHRoZSBuZXh0IGZyYW1lOlxuICAgICAqXG4gICAgICogYGBgXG4gICAgICogcHJvdGVjdGVkIGFzeW5jIHBlcmZvcm1VcGRhdGUoKTogUHJvbWlzZTx1bmtub3duPiB7XG4gICAgICogICBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHJlc29sdmUoKSkpO1xuICAgICAqICAgc3VwZXIucGVyZm9ybVVwZGF0ZSgpO1xuICAgICAqIH1cbiAgICAgKiBgYGBcbiAgICAgKi9cbiAgICBwZXJmb3JtVXBkYXRlKCkge1xuICAgICAgICAvLyBNaXhpbiBpbnN0YW5jZSBwcm9wZXJ0aWVzIG9uY2UsIGlmIHRoZXkgZXhpc3QuXG4gICAgICAgIGlmICh0aGlzLl9pbnN0YW5jZVByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgIHRoaXMuX2FwcGx5SW5zdGFuY2VQcm9wZXJ0aWVzKCk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHNob3VsZFVwZGF0ZSA9IGZhbHNlO1xuICAgICAgICBjb25zdCBjaGFuZ2VkUHJvcGVydGllcyA9IHRoaXMuX2NoYW5nZWRQcm9wZXJ0aWVzO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgc2hvdWxkVXBkYXRlID0gdGhpcy5zaG91bGRVcGRhdGUoY2hhbmdlZFByb3BlcnRpZXMpO1xuICAgICAgICAgICAgaWYgKHNob3VsZFVwZGF0ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlKGNoYW5nZWRQcm9wZXJ0aWVzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgLy8gUHJldmVudCBgZmlyc3RVcGRhdGVkYCBhbmQgYHVwZGF0ZWRgIGZyb20gcnVubmluZyB3aGVuIHRoZXJlJ3MgYW5cbiAgICAgICAgICAgIC8vIHVwZGF0ZSBleGNlcHRpb24uXG4gICAgICAgICAgICBzaG91bGRVcGRhdGUgPSBmYWxzZTtcbiAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAvLyBFbnN1cmUgZWxlbWVudCBjYW4gYWNjZXB0IGFkZGl0aW9uYWwgdXBkYXRlcyBhZnRlciBhbiBleGNlcHRpb24uXG4gICAgICAgICAgICB0aGlzLl9tYXJrVXBkYXRlZCgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzaG91bGRVcGRhdGUpIHtcbiAgICAgICAgICAgIGlmICghKHRoaXMuX3VwZGF0ZVN0YXRlICYgU1RBVEVfSEFTX1VQREFURUQpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdXBkYXRlU3RhdGUgPSB0aGlzLl91cGRhdGVTdGF0ZSB8IFNUQVRFX0hBU19VUERBVEVEO1xuICAgICAgICAgICAgICAgIHRoaXMuZmlyc3RVcGRhdGVkKGNoYW5nZWRQcm9wZXJ0aWVzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMudXBkYXRlZChjaGFuZ2VkUHJvcGVydGllcyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgX21hcmtVcGRhdGVkKCkge1xuICAgICAgICB0aGlzLl9jaGFuZ2VkUHJvcGVydGllcyA9IG5ldyBNYXAoKTtcbiAgICAgICAgdGhpcy5fdXBkYXRlU3RhdGUgPSB0aGlzLl91cGRhdGVTdGF0ZSAmIH5TVEFURV9VUERBVEVfUkVRVUVTVEVEO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgUHJvbWlzZSB0aGF0IHJlc29sdmVzIHdoZW4gdGhlIGVsZW1lbnQgaGFzIGNvbXBsZXRlZCB1cGRhdGluZy5cbiAgICAgKiBUaGUgUHJvbWlzZSB2YWx1ZSBpcyBhIGJvb2xlYW4gdGhhdCBpcyBgdHJ1ZWAgaWYgdGhlIGVsZW1lbnQgY29tcGxldGVkIHRoZVxuICAgICAqIHVwZGF0ZSB3aXRob3V0IHRyaWdnZXJpbmcgYW5vdGhlciB1cGRhdGUuIFRoZSBQcm9taXNlIHJlc3VsdCBpcyBgZmFsc2VgIGlmXG4gICAgICogYSBwcm9wZXJ0eSB3YXMgc2V0IGluc2lkZSBgdXBkYXRlZCgpYC4gSWYgdGhlIFByb21pc2UgaXMgcmVqZWN0ZWQsIGFuXG4gICAgICogZXhjZXB0aW9uIHdhcyB0aHJvd24gZHVyaW5nIHRoZSB1cGRhdGUuXG4gICAgICpcbiAgICAgKiBUbyBhd2FpdCBhZGRpdGlvbmFsIGFzeW5jaHJvbm91cyB3b3JrLCBvdmVycmlkZSB0aGUgYF9nZXRVcGRhdGVDb21wbGV0ZWBcbiAgICAgKiBtZXRob2QuIEZvciBleGFtcGxlLCBpdCBpcyBzb21ldGltZXMgdXNlZnVsIHRvIGF3YWl0IGEgcmVuZGVyZWQgZWxlbWVudFxuICAgICAqIGJlZm9yZSBmdWxmaWxsaW5nIHRoaXMgUHJvbWlzZS4gVG8gZG8gdGhpcywgZmlyc3QgYXdhaXRcbiAgICAgKiBgc3VwZXIuX2dldFVwZGF0ZUNvbXBsZXRlKClgLCB0aGVuIGFueSBzdWJzZXF1ZW50IHN0YXRlLlxuICAgICAqXG4gICAgICogQHJldHVybnMge1Byb21pc2V9IFRoZSBQcm9taXNlIHJldHVybnMgYSBib29sZWFuIHRoYXQgaW5kaWNhdGVzIGlmIHRoZVxuICAgICAqIHVwZGF0ZSByZXNvbHZlZCB3aXRob3V0IHRyaWdnZXJpbmcgYW5vdGhlciB1cGRhdGUuXG4gICAgICovXG4gICAgZ2V0IHVwZGF0ZUNvbXBsZXRlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZ2V0VXBkYXRlQ29tcGxldGUoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogT3ZlcnJpZGUgcG9pbnQgZm9yIHRoZSBgdXBkYXRlQ29tcGxldGVgIHByb21pc2UuXG4gICAgICpcbiAgICAgKiBJdCBpcyBub3Qgc2FmZSB0byBvdmVycmlkZSB0aGUgYHVwZGF0ZUNvbXBsZXRlYCBnZXR0ZXIgZGlyZWN0bHkgZHVlIHRvIGFcbiAgICAgKiBsaW1pdGF0aW9uIGluIFR5cGVTY3JpcHQgd2hpY2ggbWVhbnMgaXQgaXMgbm90IHBvc3NpYmxlIHRvIGNhbGwgYVxuICAgICAqIHN1cGVyY2xhc3MgZ2V0dGVyIChlLmcuIGBzdXBlci51cGRhdGVDb21wbGV0ZS50aGVuKC4uLilgKSB3aGVuIHRoZSB0YXJnZXRcbiAgICAgKiBsYW5ndWFnZSBpcyBFUzUgKGh0dHBzOi8vZ2l0aHViLmNvbS9taWNyb3NvZnQvVHlwZVNjcmlwdC9pc3N1ZXMvMzM4KS5cbiAgICAgKiBUaGlzIG1ldGhvZCBzaG91bGQgYmUgb3ZlcnJpZGRlbiBpbnN0ZWFkLiBGb3IgZXhhbXBsZTpcbiAgICAgKlxuICAgICAqICAgY2xhc3MgTXlFbGVtZW50IGV4dGVuZHMgTGl0RWxlbWVudCB7XG4gICAgICogICAgIGFzeW5jIF9nZXRVcGRhdGVDb21wbGV0ZSgpIHtcbiAgICAgKiAgICAgICBhd2FpdCBzdXBlci5fZ2V0VXBkYXRlQ29tcGxldGUoKTtcbiAgICAgKiAgICAgICBhd2FpdCB0aGlzLl9teUNoaWxkLnVwZGF0ZUNvbXBsZXRlO1xuICAgICAqICAgICB9XG4gICAgICogICB9XG4gICAgICovXG4gICAgX2dldFVwZGF0ZUNvbXBsZXRlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdXBkYXRlUHJvbWlzZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29udHJvbHMgd2hldGhlciBvciBub3QgYHVwZGF0ZWAgc2hvdWxkIGJlIGNhbGxlZCB3aGVuIHRoZSBlbGVtZW50IHJlcXVlc3RzXG4gICAgICogYW4gdXBkYXRlLiBCeSBkZWZhdWx0LCB0aGlzIG1ldGhvZCBhbHdheXMgcmV0dXJucyBgdHJ1ZWAsIGJ1dCB0aGlzIGNhbiBiZVxuICAgICAqIGN1c3RvbWl6ZWQgdG8gY29udHJvbCB3aGVuIHRvIHVwZGF0ZS5cbiAgICAgKlxuICAgICAqICogQHBhcmFtIF9jaGFuZ2VkUHJvcGVydGllcyBNYXAgb2YgY2hhbmdlZCBwcm9wZXJ0aWVzIHdpdGggb2xkIHZhbHVlc1xuICAgICAqL1xuICAgIHNob3VsZFVwZGF0ZShfY2hhbmdlZFByb3BlcnRpZXMpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIGVsZW1lbnQuIFRoaXMgbWV0aG9kIHJlZmxlY3RzIHByb3BlcnR5IHZhbHVlcyB0byBhdHRyaWJ1dGVzLlxuICAgICAqIEl0IGNhbiBiZSBvdmVycmlkZGVuIHRvIHJlbmRlciBhbmQga2VlcCB1cGRhdGVkIGVsZW1lbnQgRE9NLlxuICAgICAqIFNldHRpbmcgcHJvcGVydGllcyBpbnNpZGUgdGhpcyBtZXRob2Qgd2lsbCAqbm90KiB0cmlnZ2VyXG4gICAgICogYW5vdGhlciB1cGRhdGUuXG4gICAgICpcbiAgICAgKiAqIEBwYXJhbSBfY2hhbmdlZFByb3BlcnRpZXMgTWFwIG9mIGNoYW5nZWQgcHJvcGVydGllcyB3aXRoIG9sZCB2YWx1ZXNcbiAgICAgKi9cbiAgICB1cGRhdGUoX2NoYW5nZWRQcm9wZXJ0aWVzKSB7XG4gICAgICAgIGlmICh0aGlzLl9yZWZsZWN0aW5nUHJvcGVydGllcyAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICB0aGlzLl9yZWZsZWN0aW5nUHJvcGVydGllcy5zaXplID4gMCkge1xuICAgICAgICAgICAgLy8gVXNlIGZvckVhY2ggc28gdGhpcyB3b3JrcyBldmVuIGlmIGZvci9vZiBsb29wcyBhcmUgY29tcGlsZWQgdG8gZm9yXG4gICAgICAgICAgICAvLyBsb29wcyBleHBlY3RpbmcgYXJyYXlzXG4gICAgICAgICAgICB0aGlzLl9yZWZsZWN0aW5nUHJvcGVydGllcy5mb3JFYWNoKCh2LCBrKSA9PiB0aGlzLl9wcm9wZXJ0eVRvQXR0cmlidXRlKGssIHRoaXNba10sIHYpKTtcbiAgICAgICAgICAgIHRoaXMuX3JlZmxlY3RpbmdQcm9wZXJ0aWVzID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEludm9rZWQgd2hlbmV2ZXIgdGhlIGVsZW1lbnQgaXMgdXBkYXRlZC4gSW1wbGVtZW50IHRvIHBlcmZvcm1cbiAgICAgKiBwb3N0LXVwZGF0aW5nIHRhc2tzIHZpYSBET00gQVBJcywgZm9yIGV4YW1wbGUsIGZvY3VzaW5nIGFuIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBTZXR0aW5nIHByb3BlcnRpZXMgaW5zaWRlIHRoaXMgbWV0aG9kIHdpbGwgdHJpZ2dlciB0aGUgZWxlbWVudCB0byB1cGRhdGVcbiAgICAgKiBhZ2FpbiBhZnRlciB0aGlzIHVwZGF0ZSBjeWNsZSBjb21wbGV0ZXMuXG4gICAgICpcbiAgICAgKiAqIEBwYXJhbSBfY2hhbmdlZFByb3BlcnRpZXMgTWFwIG9mIGNoYW5nZWQgcHJvcGVydGllcyB3aXRoIG9sZCB2YWx1ZXNcbiAgICAgKi9cbiAgICB1cGRhdGVkKF9jaGFuZ2VkUHJvcGVydGllcykge1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbnZva2VkIHdoZW4gdGhlIGVsZW1lbnQgaXMgZmlyc3QgdXBkYXRlZC4gSW1wbGVtZW50IHRvIHBlcmZvcm0gb25lIHRpbWVcbiAgICAgKiB3b3JrIG9uIHRoZSBlbGVtZW50IGFmdGVyIHVwZGF0ZS5cbiAgICAgKlxuICAgICAqIFNldHRpbmcgcHJvcGVydGllcyBpbnNpZGUgdGhpcyBtZXRob2Qgd2lsbCB0cmlnZ2VyIHRoZSBlbGVtZW50IHRvIHVwZGF0ZVxuICAgICAqIGFnYWluIGFmdGVyIHRoaXMgdXBkYXRlIGN5Y2xlIGNvbXBsZXRlcy5cbiAgICAgKlxuICAgICAqICogQHBhcmFtIF9jaGFuZ2VkUHJvcGVydGllcyBNYXAgb2YgY2hhbmdlZCBwcm9wZXJ0aWVzIHdpdGggb2xkIHZhbHVlc1xuICAgICAqL1xuICAgIGZpcnN0VXBkYXRlZChfY2hhbmdlZFByb3BlcnRpZXMpIHtcbiAgICB9XG59XG5fYSA9IGZpbmFsaXplZDtcbi8qKlxuICogTWFya3MgY2xhc3MgYXMgaGF2aW5nIGZpbmlzaGVkIGNyZWF0aW5nIHByb3BlcnRpZXMuXG4gKi9cblVwZGF0aW5nRWxlbWVudFtfYV0gPSB0cnVlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXBkYXRpbmctZWxlbWVudC5qcy5tYXAiLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuICogQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbiAqIHN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuICovXG5jb25zdCBsZWdhY3lDdXN0b21FbGVtZW50ID0gKHRhZ05hbWUsIGNsYXp6KSA9PiB7XG4gICAgd2luZG93LmN1c3RvbUVsZW1lbnRzLmRlZmluZSh0YWdOYW1lLCBjbGF6eik7XG4gICAgLy8gQ2FzdCBhcyBhbnkgYmVjYXVzZSBUUyBkb2Vzbid0IHJlY29nbml6ZSB0aGUgcmV0dXJuIHR5cGUgYXMgYmVpbmcgYVxuICAgIC8vIHN1YnR5cGUgb2YgdGhlIGRlY29yYXRlZCBjbGFzcyB3aGVuIGNsYXp6IGlzIHR5cGVkIGFzXG4gICAgLy8gYENvbnN0cnVjdG9yPEhUTUxFbGVtZW50PmAgZm9yIHNvbWUgcmVhc29uLlxuICAgIC8vIGBDb25zdHJ1Y3RvcjxIVE1MRWxlbWVudD5gIGlzIGhlbHBmdWwgdG8gbWFrZSBzdXJlIHRoZSBkZWNvcmF0b3IgaXNcbiAgICAvLyBhcHBsaWVkIHRvIGVsZW1lbnRzIGhvd2V2ZXIuXG4gICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWFueVxuICAgIHJldHVybiBjbGF6ejtcbn07XG5jb25zdCBzdGFuZGFyZEN1c3RvbUVsZW1lbnQgPSAodGFnTmFtZSwgZGVzY3JpcHRvcikgPT4ge1xuICAgIGNvbnN0IHsga2luZCwgZWxlbWVudHMgfSA9IGRlc2NyaXB0b3I7XG4gICAgcmV0dXJuIHtcbiAgICAgICAga2luZCxcbiAgICAgICAgZWxlbWVudHMsXG4gICAgICAgIC8vIFRoaXMgY2FsbGJhY2sgaXMgY2FsbGVkIG9uY2UgdGhlIGNsYXNzIGlzIG90aGVyd2lzZSBmdWxseSBkZWZpbmVkXG4gICAgICAgIGZpbmlzaGVyKGNsYXp6KSB7XG4gICAgICAgICAgICB3aW5kb3cuY3VzdG9tRWxlbWVudHMuZGVmaW5lKHRhZ05hbWUsIGNsYXp6KTtcbiAgICAgICAgfVxuICAgIH07XG59O1xuLyoqXG4gKiBDbGFzcyBkZWNvcmF0b3IgZmFjdG9yeSB0aGF0IGRlZmluZXMgdGhlIGRlY29yYXRlZCBjbGFzcyBhcyBhIGN1c3RvbSBlbGVtZW50LlxuICpcbiAqIEBwYXJhbSB0YWdOYW1lIHRoZSBuYW1lIG9mIHRoZSBjdXN0b20gZWxlbWVudCB0byBkZWZpbmVcbiAqL1xuZXhwb3J0IGNvbnN0IGN1c3RvbUVsZW1lbnQgPSAodGFnTmFtZSkgPT4gKGNsYXNzT3JEZXNjcmlwdG9yKSA9PiAodHlwZW9mIGNsYXNzT3JEZXNjcmlwdG9yID09PSAnZnVuY3Rpb24nKSA/XG4gICAgbGVnYWN5Q3VzdG9tRWxlbWVudCh0YWdOYW1lLCBjbGFzc09yRGVzY3JpcHRvcikgOlxuICAgIHN0YW5kYXJkQ3VzdG9tRWxlbWVudCh0YWdOYW1lLCBjbGFzc09yRGVzY3JpcHRvcik7XG5jb25zdCBzdGFuZGFyZFByb3BlcnR5ID0gKG9wdGlvbnMsIGVsZW1lbnQpID0+IHtcbiAgICAvLyBXaGVuIGRlY29yYXRpbmcgYW4gYWNjZXNzb3IsIHBhc3MgaXQgdGhyb3VnaCBhbmQgYWRkIHByb3BlcnR5IG1ldGFkYXRhLlxuICAgIC8vIE5vdGUsIHRoZSBgaGFzT3duUHJvcGVydHlgIGNoZWNrIGluIGBjcmVhdGVQcm9wZXJ0eWAgZW5zdXJlcyB3ZSBkb24ndFxuICAgIC8vIHN0b21wIG92ZXIgdGhlIHVzZXIncyBhY2Nlc3Nvci5cbiAgICBpZiAoZWxlbWVudC5raW5kID09PSAnbWV0aG9kJyAmJiBlbGVtZW50LmRlc2NyaXB0b3IgJiZcbiAgICAgICAgISgndmFsdWUnIGluIGVsZW1lbnQuZGVzY3JpcHRvcikpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIGVsZW1lbnQsIHsgZmluaXNoZXIoY2xhenopIHtcbiAgICAgICAgICAgICAgICBjbGF6ei5jcmVhdGVQcm9wZXJ0eShlbGVtZW50LmtleSwgb3B0aW9ucyk7XG4gICAgICAgICAgICB9IH0pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgLy8gY3JlYXRlUHJvcGVydHkoKSB0YWtlcyBjYXJlIG9mIGRlZmluaW5nIHRoZSBwcm9wZXJ0eSwgYnV0IHdlIHN0aWxsXG4gICAgICAgIC8vIG11c3QgcmV0dXJuIHNvbWUga2luZCBvZiBkZXNjcmlwdG9yLCBzbyByZXR1cm4gYSBkZXNjcmlwdG9yIGZvciBhblxuICAgICAgICAvLyB1bnVzZWQgcHJvdG90eXBlIGZpZWxkLiBUaGUgZmluaXNoZXIgY2FsbHMgY3JlYXRlUHJvcGVydHkoKS5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGtpbmQ6ICdmaWVsZCcsXG4gICAgICAgICAgICBrZXk6IFN5bWJvbCgpLFxuICAgICAgICAgICAgcGxhY2VtZW50OiAnb3duJyxcbiAgICAgICAgICAgIGRlc2NyaXB0b3I6IHt9LFxuICAgICAgICAgICAgLy8gV2hlbiBAYmFiZWwvcGx1Z2luLXByb3Bvc2FsLWRlY29yYXRvcnMgaW1wbGVtZW50cyBpbml0aWFsaXplcnMsXG4gICAgICAgICAgICAvLyBkbyB0aGlzIGluc3RlYWQgb2YgdGhlIGluaXRpYWxpemVyIGJlbG93LiBTZWU6XG4gICAgICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vYmFiZWwvYmFiZWwvaXNzdWVzLzkyNjAgZXh0cmFzOiBbXG4gICAgICAgICAgICAvLyAgIHtcbiAgICAgICAgICAgIC8vICAgICBraW5kOiAnaW5pdGlhbGl6ZXInLFxuICAgICAgICAgICAgLy8gICAgIHBsYWNlbWVudDogJ293bicsXG4gICAgICAgICAgICAvLyAgICAgaW5pdGlhbGl6ZXI6IGRlc2NyaXB0b3IuaW5pdGlhbGl6ZXIsXG4gICAgICAgICAgICAvLyAgIH1cbiAgICAgICAgICAgIC8vIF0sXG4gICAgICAgICAgICBpbml0aWFsaXplcigpIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGVsZW1lbnQuaW5pdGlhbGl6ZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpc1tlbGVtZW50LmtleV0gPSBlbGVtZW50LmluaXRpYWxpemVyLmNhbGwodGhpcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGZpbmlzaGVyKGNsYXp6KSB7XG4gICAgICAgICAgICAgICAgY2xhenouY3JlYXRlUHJvcGVydHkoZWxlbWVudC5rZXksIG9wdGlvbnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cbn07XG5jb25zdCBsZWdhY3lQcm9wZXJ0eSA9IChvcHRpb25zLCBwcm90bywgbmFtZSkgPT4ge1xuICAgIHByb3RvLmNvbnN0cnVjdG9yXG4gICAgICAgIC5jcmVhdGVQcm9wZXJ0eShuYW1lLCBvcHRpb25zKTtcbn07XG4vKipcbiAqIEEgcHJvcGVydHkgZGVjb3JhdG9yIHdoaWNoIGNyZWF0ZXMgYSBMaXRFbGVtZW50IHByb3BlcnR5IHdoaWNoIHJlZmxlY3RzIGFcbiAqIGNvcnJlc3BvbmRpbmcgYXR0cmlidXRlIHZhbHVlLiBBIGBQcm9wZXJ0eURlY2xhcmF0aW9uYCBtYXkgb3B0aW9uYWxseSBiZVxuICogc3VwcGxpZWQgdG8gY29uZmlndXJlIHByb3BlcnR5IGZlYXR1cmVzLlxuICpcbiAqIEBFeHBvcnREZWNvcmF0ZWRJdGVtc1xuICovXG5leHBvcnQgZnVuY3Rpb24gcHJvcGVydHkob3B0aW9ucykge1xuICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1hbnkgZGVjb3JhdG9yXG4gICAgcmV0dXJuIChwcm90b09yRGVzY3JpcHRvciwgbmFtZSkgPT4gKG5hbWUgIT09IHVuZGVmaW5lZCkgP1xuICAgICAgICBsZWdhY3lQcm9wZXJ0eShvcHRpb25zLCBwcm90b09yRGVzY3JpcHRvciwgbmFtZSkgOlxuICAgICAgICBzdGFuZGFyZFByb3BlcnR5KG9wdGlvbnMsIHByb3RvT3JEZXNjcmlwdG9yKTtcbn1cbi8qKlxuICogQSBwcm9wZXJ0eSBkZWNvcmF0b3IgdGhhdCBjb252ZXJ0cyBhIGNsYXNzIHByb3BlcnR5IGludG8gYSBnZXR0ZXIgdGhhdFxuICogZXhlY3V0ZXMgYSBxdWVyeVNlbGVjdG9yIG9uIHRoZSBlbGVtZW50J3MgcmVuZGVyUm9vdC5cbiAqXG4gKiBARXhwb3J0RGVjb3JhdGVkSXRlbXNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHF1ZXJ5KHNlbGVjdG9yKSB7XG4gICAgcmV0dXJuIChwcm90b09yRGVzY3JpcHRvciwgXG4gICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWFueSBkZWNvcmF0b3JcbiAgICBuYW1lKSA9PiB7XG4gICAgICAgIGNvbnN0IGRlc2NyaXB0b3IgPSB7XG4gICAgICAgICAgICBnZXQoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVuZGVyUm9vdC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gKG5hbWUgIT09IHVuZGVmaW5lZCkgP1xuICAgICAgICAgICAgbGVnYWN5UXVlcnkoZGVzY3JpcHRvciwgcHJvdG9PckRlc2NyaXB0b3IsIG5hbWUpIDpcbiAgICAgICAgICAgIHN0YW5kYXJkUXVlcnkoZGVzY3JpcHRvciwgcHJvdG9PckRlc2NyaXB0b3IpO1xuICAgIH07XG59XG4vKipcbiAqIEEgcHJvcGVydHkgZGVjb3JhdG9yIHRoYXQgY29udmVydHMgYSBjbGFzcyBwcm9wZXJ0eSBpbnRvIGEgZ2V0dGVyXG4gKiB0aGF0IGV4ZWN1dGVzIGEgcXVlcnlTZWxlY3RvckFsbCBvbiB0aGUgZWxlbWVudCdzIHJlbmRlclJvb3QuXG4gKlxuICogQEV4cG9ydERlY29yYXRlZEl0ZW1zXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBxdWVyeUFsbChzZWxlY3Rvcikge1xuICAgIHJldHVybiAocHJvdG9PckRlc2NyaXB0b3IsIFxuICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1hbnkgZGVjb3JhdG9yXG4gICAgbmFtZSkgPT4ge1xuICAgICAgICBjb25zdCBkZXNjcmlwdG9yID0ge1xuICAgICAgICAgICAgZ2V0KCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnJlbmRlclJvb3QucXVlcnlTZWxlY3RvckFsbChzZWxlY3Rvcik7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIChuYW1lICE9PSB1bmRlZmluZWQpID9cbiAgICAgICAgICAgIGxlZ2FjeVF1ZXJ5KGRlc2NyaXB0b3IsIHByb3RvT3JEZXNjcmlwdG9yLCBuYW1lKSA6XG4gICAgICAgICAgICBzdGFuZGFyZFF1ZXJ5KGRlc2NyaXB0b3IsIHByb3RvT3JEZXNjcmlwdG9yKTtcbiAgICB9O1xufVxuY29uc3QgbGVnYWN5UXVlcnkgPSAoZGVzY3JpcHRvciwgcHJvdG8sIG5hbWUpID0+IHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocHJvdG8sIG5hbWUsIGRlc2NyaXB0b3IpO1xufTtcbmNvbnN0IHN0YW5kYXJkUXVlcnkgPSAoZGVzY3JpcHRvciwgZWxlbWVudCkgPT4gKHtcbiAgICBraW5kOiAnbWV0aG9kJyxcbiAgICBwbGFjZW1lbnQ6ICdwcm90b3R5cGUnLFxuICAgIGtleTogZWxlbWVudC5rZXksXG4gICAgZGVzY3JpcHRvcixcbn0pO1xuY29uc3Qgc3RhbmRhcmRFdmVudE9wdGlvbnMgPSAob3B0aW9ucywgZWxlbWVudCkgPT4ge1xuICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBlbGVtZW50LCB7IGZpbmlzaGVyKGNsYXp6KSB7XG4gICAgICAgICAgICBPYmplY3QuYXNzaWduKGNsYXp6LnByb3RvdHlwZVtlbGVtZW50LmtleV0sIG9wdGlvbnMpO1xuICAgICAgICB9IH0pO1xufTtcbmNvbnN0IGxlZ2FjeUV2ZW50T3B0aW9ucyA9IFxuLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWFueSBsZWdhY3kgZGVjb3JhdG9yXG4ob3B0aW9ucywgcHJvdG8sIG5hbWUpID0+IHtcbiAgICBPYmplY3QuYXNzaWduKHByb3RvW25hbWVdLCBvcHRpb25zKTtcbn07XG4vKipcbiAqIEFkZHMgZXZlbnQgbGlzdGVuZXIgb3B0aW9ucyB0byBhIG1ldGhvZCB1c2VkIGFzIGFuIGV2ZW50IGxpc3RlbmVyIGluIGFcbiAqIGxpdC1odG1sIHRlbXBsYXRlLlxuICpcbiAqIEBwYXJhbSBvcHRpb25zIEFuIG9iamVjdCB0aGF0IHNwZWNpZmlzIGV2ZW50IGxpc3RlbmVyIG9wdGlvbnMgYXMgYWNjZXB0ZWQgYnlcbiAqIGBFdmVudFRhcmdldCNhZGRFdmVudExpc3RlbmVyYCBhbmQgYEV2ZW50VGFyZ2V0I3JlbW92ZUV2ZW50TGlzdGVuZXJgLlxuICpcbiAqIEN1cnJlbnQgYnJvd3NlcnMgc3VwcG9ydCB0aGUgYGNhcHR1cmVgLCBgcGFzc2l2ZWAsIGFuZCBgb25jZWAgb3B0aW9ucy4gU2VlOlxuICogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0V2ZW50VGFyZ2V0L2FkZEV2ZW50TGlzdGVuZXIjUGFyYW1ldGVyc1xuICpcbiAqIEBleGFtcGxlXG4gKlxuICogICAgIGNsYXNzIE15RWxlbWVudCB7XG4gKlxuICogICAgICAgY2xpY2tlZCA9IGZhbHNlO1xuICpcbiAqICAgICAgIHJlbmRlcigpIHtcbiAqICAgICAgICAgcmV0dXJuIGh0bWxgPGRpdiBAY2xpY2s9JHt0aGlzLl9vbkNsaWNrfWA+PGJ1dHRvbj48L2J1dHRvbj48L2Rpdj5gO1xuICogICAgICAgfVxuICpcbiAqICAgICAgIEBldmVudE9wdGlvbnMoe2NhcHR1cmU6IHRydWV9KVxuICogICAgICAgX29uQ2xpY2soZSkge1xuICogICAgICAgICB0aGlzLmNsaWNrZWQgPSB0cnVlO1xuICogICAgICAgfVxuICogICAgIH1cbiAqL1xuZXhwb3J0IGNvbnN0IGV2ZW50T3B0aW9ucyA9IChvcHRpb25zKSA9PiBcbi8vIFJldHVybiB2YWx1ZSB0eXBlZCBhcyBhbnkgdG8gcHJldmVudCBUeXBlU2NyaXB0IGZyb20gY29tcGxhaW5pbmcgdGhhdFxuLy8gc3RhbmRhcmQgZGVjb3JhdG9yIGZ1bmN0aW9uIHNpZ25hdHVyZSBkb2VzIG5vdCBtYXRjaCBUeXBlU2NyaXB0IGRlY29yYXRvclxuLy8gc2lnbmF0dXJlXG4vLyBUT0RPKGtzY2hhYWYpOiB1bmNsZWFyIHdoeSBpdCB3YXMgb25seSBmYWlsaW5nIG9uIHRoaXMgZGVjb3JhdG9yIGFuZCBub3Rcbi8vIHRoZSBvdGhlcnNcbigocHJvdG9PckRlc2NyaXB0b3IsIG5hbWUpID0+IChuYW1lICE9PSB1bmRlZmluZWQpID9cbiAgICBsZWdhY3lFdmVudE9wdGlvbnMob3B0aW9ucywgcHJvdG9PckRlc2NyaXB0b3IsIG5hbWUpIDpcbiAgICBzdGFuZGFyZEV2ZW50T3B0aW9ucyhvcHRpb25zLCBwcm90b09yRGVzY3JpcHRvcikpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGVjb3JhdG9ycy5qcy5tYXAiLCIvKipcbkBsaWNlbnNlXG5Db3B5cmlnaHQgKGMpIDIwMTkgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0XG5odHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHQgVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdFxuaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0IFRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZVxuZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHQgQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXNcbnBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvIHN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnRcbmZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuKi9cbmV4cG9ydCBjb25zdCBzdXBwb3J0c0Fkb3B0aW5nU3R5bGVTaGVldHMgPSAoJ2Fkb3B0ZWRTdHlsZVNoZWV0cycgaW4gRG9jdW1lbnQucHJvdG90eXBlKSAmJlxuICAgICgncmVwbGFjZScgaW4gQ1NTU3R5bGVTaGVldC5wcm90b3R5cGUpO1xuY29uc3QgY29uc3RydWN0aW9uVG9rZW4gPSBTeW1ib2woKTtcbmV4cG9ydCBjbGFzcyBDU1NSZXN1bHQge1xuICAgIGNvbnN0cnVjdG9yKGNzc1RleHQsIHNhZmVUb2tlbikge1xuICAgICAgICBpZiAoc2FmZVRva2VuICE9PSBjb25zdHJ1Y3Rpb25Ub2tlbikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDU1NSZXN1bHQgaXMgbm90IGNvbnN0cnVjdGFibGUuIFVzZSBgdW5zYWZlQ1NTYCBvciBgY3NzYCBpbnN0ZWFkLicpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY3NzVGV4dCA9IGNzc1RleHQ7XG4gICAgfVxuICAgIC8vIE5vdGUsIHRoaXMgaXMgYSBnZXR0ZXIgc28gdGhhdCBpdCdzIGxhenkuIEluIHByYWN0aWNlLCB0aGlzIG1lYW5zXG4gICAgLy8gc3R5bGVzaGVldHMgYXJlIG5vdCBjcmVhdGVkIHVudGlsIHRoZSBmaXJzdCBlbGVtZW50IGluc3RhbmNlIGlzIG1hZGUuXG4gICAgZ2V0IHN0eWxlU2hlZXQoKSB7XG4gICAgICAgIGlmICh0aGlzLl9zdHlsZVNoZWV0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIC8vIE5vdGUsIGlmIGBhZG9wdGVkU3R5bGVTaGVldHNgIGlzIHN1cHBvcnRlZCB0aGVuIHdlIGFzc3VtZSBDU1NTdHlsZVNoZWV0XG4gICAgICAgICAgICAvLyBpcyBjb25zdHJ1Y3RhYmxlLlxuICAgICAgICAgICAgaWYgKHN1cHBvcnRzQWRvcHRpbmdTdHlsZVNoZWV0cykge1xuICAgICAgICAgICAgICAgIHRoaXMuX3N0eWxlU2hlZXQgPSBuZXcgQ1NTU3R5bGVTaGVldCgpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3N0eWxlU2hlZXQucmVwbGFjZVN5bmModGhpcy5jc3NUZXh0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX3N0eWxlU2hlZXQgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9zdHlsZVNoZWV0O1xuICAgIH1cbiAgICB0b1N0cmluZygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY3NzVGV4dDtcbiAgICB9XG59XG4vKipcbiAqIFdyYXAgYSB2YWx1ZSBmb3IgaW50ZXJwb2xhdGlvbiBpbiBhIGNzcyB0YWdnZWQgdGVtcGxhdGUgbGl0ZXJhbC5cbiAqXG4gKiBUaGlzIGlzIHVuc2FmZSBiZWNhdXNlIHVudHJ1c3RlZCBDU1MgdGV4dCBjYW4gYmUgdXNlZCB0byBwaG9uZSBob21lXG4gKiBvciBleGZpbHRyYXRlIGRhdGEgdG8gYW4gYXR0YWNrZXIgY29udHJvbGxlZCBzaXRlLiBUYWtlIGNhcmUgdG8gb25seSB1c2VcbiAqIHRoaXMgd2l0aCB0cnVzdGVkIGlucHV0LlxuICovXG5leHBvcnQgY29uc3QgdW5zYWZlQ1NTID0gKHZhbHVlKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBDU1NSZXN1bHQoU3RyaW5nKHZhbHVlKSwgY29uc3RydWN0aW9uVG9rZW4pO1xufTtcbmNvbnN0IHRleHRGcm9tQ1NTUmVzdWx0ID0gKHZhbHVlKSA9PiB7XG4gICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgQ1NTUmVzdWx0KSB7XG4gICAgICAgIHJldHVybiB2YWx1ZS5jc3NUZXh0O1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgVmFsdWUgcGFzc2VkIHRvICdjc3MnIGZ1bmN0aW9uIG11c3QgYmUgYSAnY3NzJyBmdW5jdGlvbiByZXN1bHQ6ICR7dmFsdWV9LiBVc2UgJ3Vuc2FmZUNTUycgdG8gcGFzcyBub24tbGl0ZXJhbCB2YWx1ZXMsIGJ1dFxuICAgICAgICAgICAgdGFrZSBjYXJlIHRvIGVuc3VyZSBwYWdlIHNlY3VyaXR5LmApO1xuICAgIH1cbn07XG4vKipcbiAqIFRlbXBsYXRlIHRhZyB3aGljaCB3aGljaCBjYW4gYmUgdXNlZCB3aXRoIExpdEVsZW1lbnQncyBgc3R5bGVgIHByb3BlcnR5IHRvXG4gKiBzZXQgZWxlbWVudCBzdHlsZXMuIEZvciBzZWN1cml0eSByZWFzb25zLCBvbmx5IGxpdGVyYWwgc3RyaW5nIHZhbHVlcyBtYXkgYmVcbiAqIHVzZWQuIFRvIGluY29ycG9yYXRlIG5vbi1saXRlcmFsIHZhbHVlcyBgdW5zYWZlQ1NTYCBtYXkgYmUgdXNlZCBpbnNpZGUgYVxuICogdGVtcGxhdGUgc3RyaW5nIHBhcnQuXG4gKi9cbmV4cG9ydCBjb25zdCBjc3MgPSAoc3RyaW5ncywgLi4udmFsdWVzKSA9PiB7XG4gICAgY29uc3QgY3NzVGV4dCA9IHZhbHVlcy5yZWR1Y2UoKGFjYywgdiwgaWR4KSA9PiBhY2MgKyB0ZXh0RnJvbUNTU1Jlc3VsdCh2KSArIHN0cmluZ3NbaWR4ICsgMV0sIHN0cmluZ3NbMF0pO1xuICAgIHJldHVybiBuZXcgQ1NTUmVzdWx0KGNzc1RleHQsIGNvbnN0cnVjdGlvblRva2VuKTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jc3MtdGFnLmpzLm1hcCIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBUaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG4gKiBDb2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuICogc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4gKi9cbmltcG9ydCB7IFRlbXBsYXRlUmVzdWx0IH0gZnJvbSAnbGl0LWh0bWwnO1xuaW1wb3J0IHsgcmVuZGVyIH0gZnJvbSAnbGl0LWh0bWwvbGliL3NoYWR5LXJlbmRlci5qcyc7XG5pbXBvcnQgeyBVcGRhdGluZ0VsZW1lbnQgfSBmcm9tICcuL2xpYi91cGRhdGluZy1lbGVtZW50LmpzJztcbmV4cG9ydCAqIGZyb20gJy4vbGliL3VwZGF0aW5nLWVsZW1lbnQuanMnO1xuZXhwb3J0ICogZnJvbSAnLi9saWIvZGVjb3JhdG9ycy5qcyc7XG5leHBvcnQgeyBodG1sLCBzdmcsIFRlbXBsYXRlUmVzdWx0LCBTVkdUZW1wbGF0ZVJlc3VsdCB9IGZyb20gJ2xpdC1odG1sL2xpdC1odG1sLmpzJztcbmltcG9ydCB7IHN1cHBvcnRzQWRvcHRpbmdTdHlsZVNoZWV0cyB9IGZyb20gJy4vbGliL2Nzcy10YWcuanMnO1xuZXhwb3J0ICogZnJvbSAnLi9saWIvY3NzLXRhZy5qcyc7XG4vLyBJTVBPUlRBTlQ6IGRvIG5vdCBjaGFuZ2UgdGhlIHByb3BlcnR5IG5hbWUgb3IgdGhlIGFzc2lnbm1lbnQgZXhwcmVzc2lvbi5cbi8vIFRoaXMgbGluZSB3aWxsIGJlIHVzZWQgaW4gcmVnZXhlcyB0byBzZWFyY2ggZm9yIExpdEVsZW1lbnQgdXNhZ2UuXG4vLyBUT0RPKGp1c3RpbmZhZ25hbmkpOiBpbmplY3QgdmVyc2lvbiBudW1iZXIgYXQgYnVpbGQgdGltZVxuKHdpbmRvd1snbGl0RWxlbWVudFZlcnNpb25zJ10gfHwgKHdpbmRvd1snbGl0RWxlbWVudFZlcnNpb25zJ10gPSBbXSkpXG4gICAgLnB1c2goJzIuMi4xJyk7XG4vKipcbiAqIE1pbmltYWwgaW1wbGVtZW50YXRpb24gb2YgQXJyYXkucHJvdG90eXBlLmZsYXRcbiAqIEBwYXJhbSBhcnIgdGhlIGFycmF5IHRvIGZsYXR0ZW5cbiAqIEBwYXJhbSByZXN1bHQgdGhlIGFjY3VtbGF0ZWQgcmVzdWx0XG4gKi9cbmZ1bmN0aW9uIGFycmF5RmxhdChzdHlsZXMsIHJlc3VsdCA9IFtdKSB7XG4gICAgZm9yIChsZXQgaSA9IDAsIGxlbmd0aCA9IHN0eWxlcy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IHN0eWxlc1tpXTtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgICAgICBhcnJheUZsYXQodmFsdWUsIHJlc3VsdCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbi8qKiBEZWVwbHkgZmxhdHRlbnMgc3R5bGVzIGFycmF5LiBVc2VzIG5hdGl2ZSBmbGF0IGlmIGF2YWlsYWJsZS4gKi9cbmNvbnN0IGZsYXR0ZW5TdHlsZXMgPSAoc3R5bGVzKSA9PiBzdHlsZXMuZmxhdCA/IHN0eWxlcy5mbGF0KEluZmluaXR5KSA6IGFycmF5RmxhdChzdHlsZXMpO1xuZXhwb3J0IGNsYXNzIExpdEVsZW1lbnQgZXh0ZW5kcyBVcGRhdGluZ0VsZW1lbnQge1xuICAgIC8qKiBAbm9jb2xsYXBzZSAqL1xuICAgIHN0YXRpYyBmaW5hbGl6ZSgpIHtcbiAgICAgICAgLy8gVGhlIENsb3N1cmUgSlMgQ29tcGlsZXIgZG9lcyBub3QgYWx3YXlzIHByZXNlcnZlIHRoZSBjb3JyZWN0IFwidGhpc1wiXG4gICAgICAgIC8vIHdoZW4gY2FsbGluZyBzdGF0aWMgc3VwZXIgbWV0aG9kcyAoYi8xMzc0NjAyNDMpLCBzbyBleHBsaWNpdGx5IGJpbmQuXG4gICAgICAgIHN1cGVyLmZpbmFsaXplLmNhbGwodGhpcyk7XG4gICAgICAgIC8vIFByZXBhcmUgc3R5bGluZyB0aGF0IGlzIHN0YW1wZWQgYXQgZmlyc3QgcmVuZGVyIHRpbWUuIFN0eWxpbmdcbiAgICAgICAgLy8gaXMgYnVpbHQgZnJvbSB1c2VyIHByb3ZpZGVkIGBzdHlsZXNgIG9yIGlzIGluaGVyaXRlZCBmcm9tIHRoZSBzdXBlcmNsYXNzLlxuICAgICAgICB0aGlzLl9zdHlsZXMgPVxuICAgICAgICAgICAgdGhpcy5oYXNPd25Qcm9wZXJ0eShKU0NvbXBpbGVyX3JlbmFtZVByb3BlcnR5KCdzdHlsZXMnLCB0aGlzKSkgP1xuICAgICAgICAgICAgICAgIHRoaXMuX2dldFVuaXF1ZVN0eWxlcygpIDpcbiAgICAgICAgICAgICAgICB0aGlzLl9zdHlsZXMgfHwgW107XG4gICAgfVxuICAgIC8qKiBAbm9jb2xsYXBzZSAqL1xuICAgIHN0YXRpYyBfZ2V0VW5pcXVlU3R5bGVzKCkge1xuICAgICAgICAvLyBUYWtlIGNhcmUgbm90IHRvIGNhbGwgYHRoaXMuc3R5bGVzYCBtdWx0aXBsZSB0aW1lcyBzaW5jZSB0aGlzIGdlbmVyYXRlc1xuICAgICAgICAvLyBuZXcgQ1NTUmVzdWx0cyBlYWNoIHRpbWUuXG4gICAgICAgIC8vIFRPRE8oc29ydmVsbCk6IFNpbmNlIHdlIGRvIG5vdCBjYWNoZSBDU1NSZXN1bHRzIGJ5IGlucHV0LCBhbnlcbiAgICAgICAgLy8gc2hhcmVkIHN0eWxlcyB3aWxsIGdlbmVyYXRlIG5ldyBzdHlsZXNoZWV0IG9iamVjdHMsIHdoaWNoIGlzIHdhc3RlZnVsLlxuICAgICAgICAvLyBUaGlzIHNob3VsZCBiZSBhZGRyZXNzZWQgd2hlbiBhIGJyb3dzZXIgc2hpcHMgY29uc3RydWN0YWJsZVxuICAgICAgICAvLyBzdHlsZXNoZWV0cy5cbiAgICAgICAgY29uc3QgdXNlclN0eWxlcyA9IHRoaXMuc3R5bGVzO1xuICAgICAgICBjb25zdCBzdHlsZXMgPSBbXTtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodXNlclN0eWxlcykpIHtcbiAgICAgICAgICAgIGNvbnN0IGZsYXRTdHlsZXMgPSBmbGF0dGVuU3R5bGVzKHVzZXJTdHlsZXMpO1xuICAgICAgICAgICAgLy8gQXMgYSBwZXJmb3JtYW5jZSBvcHRpbWl6YXRpb24gdG8gYXZvaWQgZHVwbGljYXRlZCBzdHlsaW5nIHRoYXQgY2FuXG4gICAgICAgICAgICAvLyBvY2N1ciBlc3BlY2lhbGx5IHdoZW4gY29tcG9zaW5nIHZpYSBzdWJjbGFzc2luZywgZGUtZHVwbGljYXRlIHN0eWxlc1xuICAgICAgICAgICAgLy8gcHJlc2VydmluZyB0aGUgbGFzdCBpdGVtIGluIHRoZSBsaXN0LiBUaGUgbGFzdCBpdGVtIGlzIGtlcHQgdG9cbiAgICAgICAgICAgIC8vIHRyeSB0byBwcmVzZXJ2ZSBjYXNjYWRlIG9yZGVyIHdpdGggdGhlIGFzc3VtcHRpb24gdGhhdCBpdCdzIG1vc3RcbiAgICAgICAgICAgIC8vIGltcG9ydGFudCB0aGF0IGxhc3QgYWRkZWQgc3R5bGVzIG92ZXJyaWRlIHByZXZpb3VzIHN0eWxlcy5cbiAgICAgICAgICAgIGNvbnN0IHN0eWxlU2V0ID0gZmxhdFN0eWxlcy5yZWR1Y2VSaWdodCgoc2V0LCBzKSA9PiB7XG4gICAgICAgICAgICAgICAgc2V0LmFkZChzKTtcbiAgICAgICAgICAgICAgICAvLyBvbiBJRSBzZXQuYWRkIGRvZXMgbm90IHJldHVybiB0aGUgc2V0LlxuICAgICAgICAgICAgICAgIHJldHVybiBzZXQ7XG4gICAgICAgICAgICB9LCBuZXcgU2V0KCkpO1xuICAgICAgICAgICAgLy8gQXJyYXkuZnJvbSBkb2VzIG5vdCB3b3JrIG9uIFNldCBpbiBJRVxuICAgICAgICAgICAgc3R5bGVTZXQuZm9yRWFjaCgodikgPT4gc3R5bGVzLnVuc2hpZnQodikpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHVzZXJTdHlsZXMpIHtcbiAgICAgICAgICAgIHN0eWxlcy5wdXNoKHVzZXJTdHlsZXMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdHlsZXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFBlcmZvcm1zIGVsZW1lbnQgaW5pdGlhbGl6YXRpb24uIEJ5IGRlZmF1bHQgdGhpcyBjYWxscyBgY3JlYXRlUmVuZGVyUm9vdGBcbiAgICAgKiB0byBjcmVhdGUgdGhlIGVsZW1lbnQgYHJlbmRlclJvb3RgIG5vZGUgYW5kIGNhcHR1cmVzIGFueSBwcmUtc2V0IHZhbHVlcyBmb3JcbiAgICAgKiByZWdpc3RlcmVkIHByb3BlcnRpZXMuXG4gICAgICovXG4gICAgaW5pdGlhbGl6ZSgpIHtcbiAgICAgICAgc3VwZXIuaW5pdGlhbGl6ZSgpO1xuICAgICAgICB0aGlzLnJlbmRlclJvb3QgPVxuICAgICAgICAgICAgdGhpcy5jcmVhdGVSZW5kZXJSb290KCk7XG4gICAgICAgIC8vIE5vdGUsIGlmIHJlbmRlclJvb3QgaXMgbm90IGEgc2hhZG93Um9vdCwgc3R5bGVzIHdvdWxkL2NvdWxkIGFwcGx5IHRvIHRoZVxuICAgICAgICAvLyBlbGVtZW50J3MgZ2V0Um9vdE5vZGUoKS4gV2hpbGUgdGhpcyBjb3VsZCBiZSBkb25lLCB3ZSdyZSBjaG9vc2luZyBub3QgdG9cbiAgICAgICAgLy8gc3VwcG9ydCB0aGlzIG5vdyBzaW5jZSBpdCB3b3VsZCByZXF1aXJlIGRpZmZlcmVudCBsb2dpYyBhcm91bmQgZGUtZHVwaW5nLlxuICAgICAgICBpZiAod2luZG93LlNoYWRvd1Jvb3QgJiYgdGhpcy5yZW5kZXJSb290IGluc3RhbmNlb2Ygd2luZG93LlNoYWRvd1Jvb3QpIHtcbiAgICAgICAgICAgIHRoaXMuYWRvcHRTdHlsZXMoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBub2RlIGludG8gd2hpY2ggdGhlIGVsZW1lbnQgc2hvdWxkIHJlbmRlciBhbmQgYnkgZGVmYXVsdFxuICAgICAqIGNyZWF0ZXMgYW5kIHJldHVybnMgYW4gb3BlbiBzaGFkb3dSb290LiBJbXBsZW1lbnQgdG8gY3VzdG9taXplIHdoZXJlIHRoZVxuICAgICAqIGVsZW1lbnQncyBET00gaXMgcmVuZGVyZWQuIEZvciBleGFtcGxlLCB0byByZW5kZXIgaW50byB0aGUgZWxlbWVudCdzXG4gICAgICogY2hpbGROb2RlcywgcmV0dXJuIGB0aGlzYC5cbiAgICAgKiBAcmV0dXJucyB7RWxlbWVudHxEb2N1bWVudEZyYWdtZW50fSBSZXR1cm5zIGEgbm9kZSBpbnRvIHdoaWNoIHRvIHJlbmRlci5cbiAgICAgKi9cbiAgICBjcmVhdGVSZW5kZXJSb290KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5hdHRhY2hTaGFkb3coeyBtb2RlOiAnb3BlbicgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgc3R5bGluZyB0byB0aGUgZWxlbWVudCBzaGFkb3dSb290IHVzaW5nIHRoZSBgc3RhdGljIGdldCBzdHlsZXNgXG4gICAgICogcHJvcGVydHkuIFN0eWxpbmcgd2lsbCBhcHBseSB1c2luZyBgc2hhZG93Um9vdC5hZG9wdGVkU3R5bGVTaGVldHNgIHdoZXJlXG4gICAgICogYXZhaWxhYmxlIGFuZCB3aWxsIGZhbGxiYWNrIG90aGVyd2lzZS4gV2hlbiBTaGFkb3cgRE9NIGlzIHBvbHlmaWxsZWQsXG4gICAgICogU2hhZHlDU1Mgc2NvcGVzIHN0eWxlcyBhbmQgYWRkcyB0aGVtIHRvIHRoZSBkb2N1bWVudC4gV2hlbiBTaGFkb3cgRE9NXG4gICAgICogaXMgYXZhaWxhYmxlIGJ1dCBgYWRvcHRlZFN0eWxlU2hlZXRzYCBpcyBub3QsIHN0eWxlcyBhcmUgYXBwZW5kZWQgdG8gdGhlXG4gICAgICogZW5kIG9mIHRoZSBgc2hhZG93Um9vdGAgdG8gW21pbWljIHNwZWNcbiAgICAgKiBiZWhhdmlvcl0oaHR0cHM6Ly93aWNnLmdpdGh1Yi5pby9jb25zdHJ1Y3Qtc3R5bGVzaGVldHMvI3VzaW5nLWNvbnN0cnVjdGVkLXN0eWxlc2hlZXRzKS5cbiAgICAgKi9cbiAgICBhZG9wdFN0eWxlcygpIHtcbiAgICAgICAgY29uc3Qgc3R5bGVzID0gdGhpcy5jb25zdHJ1Y3Rvci5fc3R5bGVzO1xuICAgICAgICBpZiAoc3R5bGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIFRoZXJlIGFyZSB0aHJlZSBzZXBhcmF0ZSBjYXNlcyBoZXJlIGJhc2VkIG9uIFNoYWRvdyBET00gc3VwcG9ydC5cbiAgICAgICAgLy8gKDEpIHNoYWRvd1Jvb3QgcG9seWZpbGxlZDogdXNlIFNoYWR5Q1NTXG4gICAgICAgIC8vICgyKSBzaGFkb3dSb290LmFkb3B0ZWRTdHlsZVNoZWV0cyBhdmFpbGFibGU6IHVzZSBpdC5cbiAgICAgICAgLy8gKDMpIHNoYWRvd1Jvb3QuYWRvcHRlZFN0eWxlU2hlZXRzIHBvbHlmaWxsZWQ6IGFwcGVuZCBzdHlsZXMgYWZ0ZXJcbiAgICAgICAgLy8gcmVuZGVyaW5nXG4gICAgICAgIGlmICh3aW5kb3cuU2hhZHlDU1MgIT09IHVuZGVmaW5lZCAmJiAhd2luZG93LlNoYWR5Q1NTLm5hdGl2ZVNoYWRvdykge1xuICAgICAgICAgICAgd2luZG93LlNoYWR5Q1NTLlNjb3BpbmdTaGltLnByZXBhcmVBZG9wdGVkQ3NzVGV4dChzdHlsZXMubWFwKChzKSA9PiBzLmNzc1RleHQpLCB0aGlzLmxvY2FsTmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoc3VwcG9ydHNBZG9wdGluZ1N0eWxlU2hlZXRzKSB7XG4gICAgICAgICAgICB0aGlzLnJlbmRlclJvb3QuYWRvcHRlZFN0eWxlU2hlZXRzID1cbiAgICAgICAgICAgICAgICBzdHlsZXMubWFwKChzKSA9PiBzLnN0eWxlU2hlZXQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gVGhpcyBtdXN0IGJlIGRvbmUgYWZ0ZXIgcmVuZGVyaW5nIHNvIHRoZSBhY3R1YWwgc3R5bGUgaW5zZXJ0aW9uIGlzIGRvbmVcbiAgICAgICAgICAgIC8vIGluIGB1cGRhdGVgLlxuICAgICAgICAgICAgdGhpcy5fbmVlZHNTaGltQWRvcHRlZFN0eWxlU2hlZXRzID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICAgICAgc3VwZXIuY29ubmVjdGVkQ2FsbGJhY2soKTtcbiAgICAgICAgLy8gTm90ZSwgZmlyc3QgdXBkYXRlL3JlbmRlciBoYW5kbGVzIHN0eWxlRWxlbWVudCBzbyB3ZSBvbmx5IGNhbGwgdGhpcyBpZlxuICAgICAgICAvLyBjb25uZWN0ZWQgYWZ0ZXIgZmlyc3QgdXBkYXRlLlxuICAgICAgICBpZiAodGhpcy5oYXNVcGRhdGVkICYmIHdpbmRvdy5TaGFkeUNTUyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3aW5kb3cuU2hhZHlDU1Muc3R5bGVFbGVtZW50KHRoaXMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIGVsZW1lbnQuIFRoaXMgbWV0aG9kIHJlZmxlY3RzIHByb3BlcnR5IHZhbHVlcyB0byBhdHRyaWJ1dGVzXG4gICAgICogYW5kIGNhbGxzIGByZW5kZXJgIHRvIHJlbmRlciBET00gdmlhIGxpdC1odG1sLiBTZXR0aW5nIHByb3BlcnRpZXMgaW5zaWRlXG4gICAgICogdGhpcyBtZXRob2Qgd2lsbCAqbm90KiB0cmlnZ2VyIGFub3RoZXIgdXBkYXRlLlxuICAgICAqICogQHBhcmFtIF9jaGFuZ2VkUHJvcGVydGllcyBNYXAgb2YgY2hhbmdlZCBwcm9wZXJ0aWVzIHdpdGggb2xkIHZhbHVlc1xuICAgICAqL1xuICAgIHVwZGF0ZShjaGFuZ2VkUHJvcGVydGllcykge1xuICAgICAgICBzdXBlci51cGRhdGUoY2hhbmdlZFByb3BlcnRpZXMpO1xuICAgICAgICBjb25zdCB0ZW1wbGF0ZVJlc3VsdCA9IHRoaXMucmVuZGVyKCk7XG4gICAgICAgIGlmICh0ZW1wbGF0ZVJlc3VsdCBpbnN0YW5jZW9mIFRlbXBsYXRlUmVzdWx0KSB7XG4gICAgICAgICAgICB0aGlzLmNvbnN0cnVjdG9yXG4gICAgICAgICAgICAgICAgLnJlbmRlcih0ZW1wbGF0ZVJlc3VsdCwgdGhpcy5yZW5kZXJSb290LCB7IHNjb3BlTmFtZTogdGhpcy5sb2NhbE5hbWUsIGV2ZW50Q29udGV4dDogdGhpcyB9KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBXaGVuIG5hdGl2ZSBTaGFkb3cgRE9NIGlzIHVzZWQgYnV0IGFkb3B0ZWRTdHlsZXMgYXJlIG5vdCBzdXBwb3J0ZWQsXG4gICAgICAgIC8vIGluc2VydCBzdHlsaW5nIGFmdGVyIHJlbmRlcmluZyB0byBlbnN1cmUgYWRvcHRlZFN0eWxlcyBoYXZlIGhpZ2hlc3RcbiAgICAgICAgLy8gcHJpb3JpdHkuXG4gICAgICAgIGlmICh0aGlzLl9uZWVkc1NoaW1BZG9wdGVkU3R5bGVTaGVldHMpIHtcbiAgICAgICAgICAgIHRoaXMuX25lZWRzU2hpbUFkb3B0ZWRTdHlsZVNoZWV0cyA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5jb25zdHJ1Y3Rvci5fc3R5bGVzLmZvckVhY2goKHMpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG4gICAgICAgICAgICAgICAgc3R5bGUudGV4dENvbnRlbnQgPSBzLmNzc1RleHQ7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJSb290LmFwcGVuZENoaWxkKHN0eWxlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEludm9rZWQgb24gZWFjaCB1cGRhdGUgdG8gcGVyZm9ybSByZW5kZXJpbmcgdGFza3MuIFRoaXMgbWV0aG9kIG11c3QgcmV0dXJuXG4gICAgICogYSBsaXQtaHRtbCBUZW1wbGF0ZVJlc3VsdC4gU2V0dGluZyBwcm9wZXJ0aWVzIGluc2lkZSB0aGlzIG1ldGhvZCB3aWxsICpub3QqXG4gICAgICogdHJpZ2dlciB0aGUgZWxlbWVudCB0byB1cGRhdGUuXG4gICAgICovXG4gICAgcmVuZGVyKCkge1xuICAgIH1cbn1cbi8qKlxuICogRW5zdXJlIHRoaXMgY2xhc3MgaXMgbWFya2VkIGFzIGBmaW5hbGl6ZWRgIGFzIGFuIG9wdGltaXphdGlvbiBlbnN1cmluZ1xuICogaXQgd2lsbCBub3QgbmVlZGxlc3NseSB0cnkgdG8gYGZpbmFsaXplYC5cbiAqXG4gKiBOb3RlIHRoaXMgcHJvcGVydHkgbmFtZSBpcyBhIHN0cmluZyB0byBwcmV2ZW50IGJyZWFraW5nIENsb3N1cmUgSlMgQ29tcGlsZXJcbiAqIG9wdGltaXphdGlvbnMuIFNlZSB1cGRhdGluZy1lbGVtZW50LnRzIGZvciBtb3JlIGluZm9ybWF0aW9uLlxuICovXG5MaXRFbGVtZW50WydmaW5hbGl6ZWQnXSA9IHRydWU7XG4vKipcbiAqIFJlbmRlciBtZXRob2QgdXNlZCB0byByZW5kZXIgdGhlIGxpdC1odG1sIFRlbXBsYXRlUmVzdWx0IHRvIHRoZSBlbGVtZW50J3NcbiAqIERPTS5cbiAqIEBwYXJhbSB7VGVtcGxhdGVSZXN1bHR9IFRlbXBsYXRlIHRvIHJlbmRlci5cbiAqIEBwYXJhbSB7RWxlbWVudHxEb2N1bWVudEZyYWdtZW50fSBOb2RlIGludG8gd2hpY2ggdG8gcmVuZGVyLlxuICogQHBhcmFtIHtTdHJpbmd9IEVsZW1lbnQgbmFtZS5cbiAqIEBub2NvbGxhcHNlXG4gKi9cbkxpdEVsZW1lbnQucmVuZGVyID0gcmVuZGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bGl0LWVsZW1lbnQuanMubWFwIiwiaW1wb3J0IHtcclxuICBMaXRFbGVtZW50LFxyXG4gIGh0bWwsXHJcbiAgY3NzLFxyXG4gIGN1c3RvbUVsZW1lbnRcclxufSBmcm9tIFwibGl0LWVsZW1lbnRcIjtcclxuaW1wb3J0IENvbmZldHRpR2VuZXJhdG9yIGZyb20gXCJjb25mZXR0aS1qc1wiO1xyXG5pbXBvcnQgeyB3cml0ZVVzZXJEYXRhfSBmcm9tIFwiLi91dGlsXCI7XHJcbmltcG9ydCB7IFByb2ZpbGVDYXJkIH0gZnJvbSBcIi4vcHJvZmlsZS1jYXJkXCI7XHJcbmltcG9ydCB7XHJcbiAgbGV2ZWxzLCBMZXZlbHMsIExldmVsLCBGb3JtcywgV29yZFxyXG59IGZyb20gXCIuL2RhdGFcIjtcclxuaW1wb3J0IHsgc2hvd0xvZyB9IGZyb20gXCIuL2xvZy1zY3JlZW5cIjtcclxuZGVjbGFyZSBnbG9iYWwge1xyXG4gIGludGVyZmFjZSBXaW5kb3cge1xyXG4gICAgZmlyZWJhc2U6IGFueTtcclxuICB9XHJcbn1cclxuXHJcbmludGVyZmFjZSBJVXNlciB7XHJcbiAgZW1haWw6IHN0cmluZztcclxuICB1aWQ6IG51bWJlcjtcclxuICBuYW1lOiBzdHJpbmc7XHJcbn1cclxuXHJcblxyXG50eXBlIFBvaW50Q29sbGVjdGlvbiA9IHsgW2tleTogc3RyaW5nXTogbnVtYmVyIH07XHJcblxyXG5leHBvcnQgY2xhc3MgRW5nbGlzaFZlcmJzR2FtZSBleHRlbmRzIExpdEVsZW1lbnQge1xyXG4gIHN0YXRpYyBnZXQgcHJvcGVydGllcygpIHtcclxuICAgIHJldHVybiB7fTtcclxuICB9XHJcbiAgc3RhdGljIGdldCBzdHlsZXMoKSB7XHJcbiAgICByZXR1cm4gW1xyXG4gICAgICBjc3NgXHJcbiAgICAgICAgOmhvc3Qge1xyXG4gICAgICAgICAgYmFja2dyb3VuZDogd2hpdGU7XHJcbiAgICAgICAgICB3aWR0aDogMTAwdnc7XHJcbiAgICAgICAgICBoZWlnaHQ6IDEwMHZoO1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICAtLWdsb2JhbC1mb250OiBcIkNhYmluXCIsIHNhbnMtc2VyaWY7XHJcbiAgICAgICAgICAtLWdsb2JhbC1jb2xvcjogIzEwOWI2NjtcclxuICAgICAgICAgIC0tdG9wYmFyLXRleHQtY29sb3I6IHdoaXRlO1xyXG4gICAgICAgICAgLS1tb2JpbGUtdG9wOiBsaW5lYXItZ3JhZGllbnQodG8gYm90dG9tLCAjYTU3ZmZmLCAjNjNiZGEyKTtcclxuICAgICAgICAgIC0tbW9iaWxlLWJvdHRvbTogbGluZWFyLWdyYWRpZW50KHRvIHRvcCwgI2E1N2ZmZiwgIzYzYmRhMik7XHJcbiAgICAgICAgICAtLW1vYmlsZS1nbG9iYWw6ICM4N2MwYzA7XHJcbiAgICAgICAgICAtLWRlc2t0b3AtY29sb3I6ICMyODNiMzY7XHJcbiAgICAgICAgICAtLXdhcm4tY29sb3I6ICNDQjQ1NEU7XHJcbiAgICAgICAgICAtLWJhZC1jb2xvcjogI2Q2NWI2MztcclxuICAgICAgICAgIC0tZ29vZC1jb2xvcjogIzdkZmZhZjtcclxuICAgICAgICAgIG92ZXJmbG93OiBoaWRkZW47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgICN0aXRsZSB7XHJcbiAgICAgICAgICBmb250LWZhbWlseTogdmFyKC0tZ2xvYmFsLWZvbnQpO1xyXG4gICAgICAgICAgZm9udC1zaXplOiAycmVtO1xyXG4gICAgICAgIH1cclxuICAgICAgICAjbWVudWJ1dHRvbjpob3ZlcntcclxuICAgICAgICAgIHRyYW5zZm9ybTogc2NhbGUoMS4yKTtcclxuICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjtcclxuICAgICAgICB9XHJcbiAgICAgICAgI2NvbnRhaW5lciB7XHJcbiAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICAgICAgd2lkdGg6IDEwMCU7XHJcbiAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgICAgICAgIGhlaWdodDogMTAwJTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaW5wdXQge1xyXG4gICAgICAgICAgb3V0bGluZTogMXB4IHNvbGlkIHdoaXRlO1xyXG4gICAgICAgICAgYm9yZGVyOiBub25lO1xyXG4gICAgICAgICAgYW5pbWF0aW9uOiBib3JkZXJGbGlja2VyIDAuNHMgaW5maW5pdGUgYWx0ZXJuYXRlLXJldmVyc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBAa2V5ZnJhbWVzIGJvcmRlckZsaWNrZXIge1xyXG4gICAgICAgICAgMTAwJSB7XHJcbiAgICAgICAgICAgIG91dGxpbmU6IDFweCB2YXIoLS1nbG9iYWwtY29sb3IpIHNvbGlkO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBAa2V5ZnJhbWVzIHdyb25nIHtcclxuICAgICAgICAgIHRvIHtcclxuICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tYmFkLWNvbG9yKTtcclxuICAgICAgICAgICAgY29sb3I6IHdoaXRlO1xyXG4gICAgICAgICAgICBvdXRsaW5lOiAxcHggc29saWQgdmFyKC0tYmFkLWNvbG9yKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgI3RyYW5zbGF0aW9ucGFycm90e1xyXG4gICAgICAgICAgb3BhY2l0eTogMDtcclxuICAgICAgICAgIHdpZHRoOiA0cmVtO1xyXG4gICAgICAgICAgaGVpZ2h0OiA0cmVtO1xyXG4gICAgICAgICAgLXdlYmtpdC10cmFuc2Zvcm06IHNjYWxlWCgtMSk7XHJcbiAgdHJhbnNmb3JtOiBzY2FsZVgoLTEpO1xyXG5cclxuICAgICAgICB9XHJcbiAgICAgICAgaW5wdXQsXHJcbiAgICAgICAgLnRoZXdvcmQge1xyXG4gICAgICAgICAgd2lkdGg6IDIwdnc7XHJcbiAgICAgICAgICBoZWlnaHQ6IDMwdmg7XHJcbiAgICAgICAgICBmb250LXNpemU6IDIwMCU7XHJcbiAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgICAgICAgZm9udC1mYW1pbHk6IHZhcigtLWdsb2JhbC1mb250KTtcclxuICAgICAgICAgXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlucHV0e1xyXG4gICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogIHRyYW5zcGFyZW50O1xyXG4gICAgICAgICAgY29sb3I6IHZhcigtLWdsb2JhbC1jb2xvcik7XHJcbiAgICAgICAgICBvdXRsaW5lOiAxcHggc29saWQgdHJhbnNwYXJlbnQ7XHJcbiAgICAgICAgfVxyXG4gXHJcbiAgICAgICAgQGtleWZyYW1lcyBzdG9wIHtcclxuICAgICAgICAgIHRvIHtcclxuICAgICAgICAgICAgb3V0bGluZTogMXB4IHNvbGlkIHZhcigtLWdsb2JhbC1jb2xvcik7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC50aGV3b3JkIHtcclxuICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjtcclxuICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWdsb2JhbC1jb2xvcik7XHJcbiAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAgdmFyKC0tZ2xvYmFsLWNvbG9yKTtcclxuICAgICAgICAgIGNvbG9yOiB3aGl0ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgc2VsZWN0IHtcclxuICAgICAgICAgIGp1c3RpZnktc2VsZjogZmxleC1zdGFydDtcclxuICAgICAgICAgIHBhZGRpbmc6IDAuNnJlbTtcclxuICAgICAgICAgIHdpZHRoOiBtYXgtY29udGVudDtcclxuICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xyXG4gICAgICAgICAgZm9udC1mYW1pbHk6IHZhcigtLWdsb2JhbC1mb250KTtcclxuICAgICAgICAgIGNvbG9yOiBibGFjaztcclxuICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIGJsYWNrO1xyXG4gICAgICAgICAgbWFyZ2luLXRvcDogLjZyZW07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBvcHRpb24ge1xyXG4gICAgICAgICAgcGFkZGluZzogMC40cmVtO1xyXG4gICAgICAgICAgZm9udC1mYW1pbHk6IHZhcigtLWdsb2JhbC1mb250KTtcclxuICAgICAgICAgIGZvbnQtc2l6ZTogMTIwJTtcclxuICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xyXG4gICAgICAgICAgY29sb3I6IGJsYWNrO1xyXG4gICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgYmxhY2s7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAjYmVsb3cge1xyXG4gICAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICAgIG1hcmdpbi10b3A6IDZ2aDtcclxuICAgICAgICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgICAgICAgaGVpZ2h0OiAyLjRyZW07XHJcbiAgICAgICAgICBmb250LXNpemU6IDE0MCU7XHJcbiAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICAgICAgICAgIGNvbG9yOiBibGFjaztcclxuICAgICAgICAgIGZvbnQtZmFtaWx5OiB2YXIoLS1nbG9iYWwtZm9udCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgXHJcblxyXG4gICAgICAgIC5pY29uIHtcclxuICAgICAgICAgIG9iamVjdC1maXQ6IGNvbnRhaW47XHJcbiAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcclxuICAgICAgICAgIHdpZHRoOiA0LjJyZW07XHJcbiAgICAgICAgICBoZWlnaHQ6IDEuOHJlbTtcclxuICAgICAgICAgIG1hcmdpbi1sZWZ0OiAxcmVtO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLmZsaXAtY2FyZCB7XHJcbiAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcclxuICAgICAgICAgIHdpZHRoOiAyMHZ3O1xyXG4gICAgICAgICAgaGVpZ2h0OiAzMHZoO1xyXG4gICAgICAgICAgcGVyc3BlY3RpdmU6IDEwMDBweDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC5mbGlwLWNhcmQtaW5uZXIge1xyXG4gICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG4gICAgICAgICAgd2lkdGg6IDEwMCU7XHJcbiAgICAgICAgICBoZWlnaHQ6IDEwMCU7XHJcbiAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICAgICAgICB0cmFuc2l0aW9uOiB0cmFuc2Zvcm0gMC44cztcclxuICAgICAgICAgIHRyYW5zZm9ybS1zdHlsZTogcHJlc2VydmUtM2Q7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAuZmxpcC1jYXJkLWZyb250LFxyXG4gICAgICAgIC5mbGlwLWNhcmQtYmFjayB7XHJcbiAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICAgICAgICB3aWR0aDogMTAwJTtcclxuICAgICAgICAgIGhlaWdodDogMTAwJTtcclxuICAgICAgICAgIGJhY2tmYWNlLXZpc2liaWxpdHk6IGhpZGRlbjtcclxuICAgICAgICAgIC13ZWJraXQtYmFja2ZhY2UtdmlzaWJpbGl0eTogaGlkZGVuO1xyXG4gICAgICAgIH1cclxuICAgICAgICAjcG9pbnRzIHtcclxuICAgICAgICAgICAgYm9yZGVyOiBub25lO1xyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcclxuICAgICAgICAgICAgY29sb3I6IHdoaXRlO1xyXG4gICAgICAgICAgd2lkdGg6IG1heC1jb250ZW50O1xyXG4gICAgICAgICAgaGVpZ2h0OiBtYXgtY29udGVudDtcclxuICAgICAgICAgIGZvbnQtc2l6ZTogMXJlbTtcclxuICAgICAgICBcclxuICAgICAgICAgIGZvbnQtZmFtaWx5OiB2YXIoLS1nbG9iYWwtZm9udCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAuZmxpcC1jYXJkLWJhY2sge1xyXG4gICAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tZ2xvYmFsLWNvbG9yKTtcclxuICAgICAgICAgIGNvbG9yOiB3aGl0ZTtcclxuICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICAgICAgICBmb250LWZhbWlseTogdmFyKC0tZ2xvYmFsLWZvbnQpO1xyXG4gICAgICAgICAgZm9udC1zaXplOiAyMDAlO1xyXG4gICAgICAgICAgdHJhbnNmb3JtOiByb3RhdGVZKDE4MGRlZyk7XHJcbiAgICAgICAgICBvdXRsaW5lOiAxcHggc29saWQgdmFyKC0tZ2xvYmFsLWNvbG9yKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgI3RyYW5zbGF0aW9uYm94IHtcclxuICAgICAgICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgICAgICAgaGVpZ2h0OiBtYXgtY29udGVudDtcclxuICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xyXG4gICAgICAgICAgY29sb3I6IGJsYWNrO1xyXG4gICAgICAgICAgcGFkZGluZzogMC4ycmVtO1xyXG4gICAgICAgICAgZm9udC1zaXplOiAxMzAlO1xyXG4gICAgICAgICAgbWFyZ2luLXRvcDogMTZ2aDtcclxuICAgICAgICAgIG1hcmdpbi1ib3R0b206IDR2aDtcclxuICAgICAgICAgIHotaW5kZXg6IDk5NztcclxuICAgICAgICAgIGZvbnQtZmFtaWx5OiB2YXIoLS1nbG9iYWwtZm9udCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAjc3BlYWtlciB7XHJcbiAgICAgICAgICBmb250LWZhbWlseTogQXJpYWwsIEhlbHZldGljYSwgc2Fucy1zZXJpZjtcclxuICAgICAgICAgIGZvbnQtc2l6ZTogODAlO1xyXG4gICAgICAgICAgbWFyZ2luLWxlZnQ6IDAuN3JlbTtcclxuICAgICAgICAgIHdpZHRoOiAxLjZyZW07XHJcbiAgICAgICAgICBoZWlnaHQ6IDEuNnJlbTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC5ob3ZlcmFibGUge1xyXG4gICAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gICAgICAgICAgdHJhbnNmb3JtOiBzY2FsZSgxLjEpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgI2J1dHRvbnMge1xyXG4gICAgICAgICAgZGlzcGxheTpmbGV4O1xyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1kZXNrdG9wLWNvbG9yKTtcclxuICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xyXG4gICAgICAgICAgICBoZWlnaHQ6IDEwdmg7XHJcbiAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICAgICAgICAgIHBhZGRpbmctbGVmdDogMiU7XHJcbiAgICAgICAgICAgIHBhZGRpbmctcmlnaHQ6IDIlO1xyXG4gICAgICAgICAgICB3aWR0aDogOTYlO1xyXG4gICAgICAgICAgICBjb2xvcjogdmFyKC0tdG9wYmFyLXRleHQtY29sb3IpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC5tb2RhbCB7XHJcbiAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gICAgICAgICAgcG9zaXRpb246IGZpeGVkO1xyXG4gICAgICAgICAgdG9wOiAwO1xyXG4gICAgICAgICAgbGVmdDogMDtcclxuICAgICAgICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgICAgICAgaGVpZ2h0OiAxMDB2aDtcclxuICAgICAgICAgIHotaW5kZXg6IDk5OTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgXHJcbiAgICAgICAgQGtleWZyYW1lcyBhY2NlcHRlZCB7XHJcbiAgICAgICAgICB0byB7XHJcbiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWdsb2JhbC1jb2xvcik7XHJcbiAgICAgICAgICAgIGNvbG9yOiB3aGl0ZTtcclxuICAgICAgICAgICAgb3V0bGluZTogMXB4IHNvbGlkIHZhcigtLWdsb2JhbC1jb2xvcik7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAuYm94IHtcclxuICAgICAgICAgIGZvbnQtc2l6ZTogMnJlbTtcclxuICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xyXG4gICAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7XHJcbiAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICAgICAgICAgIGNvbG9yOiBibGFjaztcclxuICAgICAgICAgIHdpZHRoOiBtYXgtY29udGVudDtcclxuICAgICAgICAgIHBhZGRpbmc6IDFyZW07XHJcbiAgICAgICAgICBib3gtc2hhZG93OiAzcHggM3B4IDZweCBncmF5O1xyXG4gICAgICAgICAgZm9udC1mYW1pbHk6IHZhcigtLWdsb2JhbC1mb250KTtcclxuICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgICAgICB9XHJcbiAgICAgICAgLmJveD5pbWd7XHJcbiAgICAgICAgICB3aWR0aDogOHJlbTtcclxuICAgICAgICAgIGhlaWdodDogOHJlbTtcclxuICAgICAgICAgIGFsaWduLXNlbGY6IGZsZXgtc3RhcnQ7XHJcbiAgICAgICAgICBtYXJnaW4tcmlnaHQ6IDRyZW07IC13ZWJraXQtdHJhbnNmb3JtOiBzY2FsZVgoLTEpO1xyXG4gIHRyYW5zZm9ybTogc2NhbGVYKC0xKTtcclxuICBvdmVyZmxvdzogaGlkZGVuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgQG1lZGlhIG9ubHkgc2NyZWVuIGFuZCAobWF4LXdpZHRoOiA2MDBweCkge1xyXG4gICAgICAgICAgOmhvc3Qge1xyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kLWltYWdlOiBub25lO1xyXG4gICAgICAgICAgIFxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgLmZsaXAtY2FyZCxcclxuICAgICAgICAgIGlucHV0LFxyXG4gICAgICAgICAgLnRoZXdvcmQge1xyXG4gICAgICAgICAgICB3aWR0aDogMzB2dztcclxuICAgICAgICAgICAgaGVpZ2h0OiAyMHZoO1xyXG4gICAgICAgICAgICBmb250LXNpemU6IDgwJTtcclxuICAgICAgICAgICAgcGFkZGluZy1sZWZ0OiAwLjFyZW07XHJcbiAgICAgICAgICAgIHBhZGRpbmctcmlnaHQ6IDAuMXJlbTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIC5mbGlwLWNhcmQtYmFjayB7XHJcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogOTAlO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgI2JlbG93IHtcclxuICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgICAgICAgICBib3R0b206IDA7XHJcbiAgICAgICAgICAgIGxlZnQ6IDA7XHJcbiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDA7XHJcbiAgICAgICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWRlc2t0b3AtY29sb3IpO1xyXG4gICAgICAgICAgICBoZWlnaHQ6IDh2aDtcclxuICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgICAgICAgICAgY29sb3I6IGJsYWNrO1xyXG4gICAgICAgICAgICB3aWR0aDogMTAwJTtcclxuICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgICAgICAgICAgIGNvbG9yOiB3aGl0ZTtcclxuXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICAjcG9pbnRzIHtcclxuICAgICAgICAgICAgYm9yZGVyOiBub25lO1xyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcclxuICAgICAgICAgICAgY29sb3I6IHdoaXRlO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgI2J1dHRvbnMge1xyXG5cclxuICAgICAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tZGVza3RvcC1jb2xvcik7XHJcbiAgICAgICAgIFxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgXHJcbiAgICAgICAgI3RpdGxle1xyXG4gICAgICAgICAgZm9udC1zaXplOiAxcmVtO1xyXG4gICAgICAgIH1cclxuICAgICAgICAjd3JhcHBlciB7XHJcbiAgICAgIFxyXG4gICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gICAgICAgICAgYWxpZ24tY29udGVudDogY2VudGVyO1xyXG4gICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gICAgICAgICAganVzdGlmeS1pdGVtczogY2VudGVyO1xyXG4gICAgICAgICAgd2lkdGg6IDEwMCU7XHJcbiAgICAgICAgICBoZWlnaHQ6IDEwMCU7XHJcbiAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICAgICAgICB0b3A6IDA7XHJcbiAgICAgICAgICBsZWZ0OiAwO1xyXG4gICAgICAgICAgbWFyZ2luOiAwO1xyXG4gICAgICAgICAgcGFkZGluZzogMDtcclxuICAgICAgICB9XHJcbiAgICAgICAgICAjdHJhbnNsYXRpb25ib3ggIHtcclxuICAgICAgICAgICAgbWFyZ2luLXRvcDogMjJ2aDtcclxuICAgICAgICAgICAgaGVpZ2h0OiBtYXgtY29udGVudDtcclxuICAgICAgICAgICAgd2lkdGg6IDgwdnc7XHJcbiAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgXHJcbiAgICAgICAgICAjYnV0dG9ucyA+IHN2ZyB7XHJcbiAgICAgICAgICAgIGZpbGw6IHdoaXRlO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgI3NwZWFrZXIge1xyXG4gICAgICAgICAgICBtYXJnaW4tbGVmdDogMC4zcmVtO1xyXG4gICAgICAgICAgICBmb250LXNpemU6IDEwMCU7XHJcbiAgICAgICAgICAgIHdpZHRoOiAxcmVtO1xyXG4gICAgICAgICAgICBoZWlnaHQ6IDFyZW07XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBcclxuICAgICAgICAgICNib3gge1xyXG4gICAgICAgICAgICBmb250LXNpemU6IDEuNHJlbTtcclxuICAgICAgICAgICAgd2lkdGg6IDkwJTtcclxuICAgICAgICAgICAgYm94LXNoYWRvdzogM3B4IDNweCAzcHggZ3JheTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIGBcclxuICAgIF07XHJcbiAgfVxyXG4gIHBvaW50czogbnVtYmVyID0gMDtcclxuICBncmVldGluZ01lc3NhZ2U6IHN0cmluZztcclxuICBjb250YWluZXI6IEhUTUxEaXZFbGVtZW50O1xyXG4gIGRhdGE6IExldmVsO1xyXG4gIGxldmVsczogTGV2ZWxzID0gbGV2ZWxzO1xyXG4gIHBvaW50Q29sbGVjdGlvbjogUG9pbnRDb2xsZWN0aW9uO1xyXG4gIGk6IG51bWJlciA9IDA7XHJcbiAgbjogbnVtYmVyID0gMDtcclxuICBsOiBudW1iZXIgPSAwO1xyXG4gIGNvcnJlY3RXb3JkOiBGb3JtcztcclxuICByZWY6IGJvb2xlYW4gPSBmYWxzZTtcclxuICBzcGVlY2ggPSB3aW5kb3cuc3BlZWNoU3ludGhlc2lzO1xyXG4gIHRyYW5zbGF0aW9uQm94OiBIVE1MRGl2RWxlbWVudDtcclxuICBjb25ncmF0dWxhdGlvbnM6IEhUTUxEaXZFbGVtZW50O1xyXG4gIHVzZXIhOiBJVXNlcjtcclxuICBtZW51YnV0dG9uOiBIVE1MSW1hZ2VFbGVtZW50O1xyXG4gIHRyYW5zbGF0aW9uOiBzdHJpbmc7XHJcbiAgcHJvZmlsZUNhcmQ6IFByb2ZpbGVDYXJkO1xyXG4gIG9sZFZhbHVlOiBzdHJpbmcgPSBcIkEyXCI7XHJcbiAgZmlyc3RVcGRhdGVkKGE6IGFueSkge1xyXG4gICAgc3VwZXIuZmlyc3RVcGRhdGVkKGEpO1xyXG4gICAgdGhpcy5wcm9maWxlQ2FyZCA9IHRoaXMuc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yKFwiI3NldHRpbmdzXCIpO1xyXG4gICAgdGhpcy5wb2ludHMgPSB0aGlzLnBvaW50Q29sbGVjdGlvbi5BMjtcclxuICAgIHRoaXMuY29udGFpbmVyID0gdGhpcy5zaGFkb3dSb290IS5xdWVyeVNlbGVjdG9yKFwiI2NvbnRhaW5lclwiKTtcclxuICAgIHRoaXMuY29uZ3JhdHVsYXRpb25zID0gdGhpcy5zaGFkb3dSb290IS5xdWVyeVNlbGVjdG9yKFwiI2NvbmdyYXR1bGF0aW9uc1wiKTtcclxuICAgIHRoaXMuY29uZ3JhdHVsYXRpb25zLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICAgIHRoaXMuZGF0YSA9IHRoaXMubGV2ZWxzLkEyO1xyXG4gICAgdGhpcy5sID0gT2JqZWN0LmVudHJpZXModGhpcy5kYXRhKS5sZW5ndGg7XHJcbiAgICB0aGlzLmkgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiB0aGlzLmwpO1xyXG4gICAgdGhpcy5uID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMyk7XHJcbiAgICBsZXQgd29yZDogV29yZCA9IE9iamVjdC5lbnRyaWVzKHRoaXMuZGF0YSlbdGhpcy5pXTtcclxuICAgIGlmICh3b3JkWzBdLmluY2x1ZGVzKFwiIFwiKSkge1xyXG4gICAgICB0aGlzLnRyYW5zbGF0aW9uID0gT2JqZWN0LnZhbHVlcyh3b3JkKVswXS50b1N0cmluZygpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy50cmFuc2xhdGlvbiA9IHdvcmRbMF07XHJcbiAgICB9XHJcbiAgICBsZXQgdGhlcmVzdCA9IHdvcmQuc2xpY2UoMCkgYXMgV29yZDtcclxuICAgIHRoaXMuY29ycmVjdFdvcmQgPSBBcnJheS5mcm9tKHRoZXJlc3RbMV0pO1xyXG4gICAgdGhpcy5ncmVldCgpO1xyXG4gICAgdGhpcy5yZXF1ZXN0VXBkYXRlKCk7XHJcbiAgfVxyXG5cclxuICBncmVldCgpIHtcclxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICB0aGlzLnNoYWRvd1Jvb3QucXVlcnlTZWxlY3RvcjxIVE1MRWxlbWVudD4oXCIjZ3JlZXRpbmdcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgIHRoaXMud29yZHNBbmltYXRpb24oKTtcclxuICAgICAgdGhpcy5zaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3I8SFRNTEVsZW1lbnQ+KFwiI3RyYW5zbGF0aW9ucGFycm90XCIpLnN0eWxlLm9wYWNpdHkgPSBcIjFcIjtcclxuICAgIH0sIDI0MDApO1xyXG4gIH1cclxuICBcclxuICB3b3Jkc0FuaW1hdGlvbigpe1xyXG4gICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCk9PnsgXHJcbiAgICAgbGV0IGJveGVzID0gQXJyYXkuZnJvbSh0aGlzLnNoYWRvd1Jvb3QucXVlcnlTZWxlY3RvckFsbChcIi50aGV3b3JkLCBpbnB1dFwiKSk7XHJcbiAgICBib3hlcy5mb3JFYWNoKChib3gsIGkpPT57XHJcbiAgICAgICAgYm94LmFuaW1hdGUoW3t0cmFuc2Zvcm06IFwidHJhbnNsYXRlWSgtMjBweClcIn0se3RyYW5zZm9ybTogXCJ0cmFuc2xhdGVZKDBweClcIn1dLFxyXG4gICAgICAgIHtkdXJhdGlvbjogNjAwLFxyXG4gICAgICAgIGRlbGF5OiBpKjEwMH0pXHJcbiAgICAgIH0pfSk7XHJcbiAgICBcclxuICB9XHJcblxyXG4gIHNlbGVjdGlvbkNob2ljZShuZXdWYWx1ZTogc3RyaW5nKXtcclxuICAgICAgaWYobmV3VmFsdWUgPT09IFwiQWxsXCIpe1xyXG4gICAgICAgIE9iamVjdC52YWx1ZXModGhpcy5sZXZlbHMpLm1hcChsZXZlbD0+e1xyXG4gICAgICAgICAgcmV0dXJuIHRoaXMuZGF0YSA9IHsuLi5sZXZlbH1cclxuICAgICAgICB9KVxyXG4gICAgICAgICB9XHJcbiAgICAgIGVsc2V7XHJcbiAgICAgICAgICB0aGlzLmRhdGEgPSB0aGlzLmxldmVsc1tgJHtuZXdWYWx1ZX1gXTsgICAgICAgIH1cclxuICAgICAgdGhpcy5wb2ludHMgPSB0aGlzLnBvaW50Q29sbGVjdGlvbltgJHtuZXdWYWx1ZX1gXTtcclxuICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpPT57XHJcbiAgICAgIHRoaXMud29yZHNBbmltYXRpb24oKTtcclxuICAgICBcclxuICAgICAgfSlcclxuICAgICAgdGhpcy5yZWZyZXNoTnVtYmVyKCk7XHJcblxyXG4gIH1cclxuXHJcbiAgbWVudUZ1bmN0aW9uYWxpdHkoKXtcclxuICAgICAgdGhpcy5wcm9maWxlQ2FyZC5zdHlsZS50cmFuc2Zvcm0gPSBcInRyYW5zbGF0ZVgoMHZ3KVwiO1xyXG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpPT57XHJcbiAgICAgIHRoaXMuc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yPEhUTUxEaXZFbGVtZW50PihcIiN3cmFwcGVyXCIpLm9uY2xpY2sgPSAoKT0+e1xyXG4gICAgICAgIHRoaXMucHJvZmlsZUNhcmQuc3R5bGUudHJhbnNmb3JtID0gXCJ0cmFuc2xhdGVYKC04MHZ3KVwiO1xyXG4gICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKT0+e1xyXG4gICAgICAgIHRoaXMuc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yPEhUTUxEaXZFbGVtZW50PihcIiN3cmFwcGVyXCIpLm9uY2xpY2sgPSBudWxsO31cclxuICAgICl9fSk7XHJcbn1cclxuXHJcbnBvaW50c0FkZGl0aW9uKCkge1xyXG4gIHRoaXMucG9pbnRzID0gdGhpcy5wb2ludHMgKyAxO1xyXG4gIHRoaXMucG9pbnRDb2xsZWN0aW9uW2Ake3RoaXMub2xkVmFsdWV9YF0gPSB0aGlzLnBvaW50cztcclxuICB3cml0ZVVzZXJEYXRhKHRoaXMudXNlci51aWQsIHRoaXMucG9pbnRDb2xsZWN0aW9uLCB0aGlzLnVzZXIubmFtZSk7XHJcbiAgdGhpcy5yZXF1ZXN0VXBkYXRlKCk7XHJcbiAgdGhpcy5wcm9maWxlQ2FyZC5yZXF1ZXN0VXBkYXRlKCk7XHJcbn1cclxuXHJcbiAgc2hvd1RoZUFuc3dlcigpIHtcclxuICAgIHRoaXMuc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yPEhUTUxFbGVtZW50PihcIi5mbGlwLWNhcmQtaW5uZXJcIikuc3R5bGUudHJhbnNmb3JtID1cclxuICAgICAgXCJyb3RhdGVZKDE4MGRlZylcIjtcclxuICAgIHRoaXMucmVxdWVzdFVwZGF0ZSgpO1xyXG4gIH1cclxuICBjb25ncmF0dWxhdGUoKSB7XHJcbiAgICBsZXQgcG9pbnRib3g6IEhUTUxFbGVtZW50ID0gdGhpcy5zaGFkb3dSb290IS5xdWVyeVNlbGVjdG9yKFwiI3BvaW50c1wiKTtcclxuICAgIGlmICh0aGlzLnBvaW50cyAlIDUgPT09IDApIHtcclxuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcjxIVE1MRWxlbWVudD4oXCIjY2FudmFzXCIpLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XHJcbiAgICAgIHBvaW50Ym94LmFuaW1hdGUoXHJcbiAgICAgICAgW1xyXG4gICAgICAgICAgeyB0cmFuc2Zvcm06IFwic2NhbGUoMS4yKSByb3RhdGUoNWRlZykgdHJhbnNsYXRlWCgtMTBweClcIiB9LFxyXG4gICAgICAgICAgeyB0cmFuc2Zvcm06IFwic2NhbGUoMS4zKSByb3RhdGUoLTVkZWcpIHRyYW5zbGF0ZVgoLTEwcHgpXCIgfSxcclxuICAgICAgICAgIHsgdHJhbnNmb3JtOiBcInNjYWxlKDEpIHJvdGF0ZSgwZGVnKSB0cmFuc2xhdGVYKDBweClcIiB9XHJcbiAgICAgICAgXSxcclxuICAgICAgICB7IGR1cmF0aW9uOiAxMDAwIH1cclxuICAgICAgKTtcclxuICAgICAgaWYgKHRoaXMucG9pbnRzICUgMTAgPT09IDApIHtcclxuICAgICAgICBsZXQgY29uZmV0dGlTZXR0aW5ncyA9IHsgdGFyZ2V0OiBcImNhbnZhc1wiIH07XHJcbiAgICAgICAgbGV0IGNvbmZldHRpID0gbmV3IENvbmZldHRpR2VuZXJhdG9yKGNvbmZldHRpU2V0dGluZ3MpO1xyXG4gICAgICAgIGNvbmZldHRpLnJlbmRlcigpO1xyXG4gICAgICAgIGlmICh0aGlzLnBvaW50cyAlIDYwID09PSAwKSB7XHJcbiAgICAgICAgICB0aGlzLmNvbmdyYXR1bGF0aW9ucy5zdHlsZS5kaXNwbGF5ID0gXCJmbGV4XCI7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5sb2dpbmdPdXQoKXtcclxuICAgIHdpbmRvdy5maXJlYmFzZS5hdXRoKCkuc2lnbk91dCgpLnRoZW4oKCk9PiB7XHJcbiAgICAgIHRoaXMudXNlciA9IG51bGw7XHJcbiAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCd1c2VyLWluZm8nKTsgXHJcbiAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdwb2ludHMnKTsgXHJcbiAgICAgIHNob3dMb2coXCJab3N0YcWCZcWbIHd5bG9nb3dhbnlcIiwgXCJXcmFjYWogc3p5YmNpdXRrbywganXFvCB0xJlza25pbXkhXCIsIHRydWUsIGZhbHNlKVxyXG4gICBcclxuICB9KTt9XHJcbiBcclxuXHJcbiAgaG92ZXJhYmxlKGU6IEV2ZW50KSB7XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAoPEhUTUxFbGVtZW50PmUudGFyZ2V0KS5jbGFzc0xpc3QuYWRkKFwiaG92ZXJhYmxlXCIpO1xyXG4gICAgKDxIVE1MRWxlbWVudD5lLnRhcmdldCkuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlb3V0XCIsIGUgPT4ge1xyXG4gICAgICAoPEhUTUxFbGVtZW50PmUudGFyZ2V0KS5jbGFzc0xpc3QucmVtb3ZlKFwiaG92ZXJhYmxlXCIpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBmbGlja2VyKCkge1xyXG4gICAgaWYgKHRoaXMucG9pbnRzID09PSAxKSB7XHJcbiAgICAgIGxldCBjdXJyZW50V29yZHM6IEFycmF5PEhUTUxFbGVtZW50PiA9IEFycmF5LmZyb20oXHJcbiAgICAgICAgdGhpcy5zaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3JBbGw8SFRNTERpdkVsZW1lbnQ+KFwiLnRoZXdvcmRcIilcclxuICAgICAgKTtcclxuICAgICAgY3VycmVudFdvcmRzLmZvckVhY2god29yZCA9PiB7XHJcbiAgICAgICAgd29yZC5zdHlsZS5vcGFjaXR5ID0gXCIwXCI7XHJcbiAgICAgICAgd29yZC5zdHlsZS50cmFuc2l0aW9uID0gXCIuM3NcIjtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZWZyZXNoTnVtYmVyKCkge1xyXG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcclxuICAgICAgaWYgKHRoaXMuY29uZ3JhdHVsYXRpb25zLnN0eWxlLmRpc3BsYXkgPT09IFwibm9uZVwiKSB7XHJcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3I8SFRNTENhbnZhc0VsZW1lbnQ+KFwiI2NhbnZhc1wiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICAgICAgfSwgMTAwMCk7XHJcbiAgICAgIH1cclxuICAgICAgbGV0IGN1cnJlbnRXb3JkczogQXJyYXk8SFRNTERpdkVsZW1lbnQ+ID0gQXJyYXkuZnJvbShcclxuICAgICAgICB0aGlzLnNoYWRvd1Jvb3QucXVlcnlTZWxlY3RvckFsbChcIi50aGV3b3JkXCIpXHJcbiAgICAgICk7XHJcbiAgICAgIGN1cnJlbnRXb3Jkcy5mb3JFYWNoKHdvcmQgPT4ge1xyXG4gICAgICAgIHdvcmQuc3R5bGUub3BhY2l0eSA9IFwiMVwiO1xyXG4gICAgICB9KTtcclxuICAgICAgdGhpcy5uID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMyk7XHJcbiAgICAgIHRoaXMubCA9IE9iamVjdC5lbnRyaWVzKHRoaXMuZGF0YSkubGVuZ3RoO1xyXG4gICAgICB0aGlzLmkgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiB0aGlzLmwpO1xyXG4gICAgICBsZXQgd29yZDogW3N0cmluZywgKHN0cmluZyB8IHN0cmluZ1tdKVtdXSA9IE9iamVjdC5lbnRyaWVzKHRoaXMuZGF0YSlbdGhpcy5pXTtcclxuICAgICAgaWYgKHdvcmRbMF0uaW5jbHVkZXMoXCIgXCIpKSB7XHJcbiAgICAgICAgdGhpcy50cmFuc2xhdGlvbiA9IE9iamVjdC52YWx1ZXMod29yZClbMF0udG9TdHJpbmcoKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLnRyYW5zbGF0aW9uID0gd29yZFswXTtcclxuICAgICAgfVxyXG4gICAgICBsZXQgdGhlcmVzdCA9IHdvcmQuc2xpY2UoMCkgYXMgW3N0cmluZywgKHN0cmluZyB8IHN0cmluZ1tdKVtdXTtcclxuICAgICAgdGhpcy5jb3JyZWN0V29yZCA9IEFycmF5LmZyb20odGhlcmVzdFsxXSk7XHJcbiAgICAgIHRoaXMuc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yPEhUTUxJbnB1dEVsZW1lbnQ+KFwiI2lucHV0XCIpLnZhbHVlID0gXCJcIjtcclxuICAgICAgdGhpcy5zaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3I8SFRNTElucHV0RWxlbWVudD4oXCIjaW5wdXRcIikuc3R5bGUuYW5pbWF0aW9uID1cclxuICAgICAgICBcImJvcmRlckZsaWNrZXIgLjZzIGluZmluaXRlIGFsdGVybmF0ZS1yZXZlcnNlXCI7XHJcbiAgICAgIHRoaXMucmVmID0gZmFsc2U7XHJcbiAgICAgIHRoaXMuc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yPEhUTUxEaXZFbGVtZW50PihcIi5mbGlwLWNhcmQtaW5uZXJcIikuc3R5bGUudHJhbnNmb3JtID1cclxuICAgICAgICBcInJvdGF0ZVkoMGRlZylcIjtcclxuICAgICAgdGhpcy5yZXF1ZXN0VXBkYXRlKCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGFzeW5jIHJlYWRUaGVXb3JkKGZvcm06IGFueSkge1xyXG4gICAgdGhpcy5zaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3I8SFRNTEltYWdlRWxlbWVudD4oXCIjdHJhbnNsYXRpb25wYXJyb3RcIikuc3JjID0gXCIuL2ltZy9wYXJvdGZhY2VzcGVhay5zdmdcIjtcclxuICAgIGxldCBtc2cgPSBuZXcgU3BlZWNoU3ludGhlc2lzVXR0ZXJhbmNlKGZvcm0pO1xyXG4gICAgbGV0IHZvaWNlcyA9IHRoaXMuc3BlZWNoLmdldFZvaWNlcygpO1xyXG4gICAgbXNnLmxhbmcgPSBcImVuLVVTXCI7XHJcbiAgICBtc2cudm9pY2UgPSB2b2ljZXNbNl07XHJcbiAgIFxyXG4gICAgdGhpcy5zcGVlY2guc3BlYWsobXNnKTtcclxuICAgIHNldFRpbWVvdXQoKCk9PntcclxuICAgIHRoaXMuc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yPEhUTUxJbWFnZUVsZW1lbnQ+KFwiI3RyYW5zbGF0aW9ucGFycm90XCIpLnNyYyA9IFwiLi9pbWcvcGFycm90ZmFjZS5zdmdcIjt9LCAxMDAwKTtcclxuICB9XHJcblxyXG4gIHVwZGF0ZWQoYTogYW55KSB7XHJcbiAgICBzdXBlci51cGRhdGVkKGEpO1xyXG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcclxuICAgICAgdGhpcy5zaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3I8SFRNTElucHV0RWxlbWVudD4oXCIjaW5wdXRcIikuZm9jdXMoKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgcmVuZGVyKCkge1xyXG4gICAgcmV0dXJuIGh0bWxgXHJcbiAgIDxwcm9maWxlLWNhcmQgQGxvZ291dD1cIiR7dGhpcy5sb2dpbmdPdXR9XCIgQHByZXZpb3VzVmFsdWU9XCIkeyhlOiBDdXN0b21FdmVudCk9PiB7dGhpcy5vbGRWYWx1ZSA9IGUuZGV0YWlsLm9sZFZhbHVlKCl9fVwiIEB2YWx1ZVNlbGVjdGVkPVwiJHsoZTogQ3VzdG9tRXZlbnQpPT4ge3RoaXMuc2VsZWN0aW9uQ2hvaWNlKGUuZGV0YWlsLm5ld1ZhbHVlKCkpfX1cIiBpZD1cInNldHRpbmdzXCIgLnVzZXJOYW1lPVwiJHt0aGlzLnVzZXIubmFtZX1cIiAudXNlckVtYWlsPVwiJHt0aGlzLnVzZXIuZW1haWx9XCIgLnVzZXJpZD1cIiR7dGhpcy51c2VyLnVpZH1cIiAucG9pbnRDb2xsZWN0aW9uPVwiJHt0aGlzLnBvaW50Q29sbGVjdGlvbn1cIj48L3Byb2ZpbGUtY2FyZD5cclxuIDxkaXYgY2xhc3M9XCJtb2RhbFwiIGlkPVwiZ3JlZXRpbmdcIj4gXHJcbiAgICAgICAgICAgPGRpdiBjbGFzcz1cImJveFwiPjxpbWcgc3JjPVwiLi9pbWcvcGFycm90dGFsay5zdmdcIj4gPHA+ICR7dGhpcy5ncmVldGluZ01lc3NhZ2V9LCAke3RoaXMudXNlci5uYW1lLnNwbGl0KFwiIFwiKVswXX0hPC9wPjwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgPGRpdiBjbGFzcz1cIm1vZGFsXCIgaWQ9XCJjb25ncmF0dWxhdGlvbnNcIiBAY2xpY2s9XCIkeygpID0+IHtcclxuICAgICAgdGhpcy5jb25ncmF0dWxhdGlvbnMuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3I8SFRNTENhbnZhc0VsZW1lbnQ+KFwiI2NhbnZhc1wiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICAgIH0sIDEwMDApO1xyXG4gICAgfX1cIj4gXHJcbiAgICAgICAgPGRpdiBjbGFzcz1cImJveFwiPlxyXG4gICAgICAgICAgICA8cD7FmndpZXRuaWUgQ2kgaWR6aWUsICR7dGhpcy51c2VyLm5hbWUuc3BsaXQoXCIgXCIpfSE8L3A+XHJcbiAgICAgICAgICAgIDxwPk1vxbxlIHBvcmEgcHJ6ZW5pZcWbxIcgc2nEmSBuYSB3ecW8c3p5IHBvemlvbT88L3A+PC9kaXY+XHJcbiAgICAgICAgICBcclxuICAgICAgICA8L2Rpdj48L2Rpdj5cclxuIDxkaXYgaWQ9XCJ3cmFwcGVyXCI+XHJcbiAgICA8ZGl2IGlkPVwiYnV0dG9uc1wiPlxyXG4gICAgPGltZyBpZD1cIm1lbnVidXR0b25cIiBzcmM9XCIuL2ltZy9idXJnZXIuc3ZnXCIgQGNsaWNrPVwiJHt0aGlzLm1lbnVGdW5jdGlvbmFsaXR5fVwiPlxyXG4gICAgICA8cCBpZD1cInRpdGxlXCI+RW5nbGlzaCBWZXJicyBHYW1lPC9wPlxyXG48ZGl2IGlkPVwicG9pbnRzXCI+JHt0aGlzLm9sZFZhbHVlICE9PVwiQWxsXCIgPyBgUG96aW9tICR7dGhpcy5vbGRWYWx1ZX06YCA6IGBXeW1pZXN6YW5lIHBvemlvbXk6YH0gJHt0aGlzLnBvaW50c308L2Rpdj5cclxuPC9kaXY+XHJcbjxkaXYgaWQ9XCJ0cmFuc2xhdGlvbmJveFwiPjxpbWcgaWQ9XCJ0cmFuc2xhdGlvbnBhcnJvdFwiIHNyYz1cIi4vaW1nL3BhcnJvdGZhY2Uuc3ZnXCI+VMWCdW1hY3plbmllOiAke3RoaXMudHJhbnNsYXRpb259PC9kaXY+XHJcbiAgICA8ZGl2IGlkPVwiY29udGFpbmVyXCI+XHJcbiAgICBcclxuICAgICR7dGhpcy5jb3JyZWN0V29yZCA9PT0gdW5kZWZpbmVkID8gdW5kZWZpbmVkIDogdGhpcy5jb3JyZWN0V29yZC5tYXAoKGZvcm0sIGluZGV4KSA9PiB7XHJcbiAgICAgIGlmICghKGluZGV4ID09PSB0aGlzLm4pKSB7XHJcbiAgICAgICAgcmV0dXJuIGh0bWxgXHJcbiAgICAgICAgICA8ZGl2XHJcbiAgICAgICAgICAgIGNsYXNzPVwidGhld29yZFwiXHJcbiAgICAgICAgICAgIEBjbGljaz1cIiR7KCkgPT4geyBcclxuICAgICAgICAgICAgICB0aGlzLnJlYWRUaGVXb3JkKGZvcm0pO1xyXG4gICAgICAgICAgICB9fVwiXHJcbiAgICAgICAgICAgIEBtb3VzZW92ZXI9XCIkeyhlOiBFdmVudCkgPT4ge1xyXG4gICAgICAgICAgICAgIHRoaXMuaG92ZXJhYmxlKGUpO1xyXG4gICAgICAgICAgICB9fVwiXHJcbiAgICAgICAgICA+XHJcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwid29yZFwiXHJcbiAgICAgICAgICAgICAgPiR7QXJyYXkuaXNBcnJheShmb3JtKSA/IGZvcm0uam9pbihcIiBcIikgOiBmb3JtfTwvc3BhblxyXG4gICAgICAgICAgICA+PHNwYW4gaWQ9XCJzcGVha2VyXCI+PGltZyBzcmM9XCIuL2ltZy9zb3VuZHdoaXRlLnN2Z1wiLz48L3NwYW4+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICBgO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJldHVybiBodG1sYFxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxpcC1jYXJkXCI+XHJcbiAgPGRpdiBjbGFzcz1cImZsaXAtY2FyZC1pbm5lclwiPlxyXG4gICAgPGRpdiBjbGFzcz1cImZsaXAtY2FyZC1mcm9udFwiPlxyXG4gICAgPGlucHV0IGlkPVwiaW5wdXRcIiBkYXRhLXZhbHVlPVwiJHtmb3JtfVwiIHR5cGU9XCJ0ZXh0XCIgQGtleWRvd249XCIkeyhlOiBLZXlib2FyZEV2ZW50KSA9PiB7XHJcbiAgICAgIHRoaXMucHJvZmlsZUNhcmQuc3R5bGUudHJhbnNmb3JtID0gXCJ0cmFuc2xhdGVYKC04MHZ3KVwiO1xyXG4gICAgICAgICAgaWYgKCEoKDxIVE1MSW5wdXRFbGVtZW50PmUudGFyZ2V0KS52YWx1ZS5sZW5ndGggPT09IDApKSB7XHJcbiAgICAgICAgICAgICg8SFRNTEVsZW1lbnQ+ZS50YXJnZXQpLnN0eWxlLmFuaW1hdGlvbiA9IFwic3RvcCAuM3MgZm9yd2FyZHNcIjtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGlmIChlLmtleUNvZGUgPT09IDEzKSB7XHJcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGZvcm0pKSB7XHJcbiAgICAgICAgICAgICAgbGV0IGZ1bGw6IHN0cmluZyA9IGZvcm0uam9pbigpO1xyXG4gICAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICAgIGZ1bGxcclxuICAgICAgICAgICAgICAgICAgLnRvTG93ZXJDYXNlKClcclxuICAgICAgICAgICAgICAgICAgLmluY2x1ZGVzKCg8SFRNTElucHV0RWxlbWVudD5lLnRhcmdldCkudmFsdWUudG9TdHJpbmcoKS50b0xvd2VyQ2FzZSgpKVxyXG4gICAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wb2ludHNBZGRpdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5mbGlja2VyKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbmdyYXR1bGF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucG9pbnRzID09PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICg8SFRNTElucHV0RWxlbWVudD5lLnRhcmdldCkuc3R5bGUuYW5pbWF0aW9uID0gXCJhY2NlcHRlZCAuM3MgZm9yd2FyZHMgLjFzXCI7XHJcbiAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVmcmVzaE51bWJlcigpO1xyXG4gICAgICAgICAgICAgICAgICB9LCAxMjAwKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICg8SFRNTElucHV0RWxlbWVudD5lLnRhcmdldCkuc3R5bGUuYW5pbWF0aW9uID0gXCJhY2NlcHRlZCAuM3MgZm9yd2FyZHNcIjtcclxuICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWZyZXNoTnVtYmVyKCk7XHJcbiAgICAgICAgICAgICAgICAgIH0sIDQwMCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICg8SFRNTElucHV0RWxlbWVudD5lLnRhcmdldCkuc3R5bGUuYW5pbWF0aW9uID0gXCJ3cm9uZyAuM3MgZm9yd2FyZHNcIjtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVmID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVxdWVzdFVwZGF0ZSgpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICBpZiAoKDxIVE1MSW5wdXRFbGVtZW50PmUudGFyZ2V0KS52YWx1ZS50b0xvd2VyQ2FzZSgpID09PSBmb3JtKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBvaW50c0FkZGl0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmZsaWNrZXIoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29uZ3JhdHVsYXRlKCk7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5wb2ludHMgPT09IDEpIHtcclxuICAgICAgICAgICAgICAgICAgKDxIVE1MSW5wdXRFbGVtZW50PmUudGFyZ2V0KS5zdHlsZS5hbmltYXRpb24gPSBcImFjY2VwdGVkIC4zcyBmb3J3YXJkcyAuMXNcIjtcclxuICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWZyZXNoTnVtYmVyKCk7XHJcbiAgICAgICAgICAgICAgICAgIH0sIDEyMDApO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgKDxIVE1MSW5wdXRFbGVtZW50PmUudGFyZ2V0KS5zdHlsZS5hbmltYXRpb24gPSBcImFjY2VwdGVkIC4zcyBmb3J3YXJkc1wiO1xyXG4gICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlZnJlc2hOdW1iZXIoKTtcclxuICAgICAgICAgICAgICAgICAgfSwgNDAwKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgKDxIVE1MSW5wdXRFbGVtZW50PmUudGFyZ2V0KS5zdHlsZS5hbmltYXRpb24gPSBcIndyb25nIC4zcyBmb3J3YXJkcyAuMXNcIjtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVmID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVxdWVzdFVwZGF0ZSgpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH19XCI+XHJcbiAgICA8L2Rpdj5cclxuICAgIDxkaXYgIEBjbGljaz1cIiR7KCkgPT4ge1xyXG4gICAgICB0aGlzLnJlYWRUaGVXb3JkKGZvcm0pO1xyXG4gICAgfX1cIiBjbGFzcz1cImZsaXAtY2FyZC1iYWNrXCI+XHJcbiAgICAgIDxzcGFuIGNsYXNzPVwid29yZFwiPiR7XHJcbiAgICAgICAgQXJyYXkuaXNBcnJheShmb3JtKSA/IGZvcm0uam9pbihcIiBcIikgOiBmb3JtXHJcbiAgICAgIH08L3NwYW4+PHNwYW4gaWQ9XCJzcGVha2VyXCI+PGltZyBzcmM9XCIuL2ltZy9zb3VuZHdoaXRlLnN2Z1wiPjwvc3Bhbj48L3NwYW4+XHJcbiAgICA8L2Rpdj5cclxuICA8L2Rpdj5cclxuPC9kaXY+XHJcbiAgICAgICAgICAgIGA7XHJcbiAgICAgIH1cclxuICAgIH0pfVxyXG4gICAgICAgICAgICAgICBcclxuICAgIDwvZGl2PlxyXG4gICAgXHJcbiAgICBcclxuICAgPGRpdiBpZD1cImJlbG93XCI+PGEgaWQ9XCJza2lwXCIgQG1vdXNlb3Zlcj1cIiR7KGU6IEV2ZW50KSA9PiB7XHJcbiAgICAgdGhpcy5ob3ZlcmFibGUoZSk7XHJcbiAgIH19XCIgQGNsaWNrPVwiJHt0aGlzLnJlZnJlc2hOdW1iZXJ9XCI+SW5uZSBzxYJvd288L2E+ICR7XHJcbiAgICAgIHRoaXMucmVmXHJcbiAgICAgICAgPyBodG1sYFxyXG4gICAgICAgICAgICA8YSBAY2xpY2s9XCIke3RoaXMuc2hvd1RoZUFuc3dlcn1cIlxyXG4gICAgICAgICAgICAgID48aW1nXHJcbiAgICAgICAgICAgICAgICBAbW91c2VvdmVyPVwiJHsoZTogRXZlbnQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgdGhpcy5ob3ZlcmFibGUoZSk7XHJcbiAgICAgICAgICAgICAgICB9fVwiXHJcbiAgICAgICAgICAgICAgICBjbGFzcz1cImljb25cIlxyXG4gICAgICAgICAgICAgICAgc3JjPVwiLi9pbWcvZXllLnN2Z1wiXHJcbiAgICAgICAgICAgIC8+PC9hPlxyXG4gICAgICAgICAgYFxyXG4gICAgICAgIDogdW5kZWZpbmVkXHJcbiAgICB9PC9kaXY+PC9kaXY+XHJcbiAgXHJcbiAgICBgO1xyXG4gIH1cclxufVxyXG5cclxuY3VzdG9tRWxlbWVudHMuZGVmaW5lKFwiZW5nbGlzaC12ZXJic1wiLCBFbmdsaXNoVmVyYnNHYW1lKTtcclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzaG93VGhlR2FtZShuYW1lOiBzdHJpbmcsIGVtYWlsOiBzdHJpbmcsIHVpZDogbnVtYmVyLCBwb2ludHM6IFBvaW50Q29sbGVjdGlvbiwgZ3JlZXRpbmc6IHN0cmluZyA9XCJXaXRhalwiKSB7XHJcbiAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKCdyZWFkeScpO1xyXG4gIFx0bG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ2lzUmVkaXJlY3RpbmcnKTtcclxuICBjb25zdCAkZ2FtZSA9IGF3YWl0IG5ldyBFbmdsaXNoVmVyYnNHYW1lKCk7XHJcbiAgXHJcbiAgJGdhbWUuZ3JlZXRpbmdNZXNzYWdlID0gZ3JlZXRpbmc7XHJcbiAgJGdhbWUudXNlciA9IHtcclxuICAgIGVtYWlsLFxyXG4gICAgdWlkLFxyXG4gICAgbmFtZVxyXG4gIH07XHJcbiAgJGdhbWUucG9pbnRDb2xsZWN0aW9uID0gcG9pbnRzO1xyXG4gIGlmKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIud2VsY29tZVwiKT09PW51bGwpe1xyXG4gICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2xvZ1wiKSk7XHJcbiAgfVxyXG4gIGVsc2V7XHJcbiAgICBpZighKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbG9nXCIpPT09bnVsbCkpe1xyXG4gICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2xvZ1wiKSk7XHJcbiAgfVxyXG4gICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLndlbGNvbWVcIikpO1xyXG4gIH1cclxuICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKCRnYW1lKTtcclxuICByZXR1cm4gJGdhbWU7XHJcbn1cclxuIiwiaW1wb3J0IHsgTGl0RWxlbWVudCwgaHRtbCwgY3NzLCBjdXN0b21FbGVtZW50IH0gZnJvbSAnbGl0LWVsZW1lbnQnO1xyXG5pbXBvcnQgeyByZWRpcmVjdGluZ1NpZ25VcCB9IGZyb20gJy4vdXRpbCc7XHJcblxyXG5kZWNsYXJlIGdsb2JhbCB7XHJcblx0aW50ZXJmYWNlIFdpbmRvdyB7XHJcblx0XHRmaXJlYmFzZTogYW55O1xyXG5cdH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIExvZ1NjcmVlbiBleHRlbmRzIExpdEVsZW1lbnQge1xyXG5cdHRpdGxlOiBzdHJpbmc7XHJcblx0bWVzc2FnZTogc3RyaW5nO1xyXG5cdGxvZ0J1dHRvbjogQm9vbGVhbjtcclxuXHRzYWRDYXQ6IEJvb2xlYW47XHJcblx0c3RhdGljIGdldCBzdHlsZXMoKSB7XHJcblx0XHRyZXR1cm4gW1xyXG5cdFx0XHRjc3NgXHJcblx0XHRcdFx0LndlbGNvbWUge1xyXG5cdFx0XHRcdFx0d2lkdGg6IDEwMCU7XHJcblx0XHRcdFx0XHRoZWlnaHQ6IDEwMHZoO1xyXG5cdFx0XHRcdFx0ZGlzcGxheTogZmxleDtcclxuXHRcdFx0XHRcdGZsZXgtZGlyZWN0aW9uOiByb3c7XHJcblx0XHRcdFx0XHRhbGlnbi1pdGVtczogY2VudGVyO1xyXG5cdFx0XHRcdFx0anVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcblx0XHRcdFx0XHRiYWNrZ3JvdW5kLWltYWdlOiB1cmwoXCIuL2ltZy93YXZlMS5zdmdcIik7XHJcblx0XHRcdFx0XHRiYWNrZ3JvdW5kLXNpemU6IGNvbnRhaW47XHJcblx0XHRcdFx0XHRiYWNrZ3JvdW5kLXJlcGVhdDogcmVwZWF0LXg7XHJcblx0XHRcdFx0XHRiYWNrZ3JvdW5kLXBvc2l0aW9uOiBib3R0b207XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdC53aWFkb21vc2Mge1xyXG5cdFx0XHRcdFx0bWFyZ2luLXJpZ2h0OiAxM3JlbTtcclxuXHRcdFx0XHRcdGRpc3BsYXk6IGZsZXg7XHJcblx0XHRcdFx0XHRmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG5cdFx0XHRcdFx0YWxpZ24taXRlbXM6IGNlbnRlcjtcclxuXHRcdFx0XHRcdGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG5cdFx0XHRcdFx0d2lkdGg6IDIwdnc7XHJcblx0XHRcdFx0XHRoZWlnaHQ6IG1heC1jb250ZW50O1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHQud2lhZG9tb3Njb2ZmIHtcclxuXHRcdFx0XHRcdGRpc3BsYXk6IGZsZXg7XHJcblx0XHRcdFx0XHRmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG5cdFx0XHRcdFx0YWxpZ24taXRlbXM6IGNlbnRlcjtcclxuXHRcdFx0XHRcdGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG5cdFx0XHRcdFx0d2lkdGg6IDMwdnc7XHJcblx0XHRcdFx0XHRoZWlnaHQ6IG1heC1jb250ZW50O1xyXG5cdFx0XHRcdFx0YmFja2dyb3VuZDogd2hpdGU7XHJcblx0XHRcdFx0XHRib3gtc2hhZG93OiAxcHggNHB4IDZweCBncmF5O1xyXG5cdFx0XHRcdFx0cGFkZGluZzogMnJlbTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0I3dpdGFqLFxyXG5cdFx0XHRcdC5pbmZvIHtcclxuXHRcdFx0XHRcdGZvbnQtZmFtaWx5OiAnTW9udHNlcnJhdCcsIHNhbnMtc2VyaWY7XHJcblx0XHRcdFx0XHRmb250LXNpemU6IDEuM3JlbTtcclxuXHRcdFx0XHRcdHRleHQtYWxpZ246IGNlbnRlcjtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0LmxvZ293YW5pZSB7XHJcblx0XHRcdFx0XHRjdXJzb3I6IHBvaW50ZXI7XHJcblx0XHRcdFx0XHRqdXN0aWZ5LXNlbGY6IGZsZXgtc3RhcnQ7XHJcblx0XHRcdFx0XHRwYWRkaW5nOiAuNnJlbTtcclxuXHRcdFx0XHRcdHdpZHRoOiBtYXgtY29udGVudDtcclxuXHRcdFx0XHRcdGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xyXG5cdFx0XHRcdFx0Zm9udC1zaXplOiAxLjJyZW07XHJcblx0XHRcdFx0XHRib3JkZXI6IDFweCBzb2xpZCBibGFjaztcclxuXHRcdFx0XHRcdGJveC1zaGFkb3c6IDFweCAxcHggM3B4IGdyYXk7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHQuc2FkY2F0IHtcclxuXHRcdFx0XHRcdHdpZHRoOiA2cmVtO1xyXG5cdFx0XHRcdFx0aGVpZ2h0OiA2cmVtO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHQjbm93ZWtvbnRvIHtcclxuXHRcdFx0XHRcdGN1cnNvcjogcG9pbnRlcjtcclxuXHRcdFx0XHRcdGJvcmRlcjogbm9uZTtcclxuXHRcdFx0XHRcdGJhY2tncm91bmQ6IG5vbmU7XHJcblx0XHRcdFx0XHRmb250LXNpemU6IDFyZW07XHJcblx0XHRcdFx0XHRtYXJnaW4tdG9wOiAuMnJlbTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdC5sb2dvd2FuaWU6aG92ZXIge1xyXG5cdFx0XHRcdFx0dHJhbnNpdGlvbjogMXM7XHJcblx0XHRcdFx0XHRjb2xvcjogd2hpdGU7XHJcblx0XHRcdFx0XHRib3JkZXI6IDFweCBzb2xpZCB3aGl0ZTtcclxuXHRcdFx0XHRcdGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCh0byB0b3AsICNmOWIyMzMsICMzYWFhMzUpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRAbWVkaWEgc2NyZWVuIGFuZCAobWF4LXdpZHRoOiA2MDBweCkge1xyXG5cdFx0XHRcdFx0LndpYWRvbW9zYyxcclxuXHRcdFx0XHRcdC53aWFkb21vc2NvZmYge1xyXG5cdFx0XHRcdFx0XHR3aWR0aDogNjh2dztcclxuXHRcdFx0XHRcdFx0YmFja2dyb3VuZDogd2hpdGU7XHJcblx0XHRcdFx0XHRcdGJveC1zaGFkb3c6IDFweCAzcHggNnB4IGdyYXk7XHJcblx0XHRcdFx0XHRcdG1hcmdpbjogMDtcclxuXHRcdFx0XHRcdFx0cGFkZGluZy1ib3R0b206IDJyZW07XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRgXHJcblx0XHRdO1xyXG5cdH1cclxuXHRsb2dPdXQoKSB7XHJcblx0XHR0aGlzLmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCdsb2dvdXQnLCB7IGJ1YmJsZXM6IHRydWUsIGNvbXBvc2VkOiB0cnVlIH0pKTtcclxuXHRcdHRoaXMucmVxdWVzdFVwZGF0ZSgpO1xyXG5cdH1cclxuXHJcblx0cmVuZGVyKCkge1xyXG5cdFx0cmV0dXJuIGh0bWxgICAgXHJcblx0XHQ8ZGl2IGNsYXNzPVwid2VsY29tZVwiPlxyXG5cdFx0PGRpdiBjbGFzcz1cIndpYWRvbW9zY29mZlwiPlxyXG5cdFx0PGltZyBjbGFzcz1cInNhZGNhdFwiIHNyYz1cIi4vaW1nL3BhcnJvdGNyeS5zdmdcIj5cclxuXHRcdFxyXG5cdFx0PHAgaWQ9XCJ3aXRhalwiPiR7dGhpcy50aXRsZX08L3A+XHJcblx0XHQ8cCBjbGFzcz1cImluZm9cIj4ke3RoaXMubWVzc2FnZX08L3A+XHJcblx0XHQke3RoaXMubG9nQnV0dG9uXHJcblx0XHRcdD8gaHRtbGA8YnV0dG9uIGNsYXNzPVwibG9nb3dhbmllXCIgQGNsaWNrPVwiJHtyZWRpcmVjdGluZ1NpZ25VcH1cIj5aYWxvZ3VqIHNpxJkgcG9ub3duaWU8L2J1dHRvbj5gXHJcblx0XHRcdDogdW5kZWZpbmVkfVxyXG5cdFx0XHJcblx0PC9kaXY+PC9kaXY+XHJcblx0ICBgO1xyXG5cdH1cclxufVxyXG5jdXN0b21FbGVtZW50cy5kZWZpbmUoJ2xvZy1zY3JlZW4nLCBMb2dTY3JlZW4pO1xyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNob3dMb2codGl0bGU6IHN0cmluZywgbWVzc2FnZTogc3RyaW5nLCBsb2dCdXR0b246IEJvb2xlYW4gPSBmYWxzZSwgc2FkQ2F0OiBib29sZWFuID0gZmFsc2UpIHtcclxuXHRjb25zdCAkbG9nc2NyZWVuID0gYXdhaXQgbmV3IExvZ1NjcmVlbigpO1xyXG5cdCRsb2dzY3JlZW4udGl0bGUgPSB0aXRsZTtcclxuXHQkbG9nc2NyZWVuLm1lc3NhZ2UgPSBtZXNzYWdlO1xyXG5cdCRsb2dzY3JlZW4uc2FkQ2F0ID0gc2FkQ2F0O1xyXG5cdCRsb2dzY3JlZW4ubG9nQnV0dG9uID0gbG9nQnV0dG9uO1xyXG5cdCRsb2dzY3JlZW4uaWQgPSAnbG9nJztcclxuXHRkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGRvY3VtZW50LmJvZHkubGFzdENoaWxkKTtcclxuXHRkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKCRsb2dzY3JlZW4pO1xyXG5cdHJldHVybiAkbG9nc2NyZWVuO1xyXG59XHJcbiIsImV4cG9ydCB0eXBlIEZvcm1zID0gKHN0cmluZyB8IHN0cmluZ1tdKVtdO1xyXG5leHBvcnQgdHlwZSBXb3JkID0gW3N0cmluZywgRm9ybXNdO1xyXG5leHBvcnQgdHlwZSBMZXZlbCA9IHsgW2tleTogc3RyaW5nXTogRm9ybXN9O1xyXG5leHBvcnQgdHlwZSBMZXZlbHMgPSB7IFtrZXk6IHN0cmluZ106IExldmVsIH07XHJcblxyXG5leHBvcnQgY29uc3QgbGV2ZWxzOiBMZXZlbHMgPSB7XHJcblx0QTI6IHtcclxuXHRcdCfFm25pxIcsIG1hcnp5xIcnOiBbICdkcmVhbScsIFsgJ2RyZWFtZWQnLCAnZHJlYW10JyBdLCBbICdkcmVhbWVkJywgJ2RyZWFtdCcgXSBdLFxyXG5cdFx0YnnEhzogWyAnYmUnLCAnd2FzJywgJ2JlZW4nIF0sXHJcblx0XHRyb2JpxIc6IFsgJ2RvJywgJ2RpZCcsICdkb25lJyBdLFxyXG5cdFx0J3N0YXdhxIcgc2nEmSc6IFsgJ2JlY29tZScsICdiZWNhbWUnLCAnYmVjb21lJyBdLFxyXG5cdFx0J8WCYW1hxIcsIHDEmWthxIcsIHJvemJpxIcsIHTFgnVjJzogWyAnYnJlYWsnLCAnYnJva2UnLCAnYnJva2VuJyBdLFxyXG5cdFx0J3Byenlub3NpxIcsIHByenlwcm93YWR6acSHJzogWyAnYnJpbmcnLCAnYnJvdWdodCcsICdicm91Z2h0JyBdLFxyXG5cdFx0YnVkb3dhxIc6IFsgJ2J1aWxkJywgJ2J1aWx0JywgJ2J1aWx0JyBdLFxyXG5cdFx0a3Vwb3dhxIc6IFsgJ2J1eScsICdib3VnaHQnLCAnYm91Z2h0JyBdLFxyXG5cdFx0xYJhcGHEhzogWyAnY2F0Y2gnLCAnY2F1Z2h0JywgJ2NhdWdodCcgXSxcclxuXHRcdHd5YmllcmHEhzogWyAnY2hvb3NlJywgJ2Nob3NlJywgJ2Nob3NlbicgXSxcclxuXHRcdCdwcnp5asWbxIcsIHByenlqZWNoYcSHJzogWyAnY29tZScsICdjYW1lJywgJ2NvbWUnIF0sXHJcblx0XHRrb3N6dG93YcSHOiBbICdjb3N0JywgJ2Nvc3QnLCAnY29zdCcgXSxcclxuXHRcdCdjacSFxIcsIGtyb2nEhywgc2thbGVjennEhyc6IFsgJ2N1dCcsICdjdXQnLCAnY3V0JyBdLFxyXG5cdFx0J3J5c293YcSHLCBwb2NpxIVnbsSFxIcsIHJlbWlzb3dhxIcnOiBbICdkcmF3JywgJ2RyZXcnLCAnZHJhd24nIF0sXHJcblx0XHQncHJvd2FkemnEhywga2llcm93YcSHIHNpxJkgY3p5bcWbJzogWyAnZHJpdmUnLCAnZHJvdmUnLCAnZHJpdmVuJyBdLFxyXG5cdFx0cGnEhzogWyAnZHJpbmsnLCAnZHJhbmsnLCAnZHJ1bmsnIF0sXHJcblx0XHRqZcWbxIc6IFsgJ2VhdCcsICdhdGUnLCAnZWF0ZW4nIF0sXHJcblx0XHQncGFkYcSHLCB1cGFkYcSHLCBzcGFkYcSHJzogWyAnZmFsbCcsICdmZWxsJywgJ2ZhbGxlbicgXSxcclxuXHRcdGN6dcSHOiBbICdmZWVsJywgJ2ZlbHQnLCAnZmVsdCcgXSxcclxuXHRcdHpuYWxlxbrEhzogWyAnZmluZCcsICdmb3VuZCcsICdmb3VuZCcgXSxcclxuXHRcdGxhdGHEhzogWyAnZmx5JywgJ2ZsZXcnLCAnZmxvd24nIF0sXHJcblx0XHRkb3N0YXdhxIc6IFsgJ2dldCcsICdnb3QnLCAnZ290JyBdLFxyXG5cdFx0ZGF3YcSHOiBbICdnaXZlJywgJ2dhdmUnLCAnZ2l2ZW4nIF0sXHJcblx0XHRpxZvEhzogWyAnZ28nLCAnd2VudCcsICdnb25lJyBdLFxyXG5cdFx0cm9zbsSFxIc6IFsgJ2dyb3cnLCAnZ3JldycsICdncm93bicgXSxcclxuXHRcdG1pZcSHOiBbICdoYXZlJywgJ2hhZCcsICdoYWQnIF0sXHJcblx0XHRzxYJ5c3plxIc6IFsgJ2hlYXInLCAnaGVhcmQnLCAnaGVhcmQnIF0sXHJcblx0XHR1ZGVyemHEhzogWyAnaGl0JywgJ2hpdCcsICdoaXQnIF0sXHJcblx0XHQndHJ6eW1hxIcsIHV0cnp5bXl3YcSHLCBwb2R0cnp5bXl3YcSHJzogWyAnaG9sZCcsICdoZWxkJywgJ2hlbGQnIF0sXHJcblx0XHQncmFuacSHLCBib2xlxIcnOiBbICdodXJ0JywgJ2h1cnQnLCAnaHVydCcgXSxcclxuXHRcdHRyenltYcSHOiBbICdrZWVwJywgJ2tlcHQnLCAna2VwdCcgXSxcclxuXHRcdCd6bmHEhywgd2llZHppZcSHJzogWyAna25vdycsICdrbmV3JywgJ2tub3duJyBdLFxyXG5cdFx0J3VjennEhyBzacSZJzogWyAnbGVhcm4nLCBbICdsZWFybnQnLCAnbGVhcm5lZCcgXSwgWyAnbGVhcm50JywgJ2xlYXJuZWQnIF0gXSxcclxuXHRcdCdvcHVzemN6YcSHLCB3eWplxbxkxbxhxIcsIHpvc3Rhd2lhxIcnOiBbICdsZWF2ZScsICdsZWZ0JywgJ2xlZnQnIF0sXHJcblx0XHQncG/FvHljemHEhyAoa29tdcWbKSc6IFsgJ2xlbmQnLCAnbGVudCcsICdsZW50JyBdLFxyXG5cdFx0J3RyYWNpxIcsIHpndWJpxIcnOiBbICdsb3NlJywgJ2xvc3QnLCAnbG9zdCcgXSxcclxuXHRcdCdyb2JpxIcsIHd5a29ueXdhxIcnOiBbICdtYWtlJywgJ21hZGUnLCAnbWFkZScgXSxcclxuXHRcdCd6bmFjennEhywgb3puYWN6YcSHLCBtaWXEhyBuYSBtecWbbGknOiBbICdtZWFuJywgJ21lYW50JywgJ21lYW50JyBdLFxyXG5cdFx0J3Nwb3R5a2HEhywgcG96bmHEhyc6IFsgJ21lZXQnLCAnbWV0JywgJ21ldCcgXSxcclxuXHRcdHDFgmFjacSHOiBbICdwYXknLCAncGFpZCcsICdwYWlkJyBdLFxyXG5cdFx0a8WCYcWbxIc6IFsgJ3B1dCcsICdwdXQnLCAncHV0JyBdLFxyXG5cdFx0Y3p5dGHEhzogWyAncmVhZCcsICdyZWFkJywgJ3JlYWQnIF0sXHJcblx0XHRqZcW6ZHppxIc6IFsgJ3JpZGUnLCAncm9kZScsICdyaWRkZW4nIF0sXHJcblx0XHRkendvbmnEhzogWyAncmluZycsICdyYW5nJywgJ3J1bmcnIF0sXHJcblx0XHRiaWVjOiBbICdydW4nLCAncmFuJywgJ3J1bicgXSxcclxuXHRcdG1vd2nEhzogWyAnc2F5JywgJ3NhaWQnLCAnc2FpZCcgXSxcclxuXHRcdHdpZHppZcSHOiBbICdzZWUnLCAnc2F3JywgJ3NlZW4nIF0sXHJcblx0XHRzcHJ6ZWRhd2HEhzogWyAnc2VsbCcsICdzb2xkJywgJ3NvbGQnIF0sXHJcblx0XHQnd3lzecWCYcSHLCBzxYJhxIcnOiBbICdzZW5kJywgJ3NlbnQnLCAnc2VudCcgXSxcclxuXHRcdHBva2F6eXdhxIc6IFsgJ3Nob3cnLCAnc2hvd2VkJywgJ3Nob3duJyBdLFxyXG5cdFx0emFteWthxIc6IFsgJ3NodXQnLCAnc2h1dCcsICdzaHV0JyBdLFxyXG5cdFx0xZtwaWV3YcSHOiBbICdzaW5nJywgJ3NhbmcnLCAnc3VuZycgXSxcclxuXHRcdCdzaWVkemllxIcsIHNpYWRhxIcnOiBbICdzaXQnLCAnc2F0JywgJ3NhdCcgXSxcclxuXHRcdHNwYcSHOiBbICdzbGVlcCcsICdzbGVwdCcsICdzbGVwdCcgXSxcclxuXHRcdCdtw7N3acSHLCByb3ptYXdpYcSHJzogWyAnc3BlYWsnLCAnc3Bva2UnLCAnc3Bva2VuJyBdLFxyXG5cdFx0J3NwxJlkemHEhywgd3lkYXdhxIcnOiBbICdzcGVuZCcsICdzcGVudCcsICdzcGVudCcgXSxcclxuXHRcdHN0YcSHOiBbICdzdGFuZCcsICdzdG9vZCcsICdzdG9vZCcgXSxcclxuXHRcdGtyYcWbxIc6IFsgJ3N0ZWFsJywgJ3N0b2xlJywgJ3N0b2xlbicgXSxcclxuXHRcdHDFgnl3YcSHOiBbICdzd2ltJywgJ3N3YW0nLCAnc3d1bScgXSxcclxuXHRcdGJyYcSHOiBbICd0YWtlJywgJ3Rvb2snLCAndGFrZW4nIF0sXHJcblx0XHQndWN6ecSHIChrb2dvxZspJzogWyAndGVhY2gnLCAndGF1Z2h0JywgJ3RhdWdodCcgXSxcclxuXHRcdCdwb3dpZWR6aWXEhywgb3Bvd2llZHppZcSHJzogWyAndGVsbCcsICd0b2xkJywgJ3RvbGQnIF0sXHJcblx0XHQnbXnFm2xlxIcsIHPEhWR6acSHLCB1d2HFvGHEhyc6IFsgJ3RoaW5rJywgJ3Rob3VnaHQnLCAndGhvdWdodCcgXSxcclxuXHRcdHJ6dWNhxIc6IFsgJ3Rocm93JywgJ3RocmV3JywgJ3Rocm93bicgXSxcclxuXHRcdGJ1ZHppxIc6IFsgJ3dha2UnLCAnd29rZScsICd3b2tlbicgXSxcclxuXHRcdCdub3NpxIcsIHpha8WCYWRhxIcnOiBbICd3ZWFyJywgJ3dvcmUnLCAnd29ybicgXSxcclxuXHRcdHJvenVtaWXEhzogWyAndW5kZXJzdGFuZCcsICd1bmRlcnN0b29kJywgJ3VuZGVyc3Rvb2QnIF0sXHJcblx0XHR3eWdyeXdhxIc6IFsgJ3dpbicsICd3b24nLCAnd29uJyBdLFxyXG5cdFx0cGlzYcSHOiBbICd3cml0ZScsICd3cm90ZScsICd3cml0dGVuJyBdXHJcblx0fSxcclxuXHRCMToge1xyXG5cdFx0b2J1ZHppxIc6IFsgJ2F3YWtlJywgJ2F3b2tlJywgJ2F3b2tlbicgXSxcclxuXHRcdGJpxIc6IFsgJ2JlYXQnLCAnYmVhdCcsICdiZWF0ZW4nIF0sXHJcblx0XHR1Z3J5xbpjOiBbICdiaXRlJywgJ2JpdCcsICdiaXR0ZW4nIF0sXHJcblx0XHRrcndhd2nEhzogWyAnYmxlZWQnLCAnYmxlZCcsICdibGVkJyBdLFxyXG5cdFx0J3dpYcSHLCBkbXVjaGHEhyc6IFsgJ2Jsb3cnLCAnYmxldycsICdibG93bicgXSxcclxuXHRcdCdwYWxpxIcsIHBhcnp5xIcsIHDFgm9uxIXEhyc6IFsgJ2J1cm4nLCBbICdidXJuZWQnLCAnYnVybnQnIF0sIFsgJ2J1cm5lZCcsICdidXJudCcgXSBdLFxyXG5cdFx0J2tvcGHEhyAobnAgemllbWnEmSknOiBbICdkaWcnLCAnZHVnJywgJ2R1ZycgXSxcclxuXHRcdCdrYXJtacSHLCDFvHl3acSHJzogWyAnZmVlZCcsICdmZWQnLCAnZmVkJyBdLFxyXG5cdFx0J3dhbGN6ecSHLCBiacSHIHNpxJknOiBbICdmaWdodCcsICdmb3VnaHQnLCAnZm91Z2h0JyBdLFxyXG5cdFx0emFwb21pbmHEhzogWyAnZm9yZ2V0JywgJ2ZvcmdvdCcsICdmb3Jnb3R0ZW4nIF0sXHJcblx0XHR3eWJhY3phxIc6IFsgJ2ZvcmdpdmUnLCAnZm9yZ2F2ZScsICdmb3JnaXZlbicgXSxcclxuXHRcdHphbWFyemHEhzogWyAnZnJlZXplJywgJ2Zyb3plJywgJ2Zyb3plbicgXSxcclxuXHRcdCd6YXdpZXN6YcSHIChjb8WbLCBucCBvYnJheiknOiBbICdoYW5nJywgJ2h1bmcnLCAnaHVuZycgXSxcclxuXHRcdCdjaG93YcSHLCB1a3J5d2HEhyc6IFsgJ2hpZGUnLCAnaGlkJywgJ2hpZGRlbicgXSxcclxuXHRcdHBvendhbGHEhzogWyAnbGV0JywgJ2xldCcsICdsZXQnIF0sXHJcblx0XHQnbGXFvGXEhywga8WCYcWbxIcgc2nEmSc6IFsgJ2xpZScsICdsYXknLCAnbGFpbicgXSxcclxuXHRcdCd6YXBhbGHEhywgcm96cGFsYcSHLCBvxZt3aWV0bGHEhyc6IFsgJ2xpZ2h0JywgWyAnbGlnaHRlZCcsICdsaXQnIF0sIFsgJ2xpZ3RoZWQnLCAnbGl0JyBdIF0sXHJcblx0XHQncnp1Y2HEhywgb3B1c3pjemHEhyc6IFsgJ3F1aXQnLCAncXVpdCcsICdxdWl0JyBdLFxyXG5cdFx0J3BvZG5vc2nEhywgd3pyYXN0YcSHJzogWyAncmlzZScsICdyb3NlJywgJ3Jpc2VuJyBdLFxyXG5cdFx0J3RyesSFxZvEhywgcG90cnrEhXNhxIcnOiBbICdzaGFrZScsICdzaG9vaycsICdzaGFrZW4nIF0sXHJcblx0XHQnxZt3aWVjacSHLCBixYJ5c3pjemXEhyc6IFsgJ3NoaW5lJywgJ3Nob25lJywgJ3Nob25lJyBdLFxyXG5cdFx0c3RyemVsYcSHOiBbICdzaG9vdCcsICdzaG90JywgJ3Nob3QnIF0sXHJcblx0XHQndG9uxIXEhyAobyBzdGF0a3UpLCB6YXBhZGHEhyBzacSZJzogWyAnc2luaycsICdzYW5rJywgJ3N1bmsnIF0sXHJcblx0XHQnd2JpamHEhywgd3R5a2HEhywgcHJ6eWtsZWphxIcsIHd5c3Rhd2nEhyc6IFsgJ3N0aWNrJywgJ3N0dWNrJywgJ3N0dWNrJyBdLFxyXG5cdFx0J3VkZXJ6ecSHLCB3eWJpamHEhyc6IFsgJ3N0cmlrZScsICdzdHJ1Y2snLCAnc3RydWNrJyBdLFxyXG5cdFx0J2RyemXEhywgcm96ZHppZXJhxIcnOiBbICd0ZWFyJywgJ3RvcmUnLCAndG9ybicgXVxyXG5cdH0sXHJcblx0QjI6IHtcclxuXHRcdCd6bm9zacSHLCB1ZMW6d2lnbsSFxIcgY2/Fmywgxbx5d2nEhyB1cmF6xJknOiBbICdiZWFyJywgJ2JvcmUnLCAnYm9ybmUnIF0sXHJcblx0XHQnemdpbmHEhywgbmFjaHlsYcSHJzogWyAnYmVuZCcsICdiZW50JywgJ2JlbnQnIF0sXHJcblx0XHQnaG9kb3dhxIcsIHd5Y2hvd2HEhywgcm96bWHFvGHEhyBzacSZJzogWyAnYnJlZWQnLCAnYnJlZCcsICdicmVhZCcgXSxcclxuXHRcdCdyenVjacSHLCB6cnp1Y2nEhyc6IFsgJ2Nhc3QnLCAnY2FzdCcsICdjYXN0JyBdLFxyXG5cdFx0J3JvemRhd2HEhywgcG9zdMSZcG93YcSHLCBtaWXEhyBkbyBjenluaWVuaWEsIHJhZHppxIcgc29iaWUnOiBbICdkZWFsJywgJ2RlYWx0JywgJ2RlYWx0JyBdLFxyXG5cdFx0emFicmFuaWHEhzogWyAnZm9yYmlkJywgJ2ZvcmJhZGUnLCAnZm9yYmlkZGVuJyBdLFxyXG5cdFx0J2tsxJljemXEhywga2zEmWthxIcnOiBbICdrbmVlbCcsIFsgJ2tuZWVsZWQnLCAna25lbHQnIF0sIFsgJ2tuZWVsZWQnLCAna25lbHQnIF0gXSxcclxuXHRcdCdyb2JpxIcgbmEgZHJ1dGFjaCc6IFsgJ2tuaXQnLCBbICdrbml0JywgJ2tuaXR0ZWQnIF0sIFsgJ2tuaXQnLCAna25pdHRlZCcgXSBdLFxyXG5cdFx0cHJvd2FkemnEhzogWyAnbGVhZCcsICdsZWQnLCAnbGVkJyBdLFxyXG5cdFx0J3N6dWthxIcsIHBvc3p1a2l3YcSHJzogWyAnc2VlaycsICdzb3VnaHQnLCAnc291Z2h0JyBdLFxyXG5cdFx0J3VtaWVzemN6YcSHLCB1c3Rhd2lhxIcsIHphY2hvZHppxIcgKG8gc8WCb8WEY3UpLCBvc2FkemnEhywgbmFzdGF3acSHLCB3eXpuYWN6ecSHJzogWyAnc2V0JywgJ3NldCcsICdzZXQnIF0sXHJcblx0XHQna3VyY3p5xIcgc2nEmSwgemJpZWdhxIcnOiBbICdzaHJpbmsnLCAnc2hyYW5rJywgJ3NocnVuaycgXSxcclxuXHRcdCfFm2xpemdhxIcgc2nEmSwgemplxbxkxbxhxIcnOiBbICdzbGlkZScsICdzbGlkJywgJ3NsaWQnIF0sXHJcblx0XHQnZHppZWxpxIcsIHJvemR6aWVsYcSHJzogWyAnc3BsaXQnLCAnc3BsaXQnLCAnc3BsaXQnIF0sXHJcblx0XHQncm96Y2hvZHppxIcgc2nEmSwgcm96cHJ6ZXN0cnplbmlhxIcsIHJvemvFgmFkYcSHLCByb3pwb8WbY2llcmHEhywgcm96c21hcm93YcSHJzogWyAnc3ByZWFkJywgJ3NwcmVhZCcsICdzcHJlYWQnIF0sXHJcblx0XHQncHJ6eXNpxJlnYcSHLCBwcnpla2xpbmHEhyc6IFsgJ3N3ZWFyJywgJ3N3b3JlJywgJ3N3b3JuJyBdLFxyXG5cdFx0J3phbWlhdGHEhywgem1pYXRhxIcnOiBbICdzd2VlcCcsICdzd2VwdCcsICdzd2VwdCcgXSxcclxuXHRcdCdtYWNobsSFxIcsIHpha2/FgnlzYcSHJzogWyAnc3dpbmcnLCAnc3d1bmcnLCAnc3d1bmcnIF1cclxuXHR9LFxyXG5cdEMxOiB7XHJcblx0XHQncG9qYXdpxIcgc2nEmSc6IFsgJ2FyaXNlJywgJ2Fyb3NlJywgJ2FyaXNlbicgXSxcclxuXHRcdCd6YWvFgmFkYcSHLCBvYnN0YXdpYcSHJzogWyAnYmV0JywgJ2JldCcsICdiZXQnIF0sXHJcblx0XHQndW15a2HEhywgdWNpZWthxIcsIG9wdcWbY2nEhyc6IFsgJ2ZsZWUnLCAnZmxlZCcsICdmbGVkJyBdLFxyXG5cdFx0J3BvxYJvxbx5xIcsIGvFgmHFm8SHJzogWyAnbGF5JywgJ2xhaWQnLCAnbGFpZCcgXSxcclxuXHRcdCdrcsSZY2nEhywgemFrcsSZY2nEhyBjenltxZsvc2nEmSwgb2Jyw7NjacSHJzogWyAnc3BpbicsICdzcHVuJywgJ3NwdW4nIF0sXHJcblx0XHQnxZttaWVyZHppZcSHLCBjdWNobsSFxIcnOiBbICdzdGluaycsICdzdGFuaycsICdzdHVuaycgXVxyXG5cdH0sXHJcblx0QzI6IHtcclxuXHRcdCd3acSFemHEhywgesWCxIVjennEhywgb3ByYXdpxIcgKGtzacSFxbxrxJkpJzogWyAnYmluZCcsICdib3VuZCcsICdib3VuZCcgXSxcclxuXHRcdCdwcnp5d3J6ZcSHLCB1Y3plcGnEhyBzacSZLCB0cnp5bWHEhyBzacSZIGt1cmN6b3dvJzogWyAnY2xpbmcnLCAnY2x1bmcnLCAnY2x1bmcnIF0sXHJcblx0XHQnc2tyYWRhxIcgc2nEmSwgemFrcmFkYcSHLCBwacSFxIcgc2nEmSwgcG9kY2hvZHppxIcnOiBbICdjcmVlcCcsICdjcmVwdCcsICdjcmVwdCcgXSxcclxuXHRcdCdyenVjacSHLCBjaXNuxIXEhyc6IFsgJ2ZsaW5nJywgJ2ZsdW5nJywgJ2ZsdW5nJyBdLFxyXG5cdFx0J3Bvcnp1Y2HEhywgemFuaWVjaGHEhywgb3B1xZtjacSHJzogWyAnZm9yc2FrZScsICdmb3Jzb29rJywgJ2ZvcnNha2VuJyBdLFxyXG5cdFx0J3ByemVwb3dpYWRhxIcsIHByemV3aWR5d2HEhyc6IFsgJ2ZvcmV0ZWxsJywgJ2ZvcmV0b2xkJywgJ2ZvcmV0b2xkJyBdLFxyXG5cdFx0J3plbWxlxIcsIHJvemtydXN6ecSHLCB6Z3J6eXRhxIcsIG9zdHJ6ecSHLCB0cnplxIcnOiBbICdncmluZCcsICdncm91bmQnLCAnZ3JvdW5kJyBdLFxyXG5cdFx0c2tha2HEhzogWyAnbGVhcCcsIFsgJ2xlYXBlZCcsICdsZXB0JyBdLCBbICdsZWFwZWQnLCAnbGVwdCcgXSBdLFxyXG5cdFx0cGnFgm93YcSHOiBbICdzYXcnLCAnc2F3ZWQnLCAnc2F3bicgXSxcclxuXHRcdCd6cnp1Y2HEhywgcG96Ynl3YcSHIHNpxJknOiBbICdzaGVkJywgJ3NoZWQnLCAnc2hlZCcgXSxcclxuXHRcdHphYmlqYcSHOiBbICdzbGF5JywgJ3NsZXcnLCAnc2xhaW4nIF0sXHJcblx0XHQnY2lzbsSFxIcsIG1pb3RhxIcnOiBbICdzbGluZycsICdzbHVuZycsICdzbHVuZycgXSxcclxuXHRcdCdwcnplc2tha2l3YcSHLCB3eXNrYWtpd2HEhyc6IFsgJ3NwcmluZycsICdzcHJhbmcnLCAnc3BydW5nJyBdLFxyXG5cdFx0xbzEhWRsacSHOiBbICdzdGluZycsICdzdHVuZycsICdzdHVuZycgXSxcclxuXHRcdCd6bWFnYcSHIHNpxJkgeiBjenltxZssIGTEhcW8ecSHLCBzdGFyYcSHIHNpxJksIHBvZGVqbW93YcSHIHd5c2nFgmVrJzogWyAnc3RyaXZlJywgJ3N0cm92ZScsICdzdHJpdmVuJyBdLFxyXG5cdFx0J2tyb2N6ecSHLCBzdMSFcGHEhywgZGVwdGHEhyc6IFsgJ3RyZWFkJywgJ3Ryb2QnLCAndHJvZGRlbicgXSxcclxuXHRcdCdwxYJha2HEhywgc3psb2NoYcSHJzogWyAnd2VlcCcsICd3ZXB0JywgJ3dlcHQnIF0sXHJcblx0XHQnbmF3aWphxIcsIG5ha3LEmWNhxIcsIHdpxIcgc2nEmSc6IFsgJ3dpbmQnLCAnd291bmQnLCAnd291bmQnIF0sXHJcblx0XHQnd3lrcsSZY2nEhywgd3nFvMSFxIcgY2/Fmywgd3ljaXNuxIXEhyc6IFsgJ3dyaW5nJywgJ3dydW5nJywgJ3dydW5nJyBdXHJcblx0fVxyXG59O1xyXG4iLCJpbXBvcnQgeyBMaXRFbGVtZW50LCBodG1sLCBjc3MsIGN1c3RvbUVsZW1lbnQgfSBmcm9tICdsaXQtZWxlbWVudCc7XHJcbmltcG9ydCB7IHJlcG9ydEJ1Z1RvU2VydmVyIH0gZnJvbSAnLi91dGlsJztcclxuXHJcbmRlY2xhcmUgZ2xvYmFsIHtcclxuXHRpbnRlcmZhY2UgV2luZG93IHtcclxuXHRcdGZpcmViYXNlOiBhbnk7XHJcblx0fVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgUmVwb3J0QnVnIGV4dGVuZHMgTGl0RWxlbWVudCB7XHJcblx0dXNlcmlkOiBudW1iZXI7XHJcblx0c3RhdGljIGdldCBzdHlsZXMoKSB7XHJcblx0XHRyZXR1cm4gW1xyXG5cdFx0XHRjc3NgXHJcblx0XHRcdFx0Omhvc3Qge1xyXG5cdFx0XHRcdFx0cG9zaXRpb246IGFic29sdXRlO1xyXG5cdFx0XHRcdFx0dG9wOiAwO1xyXG5cdFx0XHRcdFx0bGVmdDogMDtcclxuXHRcdFx0XHRcdHdpZHRoOiAxMDAlO1xyXG5cdFx0XHRcdFx0aGVpZ2h0OiAxMDB2aDtcclxuXHRcdFx0XHRcdGRpc3BsYXk6IGZsZXg7XHJcblx0XHRcdFx0XHRmbGV4LWRpcmVjdGlvbjogcm93O1xyXG5cdFx0XHRcdFx0YWxpZ24taXRlbXM6IGNlbnRlcjtcclxuXHRcdFx0XHRcdGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG5cdFx0XHRcdFx0ei1pbmRleDogOTk5O1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHQud2lhZG9tb3NjIHtcclxuXHRcdFx0XHRcdG1hcmdpbi1yaWdodDogMTNyZW07XHJcblx0XHRcdFx0XHRkaXNwbGF5OiBmbGV4O1xyXG5cdFx0XHRcdFx0ZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuXHRcdFx0XHRcdGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcblx0XHRcdFx0XHRqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuXHRcdFx0XHRcdHdpZHRoOiAyMHZ3O1xyXG5cdFx0XHRcdFx0aGVpZ2h0OiBtYXgtY29udGVudDtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0LndpYWRvbW9zY29mZiB7XHJcblx0XHRcdFx0XHRkaXNwbGF5OiBmbGV4O1xyXG5cdFx0XHRcdFx0ZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuXHRcdFx0XHRcdGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcblx0XHRcdFx0XHRqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuXHRcdFx0XHRcdHdpZHRoOiAzMHZ3O1xyXG5cdFx0XHRcdFx0aGVpZ2h0OiBtYXgtY29udGVudDtcclxuXHRcdFx0XHRcdGJhY2tncm91bmQ6IHdoaXRlO1xyXG5cdFx0XHRcdFx0Ym94LXNoYWRvdzogMXB4IDRweCA2cHggZ3JheTtcclxuXHRcdFx0XHRcdHBhZGRpbmc6IDJyZW07XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdCN3aXRhaixcclxuXHRcdFx0XHQuaW5mbyB7XHJcblx0XHRcdFx0XHRmb250LWZhbWlseTogJ01vbnRzZXJyYXQnLCBzYW5zLXNlcmlmO1xyXG5cdFx0XHRcdFx0Zm9udC1zaXplOiAxLjNyZW07XHJcblx0XHRcdFx0XHR0ZXh0LWFsaWduOiBjZW50ZXI7XHJcblx0XHRcdFx0XHR3aWR0aDogMTAwJTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0LmluZm8ge1xyXG5cdFx0XHRcdFx0cmVzaXplOiBub25lO1xyXG5cdFx0XHRcdFx0Zm9udC1zaXplOiAxcmVtO1xyXG5cdFx0XHRcdFx0aGVpZ2h0OiAyMHZoO1xyXG5cdFx0XHRcdFx0dGV4dC1hbGlnbjogbGVmdDtcclxuXHRcdFx0XHRcdG1hcmdpbi1ib3R0b206IDFyZW07XHJcblx0XHRcdFx0XHR0ZXh0LW92ZXJmbG93OiBzY3JvbGw7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHQubG9nb3dhbmllIHtcclxuXHRcdFx0XHRcdGN1cnNvcjogcG9pbnRlcjtcclxuXHRcdFx0XHRcdGp1c3RpZnktc2VsZjogZmxleC1zdGFydDtcclxuXHRcdFx0XHRcdHBhZGRpbmc6IC42cmVtO1xyXG5cdFx0XHRcdFx0d2lkdGg6IG1heC1jb250ZW50O1xyXG5cdFx0XHRcdFx0YmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XHJcblx0XHRcdFx0XHRmb250LXNpemU6IDEuMnJlbTtcclxuXHRcdFx0XHRcdGJvcmRlcjogMXB4IHNvbGlkIGJsYWNrO1xyXG5cdFx0XHRcdFx0Ym94LXNoYWRvdzogMXB4IDFweCAzcHggZ3JheTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0I2Nsb3NlIHtcclxuXHRcdFx0XHRcdGN1cnNvcjogcG9pbnRlcjtcclxuXHRcdFx0XHRcdG1hcmdpbi10b3A6IC0xcmVtO1xyXG5cdFx0XHRcdFx0YWxpZ24tc2VsZjogZmxleC1lbmQ7XHJcblx0XHRcdFx0XHRmb250LWZhbWlseTogJ01vbnRzZXJyYXQnLCBzYW5zLXNlcmlmO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0LnNhZGNhdCB7XHJcblx0XHRcdFx0XHR3aWR0aDogNnJlbTtcclxuXHRcdFx0XHRcdGhlaWdodDogNnJlbTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0I25vd2Vrb250byB7XHJcblx0XHRcdFx0XHRjdXJzb3I6IHBvaW50ZXI7XHJcblx0XHRcdFx0XHRib3JkZXI6IG5vbmU7XHJcblx0XHRcdFx0XHRiYWNrZ3JvdW5kOiBub25lO1xyXG5cdFx0XHRcdFx0Zm9udC1zaXplOiAxcmVtO1xyXG5cdFx0XHRcdFx0bWFyZ2luLXRvcDogLjJyZW07XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHQubG9nb3dhbmllOmhvdmVyIHtcclxuXHRcdFx0XHRcdHRyYW5zaXRpb246IDFzO1xyXG5cdFx0XHRcdFx0Y29sb3I6IHdoaXRlO1xyXG5cdFx0XHRcdFx0Ym9yZGVyOiAxcHggc29saWQgd2hpdGU7XHJcblx0XHRcdFx0XHRiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQodG8gdG9wLCAjYTU3ZmZmLCAjNjNiZGEyKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0QG1lZGlhIHNjcmVlbiBhbmQgKG1heC13aWR0aDogNjAwcHgpIHtcclxuXHRcdFx0XHRcdC53aWFkb21vc2MsXHJcblx0XHRcdFx0XHQud2lhZG9tb3Njb2ZmIHtcclxuXHRcdFx0XHRcdFx0d2lkdGg6IDgwdnc7XHJcblx0XHRcdFx0XHRcdGJhY2tncm91bmQ6IHdoaXRlO1xyXG5cdFx0XHRcdFx0XHRib3gtc2hhZG93OiAxcHggM3B4IDZweCBncmF5O1xyXG5cdFx0XHRcdFx0XHRtYXJnaW46IDA7XHJcblx0XHRcdFx0XHRcdHBhZGRpbmctYm90dG9tOiAycmVtO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0YFxyXG5cdFx0XTtcclxuXHR9XHJcblx0c2VuZEluZm8oZTogRXZlbnQpIHtcclxuXHRcdGUucHJldmVudERlZmF1bHQoKTtcclxuXHRcdGxldCBtZXNzYWdlID0gdGhpcy5zaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3I8SFRNTElucHV0RWxlbWVudD4oJy5pbmZvJykudmFsdWU7XHJcblx0XHRyZXBvcnRCdWdUb1NlcnZlcih0aGlzLnVzZXJpZCwgbWVzc2FnZSk7XHJcblx0XHR0aGlzLnNoYWRvd1Jvb3QucXVlcnlTZWxlY3RvcignI3dpdGFqJykudGV4dENvbnRlbnQgPSAnRHppxJlrdWplbXkgemEgemfFgm9zemVuaWUnO1xyXG5cdFx0dGhpcy5zaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3I8SFRNTEVsZW1lbnQ+KCcuaW5mbycpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcblx0XHR0aGlzLnNoYWRvd1Jvb3QucXVlcnlTZWxlY3RvcjxIVE1MRWxlbWVudD4oJy5sb2dvd2FuaWUnKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG5cdFx0dGhpcy5zaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3I8SFRNTEVsZW1lbnQ+KCcjY2xvc2UnKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG5cdFx0c2V0VGltZW91dChmdW5jdGlvbigpIHtcclxuXHRcdFx0ZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcmVwb3J0YnVnJykpO1xyXG5cdFx0fSwgMzAwMCk7XHJcblx0fVxyXG5cclxuXHRyZW5kZXIoKSB7XHJcblx0XHRyZXR1cm4gaHRtbGAgXHJcblx0XHQ8Zm9ybSBAc3VibWl0PVwiJHsoZTogRXZlbnQpID0+IHtcclxuXHRcdFx0dGhpcy5zZW5kSW5mbyhlKTtcclxuXHRcdH19XCI+XHJcblx0XHQ8ZGl2IGNsYXNzPVwid2lhZG9tb3Njb2ZmXCI+XHJcblx0XHQ8c3BhbiBAY2xpY2s9XCIkeyhlOiBFdmVudCkgPT4ge1xyXG5cdFx0XHR0aGlzLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG5cdFx0XHRcdGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3JlcG9ydGJ1ZycpKTtcclxuXHRcdFx0fSk7XHJcblx0XHR9fVwiIGlkPVwiY2xvc2VcIj5YPC9zcGFuPlxyXG5cdFx0PHAgaWQ9XCJ3aXRhalwiPk9waXN6IHN3w7NqIHByb2JsZW0gdyBva2llbmt1IHBvbmnFvGVqOjwvcD5cclxuXHRcdDx0ZXh0YXJlYSBjbGFzcz1cImluZm9cIj48L3RleHRhcmVhPlxyXG5cdFx0PGJ1dHRvbiB0eXBlPVwic3VibWl0XCIgY2xhc3M9XCJsb2dvd2FuaWVcIj5XecWbbGlqPC9idXR0b24+XHJcblx0XHRcclxuXHQ8L2Rpdj5cclxuXHQ8L2Zvcm0+XHJcblx0ICBgO1xyXG5cdH1cclxufVxyXG5jdXN0b21FbGVtZW50cy5kZWZpbmUoJ3JlcG9ydC1idWcnLCBSZXBvcnRCdWcpO1xyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJlcG9ydEJ1Zyh1aWQ6IG51bWJlcikge1xyXG5cdGNvbnN0ICRyZXBvcnRidWcgPSBhd2FpdCBuZXcgUmVwb3J0QnVnKCk7XHJcblx0JHJlcG9ydGJ1Zy51c2VyaWQgPSB1aWQ7XHJcblx0JHJlcG9ydGJ1Zy5pZCA9ICdyZXBvcnRidWcnO1xyXG5cdGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoJHJlcG9ydGJ1Zyk7XHJcblx0cmV0dXJuICRyZXBvcnRidWc7XHJcbn1cclxuIiwiZXhwb3J0ICogZnJvbSAnLi9lbmdsaXNoJztcclxuZXhwb3J0ICogZnJvbSAnLi9kYXRhJztcclxuZXhwb3J0ICogZnJvbSAnLi91dGlsJztcclxuZXhwb3J0ICogZnJvbSAnLi9wcm9maWxlLWNhcmQnO1xyXG5leHBvcnQgKiBmcm9tICcuL2xvZy1zY3JlZW4nO1xyXG5leHBvcnQgKiBmcm9tICcuL3JlcG9ydC1idWcnO1xyXG5pbXBvcnQgeyBzaG93VGhlR2FtZSB9IGZyb20gJy4vZW5nbGlzaCc7XHJcbmlmICghKGxvY2F0aW9uLmhvc3RuYW1lID09PSAnbG9jYWxob3N0JykpIHtcclxuXHRpZiAoJ3NlcnZpY2VXb3JrZXInIGluIG5hdmlnYXRvcikge1xyXG5cdFx0d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCAoKSA9PiB7XHJcblx0XHRcdG5hdmlnYXRvci5zZXJ2aWNlV29ya2VyLnJlZ2lzdGVyKCdzdy5qcycpO1xyXG5cdFx0fSk7XHJcblx0fVxyXG59XHJcbmRlY2xhcmUgZ2xvYmFsIHtcclxuXHRpbnRlcmZhY2UgV2luZG93IHtcclxuXHRcdGZpcmViYXNlOiBhbnk7XHJcblx0fVxyXG59XHJcblxyXG53aW5kb3cub25sb2FkID0gKGV2ZW50OiBFdmVudCkgPT4ge1xyXG5cdGNoZWNrVXBkYXRlcygpO1xyXG59O1xyXG5hc3luYyBmdW5jdGlvbiBjaGVja1VwZGF0ZXMoKSB7XHJcblx0aWYgKCEobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXItaW5mbycpID09PSBudWxsKSkge1xyXG5cdFx0bGV0IHVzZXJJZCA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXItaW5mbycpKS51c2VyLnVpZDtcclxuXHRcdGF3YWl0IHdpbmRvdy5maXJlYmFzZS5kYXRhYmFzZSgpLnJlZignL3VzZXJzLycgKyB1c2VySWQpLm9uY2UoJ3ZhbHVlJykudGhlbihmdW5jdGlvbihzbmFwc2hvdDogYW55KSB7XHJcblx0XHRcdGxldCBwb2ludHMgPSAoc25hcHNob3QudmFsKCkgJiYgc25hcHNob3QudmFsKCkucG9pbnRzKSB8fCB7IEEyOiAwLCBCMTogMCwgQjI6IDAsIEMxOiAwLCBDMjogMCwgQWxsOiAwIH07XHJcblx0XHRcdGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdwb2ludHMnLCBKU09OLnN0cmluZ2lmeSh7IHBvaW50cyB9KSk7XHJcblx0XHR9KTtcclxuXHRcdGxldCBnYW1lID0gc2hvd1RoZUdhbWUoXHJcblx0XHRcdEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXItaW5mbycpKS51c2VyLmRpc3BsYXlOYW1lLFxyXG5cdFx0XHRKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VyLWluZm8nKSkudXNlci5lbWFpbCxcclxuXHRcdFx0SlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlci1pbmZvJykpLnVzZXIudWlkLFxyXG5cdFx0XHRKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdwb2ludHMnKSkucG9pbnRzXHJcblx0XHQpO1xyXG5cdH1cclxufVxyXG4iLCJmdW5jdGlvbiBDb25mZXR0aUdlbmVyYXRvcihwYXJhbXMpIHtcbiAgLy8vLy8vLy8vLy8vLy9cbiAgLy8gRGVmYXVsdHNcbiAgdmFyIGFwcHN0YXRlID0ge1xuICAgIHRhcmdldDogJ2NvbmZldHRpLWhvbGRlcicsIC8vIElkIG9mIHRoZSBjYW52YXNcbiAgICBtYXg6IDgwLCAvLyBNYXggaXRlbnMgdG8gcmVuZGVyXG4gICAgc2l6ZTogMSwgLy8gcHJvcCBzaXplXG4gICAgYW5pbWF0ZTogdHJ1ZSwgLy8gU2hvdWxkIGFuaWFtdGU/XG4gICAgcHJvcHM6IFsnY2lyY2xlJywgJ3NxdWFyZScsICd0cmlhbmdsZScsICdsaW5lJ10sIC8vIFR5cGVzIG9mIGNvbmZldHRpXG4gICAgY29sb3JzOiBbWzE2NSwxMDQsMjQ2XSxbMjMwLDYxLDEzNV0sWzAsMTk5LDIyOF0sWzI1MywyMTQsMTI2XV0sIC8vIENvbG9ycyB0byByZW5kZXIgY29uZmV0dGlcbiAgICBjbG9jazogMjUsIC8vIFNwZWVkIG9mIGNvbmZldHRpIGZhbGxcbiAgICBpbnRlcnZhbDogbnVsbCwgLy8gRHJhdyBpbnRlcnZhbCBob2xkZXJcbiAgICByb3RhdGU6IGZhbHNlLCAvLyBXaGVuZXZlciB0byByb3RhdGUgYSBwcm9wXG4gICAgd2lkdGg6IHdpbmRvdy5pbm5lcldpZHRoLCAvLyBjYW52YXMgd2lkdGggKGFzIGludCwgaW4gcHgpXG4gICAgaGVpZ2h0OiB3aW5kb3cuaW5uZXJIZWlnaHQgLy8gY2FudmFzIGhlaWdodCAoYXMgaW50LCBpbiBweClcbiAgfTtcblxuICAvLy8vLy8vLy8vLy8vL1xuICAvLyBTZXR0aW5nIHBhcmFtZXRlcnMgaWYgcmVjZWl2ZWRcbiAgaWYocGFyYW1zKSB7XG4gICAgaWYocGFyYW1zLnRhcmdldClcbiAgICAgIGFwcHN0YXRlLnRhcmdldCA9IHBhcmFtcy50YXJnZXQ7XG4gICAgaWYocGFyYW1zLm1heClcbiAgICAgIGFwcHN0YXRlLm1heCA9IHBhcmFtcy5tYXg7XG4gICAgaWYocGFyYW1zLnNpemUpXG4gICAgICBhcHBzdGF0ZS5zaXplID0gcGFyYW1zLnNpemU7XG4gICAgaWYocGFyYW1zLmFuaW1hdGUgIT09IHVuZGVmaW5lZCAmJiBwYXJhbXMuYW5pbWF0ZSAhPT0gbnVsbClcbiAgICAgIGFwcHN0YXRlLmFuaW1hdGUgPSBwYXJhbXMuYW5pbWF0ZTtcbiAgICBpZihwYXJhbXMucHJvcHMpXG4gICAgICBhcHBzdGF0ZS5wcm9wcyA9IHBhcmFtcy5wcm9wcztcbiAgICBpZihwYXJhbXMuY29sb3JzKVxuICAgICAgYXBwc3RhdGUuY29sb3JzID0gcGFyYW1zLmNvbG9ycztcbiAgICBpZihwYXJhbXMuY2xvY2spXG4gICAgICBhcHBzdGF0ZS5jbG9jayA9IHBhcmFtcy5jbG9jaztcbiAgICBpZihwYXJhbXMud2lkdGgpXG4gICAgICBhcHBzdGF0ZS53aWR0aCA9IHBhcmFtcy53aWR0aDtcbiAgICBpZihwYXJhbXMuaGVpZ2h0KVxuICAgICAgYXBwc3RhdGUuaGVpZ2h0ID0gcGFyYW1zLmhlaWdodDtcbiAgICBpZihwYXJhbXMucm90YXRlICE9PSB1bmRlZmluZWQgJiYgcGFyYW1zLnJvdGF0ZSAhPT0gbnVsbClcbiAgICAgIGFwcHN0YXRlLnJvdGF0ZSA9IHBhcmFtcy5yb3RhdGU7XG4gIH1cblxuICAvLy8vLy8vLy8vLy8vL1xuICAvLyBQcm9wZXJ0aWVzXG4gIHZhciBjdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGFwcHN0YXRlLnRhcmdldCk7XG4gIHZhciBjdHggPSBjdi5nZXRDb250ZXh0KFwiMmRcIik7XG4gIHZhciBwYXJ0aWNsZXMgPSBbXTtcblxuICAvLy8vLy8vLy8vLy8vL1xuICAvLyBSYW5kb20gaGVscGVyICh0byBtaW5pbWl6ZSB0eXBpbmcpXG4gIGZ1bmN0aW9uIHJhbmQobGltaXQsIGZsb29yKSB7XG4gICAgaWYoIWxpbWl0KSBsaW1pdCA9IDE7XG4gICAgdmFyIHJhbmQgPSBNYXRoLnJhbmRvbSgpICogbGltaXQ7XG4gICAgcmV0dXJuICFmbG9vciA/IHJhbmQgOiBNYXRoLmZsb29yKHJhbmQpO1xuICB9XG5cbiAgdmFyIHRvdGFsV2VpZ2h0ID0gYXBwc3RhdGUucHJvcHMucmVkdWNlKGZ1bmN0aW9uKHdlaWdodCwgcHJvcCkge1xuICAgIHJldHVybiB3ZWlnaHQgKyAocHJvcC53ZWlnaHQgfHwgMSk7XG4gIH0sIDApO1xuICBmdW5jdGlvbiBzZWxlY3RQcm9wKCkge1xuICAgIHZhciByYW5kID0gTWF0aC5yYW5kb20oKSAqIHRvdGFsV2VpZ2h0O1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXBwc3RhdGUucHJvcHMubGVuZ3RoOyArK2kpIHtcbiAgICAgIHZhciB3ZWlnaHQgPSBhcHBzdGF0ZS5wcm9wc1tpXS53ZWlnaHQgfHwgMTtcbiAgICAgIGlmIChyYW5kIDwgd2VpZ2h0KSByZXR1cm4gaTtcbiAgICAgIHJhbmQgLT0gd2VpZ2h0O1xuICAgIH1cbiAgfVxuXG4gIC8vLy8vLy8vLy8vLy8vXG4gIC8vIENvbmZldHRpIHBhcnRpY2xlIGdlbmVyYXRvclxuICBmdW5jdGlvbiBwYXJ0aWNsZUZhY3RvcnkoKSB7XG4gICAgdmFyIHByb3AgPSBhcHBzdGF0ZS5wcm9wc1tzZWxlY3RQcm9wKCldO1xuICAgIHZhciBwID0ge1xuICAgICAgcHJvcDogcHJvcC50eXBlID8gcHJvcC50eXBlIDogcHJvcCwgLy9wcm9wIHR5cGVcbiAgICAgIHg6IHJhbmQoYXBwc3RhdGUud2lkdGgpLCAvL3gtY29vcmRpbmF0ZVxuICAgICAgeTogcmFuZChhcHBzdGF0ZS5oZWlnaHQpLCAvL3ktY29vcmRpbmF0ZVxuICAgICAgc3JjOiBwcm9wLnNyYyxcbiAgICAgIHJhZGl1czogcmFuZCg0KSArIDEsIC8vcmFkaXVzXG4gICAgICBzaXplOiBwcm9wLnNpemUsXG4gICAgICByb3RhdGU6IGFwcHN0YXRlLnJvdGF0ZSxcbiAgICAgIGxpbmU6IE1hdGguZmxvb3IocmFuZCg2NSkgLSAzMCksIC8vIGxpbmUgYW5nbGVcbiAgICAgIGFuZ2xlczogW3JhbmQoMTAsIHRydWUpICsgMiwgcmFuZCgxMCwgdHJ1ZSkgKyAyLCByYW5kKDEwLCB0cnVlKSArIDIsIHJhbmQoMTAsIHRydWUpICsgMl0sIC8vIHRyaWFuZ2xlIGRyYXdpbmcgYW5nbGVzXG4gICAgICBjb2xvcjogYXBwc3RhdGUuY29sb3JzW3JhbmQoYXBwc3RhdGUuY29sb3JzLmxlbmd0aCwgdHJ1ZSldLCAvLyBjb2xvclxuICAgICAgcm90YXRpb246IHJhbmQoMzYwLCB0cnVlKSAqIE1hdGguUEkvMTgwLFxuICAgICAgc3BlZWQ6IHJhbmQoYXBwc3RhdGUuY2xvY2sgLyA3KSArIChhcHBzdGF0ZS5jbG9jayAvIDMwKVxuICAgIH07XG5cbiAgICByZXR1cm4gcDtcbiAgfVxuXG4gIC8vLy8vLy8vLy8vLy8vXG4gIC8vIENvbmZldHRpIGRyYXdpbmcgb24gY2FudmFzXG4gIGZ1bmN0aW9uIHBhcnRpY2xlRHJhdyhwKSB7XG4gICAgdmFyIG9wID0gKHAucmFkaXVzIDw9IDMpID8gMC40IDogMC44O1xuXG4gICAgY3R4LmZpbGxTdHlsZSA9IGN0eC5zdHJva2VTdHlsZSA9IFwicmdiYShcIiArIHAuY29sb3IgKyBcIiwgXCIrIG9wICtcIilcIjtcbiAgICBjdHguYmVnaW5QYXRoKCk7XG5cbiAgICBzd2l0Y2gocC5wcm9wKSB7XG4gICAgICBjYXNlICdjaXJjbGUnOntcbiAgICAgICAgY3R4Lm1vdmVUbyhwLngsIHAueSk7XG4gICAgICAgIGN0eC5hcmMocC54LCBwLnksIHAucmFkaXVzICogYXBwc3RhdGUuc2l6ZSwgMCwgTWF0aC5QSSAqIDIsIHRydWUpO1xuICAgICAgICBjdHguZmlsbCgpO1xuICAgICAgICBicmVhazsgIFxuICAgICAgfVxuICAgICAgY2FzZSAndHJpYW5nbGUnOiB7XG4gICAgICAgIGN0eC5tb3ZlVG8ocC54LCBwLnkpO1xuICAgICAgICBjdHgubGluZVRvKHAueCArIChwLmFuZ2xlc1swXSAqIGFwcHN0YXRlLnNpemUpLCBwLnkgKyAocC5hbmdsZXNbMV0gKiBhcHBzdGF0ZS5zaXplKSk7XG4gICAgICAgIGN0eC5saW5lVG8ocC54ICsgKHAuYW5nbGVzWzJdICogYXBwc3RhdGUuc2l6ZSksIHAueSArIChwLmFuZ2xlc1szXSAqIGFwcHN0YXRlLnNpemUpKTtcbiAgICAgICAgY3R4LmNsb3NlUGF0aCgpO1xuICAgICAgICBjdHguZmlsbCgpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2UgJ2xpbmUnOntcbiAgICAgICAgY3R4Lm1vdmVUbyhwLngsIHAueSk7XG4gICAgICAgIGN0eC5saW5lVG8ocC54ICsgKHAubGluZSAqIGFwcHN0YXRlLnNpemUpLCBwLnkgKyAocC5yYWRpdXMgKiA1KSk7XG4gICAgICAgIGN0eC5saW5lV2lkdGggPSAyICogYXBwc3RhdGUuc2l6ZTtcbiAgICAgICAgY3R4LnN0cm9rZSgpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2UgJ3NxdWFyZSc6IHtcbiAgICAgICAgY3R4LnNhdmUoKTtcbiAgICAgICAgY3R4LnRyYW5zbGF0ZShwLngrMTUsIHAueSs1KTtcbiAgICAgICAgY3R4LnJvdGF0ZShwLnJvdGF0aW9uKTtcbiAgICAgICAgY3R4LmZpbGxSZWN0KC0xNSAqIGFwcHN0YXRlLnNpemUsLTUgKiBhcHBzdGF0ZS5zaXplLDE1ICogYXBwc3RhdGUuc2l6ZSw1ICogYXBwc3RhdGUuc2l6ZSk7XG4gICAgICAgIGN0eC5yZXN0b3JlKCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSAnc3ZnJzoge1xuICAgICAgICBjdHguc2F2ZSgpO1xuICAgICAgICB2YXIgaW1hZ2UgPSBuZXcgSW1hZ2UoKTtcbiAgICAgICAgaW1hZ2Uuc3JjID0gcC5zcmM7XG4gICAgICAgIHZhciBzaXplID0gcC5zaXplIHx8IDE1O1xuICAgICAgICBjdHgudHJhbnNsYXRlKHAueCArIHNpemUgLyAyLCBwLnkgKyBzaXplIC8gMik7XG4gICAgICAgIGlmKHAucm90YXRlKVxuICAgICAgICAgIGN0eC5yb3RhdGUocC5yb3RhdGlvbik7XG4gICAgICAgIGN0eC5kcmF3SW1hZ2UoaW1hZ2UsIC0oc2l6ZS8yKSAqIGFwcHN0YXRlLnNpemUsIC0oc2l6ZS8yKSAqIGFwcHN0YXRlLnNpemUsIHNpemUgKiBhcHBzdGF0ZS5zaXplLCBzaXplICogYXBwc3RhdGUuc2l6ZSk7XG4gICAgICAgIGN0eC5yZXN0b3JlKCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBcbiAgLy8vLy8vLy8vLy8vLy9cbiAgLy8gUHVibGljIGl0ZW5zXG4gIC8vLy8vLy8vLy8vLy8vXG5cbiAgLy8vLy8vLy8vLy8vLy9cbiAgLy8gQ2xlYW4gYWN0dWFsIHN0YXRlXG4gIHZhciBfY2xlYXIgPSBmdW5jdGlvbigpIHtcbiAgICBhcHBzdGF0ZS5hbmltYXRlID0gZmFsc2U7XG4gICAgY2xlYXJJbnRlcnZhbChhcHBzdGF0ZS5pbnRlcnZhbCk7XG4gICAgXG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uKCkge1xuICAgIFx0Y3R4LmNsZWFyUmVjdCgwLCAwLCBjdi53aWR0aCwgY3YuaGVpZ2h0KTtcbiAgICAgIHZhciB3ID0gY3Yud2lkdGg7XG4gICAgICBjdi53aWR0aCA9IDE7XG4gICAgICBjdi53aWR0aCA9IHc7XG4gICAgfSk7XG4gIH07XG5cbiAgLy8vLy8vLy8vLy8vLy9cbiAgLy8gUmVuZGVyIGNvbmZldHRpIG9uIGNhbnZhc1xuICB2YXIgX3JlbmRlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgLy9jYW52YXMgZGltZW5zaW9uc1xuICAgICAgY3Yud2lkdGggPSBhcHBzdGF0ZS53aWR0aDtcbiAgICAgIGN2LmhlaWdodCA9IGFwcHN0YXRlLmhlaWdodDtcbiAgICAgIHBhcnRpY2xlcyA9IFtdO1xuXG4gICAgICBmb3IodmFyIGkgPSAwOyBpIDwgYXBwc3RhdGUubWF4OyBpICsrKVxuICAgICAgICBwYXJ0aWNsZXMucHVzaChwYXJ0aWNsZUZhY3RvcnkoKSk7XG4gICAgICBcbiAgICAgIGZ1bmN0aW9uIGRyYXcoKXtcbiAgICAgICAgY3R4LmNsZWFyUmVjdCgwLCAwLCBhcHBzdGF0ZS53aWR0aCwgYXBwc3RhdGUuaGVpZ2h0KTtcblxuICAgICAgICBmb3IodmFyIGkgaW4gcGFydGljbGVzKVxuICAgICAgICAgIHBhcnRpY2xlRHJhdyhwYXJ0aWNsZXNbaV0pO1xuICAgICAgICBcbiAgICAgICAgdXBkYXRlKCk7XG5cbiAgICAgICAgLy9hbmltYXRpb24gbG9vcFxuICAgICAgICBpZihhcHBzdGF0ZS5hbmltYXRlKSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZHJhdyk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIHVwZGF0ZSgpIHtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFwcHN0YXRlLm1heDsgaSsrKSB7XG4gICAgICAgICAgdmFyIHAgPSBwYXJ0aWNsZXNbaV07XG4gICAgICAgICAgaWYoYXBwc3RhdGUuYW5pbWF0ZSlcbiAgICAgICAgICAgIHAueSArPSBwLnNwZWVkO1xuXG4gICAgICAgICAgaWYgKHAucm90YXRlKVxuICAgICAgICAgICAgcC5yb3RhdGlvbiArPSBwLnNwZWVkIC8gMzU7XG4gICAgICAgICAgXG4gICAgICAgICAgaWYgKChwLnNwZWVkID49IDAgJiYgcC55ID4gYXBwc3RhdGUuaGVpZ2h0KSB8fCAocC5zcGVlZCA8IDAgJiYgcC55IDwgMCkpIHtcbiAgICAgICAgICAgIHBhcnRpY2xlc1tpXSA9IHA7IFxuICAgICAgICAgICAgcGFydGljbGVzW2ldLnggPSByYW5kKGFwcHN0YXRlLndpZHRoLCB0cnVlKTtcbiAgICAgICAgICAgIHBhcnRpY2xlc1tpXS55ID0gcC5zcGVlZCA+PSAwID8gLTEwIDogcGFyc2VGbG9hdChhcHBzdGF0ZS5oZWlnaHQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGRyYXcpO1xuICB9O1xuXG4gIHJldHVybiB7XG4gICAgcmVuZGVyOiBfcmVuZGVyLFxuICAgIGNsZWFyOiBfY2xlYXJcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBDb25mZXR0aUdlbmVyYXRvcjtcbiIsImltcG9ydCB7IExpdEVsZW1lbnQsIGh0bWwsIGNzcywgY3VzdG9tRWxlbWVudCB9IGZyb20gJ2xpdC1lbGVtZW50JztcclxuaW1wb3J0IHsgcmVwb3J0QnVnIH0gZnJvbSAnLi9yZXBvcnQtYnVnJztcclxuXHJcbmRlY2xhcmUgZ2xvYmFsIHtcclxuXHRpbnRlcmZhY2UgV2luZG93IHtcclxuXHRcdGZpcmViYXNlOiBhbnk7XHJcblx0fVxyXG59XHJcbnR5cGUgUG9pbnRDb2xsZWN0aW9uID0geyBba2V5OiBzdHJpbmddOiBudW1iZXIgfTtcclxuZXhwb3J0IGNsYXNzIFByb2ZpbGVDYXJkIGV4dGVuZHMgTGl0RWxlbWVudCB7XHJcblx0c3RhdGljIGdldCBwcm9wZXJ0aWVzKCkge1xyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0dXNlck5hbWU6IHtcclxuXHRcdFx0XHR0eXBlOiBTdHJpbmcsXHJcblx0XHRcdFx0cmVmbGVjdDogdHJ1ZVxyXG5cdFx0XHR9LFxyXG5cdFx0XHR1c2VyRW1haWw6IHtcclxuXHRcdFx0XHR0eXBlOiBTdHJpbmcsXHJcblx0XHRcdFx0cmVmbGVjdDogdHJ1ZVxyXG5cdFx0XHR9LFxyXG5cdFx0XHRwb2ludENvbGxlY3Rpb246IHtcclxuXHRcdFx0XHR0eXBlOiBPYmplY3QsXHJcblx0XHRcdFx0YXR0cmlidXRlOiAncG9pbnRjb2xsZWN0aW9uJyxcclxuXHRcdFx0XHRyZWZsZWN0OiB0cnVlXHJcblx0XHRcdH1cclxuXHRcdH07XHJcblx0fVxyXG5cdHVzZXJOYW1lOiBzdHJpbmc7XHJcblx0dXNlcmlkOiBudW1iZXI7XHJcblx0dXNlckVtYWlsOiBzdHJpbmc7XHJcblx0cG9pbnRDb2xsZWN0aW9uOiBQb2ludENvbGxlY3Rpb247XHJcblx0c3RhdGljIGdldCBzdHlsZXMoKSB7XHJcblx0XHRyZXR1cm4gW1xyXG5cdFx0XHRjc3NgXHJcblx0XHRcdFx0Omhvc3Qge1xyXG5cdFx0XHRcdFx0dHJhbnNpdGlvbjogMXM7XHJcblx0XHRcdFx0XHRoZWlnaHQ6IDEwMCU7XHJcblx0XHRcdFx0XHRwb3NpdGlvbjogYWJzb2x1dGU7XHJcblx0XHRcdFx0XHR0b3A6IDA7XHJcblx0XHRcdFx0XHRsZWZ0OiAwO1xyXG5cdFx0XHRcdFx0d2lkdGg6IDIwdnc7XHJcblx0XHRcdFx0XHRiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1kZXNrdG9wLWNvbG9yKTtcclxuXHRcdFx0XHRcdHotaW5kZXg6IDk5ODtcclxuXHRcdFx0XHRcdHRyYW5zZm9ybTogdHJhbnNsYXRlWCgtODB2dyk7XHJcblx0XHRcdFx0XHRkaXNwbGF5OiBmbGV4O1xyXG5cdFx0XHRcdFx0ZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuXHRcdFx0XHRcdGFsaWduLWNvbnRlbnQ6IGZsZXgtc3RhcnQ7XHJcblx0XHRcdFx0XHRmb250LWZhbWlseTogdmFyKC0tZ2xvYmFsLWZvbnQpO1xyXG5cdFx0XHRcdFx0dGV4dC1hbGlnbjogbGVmdDtcclxuXHRcdFx0XHRcdHBhZGRpbmctbGVmdDogMXZ3O1xyXG5cdFx0XHRcdFx0Y29sb3I6IHdoaXRlO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHQjeCB7XHJcblx0XHRcdFx0XHRtYXJnaW46IDFyZW0gMXJlbSAwIDA7XHJcblx0XHRcdFx0XHRhbGlnbi1zZWxmOiBmbGV4LWVuZDtcclxuXHRcdFx0XHRcdGNvbG9yOiB3aGl0ZTtcclxuXHRcdFx0XHRcdGN1cnNvcjogcG9pbnRlcjtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdCNzaWdub3V0LFxyXG5cdFx0XHRcdCNidWcge1xyXG5cdFx0XHRcdFx0Y3Vyc29yOiBwb2ludGVyO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRwIHtcclxuXHRcdFx0XHRcdG1hcmdpbi10b3A6IC44cmVtO1xyXG5cdFx0XHRcdFx0bWFyZ2luLWJvdHRvbTogLjhyZW07XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGgxIHtcclxuXHRcdFx0XHRcdGZvbnQtc2l6ZTogMS40cmVtO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRzZWxlY3Qge1xyXG5cdFx0XHRcdFx0b3V0bGluZTogMXB4IHdoaXRlIHNvbGlkO1xyXG5cdFx0XHRcdFx0bWFyZ2luLXRvcDogLjNyZW07XHJcblx0XHRcdFx0XHRtYXJnaW4tbGVmdDogbm9uZTtcclxuXHRcdFx0XHRcdHBhZGRpbmc6IC4zcmVtO1xyXG5cdFx0XHRcdFx0Ym9yZGVyOiBub25lO1xyXG5cdFx0XHRcdFx0YmFja2dyb3VuZDogd2hpdGU7XHJcblx0XHRcdFx0XHRjb2xvcjogYmxhY2s7XHJcblx0XHRcdFx0XHR3aWR0aDogODAlO1xyXG5cdFx0XHRcdFx0LXdlYmtpdC1hcHBlYXJhbmNlOiBtZW51bGlzdDtcclxuXHRcdFx0XHRcdGFsaWduLXNlbGY6IGZsZXgtc3RhcnQ7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHNlbGVjdCA+IG9wdGlvbiB7XHJcblx0XHRcdFx0XHRjb2xvcjogYmxhY2s7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGxhYmVsIHtcclxuXHRcdFx0XHRcdGFsaWduLXNlbGY6IGZsZXgtc3RhcnQ7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdCN4OmhvdmVyIHtcclxuXHRcdFx0XHRcdHRyYW5zZm9ybTogc2NhbGUoMS4yKTtcclxuXHRcdFx0XHRcdGN1cnNvcjogcG9pbnRlcjtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdEBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1heC13aWR0aDogNjAwcHgpIHtcclxuXHRcdFx0XHRcdDpob3N0IHtcclxuXHRcdFx0XHRcdFx0d2lkdGg6IDYwdnc7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRwIHtcclxuXHRcdFx0XHRcdFx0bWFyZ2luLXRvcDogLjhyZW07XHJcblx0XHRcdFx0XHRcdG1hcmdpbi1ib3R0b206IC44cmVtO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0aDEge1xyXG5cdFx0XHRcdFx0XHRmb250LXNpemU6IDEuNHJlbTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdGBcclxuXHRcdF07XHJcblx0fVxyXG5cdGxvZ091dCgpIHtcclxuXHRcdHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJ2xvZ291dCcsIHsgYnViYmxlczogdHJ1ZSwgY29tcG9zZWQ6IHRydWUgfSkpO1xyXG5cdFx0dGhpcy5yZXF1ZXN0VXBkYXRlKCk7XHJcblx0fVxyXG5cclxuXHRyZW5kZXIoKSB7XHJcblx0XHRyZXR1cm4gaHRtbGBcclxuICA8aDE+JHt0aGlzLnVzZXJOYW1lfTwvaDE+XHJcbiAgPHA+JHt0aGlzLnVzZXJFbWFpbH08L3A+XHJcbiAgPGxhYmVsIGZvcj1cInNlbGVjdFwiPlptaWXFhCBwb3ppb206PC9sYWJlbD5cclxuICAgIDxzZWxlY3QgQGNsaWNrPVwiJHsoZTogSW5wdXRFdmVudCkgPT4ge1xyXG5cdFx0dGhpcy5kaXNwYXRjaEV2ZW50KFxyXG5cdFx0XHRuZXcgQ3VzdG9tRXZlbnQoJ3ByZXZpb3VzVmFsdWUnLCB7XHJcblx0XHRcdFx0YnViYmxlczogdHJ1ZSxcclxuXHRcdFx0XHRjb21wb3NlZDogdHJ1ZSxcclxuXHRcdFx0XHRkZXRhaWw6IHsgb2xkVmFsdWU6ICgpID0+IHRoaXMuc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yPEhUTUxJbnB1dEVsZW1lbnQ+KCcjc2VsZWN0JykudmFsdWUgfVxyXG5cdFx0XHR9KVxyXG5cdFx0KTtcclxuXHR9fVwiIEBjaGFuZ2U9XCIkeyhlOiBJbnB1dEV2ZW50KSA9PiB7XHJcblx0XHRcdHRoaXMuZGlzcGF0Y2hFdmVudChcclxuXHRcdFx0XHRuZXcgQ3VzdG9tRXZlbnQoJ3ZhbHVlU2VsZWN0ZWQnLCB7XHJcblx0XHRcdFx0XHRidWJibGVzOiB0cnVlLFxyXG5cdFx0XHRcdFx0Y29tcG9zZWQ6IHRydWUsXHJcblx0XHRcdFx0XHRkZXRhaWw6IHsgbmV3VmFsdWU6ICgpID0+IHRoaXMuc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yPEhUTUxJbnB1dEVsZW1lbnQ+KCcjc2VsZWN0JykudmFsdWUgfVxyXG5cdFx0XHRcdH0pXHJcblx0XHRcdCk7XHJcblx0XHR9fVwiIGlkPVwic2VsZWN0XCI+XHJcbiAgICAke09iamVjdC5lbnRyaWVzKHRoaXMucG9pbnRDb2xsZWN0aW9uKS5tYXAoKFsgbGV2ZWwsIHBvaW50cyBdKSA9PiB7XHJcblx0XHRyZXR1cm4gaHRtbGBcclxuICA8b3B0aW9uIHZhbHVlPVwiJHtsZXZlbH1cIj4ke2xldmVsICE9ICdBbGwnID8gYFBvemlvbSAke2xldmVsfSxgIDogYFd5bWllc3phbmUgcG96aW9teSxgfSBwdW5rdHk6ICR7cG9pbnRzfTwvb3B0aW9uPmA7XHJcblx0fSl9XHJcbjwvc2VsZWN0PlxyXG5cclxuPHAgQGNsaWNrPVwiJHsoZTogRXZlbnQpID0+IHtcclxuXHRcdFx0bGV0IGJ1ZyA9IHJlcG9ydEJ1Zyh0aGlzLnVzZXJpZCk7XHJcblx0XHR9fVwiIGlkPVwiYnVnXCI+WmfFgm/FmyBixYLEhWQ8L3A+XHJcbjxwIGlkPVwic2lnbm91dFwiIEBjbGljaz1cIiR7dGhpcy5sb2dPdXR9XCI+V3lsb2d1ajwvcD5cclxuXHJcbiAgICBgO1xyXG5cdH1cclxufVxyXG5jdXN0b21FbGVtZW50cy5kZWZpbmUoJ3Byb2ZpbGUtY2FyZCcsIFByb2ZpbGVDYXJkKTtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==