!function(e){var t={};function i(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=t,i.d=function(e,t,o){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(o,r,function(t){return e[t]}.bind(null,r));return o},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=6)}([function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=i(2),r=i(3);window.firebase.initializeApp({apiKey:"AIzaSyC4PKlVTVWpQbN4459w9QfO-q3Ta3SzoZs",authDomain:"english-verbs-game.firebaseapp.com",databaseURL:"https://english-verbs-game.firebaseio.com",projectId:"english-verbs-game",storageBucket:"english-verbs-game.appspot.com",messagingSenderId:"878642607039",appId:"1:878642607039:web:e1d0c5a1c6d78c20e8670a",measurementId:"G-NZ5V5BZDXH"});var n=new window.firebase.auth.GoogleAuthProvider;function s(e,t,i){window.firebase.database().ref("users/"+e).set({points:t,name:i})}function a(){localStorage.setItem("isRedirecting",""),window.firebase.auth().signInWithRedirect(n)}n.setCustomParameters({prompt:"select_account"}),window.firebase.auth().languageCode="pl",window.firebase.auth().getRedirectResult().then((function(e){if(e.credential){console.log("logged");let t,i=e.user;window.firebase.database().ref("/users/"+i.uid).once("value").then((function(e){if(null!==e.val()){t=e.val().points;o.showTheGame(i.displayName,i.email,i.uid,t,"Witaj ponownie")}else{t={A2:0,B1:0,B2:0,C1:0,C2:0,All:0},s(i.uid,t,i.displayName);o.showTheGame(i.displayName,i.email,i.uid,t,"Dziękujemy za rejestrację w grze")}localStorage.setItem("user-info",JSON.stringify({user:i})),localStorage.setItem("points",JSON.stringify({points:t}))}))}})).catch((function(e){var t=e.message;console.log(t);r.showLog("Coś poszło nie tak","Spróbuj ponownie za kilka minut",!1,!0)})),t.writeUserData=s,t.reportBugToServer=function(e,t){console.log(t),window.firebase.database().ref("users/"+e).push(t)},t.redirectingSignUp=a,document.querySelector("#nowekonto").addEventListener("click",a),document.querySelector("#zaloguj").addEventListener("click",a),null==localStorage.getItem("isRedirecting")&&document.body.classList.add("ready")},function(e,t,i){"use strict";i.r(t);
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
const o=new WeakMap,r=e=>"function"==typeof e&&o.has(e),n=void 0!==window.customElements&&void 0!==window.customElements.polyfillWrapFlushCallback,s=(e,t,i=null,o=null)=>{for(;t!==i;){const i=t.nextSibling;e.insertBefore(t,o),t=i}},a=(e,t,i=null)=>{for(;t!==i;){const i=t.nextSibling;e.removeChild(t),t=i}},l={},d={},c=`{{lit-${String(Math.random()).slice(2)}}}`,u=`\x3c!--${c}--\x3e`,h=new RegExp(`${c}|${u}`),p="$lit$";class m{constructor(e,t){this.parts=[],this.element=t;const i=[],o=[],r=document.createTreeWalker(t.content,133,null,!1);let n=0,s=-1,a=0;const{strings:l,values:{length:d}}=e;for(;a<d;){const e=r.nextNode();if(null!==e){if(s++,1===e.nodeType){if(e.hasAttributes()){const t=e.attributes,{length:i}=t;let o=0;for(let e=0;e<i;e++)f(t[e].name,p)&&o++;for(;o-- >0;){const t=l[a],i=y.exec(t)[2],o=i.toLowerCase()+p,r=e.getAttribute(o);e.removeAttribute(o);const n=r.split(h);this.parts.push({type:"attribute",index:s,name:i,strings:n}),a+=n.length-1}}"TEMPLATE"===e.tagName&&(o.push(e),r.currentNode=e.content)}else if(3===e.nodeType){const t=e.data;if(t.indexOf(c)>=0){const o=e.parentNode,r=t.split(h),n=r.length-1;for(let t=0;t<n;t++){let i,n=r[t];if(""===n)i=w();else{const e=y.exec(n);null!==e&&f(e[2],p)&&(n=n.slice(0,e.index)+e[1]+e[2].slice(0,-p.length)+e[3]),i=document.createTextNode(n)}o.insertBefore(i,e),this.parts.push({type:"node",index:++s})}""===r[n]?(o.insertBefore(w(),e),i.push(e)):e.data=r[n],a+=n}}else if(8===e.nodeType)if(e.data===c){const t=e.parentNode;null!==e.previousSibling&&s!==n||(s++,t.insertBefore(w(),e)),n=s,this.parts.push({type:"node",index:s}),null===e.nextSibling?e.data="":(i.push(e),s--),a++}else{let t=-1;for(;-1!==(t=e.data.indexOf(c,t+1));)this.parts.push({type:"node",index:-1}),a++}}else r.currentNode=o.pop()}for(const e of i)e.parentNode.removeChild(e)}}const f=(e,t)=>{const i=e.length-t.length;return i>=0&&e.slice(i)===t},g=e=>-1!==e.index,w=()=>document.createComment(""),y=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F "'>=/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/;
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
class b{constructor(e,t,i){this.__parts=[],this.template=e,this.processor=t,this.options=i}update(e){let t=0;for(const i of this.__parts)void 0!==i&&i.setValue(e[t]),t++;for(const e of this.__parts)void 0!==e&&e.commit()}_clone(){const e=n?this.template.element.content.cloneNode(!0):document.importNode(this.template.element.content,!0),t=[],i=this.template.parts,o=document.createTreeWalker(e,133,null,!1);let r,s=0,a=0,l=o.nextNode();for(;s<i.length;)if(r=i[s],g(r)){for(;a<r.index;)a++,"TEMPLATE"===l.nodeName&&(t.push(l),o.currentNode=l.content),null===(l=o.nextNode())&&(o.currentNode=t.pop(),l=o.nextNode());if("node"===r.type){const e=this.processor.handleTextExpression(this.options);e.insertAfterNode(l.previousSibling),this.__parts.push(e)}else this.__parts.push(...this.processor.handleAttributeExpressions(l,r.name,r.strings,this.options));s++}else this.__parts.push(void 0),s++;return n&&(document.adoptNode(e),customElements.upgrade(e)),e}}
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const v=` ${c} `;class k{constructor(e,t,i,o){this.strings=e,this.values=t,this.type=i,this.processor=o}getHTML(){const e=this.strings.length-1;let t="",i=!1;for(let o=0;o<e;o++){const e=this.strings[o],r=e.lastIndexOf("\x3c!--");i=(r>-1||i)&&-1===e.indexOf("--\x3e",r+1);const n=y.exec(e);t+=null===n?e+(i?v:u):e.substr(0,n.index)+n[1]+n[2]+p+n[3]+c}return t+=this.strings[e]}getTemplateElement(){const e=document.createElement("template");return e.innerHTML=this.getHTML(),e}}class x extends k{getHTML(){return`<svg>${super.getHTML()}</svg>`}getTemplateElement(){const e=super.getTemplateElement(),t=e.content,i=t.firstChild;return t.removeChild(i),s(t,i.firstChild),e}}
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const _=e=>null===e||!("object"==typeof e||"function"==typeof e),z=e=>Array.isArray(e)||!(!e||!e[Symbol.iterator]);class S{constructor(e,t,i){this.dirty=!0,this.element=e,this.name=t,this.strings=i,this.parts=[];for(let e=0;e<i.length-1;e++)this.parts[e]=this._createPart()}_createPart(){return new C(this)}_getValue(){const e=this.strings,t=e.length-1;let i="";for(let o=0;o<t;o++){i+=e[o];const t=this.parts[o];if(void 0!==t){const e=t.value;if(_(e)||!z(e))i+="string"==typeof e?e:String(e);else for(const t of e)i+="string"==typeof t?t:String(t)}}return i+=e[t]}commit(){this.dirty&&(this.dirty=!1,this.element.setAttribute(this.name,this._getValue()))}}class C{constructor(e){this.value=void 0,this.committer=e}setValue(e){e===l||_(e)&&e===this.value||(this.value=e,r(e)||(this.committer.dirty=!0))}commit(){for(;r(this.value);){const e=this.value;this.value=l,e(this)}this.value!==l&&this.committer.commit()}}class P{constructor(e){this.value=void 0,this.__pendingValue=void 0,this.options=e}appendInto(e){this.startNode=e.appendChild(w()),this.endNode=e.appendChild(w())}insertAfterNode(e){this.startNode=e,this.endNode=e.nextSibling}appendIntoPart(e){e.__insert(this.startNode=w()),e.__insert(this.endNode=w())}insertAfterPart(e){e.__insert(this.startNode=w()),this.endNode=e.endNode,e.endNode=this.startNode}setValue(e){this.__pendingValue=e}commit(){for(;r(this.__pendingValue);){const e=this.__pendingValue;this.__pendingValue=l,e(this)}const e=this.__pendingValue;e!==l&&(_(e)?e!==this.value&&this.__commitText(e):e instanceof k?this.__commitTemplateResult(e):e instanceof Node?this.__commitNode(e):z(e)?this.__commitIterable(e):e===d?(this.value=d,this.clear()):this.__commitText(e))}__insert(e){this.endNode.parentNode.insertBefore(e,this.endNode)}__commitNode(e){this.value!==e&&(this.clear(),this.__insert(e),this.value=e)}__commitText(e){const t=this.startNode.nextSibling,i="string"==typeof(e=null==e?"":e)?e:String(e);t===this.endNode.previousSibling&&3===t.nodeType?t.data=i:this.__commitNode(document.createTextNode(i)),this.value=e}__commitTemplateResult(e){const t=this.options.templateFactory(e);if(this.value instanceof b&&this.value.template===t)this.value.update(e.values);else{const i=new b(t,e.processor,this.options),o=i._clone();i.update(e.values),this.__commitNode(o),this.value=i}}__commitIterable(e){Array.isArray(this.value)||(this.value=[],this.clear());const t=this.value;let i,o=0;for(const r of e)void 0===(i=t[o])&&(i=new P(this.options),t.push(i),0===o?i.appendIntoPart(this):i.insertAfterPart(t[o-1])),i.setValue(r),i.commit(),o++;o<t.length&&(t.length=o,this.clear(i&&i.endNode))}clear(e=this.startNode){a(this.startNode.parentNode,e.nextSibling,this.endNode)}}class j{constructor(e,t,i){if(this.value=void 0,this.__pendingValue=void 0,2!==i.length||""!==i[0]||""!==i[1])throw new Error("Boolean attributes can only contain a single expression");this.element=e,this.name=t,this.strings=i}setValue(e){this.__pendingValue=e}commit(){for(;r(this.__pendingValue);){const e=this.__pendingValue;this.__pendingValue=l,e(this)}if(this.__pendingValue===l)return;const e=!!this.__pendingValue;this.value!==e&&(e?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name),this.value=e),this.__pendingValue=l}}class A extends S{constructor(e,t,i){super(e,t,i),this.single=2===i.length&&""===i[0]&&""===i[1]}_createPart(){return new N(this)}_getValue(){return this.single?this.parts[0].value:super._getValue()}commit(){this.dirty&&(this.dirty=!1,this.element[this.name]=this._getValue())}}class N extends C{}let T=!1;try{const e={get capture(){return T=!0,!1}};window.addEventListener("test",e,e),window.removeEventListener("test",e,e)}catch(e){}class E{constructor(e,t,i){this.value=void 0,this.__pendingValue=void 0,this.element=e,this.eventName=t,this.eventContext=i,this.__boundHandleEvent=e=>this.handleEvent(e)}setValue(e){this.__pendingValue=e}commit(){for(;r(this.__pendingValue);){const e=this.__pendingValue;this.__pendingValue=l,e(this)}if(this.__pendingValue===l)return;const e=this.__pendingValue,t=this.value,i=null==e||null!=t&&(e.capture!==t.capture||e.once!==t.once||e.passive!==t.passive),o=null!=e&&(null==t||i);i&&this.element.removeEventListener(this.eventName,this.__boundHandleEvent,this.__options),o&&(this.__options=q(e),this.element.addEventListener(this.eventName,this.__boundHandleEvent,this.__options)),this.value=e,this.__pendingValue=l}handleEvent(e){"function"==typeof this.value?this.value.call(this.eventContext||this.element,e):this.value.handleEvent(e)}}const q=e=>e&&(T?{capture:e.capture,passive:e.passive,once:e.once}:e.capture);
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const O=new class{handleAttributeExpressions(e,t,i,o){const r=t[0];if("."===r){return new A(e,t.slice(1),i).parts}return"@"===r?[new E(e,t.slice(1),o.eventContext)]:"?"===r?[new j(e,t.slice(1),i)]:new S(e,t,i).parts}handleTextExpression(e){return new P(e)}};
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */function R(e){let t=$.get(e.type);void 0===t&&(t={stringsArray:new WeakMap,keyString:new Map},$.set(e.type,t));let i=t.stringsArray.get(e.strings);if(void 0!==i)return i;const o=e.strings.join(c);return void 0===(i=t.keyString.get(o))&&(i=new m(e,e.getTemplateElement()),t.keyString.set(o,i)),t.stringsArray.set(e.strings,i),i}const $=new Map,V=new WeakMap;
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
(window.litHtmlVersions||(window.litHtmlVersions=[])).push("1.1.2");const M=(e,...t)=>new k(e,t,"html",O),U=(e,...t)=>new x(e,t,"svg",O),I=133;function L(e,t){const{element:{content:i},parts:o}=e,r=document.createTreeWalker(i,I,null,!1);let n=B(o),s=o[n],a=-1,l=0;const d=[];let c=null;for(;r.nextNode();){a++;const e=r.currentNode;for(e.previousSibling===c&&(c=null),t.has(e)&&(d.push(e),null===c&&(c=e)),null!==c&&l++;void 0!==s&&s.index===a;)s.index=null!==c?-1:s.index-l,s=o[n=B(o,n)]}d.forEach(e=>e.parentNode.removeChild(e))}const W=e=>{let t=11===e.nodeType?0:1;const i=document.createTreeWalker(e,I,null,!1);for(;i.nextNode();)t++;return t},B=(e,t=-1)=>{for(let i=t+1;i<e.length;i++){const t=e[i];if(g(t))return i}return-1};
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
const F=(e,t)=>`${e}--${t}`;let H=!0;void 0===window.ShadyCSS?H=!1:void 0===window.ShadyCSS.prepareTemplateDom&&(console.warn("Incompatible ShadyCSS version detected. Please update to at least @webcomponents/webcomponentsjs@2.0.2 and @webcomponents/shadycss@1.3.1."),H=!1);const J=e=>t=>{const i=F(t.type,e);let o=$.get(i);void 0===o&&(o={stringsArray:new WeakMap,keyString:new Map},$.set(i,o));let r=o.stringsArray.get(t.strings);if(void 0!==r)return r;const n=t.strings.join(c);if(void 0===(r=o.keyString.get(n))){const i=t.getTemplateElement();H&&window.ShadyCSS.prepareTemplateDom(i,e),r=new m(t,i),o.keyString.set(n,r)}return o.stringsArray.set(t.strings,r),r},D=["html","svg"],G=new Set,X=(e,t,i)=>{G.add(e);const o=i?i.element:document.createElement("template"),r=t.querySelectorAll("style"),{length:n}=r;if(0===n)return void window.ShadyCSS.prepareTemplateStyles(o,e);const s=document.createElement("style");for(let e=0;e<n;e++){const t=r[e];t.parentNode.removeChild(t),s.textContent+=t.textContent}(e=>{D.forEach(t=>{const i=$.get(F(t,e));void 0!==i&&i.keyString.forEach(e=>{const{element:{content:t}}=e,i=new Set;Array.from(t.querySelectorAll("style")).forEach(e=>{i.add(e)}),L(e,i)})})})(e);const a=o.content;i?function(e,t,i=null){const{element:{content:o},parts:r}=e;if(null==i)return void o.appendChild(t);const n=document.createTreeWalker(o,I,null,!1);let s=B(r),a=0,l=-1;for(;n.nextNode();){for(l++,n.currentNode===i&&(a=W(t),i.parentNode.insertBefore(t,i));-1!==s&&r[s].index===l;){if(a>0){for(;-1!==s;)r[s].index+=a,s=B(r,s);return}s=B(r,s)}}}(i,s,a.firstChild):a.insertBefore(s,a.firstChild),window.ShadyCSS.prepareTemplateStyles(o,e);const l=a.querySelector("style");if(window.ShadyCSS.nativeShadow&&null!==l)t.insertBefore(l.cloneNode(!0),t.firstChild);else if(i){a.insertBefore(s,a.firstChild);const e=new Set;e.add(s),L(i,e)}};window.JSCompiler_renameProperty=(e,t)=>e;const Z={toAttribute(e,t){switch(t){case Boolean:return e?"":null;case Object:case Array:return null==e?e:JSON.stringify(e)}return e},fromAttribute(e,t){switch(t){case Boolean:return null!==e;case Number:return null===e?null:Number(e);case Object:case Array:return JSON.parse(e)}return e}},Y=(e,t)=>t!==e&&(t==t||e==e),K={attribute:!0,type:String,converter:Z,reflect:!1,hasChanged:Y},Q=Promise.resolve(!0),ee=1,te=4,ie=8,oe=16,re=32,ne="finalized";class se extends HTMLElement{constructor(){super(),this._updateState=0,this._instanceProperties=void 0,this._updatePromise=Q,this._hasConnectedResolver=void 0,this._changedProperties=new Map,this._reflectingProperties=void 0,this.initialize()}static get observedAttributes(){this.finalize();const e=[];return this._classProperties.forEach((t,i)=>{const o=this._attributeNameForProperty(i,t);void 0!==o&&(this._attributeToPropertyMap.set(o,i),e.push(o))}),e}static _ensureClassProperties(){if(!this.hasOwnProperty(JSCompiler_renameProperty("_classProperties",this))){this._classProperties=new Map;const e=Object.getPrototypeOf(this)._classProperties;void 0!==e&&e.forEach((e,t)=>this._classProperties.set(t,e))}}static createProperty(e,t=K){if(this._ensureClassProperties(),this._classProperties.set(e,t),t.noAccessor||this.prototype.hasOwnProperty(e))return;const i="symbol"==typeof e?Symbol():`__${e}`;Object.defineProperty(this.prototype,e,{get(){return this[i]},set(t){const o=this[e];this[i]=t,this._requestUpdate(e,o)},configurable:!0,enumerable:!0})}static finalize(){const e=Object.getPrototypeOf(this);if(e.hasOwnProperty(ne)||e.finalize(),this[ne]=!0,this._ensureClassProperties(),this._attributeToPropertyMap=new Map,this.hasOwnProperty(JSCompiler_renameProperty("properties",this))){const e=this.properties,t=[...Object.getOwnPropertyNames(e),..."function"==typeof Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e):[]];for(const i of t)this.createProperty(i,e[i])}}static _attributeNameForProperty(e,t){const i=t.attribute;return!1===i?void 0:"string"==typeof i?i:"string"==typeof e?e.toLowerCase():void 0}static _valueHasChanged(e,t,i=Y){return i(e,t)}static _propertyValueFromAttribute(e,t){const i=t.type,o=t.converter||Z,r="function"==typeof o?o:o.fromAttribute;return r?r(e,i):e}static _propertyValueToAttribute(e,t){if(void 0===t.reflect)return;const i=t.type,o=t.converter;return(o&&o.toAttribute||Z.toAttribute)(e,i)}initialize(){this._saveInstanceProperties(),this._requestUpdate()}_saveInstanceProperties(){this.constructor._classProperties.forEach((e,t)=>{if(this.hasOwnProperty(t)){const e=this[t];delete this[t],this._instanceProperties||(this._instanceProperties=new Map),this._instanceProperties.set(t,e)}})}_applyInstanceProperties(){this._instanceProperties.forEach((e,t)=>this[t]=e),this._instanceProperties=void 0}connectedCallback(){this._updateState=this._updateState|re,this._hasConnectedResolver&&(this._hasConnectedResolver(),this._hasConnectedResolver=void 0)}disconnectedCallback(){}attributeChangedCallback(e,t,i){t!==i&&this._attributeToProperty(e,i)}_propertyToAttribute(e,t,i=K){const o=this.constructor,r=o._attributeNameForProperty(e,i);if(void 0!==r){const e=o._propertyValueToAttribute(t,i);if(void 0===e)return;this._updateState=this._updateState|ie,null==e?this.removeAttribute(r):this.setAttribute(r,e),this._updateState=this._updateState&~ie}}_attributeToProperty(e,t){if(this._updateState&ie)return;const i=this.constructor,o=i._attributeToPropertyMap.get(e);if(void 0!==o){const e=i._classProperties.get(o)||K;this._updateState=this._updateState|oe,this[o]=i._propertyValueFromAttribute(t,e),this._updateState=this._updateState&~oe}}_requestUpdate(e,t){let i=!0;if(void 0!==e){const o=this.constructor,r=o._classProperties.get(e)||K;o._valueHasChanged(this[e],t,r.hasChanged)?(this._changedProperties.has(e)||this._changedProperties.set(e,t),!0!==r.reflect||this._updateState&oe||(void 0===this._reflectingProperties&&(this._reflectingProperties=new Map),this._reflectingProperties.set(e,r))):i=!1}!this._hasRequestedUpdate&&i&&this._enqueueUpdate()}requestUpdate(e,t){return this._requestUpdate(e,t),this.updateComplete}async _enqueueUpdate(){let e,t;this._updateState=this._updateState|te;const i=this._updatePromise;this._updatePromise=new Promise((i,o)=>{e=i,t=o});try{await i}catch(e){}this._hasConnected||await new Promise(e=>this._hasConnectedResolver=e);try{const e=this.performUpdate();null!=e&&await e}catch(e){t(e)}e(!this._hasRequestedUpdate)}get _hasConnected(){return this._updateState&re}get _hasRequestedUpdate(){return this._updateState&te}get hasUpdated(){return this._updateState&ee}performUpdate(){this._instanceProperties&&this._applyInstanceProperties();let e=!1;const t=this._changedProperties;try{(e=this.shouldUpdate(t))&&this.update(t)}catch(t){throw e=!1,t}finally{this._markUpdated()}e&&(this._updateState&ee||(this._updateState=this._updateState|ee,this.firstUpdated(t)),this.updated(t))}_markUpdated(){this._changedProperties=new Map,this._updateState=this._updateState&~te}get updateComplete(){return this._getUpdateComplete()}_getUpdateComplete(){return this._updatePromise}shouldUpdate(e){return!0}update(e){void 0!==this._reflectingProperties&&this._reflectingProperties.size>0&&(this._reflectingProperties.forEach((e,t)=>this._propertyToAttribute(t,this[t],e)),this._reflectingProperties=void 0)}updated(e){}firstUpdated(e){}}se[ne]=!0;
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
const ae=e=>t=>"function"==typeof t?((e,t)=>(window.customElements.define(e,t),t))(e,t):((e,t)=>{const{kind:i,elements:o}=t;return{kind:i,elements:o,finisher(t){window.customElements.define(e,t)}}})(e,t),le=(e,t)=>"method"!==t.kind||!t.descriptor||"value"in t.descriptor?{kind:"field",key:Symbol(),placement:"own",descriptor:{},initializer(){"function"==typeof t.initializer&&(this[t.key]=t.initializer.call(this))},finisher(i){i.createProperty(t.key,e)}}:Object.assign({},t,{finisher(i){i.createProperty(t.key,e)}}),de=(e,t,i)=>{t.constructor.createProperty(i,e)};function ce(e){return(t,i)=>void 0!==i?de(e,t,i):le(e,t)}function ue(e){return(t,i)=>{const o={get(){return this.renderRoot.querySelector(e)},enumerable:!0,configurable:!0};return void 0!==i?pe(o,t,i):me(o,t)}}function he(e){return(t,i)=>{const o={get(){return this.renderRoot.querySelectorAll(e)},enumerable:!0,configurable:!0};return void 0!==i?pe(o,t,i):me(o,t)}}const pe=(e,t,i)=>{Object.defineProperty(t,i,e)},me=(e,t)=>({kind:"method",placement:"prototype",key:t.key,descriptor:e}),fe=e=>(t,i)=>void 0!==i?((e,t,i)=>{Object.assign(t[i],e)})(e,t,i):((e,t)=>Object.assign({},t,{finisher(i){Object.assign(i.prototype[t.key],e)}}))(e,t),ge="adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,we=Symbol();class ye{constructor(e,t){if(t!==we)throw new Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e}get styleSheet(){return void 0===this._styleSheet&&(ge?(this._styleSheet=new CSSStyleSheet,this._styleSheet.replaceSync(this.cssText)):this._styleSheet=null),this._styleSheet}toString(){return this.cssText}}const be=e=>new ye(String(e),we),ve=(e,...t)=>{const i=t.reduce((t,i,o)=>t+(e=>{if(e instanceof ye)return e.cssText;if("number"==typeof e)return e;throw new Error(`Value passed to 'css' function must be a 'css' function result: ${e}. Use 'unsafeCSS' to pass non-literal values, but\n            take care to ensure page security.`)})(i)+e[o+1],e[0]);return new ye(i,we)};i.d(t,"LitElement",(function(){return xe})),i.d(t,"defaultConverter",(function(){return Z})),i.d(t,"notEqual",(function(){return Y})),i.d(t,"UpdatingElement",(function(){return se})),i.d(t,"customElement",(function(){return ae})),i.d(t,"property",(function(){return ce})),i.d(t,"query",(function(){return ue})),i.d(t,"queryAll",(function(){return he})),i.d(t,"eventOptions",(function(){return fe})),i.d(t,"html",(function(){return M})),i.d(t,"svg",(function(){return U})),i.d(t,"TemplateResult",(function(){return k})),i.d(t,"SVGTemplateResult",(function(){return x})),i.d(t,"supportsAdoptingStyleSheets",(function(){return ge})),i.d(t,"CSSResult",(function(){return ye})),i.d(t,"unsafeCSS",(function(){return be})),i.d(t,"css",(function(){return ve})),
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
(window.litElementVersions||(window.litElementVersions=[])).push("2.2.1");const ke=e=>e.flat?e.flat(1/0):function e(t,i=[]){for(let o=0,r=t.length;o<r;o++){const r=t[o];Array.isArray(r)?e(r,i):i.push(r)}return i}(e);class xe extends se{static finalize(){super.finalize.call(this),this._styles=this.hasOwnProperty(JSCompiler_renameProperty("styles",this))?this._getUniqueStyles():this._styles||[]}static _getUniqueStyles(){const e=this.styles,t=[];if(Array.isArray(e)){ke(e).reduceRight((e,t)=>(e.add(t),e),new Set).forEach(e=>t.unshift(e))}else e&&t.push(e);return t}initialize(){super.initialize(),this.renderRoot=this.createRenderRoot(),window.ShadowRoot&&this.renderRoot instanceof window.ShadowRoot&&this.adoptStyles()}createRenderRoot(){return this.attachShadow({mode:"open"})}adoptStyles(){const e=this.constructor._styles;0!==e.length&&(void 0===window.ShadyCSS||window.ShadyCSS.nativeShadow?ge?this.renderRoot.adoptedStyleSheets=e.map(e=>e.styleSheet):this._needsShimAdoptedStyleSheets=!0:window.ShadyCSS.ScopingShim.prepareAdoptedCssText(e.map(e=>e.cssText),this.localName))}connectedCallback(){super.connectedCallback(),this.hasUpdated&&void 0!==window.ShadyCSS&&window.ShadyCSS.styleElement(this)}update(e){super.update(e);const t=this.render();t instanceof k&&this.constructor.render(t,this.renderRoot,{scopeName:this.localName,eventContext:this}),this._needsShimAdoptedStyleSheets&&(this._needsShimAdoptedStyleSheets=!1,this.constructor._styles.forEach(e=>{const t=document.createElement("style");t.textContent=e.cssText,this.renderRoot.appendChild(t)}))}render(){}}xe.finalized=!0,xe.render=(e,t,i)=>{if(!i||"object"!=typeof i||!i.scopeName)throw new Error("The `scopeName` option is required.");const o=i.scopeName,r=V.has(t),n=H&&11===t.nodeType&&!!t.host,s=n&&!G.has(o),l=s?document.createDocumentFragment():t;if(((e,t,i)=>{let o=V.get(t);void 0===o&&(a(t,t.firstChild),V.set(t,o=new P(Object.assign({templateFactory:R},i))),o.appendInto(t)),o.setValue(e),o.commit()})(e,l,Object.assign({templateFactory:J(o)},i)),s){const e=V.get(l);V.delete(l);const i=e.value instanceof b?e.value.template:void 0;X(o,l,i),a(t,t.firstChild),t.appendChild(l),V.set(t,e)}!r&&n&&window.ShadyCSS.styleElement(t.host)}},function(e,t,i){"use strict";var o=this&&this.__awaiter||function(e,t,i,o){return new(i||(i=Promise))((function(r,n){function s(e){try{l(o.next(e))}catch(e){n(e)}}function a(e){try{l(o.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const r=i(1),n=i(7),s=i(0),a=i(4),l=i(3);class d extends r.LitElement{constructor(){super(...arguments),this.points=0,this.levels=a.levels,this.i=0,this.n=0,this.l=0,this.ref=!1,this.speech=window.speechSynthesis,this.oldValue="A2"}static get properties(){return{}}static get styles(){return[r.css`
        :host {
          background: white;;
          width: 100vw;
          height: 100vh;
         
          --global-font: "Cabin", sans-serif;
          --global-color: #7fb2ff;
          --mobile-background-color: #ccd4e0;
          --mobile-top: linear-gradient(to bottom, #a57fff, #63bda2);
          --mobile-bottom: linear-gradient(to top, #a57fff, #63bda2);
          --mobile-global: #87c0c0;
          --desktop-color: #a57fff;
          --warn-color: #fff27f;
          --bad-color: #ffb27f;
          --good-color: #7dffaf;
          overflow: hidden;
        }
        
        #title {
          font-family: var(--global-font);
          font-size: 2rem;
        }
        #menubutton:hover{
          transform: scale(1.2);
          cursor: pointer;
        }
        #container {
          display: flex;
          width: 100%;
          justify-content: center;
          text-align: center;
          height: 100%;
        }
        input {
          outline: 1px solid white;
          border: none;
          animation: borderFlicker 0.4s infinite alternate-reverse;
        }

        @keyframes borderFlicker {
          100% {
            outline: 1px var(--global-color) solid;
          }
        }
        @keyframes wrong {
          to {
            background-color: var(--bad-color);
            color: white;
            outline: 1px solid var(--bad-color);
          }
        }

        input,
        .theword {
          width: 20vw;
          height: 30vh;
          font-size: 200%;
          display: flex;
          align-items: center;
          justify-content: center;
          text-align: center;
          font-family: var(--global-font);
         
        }
        input{
          background-color:  transparent;
          color: var(--global-color);
          outline: 1px solid transparent;
        }
 
        @keyframes stop {
          to {
            outline: 1px solid var(--global-color);
          }
        }
        .theword {
          cursor: pointer;
          border: 1px solid var(--global-color);
          background-color:  var(--global-color);
          color: white;
        }
        select {
          justify-self: flex-start;
          padding: 0.6rem;
          width: max-content;
          background-color: white;
          font-family: var(--global-font);
          color: black;
          border: 1px solid black;
          margin-top: .6rem;
        }

        option {
          padding: 0.4rem;
          font-family: var(--global-font);
          font-size: 120%;
          background-color: white;
          color: black;
          border: 1px solid black;
        }

        #below {
          display: flex;
          margin-top: 6vh;
          width: 100%;
          height: 2.4rem;
          font-size: 140%;
          justify-content: center;
          color: black;
          font-family: var(--global-font);
        }
       

        .icon {
          object-fit: contain;
          background-color: transparent;
          width: 4.2rem;
          height: 1.8rem;
          margin-left: 1rem;
        }

        .flip-card {
          background-color: transparent;
          width: 20vw;
          height: 30vh;
          perspective: 1000px;
        }

        .flip-card-inner {
          position: relative;
          width: 100%;
          height: 100%;
          text-align: center;
          transition: transform 0.8s;
          transform-style: preserve-3d;
        }

        .flip-card-front,
        .flip-card-back {
          position: absolute;
          width: 100%;
          height: 100%;
          backface-visibility: hidden;
        }
        #points {
            border: none;
            background: transparent;
            color: white;
          width: max-content;
          height: max-content;
          font-size: 1rem;
        
          font-family: var(--global-font);
        }

        .flip-card-back {
          cursor: pointer;
          background-color: var(--global-color);
          color: white;
          display: flex;
          justify-content: center;
          align-items: center;
          font-family: var(--global-font);
          font-size: 200%;
          transform: rotateY(180deg);
          outline: 1px solid var(--global-color);
        }
        #translationbox {
          width: 100%;
          text-align: center;
          height: max-content;
          background-color: transparent;
          color: black;
          padding: 0.2rem;
          font-size: 130%;
          margin-top: 20vh;
          margin-bottom: 4vh;
          z-index: 997;
          font-family: var(--global-font);
        }

        #speaker {
          font-family: Arial, Helvetica, sans-serif;
          font-size: 80%;
          margin-left: 0.7rem;
          width: 1.6rem;
          height: 1.6rem;
        }

        .hoverable {
          cursor: pointer;
          transform: scale(1.1);
        }

        #buttons {
          display:flex;
            background: var(--desktop-color);
            justify-content: space-between;
            height: 10vh;
            align-items: center;
            padding-left: 2%;
            padding-right: 2%;
            width: 96%;
            color: white;
          }
        
        .modal {
          display: flex;
          justify-content: center;
          align-items: center;
          position: fixed;
          top: 0;
          left: 0;
          width: 100%;
          height: 100vh;
          z-index: 999;
        }
        
        
        @keyframes accepted {
          to {
            background-color: var(--global-color);
            color: white;
            outline: 1px solid var(--global-color);
          }
        }

        .box {
          font-size: 2rem;
          background-color: white;
          display: flex;
          flex-direction: column;
          justify-content: center;
          color: black;
          width: 60%;
          padding: 1rem;
          box-shadow: 3px 3px 6px gray;
          font-family: var(--global-font);
          text-align: center;
        }

        @media only screen and (max-width: 600px) {
          :host {
            background-image: none;
           
          }
          .flip-card,
          input,
          .theword {
            width: 30vw;
            height: 20vh;
            font-size: 80%;
            padding-left: 0.1rem;
            padding-right: 0.1rem;
          }
          .flip-card-back {
            font-size: 90%;
          }
          #below {
            position: absolute;
            bottom: 0;
            left: 0;
            display: flex;
            margin-bottom: 0;
            background: var(--desktop-color);
            height: 8vh;
            align-items: center;
            color: black;
            width: 100%;
            justify-content: center;
            color: white;

          }
          #points {
            border: none;
            background: transparent;
            color: white;
          }
          #buttons {

            background: var(--desktop-color);
         
          }
          
        #title{
          font-size: 1rem;
        }
        #wrapper {
           display: flex;
          flex-direction: column;
          align-content: center;
          align-items: center;
          justify-content: center;
          justify-items: center;
          width: 100%;
          height: 100%;
          position: absolute;
          top: 0;
          left: 0;
          margin: 0;
          padding: 0;
        }
          #translationbox  {
            margin-top: 22vh;
            height: max-content;
            width: 80vw;
            text-align: center;
          }
         
          #buttons > svg {
            fill: white;
          }
          #speaker {
            margin-left: 0.3rem;
            font-size: 100%;
            width: 1rem;
            height: 1rem;
          }
          
          #box {
            font-size: 1.4rem;
            width: 90%;
            box-shadow: 3px 3px 3px gray;
          }
        }
      `]}firstUpdated(e){super.firstUpdated(e),this.profileCard=this.shadowRoot.querySelector("#settings"),this.points=this.pointCollection.A2,this.container=this.shadowRoot.querySelector("#container"),this.congratulations=this.shadowRoot.querySelector("#congratulations"),this.congratulations.style.display="none",this.data=this.levels.A2,this.l=Object.entries(this.data).length,this.i=Math.floor(Math.random()*this.l),this.n=Math.floor(3*Math.random());let t=Object.entries(this.data)[this.i];t[0].includes(" ")?this.translation=Object.values(t)[0].toString():this.translation=t[0];let i=t.slice(0);this.correctWord=Array.from(i[1]),this.greet(),this.requestUpdate()}greet(){setTimeout(()=>{this.shadowRoot.querySelector("#greeting").style.display="none",this.wordsAnimation()},2400)}wordsAnimation(){requestAnimationFrame(()=>{Array.from(this.shadowRoot.querySelectorAll(".theword, input")).forEach((e,t)=>{e.animate([{transform:"translateY(-20px)"},{transform:"translateY(0px)"}],{duration:600,delay:100*t})})})}selectionChoice(e){"All"===e?Object.values(this.levels).map(e=>this.data=Object.assign({},e)):this.data=this.levels[`${e}`],this.points=this.pointCollection[`${e}`],requestAnimationFrame(()=>{this.wordsAnimation()}),this.refreshNumber()}menuFunctionality(){this.profileCard.style.transform="translateX(0vw)",requestAnimationFrame(()=>{this.shadowRoot.querySelector("#wrapper").onclick=()=>{this.profileCard.style.transform="translateX(-80vw)",requestAnimationFrame(()=>{this.shadowRoot.querySelector("#wrapper").onclick=null})}})}pointsAddition(){this.points=this.points+1,this.pointCollection[`${this.oldValue}`]=this.points,s.writeUserData(this.user.uid,this.pointCollection,this.user.name),this.requestUpdate(),this.profileCard.requestUpdate()}showTheAnswer(){this.shadowRoot.querySelector(".flip-card-inner").style.transform="rotateY(180deg)",this.requestUpdate()}congratulate(){let e=this.shadowRoot.querySelector("#points");if(this.points%5==0&&(document.querySelector("#canvas").style.display="block",e.animate([{transform:"scale(1.2) rotate(5deg) translateX(-10px)"},{transform:"scale(1.3) rotate(-5deg) translateX(-10px)"},{transform:"scale(1) rotate(0deg) translateX(0px)"}],{duration:1e3}),this.points%10==0)){let e={target:"canvas"};new n.default(e).render(),this.points%60==0&&(this.congratulations.style.display="flex")}}logingOut(){window.firebase.auth().signOut().then(()=>{this.user=null,localStorage.removeItem("user-info"),localStorage.removeItem("points"),l.showLog("Zostałeś wylogowany","Wracaj szybciutko, już tęsknimy!",!0,!1)})}hoverable(e){e.preventDefault(),e.target.classList.add("hoverable"),e.target.addEventListener("mouseout",e=>{e.target.classList.remove("hoverable")})}flicker(){if(1===this.points){Array.from(this.shadowRoot.querySelectorAll(".theword")).forEach(e=>{e.style.opacity="0",e.style.transition=".3s"})}}refreshNumber(){requestAnimationFrame(()=>{"none"===this.congratulations.style.display&&setTimeout((function(){document.querySelector("#canvas").style.display="none"}),1e3),Array.from(this.shadowRoot.querySelectorAll(".theword")).forEach(e=>{e.style.opacity="1"}),this.n=Math.floor(3*Math.random()),this.l=Object.entries(this.data).length,this.i=Math.floor(Math.random()*this.l);let e=Object.entries(this.data)[this.i];e[0].includes(" ")?this.translation=Object.values(e)[0].toString():this.translation=e[0];let t=e.slice(0);this.correctWord=Array.from(t[1]),this.shadowRoot.querySelector("#input").value="",this.shadowRoot.querySelector("#input").style.animation="borderFlicker .6s infinite alternate-reverse",this.ref=!1,this.shadowRoot.querySelector(".flip-card-inner").style.transform="rotateY(0deg)",this.requestUpdate()})}readTheWord(e){let t=new SpeechSynthesisUtterance(e);t.rate=.7;let i=this.speech.getVoices();t.voice=i[10],t.lang="en-US",this.speech.speak(t)}updated(e){super.updated(e),requestAnimationFrame(()=>{this.shadowRoot.querySelector("#input").focus()})}render(){return r.html`
   <profile-card @logout="${this.logingOut}" @previousValue="${e=>{this.oldValue=e.detail.oldValue()}}" @valueSelected="${e=>{this.selectionChoice(e.detail.newValue())}}" id="settings" .userName="${this.user.name}" .userEmail="${this.user.email}" .userid="${this.user.uid}" .pointCollection="${this.pointCollection}"></profile-card>
 <div class="modal" id="greeting"> 
           <div class="box"> <p> ${this.greetingMessage}, ${this.user.name}!</p></div>
        </div>
    <div class="modal" id="congratulations" @click="${()=>{this.congratulations.style.display="none",setTimeout((function(){document.querySelector("#canvas").style.display="none"}),1e3)}}"> 
        <div class="box">
            <p>Świetnie Ci idzie, ${this.user.name.split(" ")}!</p>
            <p>Może pora przenieść się na wyższy poziom?</p></div>
          
        </div></div>
 <div id="wrapper">
    <div id="buttons">
    <img id="menubutton" src="./img/burger.svg" @click="${this.menuFunctionality}">
      <p id="title">English Verbs Game</p>
<div id="points">${"All"!==this.oldValue?`Poziom ${this.oldValue}:`:"Wymieszane poziomy:"} ${this.points}</div>
</div>
<div id="translationbox">Tłumaczenie: ${this.translation}</div>
    <div id="container">
    
    ${void 0===this.correctWord?void 0:this.correctWord.map((e,t)=>t!==this.n?r.html`
          <div
            class="theword"
            @click="${()=>{this.readTheWord(e)}}"
            @mouseover="${e=>{this.hoverable(e)}}"
          >
            <span class="word"
              >${Array.isArray(e)?e.join(" "):e}</span
            ><span id="speaker"><img src="./img/soundwhite.svg"/></span>
          </div>
        `:r.html`
            <div class="flip-card">
  <div class="flip-card-inner">
    <div class="flip-card-front">
    <input id="input" data-value="${e}" type="text" @keydown="${t=>{if(this.profileCard.style.transform="translateX(-80vw)",0!==t.target.value.length&&(t.target.style.animation="stop .3s forwards"),13===t.keyCode)if(Array.isArray(e)){e.join().toLowerCase().includes(t.target.value.toString().toLowerCase())?(this.pointsAddition(),this.flicker(),this.congratulate(),1===this.points?(t.target.style.animation="accepted .3s forwards .1s",setTimeout(()=>{this.refreshNumber()},1200)):(t.target.style.animation="accepted .3s forwards",setTimeout(()=>{this.refreshNumber()},400))):(t.target.style.animation="wrong .3s forwards",this.ref=!0,this.requestUpdate())}else t.target.value.toLowerCase()===e?(this.pointsAddition(),this.flicker(),this.congratulate(),1===this.points?(t.target.style.animation="accepted .3s forwards .1s",setTimeout(()=>{this.refreshNumber()},1200)):(t.target.style.animation="accepted .3s forwards",setTimeout(()=>{this.refreshNumber()},400))):(t.target.style.animation="wrong .3s forwards .1s",this.ref=!0,this.requestUpdate())}}">
    </div>
    <div  @click="${()=>{this.readTheWord(e)}}" class="flip-card-back">
      <span class="word">${Array.isArray(e)?e.join(" "):e}</span><span id="speaker"><img src="./img/soundwhite.svg"></span></span>
    </div>
  </div>
</div>
            `)}
               
    </div>
    
    
   <div id="below"><a id="skip" @mouseover="${e=>{this.hoverable(e)}}" @click="${this.refreshNumber}">Inne słowo</a> ${this.ref?r.html`
            <a @click="${this.showTheAnswer}"
              ><img
                @mouseover="${e=>{this.hoverable(e)}}"
                class="icon"
                src="./img/eye.svg"
            /></a>
          `:void 0}</div></div>
  
    `}}t.EnglishVerbsGame=d,customElements.define("english-verbs",d),t.showTheGame=function(e,t,i,r,n="Witaj"){return o(this,void 0,void 0,(function*(){document.body.classList.add("ready"),localStorage.removeItem("isRedirecting");const o=yield new d;return o.greetingMessage=n,o.user={email:t,uid:i,name:e},o.pointCollection=r,null===document.querySelector(".welcome")?document.body.removeChild(document.querySelector("#log")):(null!==document.querySelector("#log")&&document.body.removeChild(document.querySelector("#log")),document.body.removeChild(document.querySelector(".welcome"))),document.body.appendChild(o),o}))}},function(e,t,i){"use strict";var o=this&&this.__awaiter||function(e,t,i,o){return new(i||(i=Promise))((function(r,n){function s(e){try{l(o.next(e))}catch(e){n(e)}}function a(e){try{l(o.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const r=i(1),n=i(0);class s extends r.LitElement{static get styles(){return[r.css`
				.welcome {
					width: 100%;
					height: 100vh;
					display: flex;
					flex-direction: row;
					align-items: center;
					justify-content: center;
					background-image: url("./img/wave1.svg");
					background-size: contain;
					background-repeat: repeat-x;
					background-position: bottom;
				}
				.wiadomosc {
					margin-right: 13rem;
					display: flex;
					flex-direction: column;
					align-items: center;
					justify-content: center;
					width: 20vw;
					height: max-content;
				}
				.wiadomoscoff {
					display: flex;
					flex-direction: column;
					align-items: center;
					justify-content: center;
					width: 30vw;
					height: max-content;
					background: white;
					box-shadow: 1px 4px 6px gray;
					padding: 2rem;
				}
				#witaj,
				.info {
					font-family: 'Montserrat', sans-serif;
					font-size: 1.3rem;
					text-align: center;
				}
				.logowanie {
					cursor: pointer;
					justify-self: flex-start;
					padding: .6rem;
					width: max-content;
					background-color: transparent;
					font-size: 1.2rem;
					border: 1px solid black;
					box-shadow: 1px 1px 3px gray;
				}

				.sadcat {
					width: 6rem;
					height: 6rem;
				}
				#nowekonto {
					cursor: pointer;
					border: none;
					background: none;
					font-size: 1rem;
					margin-top: .2rem;
				}

				.logowanie:hover {
					transition: 1s;
					color: white;
					border: 1px solid white;
					background: linear-gradient(to top, #a57fff, #63bda2);
				}
				@media screen and (max-width: 600px) {
					.wiadomosc,
					.wiadomoscoff {
						width: 68vw;
						background: white;
						box-shadow: 1px 3px 6px gray;
						margin: 0;
						padding-bottom: 2rem;
					}
				}
			`]}logOut(){this.dispatchEvent(new CustomEvent("logout",{bubbles:!0,composed:!0})),this.requestUpdate()}render(){return r.html`   
		<div class="welcome">
		<div class="wiadomoscoff">
		<img class="sadcat" src="./img/ghost.svg">
		
		<p id="witaj">${this.title}</p>
		<p class="info">${this.message}</p>
		${this.logButton?r.html`<button class="logowanie" @click="${n.redirectingSignUp}">Zaloguj się ponownie</button>`:void 0}
		
	</div></div>
	  `}}t.LogScreen=s,customElements.define("log-screen",s),t.showLog=function(e,t,i=!1,r=!1){return o(this,void 0,void 0,(function*(){const o=yield new s;return o.title=e,o.message=t,o.sadCat=r,o.logButton=i,o.id="log",document.body.removeChild(document.body.lastChild),document.body.appendChild(o),o}))}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.levels={A2:{"śnić, marzyć":["dream",["dreamed","dreamt"],["dreamed","dreamt"]],"być":["be","was","been"],"robić":["do","did","done"],"stawać się":["become","became","become"],"łamać, pękać, rozbić, tłuc":["break","broke","broken"],"przynosić, przyprowadzić":["bring","brought","brought"],"budować":["build","built","built"],"kupować":["buy","bought","bought"],"łapać":["catch","caught","caught"],"wybierać":["choose","chose","chosen"],"przyjść, przyjechać":["come","came","come"],"kosztować":["cost","cost","cost"],"ciąć, kroić, skaleczyć":["cut","cut","cut"],"rysować, pociągnąć, remisować":["draw","drew","drawn"],"prowadzić, kierować się czymś":["drive","drove","driven"],"pić":["drink","drank","drunk"],"jeść":["eat","ate","eaten"],"padać, upadać, spadać":["fall","fell","fallen"],"czuć":["feel","felt","felt"],"znaleźć":["find","found","found"],"latać":["fly","flew","flown"],"dostawać":["get","got","got"],"dawać":["give","gave","given"],"iść":["go","went","gone"],"rosnąć":["grow","grew","grown"],"mieć":["have","had","had"],"słyszeć":["hear","heard","heard"],"uderzać":["hit","hit","hit"],"trzymać, utrzymywać, podtrzymywać":["hold","held","held"],"ranić, boleć":["hurt","hurt","hurt"],"trzymać":["keep","kept","kept"],"znać, wiedzieć":["know","knew","known"],"uczyć się":["learn",["learnt","learned"],["learnt","learned"]],"opuszczać, wyjeżdżać, zostawiać":["leave","left","left"],"pożyczać (komuś)":["lend","lent","lent"],"tracić, zgubić":["lose","lost","lost"],"robić, wykonywać":["make","made","made"],"znaczyć, oznaczać, mieć na myśli":["mean","meant","meant"],"spotykać, poznać":["meet","met","met"],"płacić":["pay","paid","paid"],"kłaść":["put","put","put"],"czytać":["read","read","read"],"jeździć":["ride","rode","ridden"],"dzwonić":["ring","rang","rung"],biec:["run","ran","run"],"mowić":["say","said","said"],"widzieć":["see","saw","seen"],"sprzedawać":["sell","sold","sold"],"wysyłać, słać":["send","sent","sent"],"pokazywać":["show","showed","shown"],"zamykać":["shut","shut","shut"],"śpiewać":["sing","sang","sung"],"siedzieć, siadać":["sit","sat","sat"],"spać":["sleep","slept","slept"],"mówić, rozmawiać":["speak","spoke","spoken"],"spędzać, wydawać":["spend","spent","spent"],"stać":["stand","stood","stood"],"kraść":["steal","stole","stolen"],"pływać":["swim","swam","swum"],"brać":["take","took","taken"],"uczyć (kogoś)":["teach","taught","taught"],"powiedzieć, opowiedzieć":["tell","told","told"],"myśleć, sądzić, uważać":["think","thought","thought"],"rzucać":["throw","threw","thrown"],"budzić":["wake","woke","woken"],"nosić, zakładać":["wear","wore","worn"],"rozumieć":["understand","understood","understood"],"wygrywać":["win","won","won"],"pisać":["write","wrote","written"]},B1:{"obudzić":["awake","awoke","awoken"],"bić":["beat","beat","beaten"],"ugryźc":["bite","bit","bitten"],"krwawić":["bleed","bled","bled"],"wiać, dmuchać":["blow","blew","blown"],"palić, parzyć, płonąć":["burn",["burned","burnt"],["burned","burnt"]],"kopać (np ziemię)":["dig","dug","dug"],"karmić, żywić":["feed","fed","fed"],"walczyć, bić się":["fight","fought","fought"],"zapominać":["forget","forgot","forgotten"],"wybaczać":["forgive","forgave","forgiven"],"zamarzać":["freeze","froze","frozen"],"zawieszać (coś, np obraz)":["hang","hung","hung"],"chować, ukrywać":["hide","hid","hidden"],"pozwalać":["let","let","let"],"leżeć, kłaść się":["lie","lay","lain"],"zapalać, rozpalać, oświetlać":["light",["lighted","lit"],["ligthed","lit"]],"rzucać, opuszczać":["quit","quit","quit"],"podnosić, wzrastać":["rise","rose","risen"],"trząść, potrząsać":["shake","shook","shaken"],"świecić, błyszczeć":["shine","shone","shone"],"strzelać":["shoot","shot","shot"],"tonąć (o statku), zapadać się":["sink","sank","sunk"],"wbijać, wtykać, przyklejać, wystawić":["stick","stuck","stuck"],"uderzyć, wybijać":["strike","struck","struck"],"drzeć, rozdzierać":["tear","tore","torn"]},B2:{"znosić, udźwignąć coś, żywić urazę":["bear","bore","borne"],"zginać, nachylać":["bend","bent","bent"],"hodować, wychować, rozmażać się":["breed","bred","bread"],"rzucić, zrzucić":["cast","cast","cast"],"rozdawać, postępować, mieć do czynienia, radzić sobie":["deal","dealt","dealt"],"zabraniać":["forbid","forbade","forbidden"],"klęczeć, klękać":["kneel",["kneeled","knelt"],["kneeled","knelt"]],"robić na drutach":["knit",["knit","knitted"],["knit","knitted"]],"prowadzić":["lead","led","led"],"szukać, poszukiwać":["seek","sought","sought"],"umieszczać, ustawiać, zachodzić (o słońcu), osadzić, nastawić, wyznaczyć":["set","set","set"],"kurczyć się, zbiegać":["shrink","shrank","shrunk"],"ślizgać się, zjeżdżać":["slide","slid","slid"],"dzielić, rozdzielać":["split","split","split"],"rozchodzić się, rozprzestrzeniać, rozkładać, rozpościerać, rozsmarować":["spread","spread","spread"],"przysięgać, przeklinać":["swear","swore","sworn"],"zamiatać, zmiatać":["sweep","swept","swept"],"machnąć, zakołysać":["swing","swung","swung"]},C1:{"pojawić się":["arise","arose","arisen"],"zakładać, obstawiać":["bet","bet","bet"],"umykać, uciekać, opuścić":["flee","fled","fled"],"położyć, kłaść":["lay","laid","laid"],"kręcić, zakręcić czymś/się, obrócić":["spin","spun","spun"],"śmierdzieć, cuchnąć":["stink","stank","stunk"]},C2:{"wiązać, złączyć, oprawić (książkę)":["bind","bound","bound"],"przywrzeć, uczepić się, trzymać się kurczowo":["cling","clung","clung"],"skradać się, zakradać, piąć się, podchodzić":["creep","crept","crept"],"rzucić, cisnąć":["fling","flung","flung"],"porzucać, zaniechać, opuścić":["forsake","forsook","forsaken"],"przepowiadać, przewidywać":["foretell","foretold","foretold"],"zemleć, rozkruszyć, zgrzytać, ostrzyć, trzeć":["grind","ground","ground"],"skakać":["leap",["leaped","lept"],["leaped","lept"]],"piłować":["saw","sawed","sawn"],"zrzucać, pozbywać się":["shed","shed","shed"],"zabijać":["slay","slew","slain"],"cisnąć, miotać":["sling","slung","slung"],"przeskakiwać, wyskakiwać":["spring","sprang","sprung"],"żądlić":["sting","stung","stung"],"zmagać się z czymś, dążyć, starać się, podejmować wysiłek":["strive","strove","striven"],"kroczyć, stąpać, deptać":["tread","trod","trodden"],"płakać, szlochać":["weep","wept","wept"],"nawijać, nakręcać, wić się":["wind","wound","wound"],"wykręcić, wyżąć coś, wycisnąć":["wring","wrung","wrung"]}}},function(e,t,i){"use strict";var o=this&&this.__awaiter||function(e,t,i,o){return new(i||(i=Promise))((function(r,n){function s(e){try{l(o.next(e))}catch(e){n(e)}}function a(e){try{l(o.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const r=i(1),n=i(0);class s extends r.LitElement{static get styles(){return[r.css`
				:host {
					position: absolute;
					top: 0;
					left: 0;
					width: 100%;
					height: 100vh;
					display: flex;
					flex-direction: row;
					align-items: center;
					justify-content: center;
					z-index: 999;
				}
				.wiadomosc {
					margin-right: 13rem;
					display: flex;
					flex-direction: column;
					align-items: center;
					justify-content: center;
					width: 20vw;
					height: max-content;
				}
				.wiadomoscoff {
					display: flex;
					flex-direction: column;
					align-items: center;
					justify-content: center;
					width: 30vw;
					height: max-content;
					background: white;
					box-shadow: 1px 4px 6px gray;
					padding: 2rem;
				}
				#witaj,
				.info {
					font-family: 'Montserrat', sans-serif;
					font-size: 1.3rem;
					text-align: center;
					width: 100%;
				}
				.info {
					resize: none;
					font-size: 1rem;
					height: 20vh;
					text-align: left;
					margin-bottom: 1rem;
					text-overflow: scroll;
				}

				.logowanie {
					cursor: pointer;
					justify-self: flex-start;
					padding: .6rem;
					width: max-content;
					background-color: transparent;
					font-size: 1.2rem;
					border: 1px solid black;
					box-shadow: 1px 1px 3px gray;
				}
				#close {
					cursor: pointer;
					margin-top: -1rem;
					align-self: flex-end;
					font-family: 'Montserrat', sans-serif;
				}

				.sadcat {
					width: 6rem;
					height: 6rem;
				}
				#nowekonto {
					cursor: pointer;
					border: none;
					background: none;
					font-size: 1rem;
					margin-top: .2rem;
				}

				.logowanie:hover {
					transition: 1s;
					color: white;
					border: 1px solid white;
					background: linear-gradient(to top, #a57fff, #63bda2);
				}
				@media screen and (max-width: 600px) {
					.wiadomosc,
					.wiadomoscoff {
						width: 80vw;
						background: white;
						box-shadow: 1px 3px 6px gray;
						margin: 0;
						padding-bottom: 2rem;
					}
				}
			`]}sendInfo(e){e.preventDefault();let t=this.shadowRoot.querySelector(".info").value;n.reportBugToServer(this.userid,t),this.shadowRoot.querySelector("#witaj").textContent="Dziękujemy za zgłoszenie",this.shadowRoot.querySelector(".info").style.display="none",this.shadowRoot.querySelector(".logowanie").style.display="none",this.shadowRoot.querySelector("#close").style.display="none",setTimeout((function(){document.body.removeChild(document.querySelector("#reportbug"))}),3e3)}render(){return r.html` 
		<form @submit="${e=>{this.sendInfo(e)}}">
		<div class="wiadomoscoff">
		<span @click="${e=>{this.addEventListener("click",()=>{document.body.removeChild(document.querySelector("#reportbug"))})}}" id="close">X</span>
		<p id="witaj">Opisz swój problem w okienku poniżej:</p>
		<textarea class="info"></textarea>
		<button type="submit" class="logowanie">Wyślij</button>
		
	</div>
	</form>
	  `}}t.ReportBug=s,customElements.define("report-bug",s),t.reportBug=function(e){return o(this,void 0,void 0,(function*(){const t=yield new s;return t.userid=e,t.id="reportbug",document.body.appendChild(t),t}))}},function(e,t,i){"use strict";var o=this&&this.__awaiter||function(e,t,i,o){return new(i||(i=Promise))((function(r,n){function s(e){try{l(o.next(e))}catch(e){n(e)}}function a(e){try{l(o.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}))};function r(e){for(var i in e)t.hasOwnProperty(i)||(t[i]=e[i])}Object.defineProperty(t,"__esModule",{value:!0}),r(i(2)),r(i(4)),r(i(0)),r(i(8)),r(i(3)),r(i(5));const n=i(2);"localhost"!==location.hostname&&"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("sw.js")}),window.onload=e=>{!function(){o(this,void 0,void 0,(function*(){if(null!==localStorage.getItem("user-info")){let e=JSON.parse(localStorage.getItem("user-info")).user.uid;yield window.firebase.database().ref("/users/"+e).once("value").then((function(e){let t=e.val()&&e.val().points||{A2:0,B1:0,B2:0,C1:0,C2:0,All:0};localStorage.setItem("points",JSON.stringify({points:t}))}));n.showTheGame(JSON.parse(localStorage.getItem("user-info")).user.displayName,JSON.parse(localStorage.getItem("user-info")).user.email,JSON.parse(localStorage.getItem("user-info")).user.uid,JSON.parse(localStorage.getItem("points")).points)}}))}()}},function(e,t,i){"use strict";i.r(t),t.default=function(e){var t={target:"confetti-holder",max:80,size:1,animate:!0,props:["circle","square","triangle","line"],colors:[[165,104,246],[230,61,135],[0,199,228],[253,214,126]],clock:25,interval:null,rotate:!1,width:window.innerWidth,height:window.innerHeight};e&&(e.target&&(t.target=e.target),e.max&&(t.max=e.max),e.size&&(t.size=e.size),void 0!==e.animate&&null!==e.animate&&(t.animate=e.animate),e.props&&(t.props=e.props),e.colors&&(t.colors=e.colors),e.clock&&(t.clock=e.clock),e.width&&(t.width=e.width),e.height&&(t.height=e.height),void 0!==e.rotate&&null!==e.rotate&&(t.rotate=e.rotate));var i=document.getElementById(t.target),o=i.getContext("2d"),r=[];function n(e,t){e||(e=1);var i=Math.random()*e;return t?Math.floor(i):i}var s=t.props.reduce((function(e,t){return e+(t.weight||1)}),0);function a(){var e=t.props[function(){for(var e=Math.random()*s,i=0;i<t.props.length;++i){var o=t.props[i].weight||1;if(e<o)return i;e-=o}}()];return{prop:e.type?e.type:e,x:n(t.width),y:n(t.height),src:e.src,radius:n(4)+1,size:e.size,rotate:t.rotate,line:Math.floor(n(65)-30),angles:[n(10,!0)+2,n(10,!0)+2,n(10,!0)+2,n(10,!0)+2],color:t.colors[n(t.colors.length,!0)],rotation:n(360,!0)*Math.PI/180,speed:n(t.clock/7)+t.clock/30}}function l(e){var i=e.radius<=3?.4:.8;switch(o.fillStyle=o.strokeStyle="rgba("+e.color+", "+i+")",o.beginPath(),e.prop){case"circle":o.moveTo(e.x,e.y),o.arc(e.x,e.y,e.radius*t.size,0,2*Math.PI,!0),o.fill();break;case"triangle":o.moveTo(e.x,e.y),o.lineTo(e.x+e.angles[0]*t.size,e.y+e.angles[1]*t.size),o.lineTo(e.x+e.angles[2]*t.size,e.y+e.angles[3]*t.size),o.closePath(),o.fill();break;case"line":o.moveTo(e.x,e.y),o.lineTo(e.x+e.line*t.size,e.y+5*e.radius),o.lineWidth=2*t.size,o.stroke();break;case"square":o.save(),o.translate(e.x+15,e.y+5),o.rotate(e.rotation),o.fillRect(-15*t.size,-5*t.size,15*t.size,5*t.size),o.restore();break;case"svg":o.save();var r=new Image;r.src=e.src;var n=e.size||15;o.translate(e.x+n/2,e.y+n/2),e.rotate&&o.rotate(e.rotation),o.drawImage(r,-n/2*t.size,-n/2*t.size,n*t.size,n*t.size),o.restore()}}return{render:function(){i.width=t.width,i.height=t.height,r=[];for(var e=0;e<t.max;e++)r.push(a());return requestAnimationFrame((function e(){for(var i in o.clearRect(0,0,t.width,t.height),r)l(r[i]);!function(){for(var e=0;e<t.max;e++){var i=r[e];t.animate&&(i.y+=i.speed),i.rotate&&(i.rotation+=i.speed/35),(i.speed>=0&&i.y>t.height||i.speed<0&&i.y<0)&&(r[e]=i,r[e].x=n(t.width,!0),r[e].y=i.speed>=0?-10:parseFloat(t.height))}}(),t.animate&&requestAnimationFrame(e)}))},clear:function(){t.animate=!1,clearInterval(t.interval),requestAnimationFrame((function(){o.clearRect(0,0,i.width,i.height);var e=i.width;i.width=1,i.width=e}))}}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=i(1),r=i(5);class n extends o.LitElement{static get properties(){return{userName:{type:String,reflect:!0},userEmail:{type:String,reflect:!0},pointCollection:{type:Object,attribute:"pointcollection",reflect:!0}}}static get styles(){return[o.css`
				:host {
					transition: 1s;
					height: 100%;
					position: absolute;
					top: 0;
					left: 0;
					width: 20vw;
					background-color: gray;
					z-index: 998;
					transform: translateX(-80vw);
					display: flex;
					flex-direction: column;
					align-content: flex-start;
					font-family: var(--global-font);
					text-align: left;
					padding-left: 1vw;
					color: white;
				}
				#x {
					margin: 1rem 1rem 0 0;
					align-self: flex-end;
					color: white;
					cursor: pointer;
				}

				#signout,
				#bug {
					cursor: pointer;
				}
				p {
					margin-top: .8rem;
					margin-bottom: .8rem;
				}
				h1 {
					font-size: 1.4rem;
				}
				select {
					outline: 1px white solid;
					margin-top: .3rem;
					margin-left: none;
					padding: .3rem;
					border: none;
					background: white;
					color: black;
					width: 80%;
					-webkit-appearance: menulist;
					align-self: flex-start;
				}
				select > option {
					color: black;
				}
				label {
					align-self: flex-start;
				}
				#x:hover {
					transform: scale(1.2);
					cursor: pointer;
				}

				@media only screen and (max-width: 600px) {
					:host {
						width: 60vw;
					}
					p {
						margin-top: .8rem;
						margin-bottom: .8rem;
					}
					h1 {
						font-size: 1.4rem;
					}
				}
			`]}logOut(){this.dispatchEvent(new CustomEvent("logout",{bubbles:!0,composed:!0})),this.requestUpdate()}render(){return o.html`
  <h1>${this.userName}</h1>
  <p>${this.userEmail}</p>
  <label for="select">Zmień poziom:</label>
    <select @click="${e=>{this.dispatchEvent(new CustomEvent("previousValue",{bubbles:!0,composed:!0,detail:{oldValue:()=>this.shadowRoot.querySelector("#select").value}}))}}" @change="${e=>{this.dispatchEvent(new CustomEvent("valueSelected",{bubbles:!0,composed:!0,detail:{newValue:()=>this.shadowRoot.querySelector("#select").value}}))}}" id="select">
    ${Object.entries(this.pointCollection).map(([e,t])=>o.html`
  <option value="${e}">${"All"!=e?`Poziom ${e},`:"Wymieszane poziomy,"} punkty: ${t}</option>`)}
</select>

<p @click="${e=>{r.reportBug(this.userid)}}" id="bug">Zgłoś błąd</p>
<p id="signout" @click="${this.logOut}">Wyloguj</p>

    `}}t.ProfileCard=n,customElements.define("profile-card",n)}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWwudHMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xpdC1odG1sL2xpYi9kaXJlY3RpdmUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xpdC1odG1sL2xpYi9kb20uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xpdC1odG1sL2xpYi9wYXJ0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9saXQtaHRtbC9saWIvdGVtcGxhdGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xpdC1odG1sL2xpYi90ZW1wbGF0ZS1pbnN0YW5jZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbGl0LWh0bWwvbGliL3RlbXBsYXRlLXJlc3VsdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbGl0LWh0bWwvbGliL3BhcnRzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9saXQtaHRtbC9saWIvZGVmYXVsdC10ZW1wbGF0ZS1wcm9jZXNzb3IuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xpdC1odG1sL2xpYi90ZW1wbGF0ZS1mYWN0b3J5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9saXQtaHRtbC9saWIvcmVuZGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9saXQtaHRtbC9saXQtaHRtbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbGl0LWh0bWwvbGliL21vZGlmeS10ZW1wbGF0ZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbGl0LWh0bWwvbGliL3NoYWR5LXJlbmRlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbGl0LWVsZW1lbnQvbGliL3VwZGF0aW5nLWVsZW1lbnQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xpdC1lbGVtZW50L2xpYi9kZWNvcmF0b3JzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9saXQtZWxlbWVudC9saWIvY3NzLXRhZy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbGl0LWVsZW1lbnQvbGl0LWVsZW1lbnQuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2VuZ2xpc2gudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2xvZy1zY3JlZW4udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2RhdGEudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3JlcG9ydC1idWcudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LnRzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb25mZXR0aS1qcy9kaXN0L2luZGV4LmVzLmpzIiwid2VicGFjazovLy8uL3NyYy9wcm9maWxlLWNhcmQudHMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJ3aW5kb3ciLCJmaXJlYmFzZSIsImluaXRpYWxpemVBcHAiLCJhcGlLZXkiLCJhdXRoRG9tYWluIiwiZGF0YWJhc2VVUkwiLCJwcm9qZWN0SWQiLCJzdG9yYWdlQnVja2V0IiwibWVzc2FnaW5nU2VuZGVySWQiLCJhcHBJZCIsIm1lYXN1cmVtZW50SWQiLCJwcm92aWRlciIsImF1dGgiLCJHb29nbGVBdXRoUHJvdmlkZXIiLCJ3cml0ZVVzZXJEYXRhIiwidXNlcklkIiwicG9pbnRjb2xsZWN0aW9uIiwiZGF0YWJhc2UiLCJyZWYiLCJzZXQiLCJwb2ludHMiLCJyZWRpcmVjdGluZ1NpZ25VcCIsImxvY2FsU3RvcmFnZSIsInNldEl0ZW0iLCJzaWduSW5XaXRoUmVkaXJlY3QiLCJzZXRDdXN0b21QYXJhbWV0ZXJzIiwicHJvbXB0IiwibGFuZ3VhZ2VDb2RlIiwiZ2V0UmVkaXJlY3RSZXN1bHQiLCJ0aGVuIiwicmVzdWx0IiwiY3JlZGVudGlhbCIsImNvbnNvbGUiLCJsb2ciLCJ1c2VyIiwidWlkIiwib25jZSIsInNuYXBzaG90IiwidmFsIiwic2hvd1RoZUdhbWUiLCJkaXNwbGF5TmFtZSIsImVtYWlsIiwiQTIiLCJCMSIsIkIyIiwiQzEiLCJDMiIsIkFsbCIsIkpTT04iLCJzdHJpbmdpZnkiLCJjYXRjaCIsImVycm9yIiwiZXJyb3JNZXNzYWdlIiwibWVzc2FnZSIsInNob3dMb2ciLCJidWdNZXNzYWdlIiwicHVzaCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImFkZEV2ZW50TGlzdGVuZXIiLCJnZXRJdGVtIiwiYm9keSIsImNsYXNzTGlzdCIsImFkZCIsImRpcmVjdGl2ZXMiLCJXZWFrTWFwIiwiaXNEaXJlY3RpdmUiLCJoYXMiLCJpc0NFUG9seWZpbGwiLCJ1bmRlZmluZWQiLCJjdXN0b21FbGVtZW50cyIsInBvbHlmaWxsV3JhcEZsdXNoQ2FsbGJhY2siLCJyZXBhcmVudE5vZGVzIiwiY29udGFpbmVyIiwic3RhcnQiLCJlbmQiLCJiZWZvcmUiLCJuZXh0U2libGluZyIsImluc2VydEJlZm9yZSIsInJlbW92ZU5vZGVzIiwicmVtb3ZlQ2hpbGQiLCJub0NoYW5nZSIsIm5vdGhpbmciLCJtYXJrZXIiLCJTdHJpbmciLCJNYXRoIiwicmFuZG9tIiwic2xpY2UiLCJub2RlTWFya2VyIiwibWFya2VyUmVnZXgiLCJSZWdFeHAiLCJib3VuZEF0dHJpYnV0ZVN1ZmZpeCIsIlRlbXBsYXRlIiwiZWxlbWVudCIsInRoaXMiLCJwYXJ0cyIsIm5vZGVzVG9SZW1vdmUiLCJzdGFjayIsIndhbGtlciIsImNyZWF0ZVRyZWVXYWxrZXIiLCJjb250ZW50IiwibGFzdFBhcnRJbmRleCIsImluZGV4IiwicGFydEluZGV4Iiwic3RyaW5ncyIsInZhbHVlcyIsImxlbmd0aCIsIm5vZGUiLCJuZXh0Tm9kZSIsIm5vZGVUeXBlIiwiaGFzQXR0cmlidXRlcyIsImF0dHJpYnV0ZXMiLCJjb3VudCIsImVuZHNXaXRoIiwic3RyaW5nRm9yUGFydCIsImxhc3RBdHRyaWJ1dGVOYW1lUmVnZXgiLCJleGVjIiwiYXR0cmlidXRlTG9va3VwTmFtZSIsInRvTG93ZXJDYXNlIiwiYXR0cmlidXRlVmFsdWUiLCJnZXRBdHRyaWJ1dGUiLCJyZW1vdmVBdHRyaWJ1dGUiLCJzdGF0aWNzIiwic3BsaXQiLCJ0eXBlIiwidGFnTmFtZSIsImN1cnJlbnROb2RlIiwiZGF0YSIsImluZGV4T2YiLCJwYXJlbnQiLCJwYXJlbnROb2RlIiwibGFzdEluZGV4IiwiaW5zZXJ0IiwiY3JlYXRlTWFya2VyIiwibWF0Y2giLCJjcmVhdGVUZXh0Tm9kZSIsInByZXZpb3VzU2libGluZyIsInBvcCIsInN0ciIsInN1ZmZpeCIsImlzVGVtcGxhdGVQYXJ0QWN0aXZlIiwicGFydCIsImNyZWF0ZUNvbW1lbnQiLCJ0ZW1wbGF0ZSIsInByb2Nlc3NvciIsIm9wdGlvbnMiLCJfX3BhcnRzIiwic2V0VmFsdWUiLCJjb21taXQiLCJmcmFnbWVudCIsImNsb25lTm9kZSIsImltcG9ydE5vZGUiLCJub2RlSW5kZXgiLCJub2RlTmFtZSIsImhhbmRsZVRleHRFeHByZXNzaW9uIiwiaW5zZXJ0QWZ0ZXJOb2RlIiwiaGFuZGxlQXR0cmlidXRlRXhwcmVzc2lvbnMiLCJhZG9wdE5vZGUiLCJ1cGdyYWRlIiwiY29tbWVudE1hcmtlciIsImh0bWwiLCJpc0NvbW1lbnRCaW5kaW5nIiwiY29tbWVudE9wZW4iLCJsYXN0SW5kZXhPZiIsImF0dHJpYnV0ZU1hdGNoIiwic3Vic3RyIiwiY3JlYXRlRWxlbWVudCIsImlubmVySFRNTCIsImdldEhUTUwiLCJzdXBlciIsImdldFRlbXBsYXRlRWxlbWVudCIsInN2Z0VsZW1lbnQiLCJmaXJzdENoaWxkIiwiaXNQcmltaXRpdmUiLCJpc0l0ZXJhYmxlIiwiQXJyYXkiLCJpc0FycmF5IiwiaXRlcmF0b3IiLCJBdHRyaWJ1dGVDb21taXR0ZXIiLCJkaXJ0eSIsIl9jcmVhdGVQYXJ0IiwidGV4dCIsInYiLCJzZXRBdHRyaWJ1dGUiLCJfZ2V0VmFsdWUiLCJjb21taXR0ZXIiLCJkaXJlY3RpdmUiLCJfX3BlbmRpbmdWYWx1ZSIsInN0YXJ0Tm9kZSIsImFwcGVuZENoaWxkIiwiZW5kTm9kZSIsIl9faW5zZXJ0IiwiX19jb21taXRUZXh0IiwiX19jb21taXRUZW1wbGF0ZVJlc3VsdCIsIk5vZGUiLCJfX2NvbW1pdE5vZGUiLCJfX2NvbW1pdEl0ZXJhYmxlIiwiY2xlYXIiLCJ2YWx1ZUFzU3RyaW5nIiwidGVtcGxhdGVGYWN0b3J5IiwidXBkYXRlIiwiaW5zdGFuY2UiLCJfY2xvbmUiLCJpdGVtUGFydHMiLCJpdGVtUGFydCIsIml0ZW0iLCJhcHBlbmRJbnRvUGFydCIsImluc2VydEFmdGVyUGFydCIsIkVycm9yIiwiUHJvcGVydHlDb21taXR0ZXIiLCJzaW5nbGUiLCJQcm9wZXJ0eVBhcnQiLCJldmVudE9wdGlvbnNTdXBwb3J0ZWQiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiX2UiLCJldmVudE5hbWUiLCJldmVudENvbnRleHQiLCJfX2JvdW5kSGFuZGxlRXZlbnQiLCJlIiwiaGFuZGxlRXZlbnQiLCJuZXdMaXN0ZW5lciIsIm9sZExpc3RlbmVyIiwic2hvdWxkUmVtb3ZlTGlzdGVuZXIiLCJjYXB0dXJlIiwicGFzc2l2ZSIsInNob3VsZEFkZExpc3RlbmVyIiwiX19vcHRpb25zIiwiZ2V0T3B0aW9ucyIsImV2ZW50IiwiZGVmYXVsdFRlbXBsYXRlUHJvY2Vzc29yIiwicHJlZml4IiwidGVtcGxhdGVDYWNoZSIsInRlbXBsYXRlQ2FjaGVzIiwic3RyaW5nc0FycmF5Iiwia2V5U3RyaW5nIiwiTWFwIiwiam9pbiIsInN2ZyIsIndhbGtlck5vZGVGaWx0ZXIiLCJyZW1vdmVOb2Rlc0Zyb21UZW1wbGF0ZSIsIm5leHRBY3RpdmVJbmRleEluVGVtcGxhdGVQYXJ0cyIsInJlbW92ZUNvdW50Iiwibm9kZXNUb1JlbW92ZUluVGVtcGxhdGUiLCJjdXJyZW50UmVtb3ZpbmdOb2RlIiwiZm9yRWFjaCIsImNvdW50Tm9kZXMiLCJzdGFydEluZGV4IiwiZ2V0VGVtcGxhdGVDYWNoZUtleSIsInNjb3BlTmFtZSIsImNvbXBhdGlibGVTaGFkeUNTU1ZlcnNpb24iLCJTaGFkeUNTUyIsInByZXBhcmVUZW1wbGF0ZURvbSIsIndhcm4iLCJzaGFkeVRlbXBsYXRlRmFjdG9yeSIsImNhY2hlS2V5IiwiVEVNUExBVEVfVFlQRVMiLCJzaGFkeVJlbmRlclNldCIsIlNldCIsInByZXBhcmVUZW1wbGF0ZVN0eWxlcyIsInJlbmRlcmVkRE9NIiwidGVtcGxhdGVFbGVtZW50Iiwic3R5bGVzIiwicXVlcnlTZWxlY3RvckFsbCIsImNvbmRlbnNlZFN0eWxlIiwic3R5bGUiLCJ0ZXh0Q29udGVudCIsInRlbXBsYXRlcyIsImZyb20iLCJyZW1vdmVTdHlsZXNGcm9tTGl0VGVtcGxhdGVzIiwicmVmTm9kZSIsImluc2VydENvdW50Iiwid2Fsa2VySW5kZXgiLCJpbnNlcnROb2RlSW50b1RlbXBsYXRlIiwibmF0aXZlU2hhZG93IiwicmVtb3ZlcyIsIkpTQ29tcGlsZXJfcmVuYW1lUHJvcGVydHkiLCJwcm9wIiwiX29iaiIsImRlZmF1bHRDb252ZXJ0ZXIiLCJCb29sZWFuIiwiTnVtYmVyIiwicGFyc2UiLCJub3RFcXVhbCIsIm9sZCIsImRlZmF1bHRQcm9wZXJ0eURlY2xhcmF0aW9uIiwiYXR0cmlidXRlIiwiY29udmVydGVyIiwicmVmbGVjdCIsImhhc0NoYW5nZWQiLCJtaWNyb3Rhc2tQcm9taXNlIiwiUHJvbWlzZSIsInJlc29sdmUiLCJTVEFURV9IQVNfVVBEQVRFRCIsIlNUQVRFX1VQREFURV9SRVFVRVNURUQiLCJTVEFURV9JU19SRUZMRUNUSU5HX1RPX0FUVFJJQlVURSIsIlNUQVRFX0lTX1JFRkxFQ1RJTkdfVE9fUFJPUEVSVFkiLCJTVEFURV9IQVNfQ09OTkVDVEVEIiwiZmluYWxpemVkIiwiVXBkYXRpbmdFbGVtZW50IiwiSFRNTEVsZW1lbnQiLCJfdXBkYXRlU3RhdGUiLCJfaW5zdGFuY2VQcm9wZXJ0aWVzIiwiX3VwZGF0ZVByb21pc2UiLCJfaGFzQ29ubmVjdGVkUmVzb2x2ZXIiLCJfY2hhbmdlZFByb3BlcnRpZXMiLCJfcmVmbGVjdGluZ1Byb3BlcnRpZXMiLCJpbml0aWFsaXplIiwiZmluYWxpemUiLCJfY2xhc3NQcm9wZXJ0aWVzIiwiYXR0ciIsIl9hdHRyaWJ1dGVOYW1lRm9yUHJvcGVydHkiLCJfYXR0cmlidXRlVG9Qcm9wZXJ0eU1hcCIsInN1cGVyUHJvcGVydGllcyIsImdldFByb3RvdHlwZU9mIiwiayIsIl9lbnN1cmVDbGFzc1Byb3BlcnRpZXMiLCJub0FjY2Vzc29yIiwib2xkVmFsdWUiLCJfcmVxdWVzdFVwZGF0ZSIsImNvbmZpZ3VyYWJsZSIsInN1cGVyQ3RvciIsInByb3BzIiwicHJvcGVydGllcyIsInByb3BLZXlzIiwiZ2V0T3duUHJvcGVydHlOYW1lcyIsImdldE93blByb3BlcnR5U3ltYm9scyIsImNyZWF0ZVByb3BlcnR5IiwiZnJvbUF0dHJpYnV0ZSIsInRvQXR0cmlidXRlIiwiX3NhdmVJbnN0YW5jZVByb3BlcnRpZXMiLCJjb25zdHJ1Y3RvciIsIl92IiwiX2F0dHJpYnV0ZVRvUHJvcGVydHkiLCJjdG9yIiwiYXR0clZhbHVlIiwiX3Byb3BlcnR5VmFsdWVUb0F0dHJpYnV0ZSIsInByb3BOYW1lIiwiX3Byb3BlcnR5VmFsdWVGcm9tQXR0cmlidXRlIiwic2hvdWxkUmVxdWVzdFVwZGF0ZSIsIl92YWx1ZUhhc0NoYW5nZWQiLCJfaGFzUmVxdWVzdGVkVXBkYXRlIiwiX2VucXVldWVVcGRhdGUiLCJ1cGRhdGVDb21wbGV0ZSIsInJlamVjdCIsInByZXZpb3VzVXBkYXRlUHJvbWlzZSIsInJlcyIsInJlaiIsIl9oYXNDb25uZWN0ZWQiLCJwZXJmb3JtVXBkYXRlIiwiX2FwcGx5SW5zdGFuY2VQcm9wZXJ0aWVzIiwic2hvdWxkVXBkYXRlIiwiY2hhbmdlZFByb3BlcnRpZXMiLCJfbWFya1VwZGF0ZWQiLCJmaXJzdFVwZGF0ZWQiLCJ1cGRhdGVkIiwiX2dldFVwZGF0ZUNvbXBsZXRlIiwic2l6ZSIsIl9wcm9wZXJ0eVRvQXR0cmlidXRlIiwiY3VzdG9tRWxlbWVudCIsImNsYXNzT3JEZXNjcmlwdG9yIiwiY2xhenoiLCJkZWZpbmUiLCJsZWdhY3lDdXN0b21FbGVtZW50IiwiZGVzY3JpcHRvciIsImtpbmQiLCJlbGVtZW50cyIsInN0YW5kYXJkQ3VzdG9tRWxlbWVudCIsInN0YW5kYXJkUHJvcGVydHkiLCJwbGFjZW1lbnQiLCJpbml0aWFsaXplciIsImFzc2lnbiIsImxlZ2FjeVByb3BlcnR5IiwicHJvdG8iLCJwcm90b09yRGVzY3JpcHRvciIsInF1ZXJ5Iiwic2VsZWN0b3IiLCJyZW5kZXJSb290IiwibGVnYWN5UXVlcnkiLCJzdGFuZGFyZFF1ZXJ5IiwicXVlcnlBbGwiLCJldmVudE9wdGlvbnMiLCJsZWdhY3lFdmVudE9wdGlvbnMiLCJzdGFuZGFyZEV2ZW50T3B0aW9ucyIsInN1cHBvcnRzQWRvcHRpbmdTdHlsZVNoZWV0cyIsIkRvY3VtZW50IiwiQ1NTU3R5bGVTaGVldCIsImNvbnN0cnVjdGlvblRva2VuIiwiQ1NTUmVzdWx0IiwiY3NzVGV4dCIsInNhZmVUb2tlbiIsIl9zdHlsZVNoZWV0IiwicmVwbGFjZVN5bmMiLCJ1bnNhZmVDU1MiLCJjc3MiLCJyZWR1Y2UiLCJhY2MiLCJpZHgiLCJ0ZXh0RnJvbUNTU1Jlc3VsdCIsImZsYXR0ZW5TdHlsZXMiLCJmbGF0IiwiSW5maW5pdHkiLCJhcnJheUZsYXQiLCJfc3R5bGVzIiwiX2dldFVuaXF1ZVN0eWxlcyIsInVzZXJTdHlsZXMiLCJyZWR1Y2VSaWdodCIsInVuc2hpZnQiLCJjcmVhdGVSZW5kZXJSb290IiwiU2hhZG93Um9vdCIsImFkb3B0U3R5bGVzIiwiYXR0YWNoU2hhZG93IiwiYWRvcHRlZFN0eWxlU2hlZXRzIiwibWFwIiwic3R5bGVTaGVldCIsIl9uZWVkc1NoaW1BZG9wdGVkU3R5bGVTaGVldHMiLCJTY29waW5nU2hpbSIsInByZXBhcmVBZG9wdGVkQ3NzVGV4dCIsImxvY2FsTmFtZSIsImNvbm5lY3RlZENhbGxiYWNrIiwiaGFzVXBkYXRlZCIsInN0eWxlRWxlbWVudCIsInRlbXBsYXRlUmVzdWx0IiwicmVuZGVyIiwiaGFzUmVuZGVyZWQiLCJuZWVkc1Njb3BpbmciLCJob3N0IiwiZmlyc3RTY29wZVJlbmRlciIsInJlbmRlckNvbnRhaW5lciIsImNyZWF0ZURvY3VtZW50RnJhZ21lbnQiLCJhcHBlbmRJbnRvIiwiZGVsZXRlIiwiRW5nbGlzaFZlcmJzR2FtZSIsIkxpdEVsZW1lbnQiLCJsZXZlbHMiLCJzcGVlY2giLCJzcGVlY2hTeW50aGVzaXMiLCJhIiwicHJvZmlsZUNhcmQiLCJzaGFkb3dSb290IiwicG9pbnRDb2xsZWN0aW9uIiwiY29uZ3JhdHVsYXRpb25zIiwiZGlzcGxheSIsImVudHJpZXMiLCJmbG9vciIsIndvcmQiLCJpbmNsdWRlcyIsInRyYW5zbGF0aW9uIiwidG9TdHJpbmciLCJ0aGVyZXN0IiwiY29ycmVjdFdvcmQiLCJncmVldCIsInJlcXVlc3RVcGRhdGUiLCJzZXRUaW1lb3V0Iiwid29yZHNBbmltYXRpb24iLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJib3giLCJhbmltYXRlIiwidHJhbnNmb3JtIiwiZHVyYXRpb24iLCJkZWxheSIsIm5ld1ZhbHVlIiwibGV2ZWwiLCJyZWZyZXNoTnVtYmVyIiwib25jbGljayIsInBvaW50Ym94IiwiY29uZmV0dGlTZXR0aW5ncyIsInRhcmdldCIsInNpZ25PdXQiLCJyZW1vdmVJdGVtIiwicHJldmVudERlZmF1bHQiLCJyZW1vdmUiLCJvcGFjaXR5IiwidHJhbnNpdGlvbiIsImFuaW1hdGlvbiIsImZvcm0iLCJtc2ciLCJTcGVlY2hTeW50aGVzaXNVdHRlcmFuY2UiLCJyYXRlIiwidm9pY2VzIiwiZ2V0Vm9pY2VzIiwidm9pY2UiLCJsYW5nIiwic3BlYWsiLCJmb2N1cyIsImxvZ2luZ091dCIsImRldGFpbCIsInNlbGVjdGlvbkNob2ljZSIsImdyZWV0aW5nTWVzc2FnZSIsIm1lbnVGdW5jdGlvbmFsaXR5IiwicmVhZFRoZVdvcmQiLCJob3ZlcmFibGUiLCJrZXlDb2RlIiwicG9pbnRzQWRkaXRpb24iLCJmbGlja2VyIiwiY29uZ3JhdHVsYXRlIiwic2hvd1RoZUFuc3dlciIsImdyZWV0aW5nIiwiJGdhbWUiLCJMb2dTY3JlZW4iLCJkaXNwYXRjaEV2ZW50IiwiQ3VzdG9tRXZlbnQiLCJidWJibGVzIiwiY29tcG9zZWQiLCJ0aXRsZSIsImxvZ0J1dHRvbiIsInNhZENhdCIsIiRsb2dzY3JlZW4iLCJpZCIsImxhc3RDaGlsZCIsImJ5xIciLCJyb2JpxIciLCJidWRvd2HEhyIsImt1cG93YcSHIiwixYJhcGHEhyIsInd5YmllcmHEhyIsImtvc3p0b3dhxIciLCJwacSHIiwiamXFm8SHIiwiY3p1xIciLCJ6bmFsZcW6xIciLCJsYXRhxIciLCJkb3N0YXdhxIciLCJkYXdhxIciLCJpxZvEhyIsInJvc27EhcSHIiwibWllxIciLCJzxYJ5c3plxIciLCJ1ZGVyemHEhyIsInRyenltYcSHIiwicMWCYWNpxIciLCJrxYJhxZvEhyIsImN6eXRhxIciLCJqZcW6ZHppxIciLCJkendvbmnEhyIsImJpZWMiLCJtb3dpxIciLCJ3aWR6aWXEhyIsInNwcnplZGF3YcSHIiwicG9rYXp5d2HEhyIsInphbXlrYcSHIiwixZtwaWV3YcSHIiwic3BhxIciLCJzdGHEhyIsImtyYcWbxIciLCJwxYJ5d2HEhyIsImJyYcSHIiwicnp1Y2HEhyIsImJ1ZHppxIciLCJyb3p1bWllxIciLCJ3eWdyeXdhxIciLCJwaXNhxIciLCJvYnVkemnEhyIsImJpxIciLCJ1Z3J5xbpjIiwia3J3YXdpxIciLCJ6YXBvbWluYcSHIiwid3liYWN6YcSHIiwiemFtYXJ6YcSHIiwicG96d2FsYcSHIiwic3RyemVsYcSHIiwiemFicmFuaWHEhyIsInByb3dhZHppxIciLCJza2FrYcSHIiwicGnFgm93YcSHIiwiemFiaWphxIciLCLFvMSFZGxpxIciLCJSZXBvcnRCdWciLCJyZXBvcnRCdWdUb1NlcnZlciIsInVzZXJpZCIsInNlbmRJbmZvIiwiJHJlcG9ydGJ1ZyIsImxvY2F0aW9uIiwiaG9zdG5hbWUiLCJuYXZpZ2F0b3IiLCJzZXJ2aWNlV29ya2VyIiwicmVnaXN0ZXIiLCJvbmxvYWQiLCJjaGVja1VwZGF0ZXMiLCJwYXJhbXMiLCJhcHBzdGF0ZSIsIm1heCIsImNvbG9ycyIsImNsb2NrIiwiaW50ZXJ2YWwiLCJyb3RhdGUiLCJ3aWR0aCIsImlubmVyV2lkdGgiLCJoZWlnaHQiLCJpbm5lckhlaWdodCIsImN2IiwiZ2V0RWxlbWVudEJ5SWQiLCJjdHgiLCJnZXRDb250ZXh0IiwicGFydGljbGVzIiwicmFuZCIsImxpbWl0IiwidG90YWxXZWlnaHQiLCJ3ZWlnaHQiLCJwYXJ0aWNsZUZhY3RvcnkiLCJzZWxlY3RQcm9wIiwieCIsInkiLCJzcmMiLCJyYWRpdXMiLCJsaW5lIiwiYW5nbGVzIiwiY29sb3IiLCJyb3RhdGlvbiIsIlBJIiwic3BlZWQiLCJwYXJ0aWNsZURyYXciLCJvcCIsImZpbGxTdHlsZSIsInN0cm9rZVN0eWxlIiwiYmVnaW5QYXRoIiwibW92ZVRvIiwiYXJjIiwiZmlsbCIsImxpbmVUbyIsImNsb3NlUGF0aCIsImxpbmVXaWR0aCIsInN0cm9rZSIsInNhdmUiLCJ0cmFuc2xhdGUiLCJmaWxsUmVjdCIsInJlc3RvcmUiLCJpbWFnZSIsIkltYWdlIiwiZHJhd0ltYWdlIiwiZHJhdyIsImNsZWFyUmVjdCIsInBhcnNlRmxvYXQiLCJjbGVhckludGVydmFsIiwidyIsIlByb2ZpbGVDYXJkIiwidXNlck5hbWUiLCJ1c2VyRW1haWwiLCJyZXBvcnRCdWciLCJsb2dPdXQiXSwibWFwcGluZ3MiOiJhQUNFLElBQUlBLEVBQW1CLEdBR3ZCLFNBQVNDLEVBQW9CQyxHQUc1QixHQUFHRixF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TjJNLFNBQVMsR0FFVjZWLFVBQVcsQ0FDVmhnQixLQUFNeEMsT0FDTjJNLFNBQVMsR0FFVndKLGdCQUFpQixDQUNoQjNULEtBQU1sSixPQUNObVQsVUFBVyxrQkFDWEUsU0FBUyxJQVFaLG9CQUNDLE1BQU8sQ0FDTixFQUFBMEcsR0FBRzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O01BMkVMLFNBQ0MzUyxLQUFLcVosY0FBYyxJQUFJQyxZQUFZLFNBQVUsQ0FBRUMsU0FBUyxFQUFNQyxVQUFVLEtBQ3hFeFosS0FBS3FXLGdCQUdOLFNBQ0MsT0FBTyxFQUFBblMsSUFBSTtRQUNMbEUsS0FBSzZoQjtPQUNON2hCLEtBQUs4aEI7O3NCQUVXbGEsSUFDckI1SCxLQUFLcVosY0FDSixJQUFJQyxZQUFZLGdCQUFpQixDQUNoQ0MsU0FBUyxFQUNUQyxVQUFVLEVBQ1ZqQixPQUFRLENBQUV4SyxTQUFVLElBQU0vTixLQUFLd1YsV0FBVzVYLGNBQWdDLFdBQVd6RSx3QkFHeEV5TyxJQUNkNUgsS0FBS3FaLGNBQ0osSUFBSUMsWUFBWSxnQkFBaUIsQ0FDaENDLFNBQVMsRUFDVEMsVUFBVSxFQUNWakIsT0FBUSxDQUFFekIsU0FBVSxJQUFNOVcsS0FBS3dWLFdBQVc1WCxjQUFnQyxXQUFXekU7TUFJcEZQLE9BQU9nZCxRQUFRNVYsS0FBS3lWLGlCQUFpQjNCLElBQUksRUFBR2lELEVBQU96YixLQUNoRCxFQUFBNEksSUFBSTttQkFDTTZTLE1BQW1CLE9BQVRBLEVBQWlCLFVBQVVBLEtBQVcsaUNBQWlDemI7OzthQUl0RnNNLElBQ0QsRUFBQW1hLFVBQVUvaEIsS0FBSzBkOzBCQUVGMWQsS0FBS2dpQjs7T0F2SS9CLGdCQTRJQXhqQixlQUFlbVMsT0FBTyxlQUFnQmlSIiwiZmlsZSI6Im1haW4uYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDYpO1xuIiwiaW1wb3J0IHsgc2hvd1RoZUdhbWUgfSBmcm9tICcuL2VuZ2xpc2gnO1xyXG5pbXBvcnQgeyBzaG93TG9nIH0gZnJvbSAnLi9sb2ctc2NyZWVuJztcclxuZGVjbGFyZSBnbG9iYWwge1xyXG5cdGludGVyZmFjZSBXaW5kb3cge1xyXG5cdFx0ZmlyZWJhc2U6IGFueTtcclxuXHR9XHJcbn1cclxudHlwZSBQb2ludENvbGxlY3Rpb24gPSB7IFtrZXk6IHN0cmluZ106IG51bWJlciB9O1xyXG4vLyBZb3VyIHdlYiBhcHAncyBGaXJlYmFzZSBjb25maWd1cmF0aW9uXHJcbnZhciBmaXJlYmFzZUNvbmZpZyA9IHtcclxuXHRhcGlLZXk6ICdBSXphU3lDNFBLbFZUVldwUWJONDQ1OXc5UWZPLXEzVGEzU3pvWnMnLFxyXG5cdGF1dGhEb21haW46ICdlbmdsaXNoLXZlcmJzLWdhbWUuZmlyZWJhc2VhcHAuY29tJyxcclxuXHRkYXRhYmFzZVVSTDogJ2h0dHBzOi8vZW5nbGlzaC12ZXJicy1nYW1lLmZpcmViYXNlaW8uY29tJyxcclxuXHRwcm9qZWN0SWQ6ICdlbmdsaXNoLXZlcmJzLWdhbWUnLFxyXG5cdHN0b3JhZ2VCdWNrZXQ6ICdlbmdsaXNoLXZlcmJzLWdhbWUuYXBwc3BvdC5jb20nLFxyXG5cdG1lc3NhZ2luZ1NlbmRlcklkOiAnODc4NjQyNjA3MDM5JyxcclxuXHRhcHBJZDogJzE6ODc4NjQyNjA3MDM5OndlYjplMWQwYzVhMWM2ZDc4YzIwZTg2NzBhJyxcclxuXHRtZWFzdXJlbWVudElkOiAnRy1OWjVWNUJaRFhIJ1xyXG59O1xyXG4vLyBJbml0aWFsaXplIEZpcmViYXNlXHJcbndpbmRvdy5maXJlYmFzZS5pbml0aWFsaXplQXBwKGZpcmViYXNlQ29uZmlnKTtcclxudmFyIHByb3ZpZGVyID0gbmV3IHdpbmRvdy5maXJlYmFzZS5hdXRoLkdvb2dsZUF1dGhQcm92aWRlcigpO1xyXG5wcm92aWRlci5zZXRDdXN0b21QYXJhbWV0ZXJzKHtcclxuXHRwcm9tcHQ6ICdzZWxlY3RfYWNjb3VudCdcclxufSk7XHJcbndpbmRvdy5maXJlYmFzZS5hdXRoKCkubGFuZ3VhZ2VDb2RlID0gJ3BsJztcclxud2luZG93LmZpcmViYXNlXHJcblx0LmF1dGgoKVxyXG5cdC5nZXRSZWRpcmVjdFJlc3VsdCgpXHJcblx0LnRoZW4oZnVuY3Rpb24ocmVzdWx0OiBhbnkpIHtcclxuXHRcdGlmIChyZXN1bHQuY3JlZGVudGlhbCkge1xyXG5cdFx0XHRjb25zb2xlLmxvZygnbG9nZ2VkJyk7XHJcblx0XHRcdC8vZG9jdW1lbnQucXVlcnlTZWxlY3RvcjxIVE1MRWxlbWVudD4oJy53ZWxjb21lJykuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuXHRcdFx0bGV0IHVzZXIgPSByZXN1bHQudXNlcjtcclxuXHRcdFx0bGV0IHBvaW50czogUG9pbnRDb2xsZWN0aW9uO1xyXG5cdFx0XHR3aW5kb3cuZmlyZWJhc2UuZGF0YWJhc2UoKS5yZWYoJy91c2Vycy8nICsgdXNlci51aWQpLm9uY2UoJ3ZhbHVlJykudGhlbihmdW5jdGlvbihzbmFwc2hvdDogYW55KSB7XHJcblx0XHRcdFx0aWYgKCEoc25hcHNob3QudmFsKCkgPT09IG51bGwpKSB7XHJcblx0XHRcdFx0XHRwb2ludHMgPSBzbmFwc2hvdC52YWwoKS5wb2ludHM7XHJcblx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdGxldCBnYW1lID0gc2hvd1RoZUdhbWUodXNlci5kaXNwbGF5TmFtZSwgdXNlci5lbWFpbCwgdXNlci51aWQsIHBvaW50cywgJ1dpdGFqIHBvbm93bmllJyk7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdHBvaW50cyA9IHtcclxuXHRcdFx0XHRcdFx0QTI6IDAsXHJcblx0XHRcdFx0XHRcdEIxOiAwLFxyXG5cdFx0XHRcdFx0XHRCMjogMCxcclxuXHRcdFx0XHRcdFx0QzE6IDAsXHJcblx0XHRcdFx0XHRcdEMyOiAwLFxyXG5cdFx0XHRcdFx0XHRBbGw6IDBcclxuXHRcdFx0XHRcdH07XHJcblx0XHRcdFx0XHR3cml0ZVVzZXJEYXRhKHVzZXIudWlkLCBwb2ludHMsIHVzZXIuZGlzcGxheU5hbWUpO1xyXG5cdFx0XHRcdFx0bGV0IGdhbWUgPSBzaG93VGhlR2FtZShcclxuXHRcdFx0XHRcdFx0dXNlci5kaXNwbGF5TmFtZSxcclxuXHRcdFx0XHRcdFx0dXNlci5lbWFpbCxcclxuXHRcdFx0XHRcdFx0dXNlci51aWQsXHJcblx0XHRcdFx0XHRcdHBvaW50cyxcclxuXHRcdFx0XHRcdFx0J0R6acSZa3VqZW15IHphIHJlamVzdHJhY2rEmSB3IGdyemUnXHJcblx0XHRcdFx0XHQpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndXNlci1pbmZvJywgSlNPTi5zdHJpbmdpZnkoeyB1c2VyIH0pKTtcclxuXHRcdFx0XHRsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgncG9pbnRzJywgSlNPTi5zdHJpbmdpZnkoeyBwb2ludHMgfSkpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBSZW1vdmUgaXNSZWRpcmVjdGluZyBmcm9tIGxvY2Fsc3RvcmFnZVxyXG5cdH0pXHJcblx0LmNhdGNoKGZ1bmN0aW9uKGVycm9yOiBFcnJvcikge1xyXG5cdFx0dmFyIGVycm9yTWVzc2FnZSA9IGVycm9yLm1lc3NhZ2U7XHJcblx0XHRjb25zb2xlLmxvZyhlcnJvck1lc3NhZ2UpO1xyXG5cdFx0bGV0IHNob3dsb2cgPSBzaG93TG9nKCdDb8WbIHBvc3rFgm8gbmllIHRhaycsICdTcHLDs2J1aiBwb25vd25pZSB6YSBraWxrYSBtaW51dCcsIGZhbHNlLCB0cnVlKTtcclxuXHR9KTtcclxuLyogXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzaWduVXAoKSB7XHJcblx0d2luZG93LmZpcmViYXNlXHJcblx0XHQuYXV0aCgpXHJcblx0XHQuc2lnbkluV2l0aFBvcHVwKHByb3ZpZGVyKVxyXG5cdFx0LnRoZW4oXHJcblx0XHRcdGZ1bmN0aW9uKHJlc3VsdDogYW55KSB7XHJcblx0XHRcdFx0Ly8gVGhpcyBnaXZlcyB5b3UgYSBHb29nbGUgQWNjZXNzIFRva2VuLiBZb3UgY2FuIHVzZSBpdCB0byBhY2Nlc3MgdGhlIEdvb2dsZSBBUEkuXHJcblx0XHRcdFx0dmFyIHRva2VuID0gcmVzdWx0LmNyZWRlbnRpYWwuYWNjZXNzVG9rZW47XHJcblx0XHRcdFx0Ly8gVGhlIHNpZ25lZC1pbiB1c2VyIGluZm8uXHJcblx0XHRcdFx0dmFyIHVzZXIgPSB3aW5kb3cuZmlyZWJhc2UuYXV0aCgpLmN1cnJlbnRVc2VyO1xyXG5cdFx0XHRcdC8vIC4uLlxyXG5cdFx0XHRcdHdpbmRvdy5maXJlYmFzZS5kYXRhYmFzZSgpLnJlZignL3VzZXJzLycgKyB1c2VyLnVpZCkub25jZSgndmFsdWUnKS50aGVuKGZ1bmN0aW9uKHNuYXBzaG90OiBhbnkpIHtcclxuXHRcdFx0XHRcdGlmICghKHNuYXBzaG90LnZhbCgpID09PSBudWxsKSkge1xyXG5cdFx0XHRcdFx0XHRsZXQgc2hvd2xvZyA9IHNob3dMb2coXHJcblx0XHRcdFx0XHRcdFx0J1RlbiBlbWFpbCBqdcW8IHBvc2lhZGEga29udG8nLFxyXG5cdFx0XHRcdFx0XHRcdCdaYWxvZ3VqIHNpxJkgbHViIHphxYLDs8W8IGtvbnRvIG5hIGlubnkgYWRyZXMgZW1haWwnLFxyXG5cdFx0XHRcdFx0XHRcdGZhbHNlLFxyXG5cdFx0XHRcdFx0XHRcdHRydWVcclxuXHRcdFx0XHRcdFx0KTtcclxuXHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdHZhciBwb2ludHM6IFBvaW50Q29sbGVjdGlvbiA9IHtcclxuXHRcdFx0XHRcdFx0XHRBMjogMCxcclxuXHRcdFx0XHRcdFx0XHRCMTogMCxcclxuXHRcdFx0XHRcdFx0XHRCMjogMCxcclxuXHRcdFx0XHRcdFx0XHRDMTogMCxcclxuXHRcdFx0XHRcdFx0XHRDMjogMCxcclxuXHRcdFx0XHRcdFx0XHRBbGw6IDBcclxuXHRcdFx0XHRcdFx0fTtcclxuXHJcblx0XHRcdFx0XHRcdGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd1c2VyLWluZm8nLCBKU09OLnN0cmluZ2lmeSh7IHVzZXIgfSkpO1xyXG5cdFx0XHRcdFx0XHRsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgncG9pbnRzJywgSlNPTi5zdHJpbmdpZnkoeyBwb2ludHMgfSkpO1xyXG5cdFx0XHRcdFx0XHR3cml0ZVVzZXJEYXRhKHVzZXIudWlkLCBwb2ludHMsIHVzZXIuZGlzcGxheU5hbWUpO1xyXG5cdFx0XHRcdFx0XHRsZXQgZ2FtZSA9IHNob3dUaGVHYW1lKFxyXG5cdFx0XHRcdFx0XHRcdHVzZXIuZGlzcGxheU5hbWUsXHJcblx0XHRcdFx0XHRcdFx0dXNlci5lbWFpbCxcclxuXHRcdFx0XHRcdFx0XHR1c2VyLnVpZCxcclxuXHRcdFx0XHRcdFx0XHRwb2ludHMsXHJcblx0XHRcdFx0XHRcdFx0J0R6acSZa3VqZW15IHphIHJlamVzdHJhY2rEmSB3IGdyemUnXHJcblx0XHRcdFx0XHRcdCk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH1cclxuXHRcdFx0Ly8gLi4uXHJcblx0XHQpXHJcblx0XHQuY2F0Y2goZnVuY3Rpb24oZXJyb3I6IEVycm9yKSB7XHJcblx0XHRcdHZhciBlcnJvck1lc3NhZ2UgPSBlcnJvci5tZXNzYWdlO1xyXG5cdFx0XHRjb25zb2xlLmxvZyhlcnJvck1lc3NhZ2UpO1xyXG5cdFx0XHRsZXQgc2hvd2xvZyA9IHNob3dMb2coJ0NvxZsgcG9zesWCbyBuaWUgdGFrJywgJ1NwcsOzYnVqIHBvbm93bmllIHphIGtpbGthIG1pbnV0JywgZmFsc2UsIHRydWUpO1xyXG5cdFx0fSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzaWduSW5EZXNrdG9wKCkge1xyXG5cdHdpbmRvdy5maXJlYmFzZVxyXG5cdFx0LmF1dGgoKVxyXG5cdFx0LnNpZ25JbldpdGhQb3B1cChwcm92aWRlcilcclxuXHRcdC50aGVuKGZ1bmN0aW9uKHJlc3VsdDogYW55KSB7XHJcblx0XHRcdC8vIFRoaXMgZ2l2ZXMgeW91IGEgR29vZ2xlIEFjY2VzcyBUb2tlbi4gWW91IGNhbiB1c2UgaXQgdG8gYWNjZXNzIHRoZSBHb29nbGUgQVBJLlxyXG5cdFx0XHR2YXIgdG9rZW4gPSByZXN1bHQuY3JlZGVudGlhbC5hY2Nlc3NUb2tlbjtcclxuXHRcdFx0Ly8gVGhlIHNpZ25lZC1pbiB1c2VyIGluZm8uXHJcblx0XHRcdHZhciB1c2VyID0gd2luZG93LmZpcmViYXNlLmF1dGgoKS5jdXJyZW50VXNlcjtcclxuXHRcdFx0Ly8gLi4uXHJcblx0XHRcdHZhciB1c2VySWQgPSB3aW5kb3cuZmlyZWJhc2UuYXV0aCgpLmN1cnJlbnRVc2VyLnVpZDtcclxuXHRcdFx0d2luZG93LmZpcmViYXNlLmRhdGFiYXNlKCkucmVmKCcvdXNlcnMvJyArIHVzZXJJZCkub25jZSgndmFsdWUnKS50aGVuKGZ1bmN0aW9uKHNuYXBzaG90OiBhbnkpIHtcclxuXHRcdFx0XHRpZiAoc25hcHNob3QudmFsKCkgPT09IG51bGwpIHtcclxuXHRcdFx0XHRcdGxldCBzaG93bG9nID0gc2hvd0xvZygnQ2/FmyBwb3N6xYJvIG5pZSB0YWsnLCAnU3Byw7NidWogcG9ub3duaWUgemEga2lsa2EgbWludXQnLCBmYWxzZSwgdHJ1ZSk7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdHZhciBwb2ludHMgPSAoc25hcHNob3QudmFsKCkgJiYgc25hcHNob3QudmFsKCkucG9pbnRzKSB8fCB7XHJcblx0XHRcdFx0XHRcdEEyOiAwLFxyXG5cdFx0XHRcdFx0XHRCMTogMCxcclxuXHRcdFx0XHRcdFx0QjI6IDAsXHJcblx0XHRcdFx0XHRcdEMxOiAwLFxyXG5cdFx0XHRcdFx0XHRDMjogMCxcclxuXHRcdFx0XHRcdFx0QWxsOiAwXHJcblx0XHRcdFx0XHR9O1xyXG5cclxuXHRcdFx0XHRcdGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd1c2VyLWluZm8nLCBKU09OLnN0cmluZ2lmeSh7IHVzZXIgfSkpO1xyXG5cdFx0XHRcdFx0bG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3BvaW50cycsIEpTT04uc3RyaW5naWZ5KHsgcG9pbnRzIH0pKTtcclxuXHJcblx0XHRcdFx0XHRsZXQgZ2FtZSA9IHNob3dUaGVHYW1lKHVzZXIuZGlzcGxheU5hbWUsIHVzZXIuZW1haWwsIHVzZXIudWlkLCBwb2ludHMsICdXaXRhaiB6IHBvd3JvdGVtJyk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdC8vIC4uLlxyXG5cdFx0XHR9KTtcclxuXHRcdH0pXHJcblx0XHQuY2F0Y2goZnVuY3Rpb24oZXJyb3I6IEVycm9yKSB7XHJcblx0XHRcdHZhciBlcnJvck1lc3NhZ2UgPSBlcnJvci5tZXNzYWdlO1xyXG5cdFx0XHRjb25zb2xlLmxvZyhlcnJvck1lc3NhZ2UpO1xyXG5cdFx0XHRsZXQgc2hvd2xvZyA9IHNob3dMb2coJ0NvxZsgcG9zesWCbyBuaWUgdGFrJywgJ1NwcsOzYnVqIHBvbm93bmllIHphIGtpbGthIG1pbnV0JywgZmFsc2UsIHRydWUpO1xyXG5cdFx0fSk7XHJcbn0gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHdyaXRlVXNlckRhdGEodXNlcklkOiBudW1iZXIsIHBvaW50Y29sbGVjdGlvbjogUG9pbnRDb2xsZWN0aW9uLCBuYW1lOiBzdHJpbmcpIHtcclxuXHR3aW5kb3cuZmlyZWJhc2UuZGF0YWJhc2UoKS5yZWYoJ3VzZXJzLycgKyB1c2VySWQpLnNldCh7XHJcblx0XHRwb2ludHM6IHBvaW50Y29sbGVjdGlvbixcclxuXHRcdG5hbWU6IG5hbWVcclxuXHR9KTtcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gcmVwb3J0QnVnVG9TZXJ2ZXIodXNlcklkOiBudW1iZXIsIGJ1Z01lc3NhZ2U6IHN0cmluZykge1xyXG5cdGNvbnNvbGUubG9nKGJ1Z01lc3NhZ2UpO1xyXG5cdHdpbmRvdy5maXJlYmFzZS5kYXRhYmFzZSgpLnJlZigndXNlcnMvJyArIHVzZXJJZCkucHVzaChidWdNZXNzYWdlKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHJlZGlyZWN0aW5nU2lnblVwKCkge1xyXG5cdGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdpc1JlZGlyZWN0aW5nJywgJycpO1xyXG5cdHdpbmRvdy5maXJlYmFzZS5hdXRoKCkuc2lnbkluV2l0aFJlZGlyZWN0KHByb3ZpZGVyKTtcclxufVxyXG5cclxuLy9sZXQgeCA9IHdpbmRvdy5tYXRjaE1lZGlhKCcobWF4LXdpZHRoOiA3MDBweCknKTtcclxuLy9pZiAoeC5tYXRjaGVzKSB7XHJcbmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNub3dla29udG8nKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHJlZGlyZWN0aW5nU2lnblVwKTtcclxuZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3phbG9ndWonKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHJlZGlyZWN0aW5nU2lnblVwKTtcclxuXHJcbi8vIENoZWNrIHdoZXRoZXIgd2UgYXJlIHJlZGlyZWN0aW5nLiBJZiB3ZSBhcmUsIHdlIGFscmVhZHkgbm93IG1hcmsgdGhlIHBhZ2UgYXMgcmVhZHkuXHJcbmlmIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnaXNSZWRpcmVjdGluZycpID09IG51bGwpIHtcclxuXHRkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoJ3JlYWR5Jyk7XHJcbn1cclxuLyp9IGVsc2Uge1xyXG5cdGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN6YWxvZ3VqJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBzaWduSW5EZXNrdG9wKTtcclxufSAqL1xyXG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuICogQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbiAqIHN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuICovXG5jb25zdCBkaXJlY3RpdmVzID0gbmV3IFdlYWtNYXAoKTtcbi8qKlxuICogQnJhbmRzIGEgZnVuY3Rpb24gYXMgYSBkaXJlY3RpdmUgZmFjdG9yeSBmdW5jdGlvbiBzbyB0aGF0IGxpdC1odG1sIHdpbGwgY2FsbFxuICogdGhlIGZ1bmN0aW9uIGR1cmluZyB0ZW1wbGF0ZSByZW5kZXJpbmcsIHJhdGhlciB0aGFuIHBhc3NpbmcgYXMgYSB2YWx1ZS5cbiAqXG4gKiBBIF9kaXJlY3RpdmVfIGlzIGEgZnVuY3Rpb24gdGhhdCB0YWtlcyBhIFBhcnQgYXMgYW4gYXJndW1lbnQuIEl0IGhhcyB0aGVcbiAqIHNpZ25hdHVyZTogYChwYXJ0OiBQYXJ0KSA9PiB2b2lkYC5cbiAqXG4gKiBBIGRpcmVjdGl2ZSBfZmFjdG9yeV8gaXMgYSBmdW5jdGlvbiB0aGF0IHRha2VzIGFyZ3VtZW50cyBmb3IgZGF0YSBhbmRcbiAqIGNvbmZpZ3VyYXRpb24gYW5kIHJldHVybnMgYSBkaXJlY3RpdmUuIFVzZXJzIG9mIGRpcmVjdGl2ZSB1c3VhbGx5IHJlZmVyIHRvXG4gKiB0aGUgZGlyZWN0aXZlIGZhY3RvcnkgYXMgdGhlIGRpcmVjdGl2ZS4gRm9yIGV4YW1wbGUsIFwiVGhlIHJlcGVhdCBkaXJlY3RpdmVcIi5cbiAqXG4gKiBVc3VhbGx5IGEgdGVtcGxhdGUgYXV0aG9yIHdpbGwgaW52b2tlIGEgZGlyZWN0aXZlIGZhY3RvcnkgaW4gdGhlaXIgdGVtcGxhdGVcbiAqIHdpdGggcmVsZXZhbnQgYXJndW1lbnRzLCB3aGljaCB3aWxsIHRoZW4gcmV0dXJuIGEgZGlyZWN0aXZlIGZ1bmN0aW9uLlxuICpcbiAqIEhlcmUncyBhbiBleGFtcGxlIG9mIHVzaW5nIHRoZSBgcmVwZWF0KClgIGRpcmVjdGl2ZSBmYWN0b3J5IHRoYXQgdGFrZXMgYW5cbiAqIGFycmF5IGFuZCBhIGZ1bmN0aW9uIHRvIHJlbmRlciBhbiBpdGVtOlxuICpcbiAqIGBgYGpzXG4gKiBodG1sYDx1bD48JHtyZXBlYXQoaXRlbXMsIChpdGVtKSA9PiBodG1sYDxsaT4ke2l0ZW19PC9saT5gKX08L3VsPmBcbiAqIGBgYFxuICpcbiAqIFdoZW4gYHJlcGVhdGAgaXMgaW52b2tlZCwgaXQgcmV0dXJucyBhIGRpcmVjdGl2ZSBmdW5jdGlvbiB0aGF0IGNsb3NlcyBvdmVyXG4gKiBgaXRlbXNgIGFuZCB0aGUgdGVtcGxhdGUgZnVuY3Rpb24uIFdoZW4gdGhlIG91dGVyIHRlbXBsYXRlIGlzIHJlbmRlcmVkLCB0aGVcbiAqIHJldHVybiBkaXJlY3RpdmUgZnVuY3Rpb24gaXMgY2FsbGVkIHdpdGggdGhlIFBhcnQgZm9yIHRoZSBleHByZXNzaW9uLlxuICogYHJlcGVhdGAgdGhlbiBwZXJmb3JtcyBpdCdzIGN1c3RvbSBsb2dpYyB0byByZW5kZXIgbXVsdGlwbGUgaXRlbXMuXG4gKlxuICogQHBhcmFtIGYgVGhlIGRpcmVjdGl2ZSBmYWN0b3J5IGZ1bmN0aW9uLiBNdXN0IGJlIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGFcbiAqIGZ1bmN0aW9uIG9mIHRoZSBzaWduYXR1cmUgYChwYXJ0OiBQYXJ0KSA9PiB2b2lkYC4gVGhlIHJldHVybmVkIGZ1bmN0aW9uIHdpbGxcbiAqIGJlIGNhbGxlZCB3aXRoIHRoZSBwYXJ0IG9iamVjdC5cbiAqXG4gKiBAZXhhbXBsZVxuICpcbiAqIGltcG9ydCB7ZGlyZWN0aXZlLCBodG1sfSBmcm9tICdsaXQtaHRtbCc7XG4gKlxuICogY29uc3QgaW1tdXRhYmxlID0gZGlyZWN0aXZlKCh2KSA9PiAocGFydCkgPT4ge1xuICogICBpZiAocGFydC52YWx1ZSAhPT0gdikge1xuICogICAgIHBhcnQuc2V0VmFsdWUodilcbiAqICAgfVxuICogfSk7XG4gKi9cbmV4cG9ydCBjb25zdCBkaXJlY3RpdmUgPSAoZikgPT4gKCguLi5hcmdzKSA9PiB7XG4gICAgY29uc3QgZCA9IGYoLi4uYXJncyk7XG4gICAgZGlyZWN0aXZlcy5zZXQoZCwgdHJ1ZSk7XG4gICAgcmV0dXJuIGQ7XG59KTtcbmV4cG9ydCBjb25zdCBpc0RpcmVjdGl2ZSA9IChvKSA9PiB7XG4gICAgcmV0dXJuIHR5cGVvZiBvID09PSAnZnVuY3Rpb24nICYmIGRpcmVjdGl2ZXMuaGFzKG8pO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRpcmVjdGl2ZS5qcy5tYXAiLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuICogQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbiAqIHN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuICovXG4vKipcbiAqIFRydWUgaWYgdGhlIGN1c3RvbSBlbGVtZW50cyBwb2x5ZmlsbCBpcyBpbiB1c2UuXG4gKi9cbmV4cG9ydCBjb25zdCBpc0NFUG9seWZpbGwgPSB3aW5kb3cuY3VzdG9tRWxlbWVudHMgIT09IHVuZGVmaW5lZCAmJlxuICAgIHdpbmRvdy5jdXN0b21FbGVtZW50cy5wb2x5ZmlsbFdyYXBGbHVzaENhbGxiYWNrICE9PVxuICAgICAgICB1bmRlZmluZWQ7XG4vKipcbiAqIFJlcGFyZW50cyBub2Rlcywgc3RhcnRpbmcgZnJvbSBgc3RhcnRgIChpbmNsdXNpdmUpIHRvIGBlbmRgIChleGNsdXNpdmUpLFxuICogaW50byBhbm90aGVyIGNvbnRhaW5lciAoY291bGQgYmUgdGhlIHNhbWUgY29udGFpbmVyKSwgYmVmb3JlIGBiZWZvcmVgLiBJZlxuICogYGJlZm9yZWAgaXMgbnVsbCwgaXQgYXBwZW5kcyB0aGUgbm9kZXMgdG8gdGhlIGNvbnRhaW5lci5cbiAqL1xuZXhwb3J0IGNvbnN0IHJlcGFyZW50Tm9kZXMgPSAoY29udGFpbmVyLCBzdGFydCwgZW5kID0gbnVsbCwgYmVmb3JlID0gbnVsbCkgPT4ge1xuICAgIHdoaWxlIChzdGFydCAhPT0gZW5kKSB7XG4gICAgICAgIGNvbnN0IG4gPSBzdGFydC5uZXh0U2libGluZztcbiAgICAgICAgY29udGFpbmVyLmluc2VydEJlZm9yZShzdGFydCwgYmVmb3JlKTtcbiAgICAgICAgc3RhcnQgPSBuO1xuICAgIH1cbn07XG4vKipcbiAqIFJlbW92ZXMgbm9kZXMsIHN0YXJ0aW5nIGZyb20gYHN0YXJ0YCAoaW5jbHVzaXZlKSB0byBgZW5kYCAoZXhjbHVzaXZlKSwgZnJvbVxuICogYGNvbnRhaW5lcmAuXG4gKi9cbmV4cG9ydCBjb25zdCByZW1vdmVOb2RlcyA9IChjb250YWluZXIsIHN0YXJ0LCBlbmQgPSBudWxsKSA9PiB7XG4gICAgd2hpbGUgKHN0YXJ0ICE9PSBlbmQpIHtcbiAgICAgICAgY29uc3QgbiA9IHN0YXJ0Lm5leHRTaWJsaW5nO1xuICAgICAgICBjb250YWluZXIucmVtb3ZlQ2hpbGQoc3RhcnQpO1xuICAgICAgICBzdGFydCA9IG47XG4gICAgfVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRvbS5qcy5tYXAiLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTggVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuICogQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbiAqIHN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuICovXG4vKipcbiAqIEEgc2VudGluZWwgdmFsdWUgdGhhdCBzaWduYWxzIHRoYXQgYSB2YWx1ZSB3YXMgaGFuZGxlZCBieSBhIGRpcmVjdGl2ZSBhbmRcbiAqIHNob3VsZCBub3QgYmUgd3JpdHRlbiB0byB0aGUgRE9NLlxuICovXG5leHBvcnQgY29uc3Qgbm9DaGFuZ2UgPSB7fTtcbi8qKlxuICogQSBzZW50aW5lbCB2YWx1ZSB0aGF0IHNpZ25hbHMgYSBOb2RlUGFydCB0byBmdWxseSBjbGVhciBpdHMgY29udGVudC5cbiAqL1xuZXhwb3J0IGNvbnN0IG5vdGhpbmcgPSB7fTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhcnQuanMubWFwIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIFRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbiAqIENvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG4gKiBzdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiAqL1xuLyoqXG4gKiBBbiBleHByZXNzaW9uIG1hcmtlciB3aXRoIGVtYmVkZGVkIHVuaXF1ZSBrZXkgdG8gYXZvaWQgY29sbGlzaW9uIHdpdGhcbiAqIHBvc3NpYmxlIHRleHQgaW4gdGVtcGxhdGVzLlxuICovXG5leHBvcnQgY29uc3QgbWFya2VyID0gYHt7bGl0LSR7U3RyaW5nKE1hdGgucmFuZG9tKCkpLnNsaWNlKDIpfX19YDtcbi8qKlxuICogQW4gZXhwcmVzc2lvbiBtYXJrZXIgdXNlZCB0ZXh0LXBvc2l0aW9ucywgbXVsdGktYmluZGluZyBhdHRyaWJ1dGVzLCBhbmRcbiAqIGF0dHJpYnV0ZXMgd2l0aCBtYXJrdXAtbGlrZSB0ZXh0IHZhbHVlcy5cbiAqL1xuZXhwb3J0IGNvbnN0IG5vZGVNYXJrZXIgPSBgPCEtLSR7bWFya2VyfS0tPmA7XG5leHBvcnQgY29uc3QgbWFya2VyUmVnZXggPSBuZXcgUmVnRXhwKGAke21hcmtlcn18JHtub2RlTWFya2VyfWApO1xuLyoqXG4gKiBTdWZmaXggYXBwZW5kZWQgdG8gYWxsIGJvdW5kIGF0dHJpYnV0ZSBuYW1lcy5cbiAqL1xuZXhwb3J0IGNvbnN0IGJvdW5kQXR0cmlidXRlU3VmZml4ID0gJyRsaXQkJztcbi8qKlxuICogQW4gdXBkYXRlYWJsZSBUZW1wbGF0ZSB0aGF0IHRyYWNrcyB0aGUgbG9jYXRpb24gb2YgZHluYW1pYyBwYXJ0cy5cbiAqL1xuZXhwb3J0IGNsYXNzIFRlbXBsYXRlIHtcbiAgICBjb25zdHJ1Y3RvcihyZXN1bHQsIGVsZW1lbnQpIHtcbiAgICAgICAgdGhpcy5wYXJ0cyA9IFtdO1xuICAgICAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgICBjb25zdCBub2Rlc1RvUmVtb3ZlID0gW107XG4gICAgICAgIGNvbnN0IHN0YWNrID0gW107XG4gICAgICAgIC8vIEVkZ2UgbmVlZHMgYWxsIDQgcGFyYW1ldGVycyBwcmVzZW50OyBJRTExIG5lZWRzIDNyZCBwYXJhbWV0ZXIgdG8gYmUgbnVsbFxuICAgICAgICBjb25zdCB3YWxrZXIgPSBkb2N1bWVudC5jcmVhdGVUcmVlV2Fsa2VyKGVsZW1lbnQuY29udGVudCwgMTMzIC8qIE5vZGVGaWx0ZXIuU0hPV197RUxFTUVOVHxDT01NRU5UfFRFWFR9ICovLCBudWxsLCBmYWxzZSk7XG4gICAgICAgIC8vIEtlZXBzIHRyYWNrIG9mIHRoZSBsYXN0IGluZGV4IGFzc29jaWF0ZWQgd2l0aCBhIHBhcnQuIFdlIHRyeSB0byBkZWxldGVcbiAgICAgICAgLy8gdW5uZWNlc3Nhcnkgbm9kZXMsIGJ1dCB3ZSBuZXZlciB3YW50IHRvIGFzc29jaWF0ZSB0d28gZGlmZmVyZW50IHBhcnRzXG4gICAgICAgIC8vIHRvIHRoZSBzYW1lIGluZGV4LiBUaGV5IG11c3QgaGF2ZSBhIGNvbnN0YW50IG5vZGUgYmV0d2Vlbi5cbiAgICAgICAgbGV0IGxhc3RQYXJ0SW5kZXggPSAwO1xuICAgICAgICBsZXQgaW5kZXggPSAtMTtcbiAgICAgICAgbGV0IHBhcnRJbmRleCA9IDA7XG4gICAgICAgIGNvbnN0IHsgc3RyaW5ncywgdmFsdWVzOiB7IGxlbmd0aCB9IH0gPSByZXN1bHQ7XG4gICAgICAgIHdoaWxlIChwYXJ0SW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgICAgIGNvbnN0IG5vZGUgPSB3YWxrZXIubmV4dE5vZGUoKTtcbiAgICAgICAgICAgIGlmIChub2RlID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgLy8gV2UndmUgZXhoYXVzdGVkIHRoZSBjb250ZW50IGluc2lkZSBhIG5lc3RlZCB0ZW1wbGF0ZSBlbGVtZW50LlxuICAgICAgICAgICAgICAgIC8vIEJlY2F1c2Ugd2Ugc3RpbGwgaGF2ZSBwYXJ0cyAodGhlIG91dGVyIGZvci1sb29wKSwgd2Uga25vdzpcbiAgICAgICAgICAgICAgICAvLyAtIFRoZXJlIGlzIGEgdGVtcGxhdGUgaW4gdGhlIHN0YWNrXG4gICAgICAgICAgICAgICAgLy8gLSBUaGUgd2Fsa2VyIHdpbGwgZmluZCBhIG5leHROb2RlIG91dHNpZGUgdGhlIHRlbXBsYXRlXG4gICAgICAgICAgICAgICAgd2Fsa2VyLmN1cnJlbnROb2RlID0gc3RhY2sucG9wKCk7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpbmRleCsrO1xuICAgICAgICAgICAgaWYgKG5vZGUubm9kZVR5cGUgPT09IDEgLyogTm9kZS5FTEVNRU5UX05PREUgKi8pIHtcbiAgICAgICAgICAgICAgICBpZiAobm9kZS5oYXNBdHRyaWJ1dGVzKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYXR0cmlidXRlcyA9IG5vZGUuYXR0cmlidXRlcztcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBsZW5ndGggfSA9IGF0dHJpYnV0ZXM7XG4gICAgICAgICAgICAgICAgICAgIC8vIFBlclxuICAgICAgICAgICAgICAgICAgICAvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvTmFtZWROb2RlTWFwLFxuICAgICAgICAgICAgICAgICAgICAvLyBhdHRyaWJ1dGVzIGFyZSBub3QgZ3VhcmFudGVlZCB0byBiZSByZXR1cm5lZCBpbiBkb2N1bWVudCBvcmRlci5cbiAgICAgICAgICAgICAgICAgICAgLy8gSW4gcGFydGljdWxhciwgRWRnZS9JRSBjYW4gcmV0dXJuIHRoZW0gb3V0IG9mIG9yZGVyLCBzbyB3ZSBjYW5ub3RcbiAgICAgICAgICAgICAgICAgICAgLy8gYXNzdW1lIGEgY29ycmVzcG9uZGVuY2UgYmV0d2VlbiBwYXJ0IGluZGV4IGFuZCBhdHRyaWJ1dGUgaW5kZXguXG4gICAgICAgICAgICAgICAgICAgIGxldCBjb3VudCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbmRzV2l0aChhdHRyaWJ1dGVzW2ldLm5hbWUsIGJvdW5kQXR0cmlidXRlU3VmZml4KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvdW50Kys7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGNvdW50LS0gPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBHZXQgdGhlIHRlbXBsYXRlIGxpdGVyYWwgc2VjdGlvbiBsZWFkaW5nIHVwIHRvIHRoZSBmaXJzdFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZXhwcmVzc2lvbiBpbiB0aGlzIGF0dHJpYnV0ZVxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RyaW5nRm9yUGFydCA9IHN0cmluZ3NbcGFydEluZGV4XTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZpbmQgdGhlIGF0dHJpYnV0ZSBuYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuYW1lID0gbGFzdEF0dHJpYnV0ZU5hbWVSZWdleC5leGVjKHN0cmluZ0ZvclBhcnQpWzJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRmluZCB0aGUgY29ycmVzcG9uZGluZyBhdHRyaWJ1dGVcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFsbCBib3VuZCBhdHRyaWJ1dGVzIGhhdmUgaGFkIGEgc3VmZml4IGFkZGVkIGluXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUZW1wbGF0ZVJlc3VsdCNnZXRIVE1MIHRvIG9wdCBvdXQgb2Ygc3BlY2lhbCBhdHRyaWJ1dGVcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGhhbmRsaW5nLiBUbyBsb29rIHVwIHRoZSBhdHRyaWJ1dGUgdmFsdWUgd2UgYWxzbyBuZWVkIHRvIGFkZFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhlIHN1ZmZpeC5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGF0dHJpYnV0ZUxvb2t1cE5hbWUgPSBuYW1lLnRvTG93ZXJDYXNlKCkgKyBib3VuZEF0dHJpYnV0ZVN1ZmZpeDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGF0dHJpYnV0ZVZhbHVlID0gbm9kZS5nZXRBdHRyaWJ1dGUoYXR0cmlidXRlTG9va3VwTmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlLnJlbW92ZUF0dHJpYnV0ZShhdHRyaWJ1dGVMb29rdXBOYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0YXRpY3MgPSBhdHRyaWJ1dGVWYWx1ZS5zcGxpdChtYXJrZXJSZWdleCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcnRzLnB1c2goeyB0eXBlOiAnYXR0cmlidXRlJywgaW5kZXgsIG5hbWUsIHN0cmluZ3M6IHN0YXRpY3MgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJ0SW5kZXggKz0gc3RhdGljcy5sZW5ndGggLSAxO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChub2RlLnRhZ05hbWUgPT09ICdURU1QTEFURScpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhY2sucHVzaChub2RlKTtcbiAgICAgICAgICAgICAgICAgICAgd2Fsa2VyLmN1cnJlbnROb2RlID0gbm9kZS5jb250ZW50O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKG5vZGUubm9kZVR5cGUgPT09IDMgLyogTm9kZS5URVhUX05PREUgKi8pIHtcbiAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0gbm9kZS5kYXRhO1xuICAgICAgICAgICAgICAgIGlmIChkYXRhLmluZGV4T2YobWFya2VyKSA+PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhcmVudCA9IG5vZGUucGFyZW50Tm9kZTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RyaW5ncyA9IGRhdGEuc3BsaXQobWFya2VyUmVnZXgpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBsYXN0SW5kZXggPSBzdHJpbmdzLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICAgICAgICAgIC8vIEdlbmVyYXRlIGEgbmV3IHRleHQgbm9kZSBmb3IgZWFjaCBsaXRlcmFsIHNlY3Rpb25cbiAgICAgICAgICAgICAgICAgICAgLy8gVGhlc2Ugbm9kZXMgYXJlIGFsc28gdXNlZCBhcyB0aGUgbWFya2VycyBmb3Igbm9kZSBwYXJ0c1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxhc3RJbmRleDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgaW5zZXJ0O1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHMgPSBzdHJpbmdzW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMgPT09ICcnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5zZXJ0ID0gY3JlYXRlTWFya2VyKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtYXRjaCA9IGxhc3RBdHRyaWJ1dGVOYW1lUmVnZXguZXhlYyhzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWF0Y2ggIT09IG51bGwgJiYgZW5kc1dpdGgobWF0Y2hbMl0sIGJvdW5kQXR0cmlidXRlU3VmZml4KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzID0gcy5zbGljZSgwLCBtYXRjaC5pbmRleCkgKyBtYXRjaFsxXSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRjaFsyXS5zbGljZSgwLCAtYm91bmRBdHRyaWJ1dGVTdWZmaXgubGVuZ3RoKSArIG1hdGNoWzNdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnNlcnQgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudC5pbnNlcnRCZWZvcmUoaW5zZXJ0LCBub2RlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGFydHMucHVzaCh7IHR5cGU6ICdub2RlJywgaW5kZXg6ICsraW5kZXggfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgdGhlcmUncyBubyB0ZXh0LCB3ZSBtdXN0IGluc2VydCBhIGNvbW1lbnQgdG8gbWFyayBvdXIgcGxhY2UuXG4gICAgICAgICAgICAgICAgICAgIC8vIEVsc2UsIHdlIGNhbiB0cnVzdCBpdCB3aWxsIHN0aWNrIGFyb3VuZCBhZnRlciBjbG9uaW5nLlxuICAgICAgICAgICAgICAgICAgICBpZiAoc3RyaW5nc1tsYXN0SW5kZXhdID09PSAnJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50Lmluc2VydEJlZm9yZShjcmVhdGVNYXJrZXIoKSwgbm9kZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBub2Rlc1RvUmVtb3ZlLnB1c2gobm9kZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlLmRhdGEgPSBzdHJpbmdzW2xhc3RJbmRleF07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gV2UgaGF2ZSBhIHBhcnQgZm9yIGVhY2ggbWF0Y2ggZm91bmRcbiAgICAgICAgICAgICAgICAgICAgcGFydEluZGV4ICs9IGxhc3RJbmRleDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChub2RlLm5vZGVUeXBlID09PSA4IC8qIE5vZGUuQ09NTUVOVF9OT0RFICovKSB7XG4gICAgICAgICAgICAgICAgaWYgKG5vZGUuZGF0YSA9PT0gbWFya2VyKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhcmVudCA9IG5vZGUucGFyZW50Tm9kZTtcbiAgICAgICAgICAgICAgICAgICAgLy8gQWRkIGEgbmV3IG1hcmtlciBub2RlIHRvIGJlIHRoZSBzdGFydE5vZGUgb2YgdGhlIFBhcnQgaWYgYW55IG9mXG4gICAgICAgICAgICAgICAgICAgIC8vIHRoZSBmb2xsb3dpbmcgYXJlIHRydWU6XG4gICAgICAgICAgICAgICAgICAgIC8vICAqIFdlIGRvbid0IGhhdmUgYSBwcmV2aW91c1NpYmxpbmdcbiAgICAgICAgICAgICAgICAgICAgLy8gICogVGhlIHByZXZpb3VzU2libGluZyBpcyBhbHJlYWR5IHRoZSBzdGFydCBvZiBhIHByZXZpb3VzIHBhcnRcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5vZGUucHJldmlvdXNTaWJsaW5nID09PSBudWxsIHx8IGluZGV4ID09PSBsYXN0UGFydEluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbmRleCsrO1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50Lmluc2VydEJlZm9yZShjcmVhdGVNYXJrZXIoKSwgbm9kZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbGFzdFBhcnRJbmRleCA9IGluZGV4O1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcnRzLnB1c2goeyB0eXBlOiAnbm9kZScsIGluZGV4IH0pO1xuICAgICAgICAgICAgICAgICAgICAvLyBJZiB3ZSBkb24ndCBoYXZlIGEgbmV4dFNpYmxpbmcsIGtlZXAgdGhpcyBub2RlIHNvIHdlIGhhdmUgYW4gZW5kLlxuICAgICAgICAgICAgICAgICAgICAvLyBFbHNlLCB3ZSBjYW4gcmVtb3ZlIGl0IHRvIHNhdmUgZnV0dXJlIGNvc3RzLlxuICAgICAgICAgICAgICAgICAgICBpZiAobm9kZS5uZXh0U2libGluZyA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5kYXRhID0gJyc7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBub2Rlc1RvUmVtb3ZlLnB1c2gobm9kZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbmRleC0tO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHBhcnRJbmRleCsrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGkgPSAtMTtcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKChpID0gbm9kZS5kYXRhLmluZGV4T2YobWFya2VyLCBpICsgMSkpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ29tbWVudCBub2RlIGhhcyBhIGJpbmRpbmcgbWFya2VyIGluc2lkZSwgbWFrZSBhbiBpbmFjdGl2ZSBwYXJ0XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGUgYmluZGluZyB3b24ndCB3b3JrLCBidXQgc3Vic2VxdWVudCBiaW5kaW5ncyB3aWxsXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUT0RPIChqdXN0aW5mYWduYW5pKTogY29uc2lkZXIgd2hldGhlciBpdCdzIGV2ZW4gd29ydGggaXQgdG9cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIG1ha2UgYmluZGluZ3MgaW4gY29tbWVudHMgd29ya1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXJ0cy5wdXNoKHsgdHlwZTogJ25vZGUnLCBpbmRleDogLTEgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJ0SW5kZXgrKztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBSZW1vdmUgdGV4dCBiaW5kaW5nIG5vZGVzIGFmdGVyIHRoZSB3YWxrIHRvIG5vdCBkaXN0dXJiIHRoZSBUcmVlV2Fsa2VyXG4gICAgICAgIGZvciAoY29uc3QgbiBvZiBub2Rlc1RvUmVtb3ZlKSB7XG4gICAgICAgICAgICBuLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobik7XG4gICAgICAgIH1cbiAgICB9XG59XG5jb25zdCBlbmRzV2l0aCA9IChzdHIsIHN1ZmZpeCkgPT4ge1xuICAgIGNvbnN0IGluZGV4ID0gc3RyLmxlbmd0aCAtIHN1ZmZpeC5sZW5ndGg7XG4gICAgcmV0dXJuIGluZGV4ID49IDAgJiYgc3RyLnNsaWNlKGluZGV4KSA9PT0gc3VmZml4O1xufTtcbmV4cG9ydCBjb25zdCBpc1RlbXBsYXRlUGFydEFjdGl2ZSA9IChwYXJ0KSA9PiBwYXJ0LmluZGV4ICE9PSAtMTtcbi8vIEFsbG93cyBgZG9jdW1lbnQuY3JlYXRlQ29tbWVudCgnJylgIHRvIGJlIHJlbmFtZWQgZm9yIGFcbi8vIHNtYWxsIG1hbnVhbCBzaXplLXNhdmluZ3MuXG5leHBvcnQgY29uc3QgY3JlYXRlTWFya2VyID0gKCkgPT4gZG9jdW1lbnQuY3JlYXRlQ29tbWVudCgnJyk7XG4vKipcbiAqIFRoaXMgcmVnZXggZXh0cmFjdHMgdGhlIGF0dHJpYnV0ZSBuYW1lIHByZWNlZGluZyBhbiBhdHRyaWJ1dGUtcG9zaXRpb25cbiAqIGV4cHJlc3Npb24uIEl0IGRvZXMgdGhpcyBieSBtYXRjaGluZyB0aGUgc3ludGF4IGFsbG93ZWQgZm9yIGF0dHJpYnV0ZXNcbiAqIGFnYWluc3QgdGhlIHN0cmluZyBsaXRlcmFsIGRpcmVjdGx5IHByZWNlZGluZyB0aGUgZXhwcmVzc2lvbiwgYXNzdW1pbmcgdGhhdFxuICogdGhlIGV4cHJlc3Npb24gaXMgaW4gYW4gYXR0cmlidXRlLXZhbHVlIHBvc2l0aW9uLlxuICpcbiAqIFNlZSBhdHRyaWJ1dGVzIGluIHRoZSBIVE1MIHNwZWM6XG4gKiBodHRwczovL3d3dy53My5vcmcvVFIvaHRtbDUvc3ludGF4Lmh0bWwjZWxlbWVudHMtYXR0cmlidXRlc1xuICpcbiAqIFwiIFxceDA5XFx4MGFcXHgwY1xceDBkXCIgYXJlIEhUTUwgc3BhY2UgY2hhcmFjdGVyczpcbiAqIGh0dHBzOi8vd3d3LnczLm9yZy9UUi9odG1sNS9pbmZyYXN0cnVjdHVyZS5odG1sI3NwYWNlLWNoYXJhY3RlcnNcbiAqXG4gKiBcIlxcMC1cXHgxRlxceDdGLVxceDlGXCIgYXJlIFVuaWNvZGUgY29udHJvbCBjaGFyYWN0ZXJzLCB3aGljaCBpbmNsdWRlcyBldmVyeVxuICogc3BhY2UgY2hhcmFjdGVyIGV4Y2VwdCBcIiBcIi5cbiAqXG4gKiBTbyBhbiBhdHRyaWJ1dGUgaXM6XG4gKiAgKiBUaGUgbmFtZTogYW55IGNoYXJhY3RlciBleGNlcHQgYSBjb250cm9sIGNoYXJhY3Rlciwgc3BhY2UgY2hhcmFjdGVyLCAoJyksXG4gKiAgICAoXCIpLCBcIj5cIiwgXCI9XCIsIG9yIFwiL1wiXG4gKiAgKiBGb2xsb3dlZCBieSB6ZXJvIG9yIG1vcmUgc3BhY2UgY2hhcmFjdGVyc1xuICogICogRm9sbG93ZWQgYnkgXCI9XCJcbiAqICAqIEZvbGxvd2VkIGJ5IHplcm8gb3IgbW9yZSBzcGFjZSBjaGFyYWN0ZXJzXG4gKiAgKiBGb2xsb3dlZCBieTpcbiAqICAgICogQW55IGNoYXJhY3RlciBleGNlcHQgc3BhY2UsICgnKSwgKFwiKSwgXCI8XCIsIFwiPlwiLCBcIj1cIiwgKGApLCBvclxuICogICAgKiAoXCIpIHRoZW4gYW55IG5vbi0oXCIpLCBvclxuICogICAgKiAoJykgdGhlbiBhbnkgbm9uLSgnKVxuICovXG5leHBvcnQgY29uc3QgbGFzdEF0dHJpYnV0ZU5hbWVSZWdleCA9IC8oWyBcXHgwOVxceDBhXFx4MGNcXHgwZF0pKFteXFwwLVxceDFGXFx4N0YtXFx4OUYgXCInPj0vXSspKFsgXFx4MDlcXHgwYVxceDBjXFx4MGRdKj1bIFxceDA5XFx4MGFcXHgwY1xceDBkXSooPzpbXiBcXHgwOVxceDBhXFx4MGNcXHgwZFwiJ2A8Pj1dKnxcIlteXCJdKnwnW14nXSopKSQvO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGVtcGxhdGUuanMubWFwIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIFRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbiAqIENvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG4gKiBzdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiAqL1xuLyoqXG4gKiBAbW9kdWxlIGxpdC1odG1sXG4gKi9cbmltcG9ydCB7IGlzQ0VQb2x5ZmlsbCB9IGZyb20gJy4vZG9tLmpzJztcbmltcG9ydCB7IGlzVGVtcGxhdGVQYXJ0QWN0aXZlIH0gZnJvbSAnLi90ZW1wbGF0ZS5qcyc7XG4vKipcbiAqIEFuIGluc3RhbmNlIG9mIGEgYFRlbXBsYXRlYCB0aGF0IGNhbiBiZSBhdHRhY2hlZCB0byB0aGUgRE9NIGFuZCB1cGRhdGVkXG4gKiB3aXRoIG5ldyB2YWx1ZXMuXG4gKi9cbmV4cG9ydCBjbGFzcyBUZW1wbGF0ZUluc3RhbmNlIHtcbiAgICBjb25zdHJ1Y3Rvcih0ZW1wbGF0ZSwgcHJvY2Vzc29yLCBvcHRpb25zKSB7XG4gICAgICAgIHRoaXMuX19wYXJ0cyA9IFtdO1xuICAgICAgICB0aGlzLnRlbXBsYXRlID0gdGVtcGxhdGU7XG4gICAgICAgIHRoaXMucHJvY2Vzc29yID0gcHJvY2Vzc29yO1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgIH1cbiAgICB1cGRhdGUodmFsdWVzKSB7XG4gICAgICAgIGxldCBpID0gMDtcbiAgICAgICAgZm9yIChjb25zdCBwYXJ0IG9mIHRoaXMuX19wYXJ0cykge1xuICAgICAgICAgICAgaWYgKHBhcnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHBhcnQuc2V0VmFsdWUodmFsdWVzW2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IHBhcnQgb2YgdGhpcy5fX3BhcnRzKSB7XG4gICAgICAgICAgICBpZiAocGFydCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgcGFydC5jb21taXQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBfY2xvbmUoKSB7XG4gICAgICAgIC8vIFRoZXJlIGFyZSBhIG51bWJlciBvZiBzdGVwcyBpbiB0aGUgbGlmZWN5Y2xlIG9mIGEgdGVtcGxhdGUgaW5zdGFuY2Unc1xuICAgICAgICAvLyBET00gZnJhZ21lbnQ6XG4gICAgICAgIC8vICAxLiBDbG9uZSAtIGNyZWF0ZSB0aGUgaW5zdGFuY2UgZnJhZ21lbnRcbiAgICAgICAgLy8gIDIuIEFkb3B0IC0gYWRvcHQgaW50byB0aGUgbWFpbiBkb2N1bWVudFxuICAgICAgICAvLyAgMy4gUHJvY2VzcyAtIGZpbmQgcGFydCBtYXJrZXJzIGFuZCBjcmVhdGUgcGFydHNcbiAgICAgICAgLy8gIDQuIFVwZ3JhZGUgLSB1cGdyYWRlIGN1c3RvbSBlbGVtZW50c1xuICAgICAgICAvLyAgNS4gVXBkYXRlIC0gc2V0IG5vZGUsIGF0dHJpYnV0ZSwgcHJvcGVydHksIGV0Yy4sIHZhbHVlc1xuICAgICAgICAvLyAgNi4gQ29ubmVjdCAtIGNvbm5lY3QgdG8gdGhlIGRvY3VtZW50LiBPcHRpb25hbCBhbmQgb3V0c2lkZSBvZiB0aGlzXG4gICAgICAgIC8vICAgICBtZXRob2QuXG4gICAgICAgIC8vXG4gICAgICAgIC8vIFdlIGhhdmUgYSBmZXcgY29uc3RyYWludHMgb24gdGhlIG9yZGVyaW5nIG9mIHRoZXNlIHN0ZXBzOlxuICAgICAgICAvLyAgKiBXZSBuZWVkIHRvIHVwZ3JhZGUgYmVmb3JlIHVwZGF0aW5nLCBzbyB0aGF0IHByb3BlcnR5IHZhbHVlcyB3aWxsIHBhc3NcbiAgICAgICAgLy8gICAgdGhyb3VnaCBhbnkgcHJvcGVydHkgc2V0dGVycy5cbiAgICAgICAgLy8gICogV2Ugd291bGQgbGlrZSB0byBwcm9jZXNzIGJlZm9yZSB1cGdyYWRpbmcgc28gdGhhdCB3ZSdyZSBzdXJlIHRoYXQgdGhlXG4gICAgICAgIC8vICAgIGNsb25lZCBmcmFnbWVudCBpcyBpbmVydCBhbmQgbm90IGRpc3R1cmJlZCBieSBzZWxmLW1vZGlmeWluZyBET00uXG4gICAgICAgIC8vICAqIFdlIHdhbnQgY3VzdG9tIGVsZW1lbnRzIHRvIHVwZ3JhZGUgZXZlbiBpbiBkaXNjb25uZWN0ZWQgZnJhZ21lbnRzLlxuICAgICAgICAvL1xuICAgICAgICAvLyBHaXZlbiB0aGVzZSBjb25zdHJhaW50cywgd2l0aCBmdWxsIGN1c3RvbSBlbGVtZW50cyBzdXBwb3J0IHdlIHdvdWxkXG4gICAgICAgIC8vIHByZWZlciB0aGUgb3JkZXI6IENsb25lLCBQcm9jZXNzLCBBZG9wdCwgVXBncmFkZSwgVXBkYXRlLCBDb25uZWN0XG4gICAgICAgIC8vXG4gICAgICAgIC8vIEJ1dCBTYWZhcmkgZG9vZXMgbm90IGltcGxlbWVudCBDdXN0b21FbGVtZW50UmVnaXN0cnkjdXBncmFkZSwgc28gd2VcbiAgICAgICAgLy8gY2FuIG5vdCBpbXBsZW1lbnQgdGhhdCBvcmRlciBhbmQgc3RpbGwgaGF2ZSB1cGdyYWRlLWJlZm9yZS11cGRhdGUgYW5kXG4gICAgICAgIC8vIHVwZ3JhZGUgZGlzY29ubmVjdGVkIGZyYWdtZW50cy4gU28gd2UgaW5zdGVhZCBzYWNyaWZpY2UgdGhlXG4gICAgICAgIC8vIHByb2Nlc3MtYmVmb3JlLXVwZ3JhZGUgY29uc3RyYWludCwgc2luY2UgaW4gQ3VzdG9tIEVsZW1lbnRzIHYxIGVsZW1lbnRzXG4gICAgICAgIC8vIG11c3Qgbm90IG1vZGlmeSB0aGVpciBsaWdodCBET00gaW4gdGhlIGNvbnN0cnVjdG9yLiBXZSBzdGlsbCBoYXZlIGlzc3Vlc1xuICAgICAgICAvLyB3aGVuIGNvLWV4aXN0aW5nIHdpdGggQ0V2MCBlbGVtZW50cyBsaWtlIFBvbHltZXIgMSwgYW5kIHdpdGggcG9seWZpbGxzXG4gICAgICAgIC8vIHRoYXQgZG9uJ3Qgc3RyaWN0bHkgYWRoZXJlIHRvIHRoZSBuby1tb2RpZmljYXRpb24gcnVsZSBiZWNhdXNlIHNoYWRvd1xuICAgICAgICAvLyBET00sIHdoaWNoIG1heSBiZSBjcmVhdGVkIGluIHRoZSBjb25zdHJ1Y3RvciwgaXMgZW11bGF0ZWQgYnkgYmVpbmcgcGxhY2VkXG4gICAgICAgIC8vIGluIHRoZSBsaWdodCBET00uXG4gICAgICAgIC8vXG4gICAgICAgIC8vIFRoZSByZXN1bHRpbmcgb3JkZXIgaXMgb24gbmF0aXZlIGlzOiBDbG9uZSwgQWRvcHQsIFVwZ3JhZGUsIFByb2Nlc3MsXG4gICAgICAgIC8vIFVwZGF0ZSwgQ29ubmVjdC4gZG9jdW1lbnQuaW1wb3J0Tm9kZSgpIHBlcmZvcm1zIENsb25lLCBBZG9wdCwgYW5kIFVwZ3JhZGVcbiAgICAgICAgLy8gaW4gb25lIHN0ZXAuXG4gICAgICAgIC8vXG4gICAgICAgIC8vIFRoZSBDdXN0b20gRWxlbWVudHMgdjEgcG9seWZpbGwgc3VwcG9ydHMgdXBncmFkZSgpLCBzbyB0aGUgb3JkZXIgd2hlblxuICAgICAgICAvLyBwb2x5ZmlsbGVkIGlzIHRoZSBtb3JlIGlkZWFsOiBDbG9uZSwgUHJvY2VzcywgQWRvcHQsIFVwZ3JhZGUsIFVwZGF0ZSxcbiAgICAgICAgLy8gQ29ubmVjdC5cbiAgICAgICAgY29uc3QgZnJhZ21lbnQgPSBpc0NFUG9seWZpbGwgP1xuICAgICAgICAgICAgdGhpcy50ZW1wbGF0ZS5lbGVtZW50LmNvbnRlbnQuY2xvbmVOb2RlKHRydWUpIDpcbiAgICAgICAgICAgIGRvY3VtZW50LmltcG9ydE5vZGUodGhpcy50ZW1wbGF0ZS5lbGVtZW50LmNvbnRlbnQsIHRydWUpO1xuICAgICAgICBjb25zdCBzdGFjayA9IFtdO1xuICAgICAgICBjb25zdCBwYXJ0cyA9IHRoaXMudGVtcGxhdGUucGFydHM7XG4gICAgICAgIC8vIEVkZ2UgbmVlZHMgYWxsIDQgcGFyYW1ldGVycyBwcmVzZW50OyBJRTExIG5lZWRzIDNyZCBwYXJhbWV0ZXIgdG8gYmUgbnVsbFxuICAgICAgICBjb25zdCB3YWxrZXIgPSBkb2N1bWVudC5jcmVhdGVUcmVlV2Fsa2VyKGZyYWdtZW50LCAxMzMgLyogTm9kZUZpbHRlci5TSE9XX3tFTEVNRU5UfENPTU1FTlR8VEVYVH0gKi8sIG51bGwsIGZhbHNlKTtcbiAgICAgICAgbGV0IHBhcnRJbmRleCA9IDA7XG4gICAgICAgIGxldCBub2RlSW5kZXggPSAwO1xuICAgICAgICBsZXQgcGFydDtcbiAgICAgICAgbGV0IG5vZGUgPSB3YWxrZXIubmV4dE5vZGUoKTtcbiAgICAgICAgLy8gTG9vcCB0aHJvdWdoIGFsbCB0aGUgbm9kZXMgYW5kIHBhcnRzIG9mIGEgdGVtcGxhdGVcbiAgICAgICAgd2hpbGUgKHBhcnRJbmRleCA8IHBhcnRzLmxlbmd0aCkge1xuICAgICAgICAgICAgcGFydCA9IHBhcnRzW3BhcnRJbmRleF07XG4gICAgICAgICAgICBpZiAoIWlzVGVtcGxhdGVQYXJ0QWN0aXZlKHBhcnQpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fX3BhcnRzLnB1c2godW5kZWZpbmVkKTtcbiAgICAgICAgICAgICAgICBwYXJ0SW5kZXgrKztcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFByb2dyZXNzIHRoZSB0cmVlIHdhbGtlciB1bnRpbCB3ZSBmaW5kIG91ciBuZXh0IHBhcnQncyBub2RlLlxuICAgICAgICAgICAgLy8gTm90ZSB0aGF0IG11bHRpcGxlIHBhcnRzIG1heSBzaGFyZSB0aGUgc2FtZSBub2RlIChhdHRyaWJ1dGUgcGFydHNcbiAgICAgICAgICAgIC8vIG9uIGEgc2luZ2xlIGVsZW1lbnQpLCBzbyB0aGlzIGxvb3AgbWF5IG5vdCBydW4gYXQgYWxsLlxuICAgICAgICAgICAgd2hpbGUgKG5vZGVJbmRleCA8IHBhcnQuaW5kZXgpIHtcbiAgICAgICAgICAgICAgICBub2RlSW5kZXgrKztcbiAgICAgICAgICAgICAgICBpZiAobm9kZS5ub2RlTmFtZSA9PT0gJ1RFTVBMQVRFJykge1xuICAgICAgICAgICAgICAgICAgICBzdGFjay5wdXNoKG5vZGUpO1xuICAgICAgICAgICAgICAgICAgICB3YWxrZXIuY3VycmVudE5vZGUgPSBub2RlLmNvbnRlbnQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICgobm9kZSA9IHdhbGtlci5uZXh0Tm9kZSgpKSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBXZSd2ZSBleGhhdXN0ZWQgdGhlIGNvbnRlbnQgaW5zaWRlIGEgbmVzdGVkIHRlbXBsYXRlIGVsZW1lbnQuXG4gICAgICAgICAgICAgICAgICAgIC8vIEJlY2F1c2Ugd2Ugc3RpbGwgaGF2ZSBwYXJ0cyAodGhlIG91dGVyIGZvci1sb29wKSwgd2Uga25vdzpcbiAgICAgICAgICAgICAgICAgICAgLy8gLSBUaGVyZSBpcyBhIHRlbXBsYXRlIGluIHRoZSBzdGFja1xuICAgICAgICAgICAgICAgICAgICAvLyAtIFRoZSB3YWxrZXIgd2lsbCBmaW5kIGEgbmV4dE5vZGUgb3V0c2lkZSB0aGUgdGVtcGxhdGVcbiAgICAgICAgICAgICAgICAgICAgd2Fsa2VyLmN1cnJlbnROb2RlID0gc3RhY2sucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgIG5vZGUgPSB3YWxrZXIubmV4dE5vZGUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBXZSd2ZSBhcnJpdmVkIGF0IG91ciBwYXJ0J3Mgbm9kZS5cbiAgICAgICAgICAgIGlmIChwYXJ0LnR5cGUgPT09ICdub2RlJykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhcnQgPSB0aGlzLnByb2Nlc3Nvci5oYW5kbGVUZXh0RXhwcmVzc2lvbih0aGlzLm9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIHBhcnQuaW5zZXJ0QWZ0ZXJOb2RlKG5vZGUucHJldmlvdXNTaWJsaW5nKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9fcGFydHMucHVzaChwYXJ0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX19wYXJ0cy5wdXNoKC4uLnRoaXMucHJvY2Vzc29yLmhhbmRsZUF0dHJpYnV0ZUV4cHJlc3Npb25zKG5vZGUsIHBhcnQubmFtZSwgcGFydC5zdHJpbmdzLCB0aGlzLm9wdGlvbnMpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBhcnRJbmRleCsrO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc0NFUG9seWZpbGwpIHtcbiAgICAgICAgICAgIGRvY3VtZW50LmFkb3B0Tm9kZShmcmFnbWVudCk7XG4gICAgICAgICAgICBjdXN0b21FbGVtZW50cy51cGdyYWRlKGZyYWdtZW50KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZnJhZ21lbnQ7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGVtcGxhdGUtaW5zdGFuY2UuanMubWFwIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIFRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbiAqIENvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG4gKiBzdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiAqL1xuLyoqXG4gKiBAbW9kdWxlIGxpdC1odG1sXG4gKi9cbmltcG9ydCB7IHJlcGFyZW50Tm9kZXMgfSBmcm9tICcuL2RvbS5qcyc7XG5pbXBvcnQgeyBib3VuZEF0dHJpYnV0ZVN1ZmZpeCwgbGFzdEF0dHJpYnV0ZU5hbWVSZWdleCwgbWFya2VyLCBub2RlTWFya2VyIH0gZnJvbSAnLi90ZW1wbGF0ZS5qcyc7XG5jb25zdCBjb21tZW50TWFya2VyID0gYCAke21hcmtlcn0gYDtcbi8qKlxuICogVGhlIHJldHVybiB0eXBlIG9mIGBodG1sYCwgd2hpY2ggaG9sZHMgYSBUZW1wbGF0ZSBhbmQgdGhlIHZhbHVlcyBmcm9tXG4gKiBpbnRlcnBvbGF0ZWQgZXhwcmVzc2lvbnMuXG4gKi9cbmV4cG9ydCBjbGFzcyBUZW1wbGF0ZVJlc3VsdCB7XG4gICAgY29uc3RydWN0b3Ioc3RyaW5ncywgdmFsdWVzLCB0eXBlLCBwcm9jZXNzb3IpIHtcbiAgICAgICAgdGhpcy5zdHJpbmdzID0gc3RyaW5ncztcbiAgICAgICAgdGhpcy52YWx1ZXMgPSB2YWx1ZXM7XG4gICAgICAgIHRoaXMudHlwZSA9IHR5cGU7XG4gICAgICAgIHRoaXMucHJvY2Vzc29yID0gcHJvY2Vzc29yO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgc3RyaW5nIG9mIEhUTUwgdXNlZCB0byBjcmVhdGUgYSBgPHRlbXBsYXRlPmAgZWxlbWVudC5cbiAgICAgKi9cbiAgICBnZXRIVE1MKCkge1xuICAgICAgICBjb25zdCBsID0gdGhpcy5zdHJpbmdzLmxlbmd0aCAtIDE7XG4gICAgICAgIGxldCBodG1sID0gJyc7XG4gICAgICAgIGxldCBpc0NvbW1lbnRCaW5kaW5nID0gZmFsc2U7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBzID0gdGhpcy5zdHJpbmdzW2ldO1xuICAgICAgICAgICAgLy8gRm9yIGVhY2ggYmluZGluZyB3ZSB3YW50IHRvIGRldGVybWluZSB0aGUga2luZCBvZiBtYXJrZXIgdG8gaW5zZXJ0XG4gICAgICAgICAgICAvLyBpbnRvIHRoZSB0ZW1wbGF0ZSBzb3VyY2UgYmVmb3JlIGl0J3MgcGFyc2VkIGJ5IHRoZSBicm93c2VyJ3MgSFRNTFxuICAgICAgICAgICAgLy8gcGFyc2VyLiBUaGUgbWFya2VyIHR5cGUgaXMgYmFzZWQgb24gd2hldGhlciB0aGUgZXhwcmVzc2lvbiBpcyBpbiBhblxuICAgICAgICAgICAgLy8gYXR0cmlidXRlLCB0ZXh0LCBvciBjb21tZW50IHBvaXNpdGlvbi5cbiAgICAgICAgICAgIC8vICAgKiBGb3Igbm9kZS1wb3NpdGlvbiBiaW5kaW5ncyB3ZSBpbnNlcnQgYSBjb21tZW50IHdpdGggdGhlIG1hcmtlclxuICAgICAgICAgICAgLy8gICAgIHNlbnRpbmVsIGFzIGl0cyB0ZXh0IGNvbnRlbnQsIGxpa2UgPCEtLXt7bGl0LWd1aWR9fS0tPi5cbiAgICAgICAgICAgIC8vICAgKiBGb3IgYXR0cmlidXRlIGJpbmRpbmdzIHdlIGluc2VydCBqdXN0IHRoZSBtYXJrZXIgc2VudGluZWwgZm9yIHRoZVxuICAgICAgICAgICAgLy8gICAgIGZpcnN0IGJpbmRpbmcsIHNvIHRoYXQgd2Ugc3VwcG9ydCB1bnF1b3RlZCBhdHRyaWJ1dGUgYmluZGluZ3MuXG4gICAgICAgICAgICAvLyAgICAgU3Vic2VxdWVudCBiaW5kaW5ncyBjYW4gdXNlIGEgY29tbWVudCBtYXJrZXIgYmVjYXVzZSBtdWx0aS1iaW5kaW5nXG4gICAgICAgICAgICAvLyAgICAgYXR0cmlidXRlcyBtdXN0IGJlIHF1b3RlZC5cbiAgICAgICAgICAgIC8vICAgKiBGb3IgY29tbWVudCBiaW5kaW5ncyB3ZSBpbnNlcnQganVzdCB0aGUgbWFya2VyIHNlbnRpbmVsIHNvIHdlIGRvbid0XG4gICAgICAgICAgICAvLyAgICAgY2xvc2UgdGhlIGNvbW1lbnQuXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gVGhlIGZvbGxvd2luZyBjb2RlIHNjYW5zIHRoZSB0ZW1wbGF0ZSBzb3VyY2UsIGJ1dCBpcyAqbm90KiBhbiBIVE1MXG4gICAgICAgICAgICAvLyBwYXJzZXIuIFdlIGRvbid0IG5lZWQgdG8gdHJhY2sgdGhlIHRyZWUgc3RydWN0dXJlIG9mIHRoZSBIVE1MLCBvbmx5XG4gICAgICAgICAgICAvLyB3aGV0aGVyIGEgYmluZGluZyBpcyBpbnNpZGUgYSBjb21tZW50LCBhbmQgaWYgbm90LCBpZiBpdCBhcHBlYXJzIHRvIGJlXG4gICAgICAgICAgICAvLyB0aGUgZmlyc3QgYmluZGluZyBpbiBhbiBhdHRyaWJ1dGUuXG4gICAgICAgICAgICBjb25zdCBjb21tZW50T3BlbiA9IHMubGFzdEluZGV4T2YoJzwhLS0nKTtcbiAgICAgICAgICAgIC8vIFdlJ3JlIGluIGNvbW1lbnQgcG9zaXRpb24gaWYgd2UgaGF2ZSBhIGNvbW1lbnQgb3BlbiB3aXRoIG5vIGZvbGxvd2luZ1xuICAgICAgICAgICAgLy8gY29tbWVudCBjbG9zZS4gQmVjYXVzZSA8LS0gY2FuIGFwcGVhciBpbiBhbiBhdHRyaWJ1dGUgdmFsdWUgdGhlcmUgY2FuXG4gICAgICAgICAgICAvLyBiZSBmYWxzZSBwb3NpdGl2ZXMuXG4gICAgICAgICAgICBpc0NvbW1lbnRCaW5kaW5nID0gKGNvbW1lbnRPcGVuID4gLTEgfHwgaXNDb21tZW50QmluZGluZykgJiZcbiAgICAgICAgICAgICAgICBzLmluZGV4T2YoJy0tPicsIGNvbW1lbnRPcGVuICsgMSkgPT09IC0xO1xuICAgICAgICAgICAgLy8gQ2hlY2sgdG8gc2VlIGlmIHdlIGhhdmUgYW4gYXR0cmlidXRlLWxpa2Ugc2VxdWVuY2UgcHJlY2VlZGluZyB0aGVcbiAgICAgICAgICAgIC8vIGV4cHJlc3Npb24uIFRoaXMgY2FuIG1hdGNoIFwibmFtZT12YWx1ZVwiIGxpa2Ugc3RydWN0dXJlcyBpbiB0ZXh0LFxuICAgICAgICAgICAgLy8gY29tbWVudHMsIGFuZCBhdHRyaWJ1dGUgdmFsdWVzLCBzbyB0aGVyZSBjYW4gYmUgZmFsc2UtcG9zaXRpdmVzLlxuICAgICAgICAgICAgY29uc3QgYXR0cmlidXRlTWF0Y2ggPSBsYXN0QXR0cmlidXRlTmFtZVJlZ2V4LmV4ZWMocyk7XG4gICAgICAgICAgICBpZiAoYXR0cmlidXRlTWF0Y2ggPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAvLyBXZSdyZSBvbmx5IGluIHRoaXMgYnJhbmNoIGlmIHdlIGRvbid0IGhhdmUgYSBhdHRyaWJ1dGUtbGlrZVxuICAgICAgICAgICAgICAgIC8vIHByZWNlZWRpbmcgc2VxdWVuY2UuIEZvciBjb21tZW50cywgdGhpcyBndWFyZHMgYWdhaW5zdCB1bnVzdWFsXG4gICAgICAgICAgICAgICAgLy8gYXR0cmlidXRlIHZhbHVlcyBsaWtlIDxkaXYgZm9vPVwiPCEtLSR7J2Jhcid9XCI+LiBDYXNlcyBsaWtlXG4gICAgICAgICAgICAgICAgLy8gPCEtLSBmb289JHsnYmFyJ30tLT4gYXJlIGhhbmRsZWQgY29ycmVjdGx5IGluIHRoZSBhdHRyaWJ1dGUgYnJhbmNoXG4gICAgICAgICAgICAgICAgLy8gYmVsb3cuXG4gICAgICAgICAgICAgICAgaHRtbCArPSBzICsgKGlzQ29tbWVudEJpbmRpbmcgPyBjb21tZW50TWFya2VyIDogbm9kZU1hcmtlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBGb3IgYXR0cmlidXRlcyB3ZSB1c2UganVzdCBhIG1hcmtlciBzZW50aW5lbCwgYW5kIGFsc28gYXBwZW5kIGFcbiAgICAgICAgICAgICAgICAvLyAkbGl0JCBzdWZmaXggdG8gdGhlIG5hbWUgdG8gb3B0LW91dCBvZiBhdHRyaWJ1dGUtc3BlY2lmaWMgcGFyc2luZ1xuICAgICAgICAgICAgICAgIC8vIHRoYXQgSUUgYW5kIEVkZ2UgZG8gZm9yIHN0eWxlIGFuZCBjZXJ0YWluIFNWRyBhdHRyaWJ1dGVzLlxuICAgICAgICAgICAgICAgIGh0bWwgKz0gcy5zdWJzdHIoMCwgYXR0cmlidXRlTWF0Y2guaW5kZXgpICsgYXR0cmlidXRlTWF0Y2hbMV0gK1xuICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVNYXRjaFsyXSArIGJvdW5kQXR0cmlidXRlU3VmZml4ICsgYXR0cmlidXRlTWF0Y2hbM10gK1xuICAgICAgICAgICAgICAgICAgICBtYXJrZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaHRtbCArPSB0aGlzLnN0cmluZ3NbbF07XG4gICAgICAgIHJldHVybiBodG1sO1xuICAgIH1cbiAgICBnZXRUZW1wbGF0ZUVsZW1lbnQoKSB7XG4gICAgICAgIGNvbnN0IHRlbXBsYXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGVtcGxhdGUnKTtcbiAgICAgICAgdGVtcGxhdGUuaW5uZXJIVE1MID0gdGhpcy5nZXRIVE1MKCk7XG4gICAgICAgIHJldHVybiB0ZW1wbGF0ZTtcbiAgICB9XG59XG4vKipcbiAqIEEgVGVtcGxhdGVSZXN1bHQgZm9yIFNWRyBmcmFnbWVudHMuXG4gKlxuICogVGhpcyBjbGFzcyB3cmFwcyBIVE1MIGluIGFuIGA8c3ZnPmAgdGFnIGluIG9yZGVyIHRvIHBhcnNlIGl0cyBjb250ZW50cyBpbiB0aGVcbiAqIFNWRyBuYW1lc3BhY2UsIHRoZW4gbW9kaWZpZXMgdGhlIHRlbXBsYXRlIHRvIHJlbW92ZSB0aGUgYDxzdmc+YCB0YWcgc28gdGhhdFxuICogY2xvbmVzIG9ubHkgY29udGFpbmVyIHRoZSBvcmlnaW5hbCBmcmFnbWVudC5cbiAqL1xuZXhwb3J0IGNsYXNzIFNWR1RlbXBsYXRlUmVzdWx0IGV4dGVuZHMgVGVtcGxhdGVSZXN1bHQge1xuICAgIGdldEhUTUwoKSB7XG4gICAgICAgIHJldHVybiBgPHN2Zz4ke3N1cGVyLmdldEhUTUwoKX08L3N2Zz5gO1xuICAgIH1cbiAgICBnZXRUZW1wbGF0ZUVsZW1lbnQoKSB7XG4gICAgICAgIGNvbnN0IHRlbXBsYXRlID0gc3VwZXIuZ2V0VGVtcGxhdGVFbGVtZW50KCk7XG4gICAgICAgIGNvbnN0IGNvbnRlbnQgPSB0ZW1wbGF0ZS5jb250ZW50O1xuICAgICAgICBjb25zdCBzdmdFbGVtZW50ID0gY29udGVudC5maXJzdENoaWxkO1xuICAgICAgICBjb250ZW50LnJlbW92ZUNoaWxkKHN2Z0VsZW1lbnQpO1xuICAgICAgICByZXBhcmVudE5vZGVzKGNvbnRlbnQsIHN2Z0VsZW1lbnQuZmlyc3RDaGlsZCk7XG4gICAgICAgIHJldHVybiB0ZW1wbGF0ZTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD10ZW1wbGF0ZS1yZXN1bHQuanMubWFwIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIFRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbiAqIENvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG4gKiBzdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiAqL1xuLyoqXG4gKiBAbW9kdWxlIGxpdC1odG1sXG4gKi9cbmltcG9ydCB7IGlzRGlyZWN0aXZlIH0gZnJvbSAnLi9kaXJlY3RpdmUuanMnO1xuaW1wb3J0IHsgcmVtb3ZlTm9kZXMgfSBmcm9tICcuL2RvbS5qcyc7XG5pbXBvcnQgeyBub0NoYW5nZSwgbm90aGluZyB9IGZyb20gJy4vcGFydC5qcyc7XG5pbXBvcnQgeyBUZW1wbGF0ZUluc3RhbmNlIH0gZnJvbSAnLi90ZW1wbGF0ZS1pbnN0YW5jZS5qcyc7XG5pbXBvcnQgeyBUZW1wbGF0ZVJlc3VsdCB9IGZyb20gJy4vdGVtcGxhdGUtcmVzdWx0LmpzJztcbmltcG9ydCB7IGNyZWF0ZU1hcmtlciB9IGZyb20gJy4vdGVtcGxhdGUuanMnO1xuZXhwb3J0IGNvbnN0IGlzUHJpbWl0aXZlID0gKHZhbHVlKSA9PiB7XG4gICAgcmV0dXJuICh2YWx1ZSA9PT0gbnVsbCB8fFxuICAgICAgICAhKHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgfHwgdHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nKSk7XG59O1xuZXhwb3J0IGNvbnN0IGlzSXRlcmFibGUgPSAodmFsdWUpID0+IHtcbiAgICByZXR1cm4gQXJyYXkuaXNBcnJheSh2YWx1ZSkgfHxcbiAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWFueVxuICAgICAgICAhISh2YWx1ZSAmJiB2YWx1ZVtTeW1ib2wuaXRlcmF0b3JdKTtcbn07XG4vKipcbiAqIFdyaXRlcyBhdHRyaWJ1dGUgdmFsdWVzIHRvIHRoZSBET00gZm9yIGEgZ3JvdXAgb2YgQXR0cmlidXRlUGFydHMgYm91bmQgdG8gYVxuICogc2luZ2xlIGF0dGlidXRlLiBUaGUgdmFsdWUgaXMgb25seSBzZXQgb25jZSBldmVuIGlmIHRoZXJlIGFyZSBtdWx0aXBsZSBwYXJ0c1xuICogZm9yIGFuIGF0dHJpYnV0ZS5cbiAqL1xuZXhwb3J0IGNsYXNzIEF0dHJpYnV0ZUNvbW1pdHRlciB7XG4gICAgY29uc3RydWN0b3IoZWxlbWVudCwgbmFtZSwgc3RyaW5ncykge1xuICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgdGhpcy5zdHJpbmdzID0gc3RyaW5ncztcbiAgICAgICAgdGhpcy5wYXJ0cyA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN0cmluZ3MubGVuZ3RoIC0gMTsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLnBhcnRzW2ldID0gdGhpcy5fY3JlYXRlUGFydCgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzaW5nbGUgcGFydC4gT3ZlcnJpZGUgdGhpcyB0byBjcmVhdGUgYSBkaWZmZXJudCB0eXBlIG9mIHBhcnQuXG4gICAgICovXG4gICAgX2NyZWF0ZVBhcnQoKSB7XG4gICAgICAgIHJldHVybiBuZXcgQXR0cmlidXRlUGFydCh0aGlzKTtcbiAgICB9XG4gICAgX2dldFZhbHVlKCkge1xuICAgICAgICBjb25zdCBzdHJpbmdzID0gdGhpcy5zdHJpbmdzO1xuICAgICAgICBjb25zdCBsID0gc3RyaW5ncy5sZW5ndGggLSAxO1xuICAgICAgICBsZXQgdGV4dCA9ICcnO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgICAgdGV4dCArPSBzdHJpbmdzW2ldO1xuICAgICAgICAgICAgY29uc3QgcGFydCA9IHRoaXMucGFydHNbaV07XG4gICAgICAgICAgICBpZiAocGFydCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdiA9IHBhcnQudmFsdWU7XG4gICAgICAgICAgICAgICAgaWYgKGlzUHJpbWl0aXZlKHYpIHx8ICFpc0l0ZXJhYmxlKHYpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRleHQgKz0gdHlwZW9mIHYgPT09ICdzdHJpbmcnID8gdiA6IFN0cmluZyh2KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgdCBvZiB2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0ICs9IHR5cGVvZiB0ID09PSAnc3RyaW5nJyA/IHQgOiBTdHJpbmcodCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGV4dCArPSBzdHJpbmdzW2xdO1xuICAgICAgICByZXR1cm4gdGV4dDtcbiAgICB9XG4gICAgY29tbWl0KCkge1xuICAgICAgICBpZiAodGhpcy5kaXJ0eSkge1xuICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50LnNldEF0dHJpYnV0ZSh0aGlzLm5hbWUsIHRoaXMuX2dldFZhbHVlKCkpO1xuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG4gKiBBIFBhcnQgdGhhdCBjb250cm9scyBhbGwgb3IgcGFydCBvZiBhbiBhdHRyaWJ1dGUgdmFsdWUuXG4gKi9cbmV4cG9ydCBjbGFzcyBBdHRyaWJ1dGVQYXJ0IHtcbiAgICBjb25zdHJ1Y3Rvcihjb21taXR0ZXIpIHtcbiAgICAgICAgdGhpcy52YWx1ZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5jb21taXR0ZXIgPSBjb21taXR0ZXI7XG4gICAgfVxuICAgIHNldFZhbHVlKHZhbHVlKSB7XG4gICAgICAgIGlmICh2YWx1ZSAhPT0gbm9DaGFuZ2UgJiYgKCFpc1ByaW1pdGl2ZSh2YWx1ZSkgfHwgdmFsdWUgIT09IHRoaXMudmFsdWUpKSB7XG4gICAgICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgICAgICAgICAvLyBJZiB0aGUgdmFsdWUgaXMgYSBub3QgYSBkaXJlY3RpdmUsIGRpcnR5IHRoZSBjb21taXR0ZXIgc28gdGhhdCBpdCdsbFxuICAgICAgICAgICAgLy8gY2FsbCBzZXRBdHRyaWJ1dGUuIElmIHRoZSB2YWx1ZSBpcyBhIGRpcmVjdGl2ZSwgaXQnbGwgZGlydHkgdGhlXG4gICAgICAgICAgICAvLyBjb21taXR0ZXIgaWYgaXQgY2FsbHMgc2V0VmFsdWUoKS5cbiAgICAgICAgICAgIGlmICghaXNEaXJlY3RpdmUodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb21taXR0ZXIuZGlydHkgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGNvbW1pdCgpIHtcbiAgICAgICAgd2hpbGUgKGlzRGlyZWN0aXZlKHRoaXMudmFsdWUpKSB7XG4gICAgICAgICAgICBjb25zdCBkaXJlY3RpdmUgPSB0aGlzLnZhbHVlO1xuICAgICAgICAgICAgdGhpcy52YWx1ZSA9IG5vQ2hhbmdlO1xuICAgICAgICAgICAgZGlyZWN0aXZlKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnZhbHVlID09PSBub0NoYW5nZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY29tbWl0dGVyLmNvbW1pdCgpO1xuICAgIH1cbn1cbi8qKlxuICogQSBQYXJ0IHRoYXQgY29udHJvbHMgYSBsb2NhdGlvbiB3aXRoaW4gYSBOb2RlIHRyZWUuIExpa2UgYSBSYW5nZSwgTm9kZVBhcnRcbiAqIGhhcyBzdGFydCBhbmQgZW5kIGxvY2F0aW9ucyBhbmQgY2FuIHNldCBhbmQgdXBkYXRlIHRoZSBOb2RlcyBiZXR3ZWVuIHRob3NlXG4gKiBsb2NhdGlvbnMuXG4gKlxuICogTm9kZVBhcnRzIHN1cHBvcnQgc2V2ZXJhbCB2YWx1ZSB0eXBlczogcHJpbWl0aXZlcywgTm9kZXMsIFRlbXBsYXRlUmVzdWx0cyxcbiAqIGFzIHdlbGwgYXMgYXJyYXlzIGFuZCBpdGVyYWJsZXMgb2YgdGhvc2UgdHlwZXMuXG4gKi9cbmV4cG9ydCBjbGFzcyBOb2RlUGFydCB7XG4gICAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgICAgICB0aGlzLnZhbHVlID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLl9fcGVuZGluZ1ZhbHVlID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBcHBlbmRzIHRoaXMgcGFydCBpbnRvIGEgY29udGFpbmVyLlxuICAgICAqXG4gICAgICogVGhpcyBwYXJ0IG11c3QgYmUgZW1wdHksIGFzIGl0cyBjb250ZW50cyBhcmUgbm90IGF1dG9tYXRpY2FsbHkgbW92ZWQuXG4gICAgICovXG4gICAgYXBwZW5kSW50byhjb250YWluZXIpIHtcbiAgICAgICAgdGhpcy5zdGFydE5vZGUgPSBjb250YWluZXIuYXBwZW5kQ2hpbGQoY3JlYXRlTWFya2VyKCkpO1xuICAgICAgICB0aGlzLmVuZE5vZGUgPSBjb250YWluZXIuYXBwZW5kQ2hpbGQoY3JlYXRlTWFya2VyKCkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbnNlcnRzIHRoaXMgcGFydCBhZnRlciB0aGUgYHJlZmAgbm9kZSAoYmV0d2VlbiBgcmVmYCBhbmQgYHJlZmAncyBuZXh0XG4gICAgICogc2libGluZykuIEJvdGggYHJlZmAgYW5kIGl0cyBuZXh0IHNpYmxpbmcgbXVzdCBiZSBzdGF0aWMsIHVuY2hhbmdpbmcgbm9kZXNcbiAgICAgKiBzdWNoIGFzIHRob3NlIHRoYXQgYXBwZWFyIGluIGEgbGl0ZXJhbCBzZWN0aW9uIG9mIGEgdGVtcGxhdGUuXG4gICAgICpcbiAgICAgKiBUaGlzIHBhcnQgbXVzdCBiZSBlbXB0eSwgYXMgaXRzIGNvbnRlbnRzIGFyZSBub3QgYXV0b21hdGljYWxseSBtb3ZlZC5cbiAgICAgKi9cbiAgICBpbnNlcnRBZnRlck5vZGUocmVmKSB7XG4gICAgICAgIHRoaXMuc3RhcnROb2RlID0gcmVmO1xuICAgICAgICB0aGlzLmVuZE5vZGUgPSByZWYubmV4dFNpYmxpbmc7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFwcGVuZHMgdGhpcyBwYXJ0IGludG8gYSBwYXJlbnQgcGFydC5cbiAgICAgKlxuICAgICAqIFRoaXMgcGFydCBtdXN0IGJlIGVtcHR5LCBhcyBpdHMgY29udGVudHMgYXJlIG5vdCBhdXRvbWF0aWNhbGx5IG1vdmVkLlxuICAgICAqL1xuICAgIGFwcGVuZEludG9QYXJ0KHBhcnQpIHtcbiAgICAgICAgcGFydC5fX2luc2VydCh0aGlzLnN0YXJ0Tm9kZSA9IGNyZWF0ZU1hcmtlcigpKTtcbiAgICAgICAgcGFydC5fX2luc2VydCh0aGlzLmVuZE5vZGUgPSBjcmVhdGVNYXJrZXIoKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEluc2VydHMgdGhpcyBwYXJ0IGFmdGVyIHRoZSBgcmVmYCBwYXJ0LlxuICAgICAqXG4gICAgICogVGhpcyBwYXJ0IG11c3QgYmUgZW1wdHksIGFzIGl0cyBjb250ZW50cyBhcmUgbm90IGF1dG9tYXRpY2FsbHkgbW92ZWQuXG4gICAgICovXG4gICAgaW5zZXJ0QWZ0ZXJQYXJ0KHJlZikge1xuICAgICAgICByZWYuX19pbnNlcnQodGhpcy5zdGFydE5vZGUgPSBjcmVhdGVNYXJrZXIoKSk7XG4gICAgICAgIHRoaXMuZW5kTm9kZSA9IHJlZi5lbmROb2RlO1xuICAgICAgICByZWYuZW5kTm9kZSA9IHRoaXMuc3RhcnROb2RlO1xuICAgIH1cbiAgICBzZXRWYWx1ZSh2YWx1ZSkge1xuICAgICAgICB0aGlzLl9fcGVuZGluZ1ZhbHVlID0gdmFsdWU7XG4gICAgfVxuICAgIGNvbW1pdCgpIHtcbiAgICAgICAgd2hpbGUgKGlzRGlyZWN0aXZlKHRoaXMuX19wZW5kaW5nVmFsdWUpKSB7XG4gICAgICAgICAgICBjb25zdCBkaXJlY3RpdmUgPSB0aGlzLl9fcGVuZGluZ1ZhbHVlO1xuICAgICAgICAgICAgdGhpcy5fX3BlbmRpbmdWYWx1ZSA9IG5vQ2hhbmdlO1xuICAgICAgICAgICAgZGlyZWN0aXZlKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHZhbHVlID0gdGhpcy5fX3BlbmRpbmdWYWx1ZTtcbiAgICAgICAgaWYgKHZhbHVlID09PSBub0NoYW5nZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc1ByaW1pdGl2ZSh2YWx1ZSkpIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gdGhpcy52YWx1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX19jb21taXRUZXh0KHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh2YWx1ZSBpbnN0YW5jZW9mIFRlbXBsYXRlUmVzdWx0KSB7XG4gICAgICAgICAgICB0aGlzLl9fY29tbWl0VGVtcGxhdGVSZXN1bHQodmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHZhbHVlIGluc3RhbmNlb2YgTm9kZSkge1xuICAgICAgICAgICAgdGhpcy5fX2NvbW1pdE5vZGUodmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzSXRlcmFibGUodmFsdWUpKSB7XG4gICAgICAgICAgICB0aGlzLl9fY29tbWl0SXRlcmFibGUodmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHZhbHVlID09PSBub3RoaW5nKSB7XG4gICAgICAgICAgICB0aGlzLnZhbHVlID0gbm90aGluZztcbiAgICAgICAgICAgIHRoaXMuY2xlYXIoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIEZhbGxiYWNrLCB3aWxsIHJlbmRlciB0aGUgc3RyaW5nIHJlcHJlc2VudGF0aW9uXG4gICAgICAgICAgICB0aGlzLl9fY29tbWl0VGV4dCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgX19pbnNlcnQobm9kZSkge1xuICAgICAgICB0aGlzLmVuZE5vZGUucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUobm9kZSwgdGhpcy5lbmROb2RlKTtcbiAgICB9XG4gICAgX19jb21taXROb2RlKHZhbHVlKSB7XG4gICAgICAgIGlmICh0aGlzLnZhbHVlID09PSB2YWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY2xlYXIoKTtcbiAgICAgICAgdGhpcy5fX2luc2VydCh2YWx1ZSk7XG4gICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICB9XG4gICAgX19jb21taXRUZXh0KHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IG5vZGUgPSB0aGlzLnN0YXJ0Tm9kZS5uZXh0U2libGluZztcbiAgICAgICAgdmFsdWUgPSB2YWx1ZSA9PSBudWxsID8gJycgOiB2YWx1ZTtcbiAgICAgICAgLy8gSWYgYHZhbHVlYCBpc24ndCBhbHJlYWR5IGEgc3RyaW5nLCB3ZSBleHBsaWNpdGx5IGNvbnZlcnQgaXQgaGVyZSBpbiBjYXNlXG4gICAgICAgIC8vIGl0IGNhbid0IGJlIGltcGxpY2l0bHkgY29udmVydGVkIC0gaS5lLiBpdCdzIGEgc3ltYm9sLlxuICAgICAgICBjb25zdCB2YWx1ZUFzU3RyaW5nID0gdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyA/IHZhbHVlIDogU3RyaW5nKHZhbHVlKTtcbiAgICAgICAgaWYgKG5vZGUgPT09IHRoaXMuZW5kTm9kZS5wcmV2aW91c1NpYmxpbmcgJiZcbiAgICAgICAgICAgIG5vZGUubm9kZVR5cGUgPT09IDMgLyogTm9kZS5URVhUX05PREUgKi8pIHtcbiAgICAgICAgICAgIC8vIElmIHdlIG9ubHkgaGF2ZSBhIHNpbmdsZSB0ZXh0IG5vZGUgYmV0d2VlbiB0aGUgbWFya2Vycywgd2UgY2FuIGp1c3RcbiAgICAgICAgICAgIC8vIHNldCBpdHMgdmFsdWUsIHJhdGhlciB0aGFuIHJlcGxhY2luZyBpdC5cbiAgICAgICAgICAgIC8vIFRPRE8oanVzdGluZmFnbmFuaSk6IENhbiB3ZSBqdXN0IGNoZWNrIGlmIHRoaXMudmFsdWUgaXMgcHJpbWl0aXZlP1xuICAgICAgICAgICAgbm9kZS5kYXRhID0gdmFsdWVBc1N0cmluZztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX19jb21taXROb2RlKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHZhbHVlQXNTdHJpbmcpKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgfVxuICAgIF9fY29tbWl0VGVtcGxhdGVSZXN1bHQodmFsdWUpIHtcbiAgICAgICAgY29uc3QgdGVtcGxhdGUgPSB0aGlzLm9wdGlvbnMudGVtcGxhdGVGYWN0b3J5KHZhbHVlKTtcbiAgICAgICAgaWYgKHRoaXMudmFsdWUgaW5zdGFuY2VvZiBUZW1wbGF0ZUluc3RhbmNlICYmXG4gICAgICAgICAgICB0aGlzLnZhbHVlLnRlbXBsYXRlID09PSB0ZW1wbGF0ZSkge1xuICAgICAgICAgICAgdGhpcy52YWx1ZS51cGRhdGUodmFsdWUudmFsdWVzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIE1ha2Ugc3VyZSB3ZSBwcm9wYWdhdGUgdGhlIHRlbXBsYXRlIHByb2Nlc3NvciBmcm9tIHRoZSBUZW1wbGF0ZVJlc3VsdFxuICAgICAgICAgICAgLy8gc28gdGhhdCB3ZSB1c2UgaXRzIHN5bnRheCBleHRlbnNpb24sIGV0Yy4gVGhlIHRlbXBsYXRlIGZhY3RvcnkgY29tZXNcbiAgICAgICAgICAgIC8vIGZyb20gdGhlIHJlbmRlciBmdW5jdGlvbiBvcHRpb25zIHNvIHRoYXQgaXQgY2FuIGNvbnRyb2wgdGVtcGxhdGVcbiAgICAgICAgICAgIC8vIGNhY2hpbmcgYW5kIHByZXByb2Nlc3NpbmcuXG4gICAgICAgICAgICBjb25zdCBpbnN0YW5jZSA9IG5ldyBUZW1wbGF0ZUluc3RhbmNlKHRlbXBsYXRlLCB2YWx1ZS5wcm9jZXNzb3IsIHRoaXMub3B0aW9ucyk7XG4gICAgICAgICAgICBjb25zdCBmcmFnbWVudCA9IGluc3RhbmNlLl9jbG9uZSgpO1xuICAgICAgICAgICAgaW5zdGFuY2UudXBkYXRlKHZhbHVlLnZhbHVlcyk7XG4gICAgICAgICAgICB0aGlzLl9fY29tbWl0Tm9kZShmcmFnbWVudCk7XG4gICAgICAgICAgICB0aGlzLnZhbHVlID0gaW5zdGFuY2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgX19jb21taXRJdGVyYWJsZSh2YWx1ZSkge1xuICAgICAgICAvLyBGb3IgYW4gSXRlcmFibGUsIHdlIGNyZWF0ZSBhIG5ldyBJbnN0YW5jZVBhcnQgcGVyIGl0ZW0sIHRoZW4gc2V0IGl0c1xuICAgICAgICAvLyB2YWx1ZSB0byB0aGUgaXRlbS4gVGhpcyBpcyBhIGxpdHRsZSBiaXQgb2Ygb3ZlcmhlYWQgZm9yIGV2ZXJ5IGl0ZW0gaW5cbiAgICAgICAgLy8gYW4gSXRlcmFibGUsIGJ1dCBpdCBsZXRzIHVzIHJlY3Vyc2UgZWFzaWx5IGFuZCBlZmZpY2llbnRseSB1cGRhdGUgQXJyYXlzXG4gICAgICAgIC8vIG9mIFRlbXBsYXRlUmVzdWx0cyB0aGF0IHdpbGwgYmUgY29tbW9ubHkgcmV0dXJuZWQgZnJvbSBleHByZXNzaW9ucyBsaWtlOlxuICAgICAgICAvLyBhcnJheS5tYXAoKGkpID0+IGh0bWxgJHtpfWApLCBieSByZXVzaW5nIGV4aXN0aW5nIFRlbXBsYXRlSW5zdGFuY2VzLlxuICAgICAgICAvLyBJZiBfdmFsdWUgaXMgYW4gYXJyYXksIHRoZW4gdGhlIHByZXZpb3VzIHJlbmRlciB3YXMgb2YgYW5cbiAgICAgICAgLy8gaXRlcmFibGUgYW5kIF92YWx1ZSB3aWxsIGNvbnRhaW4gdGhlIE5vZGVQYXJ0cyBmcm9tIHRoZSBwcmV2aW91c1xuICAgICAgICAvLyByZW5kZXIuIElmIF92YWx1ZSBpcyBub3QgYW4gYXJyYXksIGNsZWFyIHRoaXMgcGFydCBhbmQgbWFrZSBhIG5ld1xuICAgICAgICAvLyBhcnJheSBmb3IgTm9kZVBhcnRzLlxuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkodGhpcy52YWx1ZSkpIHtcbiAgICAgICAgICAgIHRoaXMudmFsdWUgPSBbXTtcbiAgICAgICAgICAgIHRoaXMuY2xlYXIoKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBMZXRzIHVzIGtlZXAgdHJhY2sgb2YgaG93IG1hbnkgaXRlbXMgd2Ugc3RhbXBlZCBzbyB3ZSBjYW4gY2xlYXIgbGVmdG92ZXJcbiAgICAgICAgLy8gaXRlbXMgZnJvbSBhIHByZXZpb3VzIHJlbmRlclxuICAgICAgICBjb25zdCBpdGVtUGFydHMgPSB0aGlzLnZhbHVlO1xuICAgICAgICBsZXQgcGFydEluZGV4ID0gMDtcbiAgICAgICAgbGV0IGl0ZW1QYXJ0O1xuICAgICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgdmFsdWUpIHtcbiAgICAgICAgICAgIC8vIFRyeSB0byByZXVzZSBhbiBleGlzdGluZyBwYXJ0XG4gICAgICAgICAgICBpdGVtUGFydCA9IGl0ZW1QYXJ0c1twYXJ0SW5kZXhdO1xuICAgICAgICAgICAgLy8gSWYgbm8gZXhpc3RpbmcgcGFydCwgY3JlYXRlIGEgbmV3IG9uZVxuICAgICAgICAgICAgaWYgKGl0ZW1QYXJ0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBpdGVtUGFydCA9IG5ldyBOb2RlUGFydCh0aGlzLm9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIGl0ZW1QYXJ0cy5wdXNoKGl0ZW1QYXJ0KTtcbiAgICAgICAgICAgICAgICBpZiAocGFydEluZGV4ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGl0ZW1QYXJ0LmFwcGVuZEludG9QYXJ0KHRoaXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaXRlbVBhcnQuaW5zZXJ0QWZ0ZXJQYXJ0KGl0ZW1QYXJ0c1twYXJ0SW5kZXggLSAxXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaXRlbVBhcnQuc2V0VmFsdWUoaXRlbSk7XG4gICAgICAgICAgICBpdGVtUGFydC5jb21taXQoKTtcbiAgICAgICAgICAgIHBhcnRJbmRleCsrO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwYXJ0SW5kZXggPCBpdGVtUGFydHMubGVuZ3RoKSB7XG4gICAgICAgICAgICAvLyBUcnVuY2F0ZSB0aGUgcGFydHMgYXJyYXkgc28gX3ZhbHVlIHJlZmxlY3RzIHRoZSBjdXJyZW50IHN0YXRlXG4gICAgICAgICAgICBpdGVtUGFydHMubGVuZ3RoID0gcGFydEluZGV4O1xuICAgICAgICAgICAgdGhpcy5jbGVhcihpdGVtUGFydCAmJiBpdGVtUGFydC5lbmROb2RlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjbGVhcihzdGFydE5vZGUgPSB0aGlzLnN0YXJ0Tm9kZSkge1xuICAgICAgICByZW1vdmVOb2Rlcyh0aGlzLnN0YXJ0Tm9kZS5wYXJlbnROb2RlLCBzdGFydE5vZGUubmV4dFNpYmxpbmcsIHRoaXMuZW5kTm9kZSk7XG4gICAgfVxufVxuLyoqXG4gKiBJbXBsZW1lbnRzIGEgYm9vbGVhbiBhdHRyaWJ1dGUsIHJvdWdobHkgYXMgZGVmaW5lZCBpbiB0aGUgSFRNTFxuICogc3BlY2lmaWNhdGlvbi5cbiAqXG4gKiBJZiB0aGUgdmFsdWUgaXMgdHJ1dGh5LCB0aGVuIHRoZSBhdHRyaWJ1dGUgaXMgcHJlc2VudCB3aXRoIGEgdmFsdWUgb2ZcbiAqICcnLiBJZiB0aGUgdmFsdWUgaXMgZmFsc2V5LCB0aGUgYXR0cmlidXRlIGlzIHJlbW92ZWQuXG4gKi9cbmV4cG9ydCBjbGFzcyBCb29sZWFuQXR0cmlidXRlUGFydCB7XG4gICAgY29uc3RydWN0b3IoZWxlbWVudCwgbmFtZSwgc3RyaW5ncykge1xuICAgICAgICB0aGlzLnZhbHVlID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLl9fcGVuZGluZ1ZhbHVlID0gdW5kZWZpbmVkO1xuICAgICAgICBpZiAoc3RyaW5ncy5sZW5ndGggIT09IDIgfHwgc3RyaW5nc1swXSAhPT0gJycgfHwgc3RyaW5nc1sxXSAhPT0gJycpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQm9vbGVhbiBhdHRyaWJ1dGVzIGNhbiBvbmx5IGNvbnRhaW4gYSBzaW5nbGUgZXhwcmVzc2lvbicpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICAgIHRoaXMuc3RyaW5ncyA9IHN0cmluZ3M7XG4gICAgfVxuICAgIHNldFZhbHVlKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuX19wZW5kaW5nVmFsdWUgPSB2YWx1ZTtcbiAgICB9XG4gICAgY29tbWl0KCkge1xuICAgICAgICB3aGlsZSAoaXNEaXJlY3RpdmUodGhpcy5fX3BlbmRpbmdWYWx1ZSkpIHtcbiAgICAgICAgICAgIGNvbnN0IGRpcmVjdGl2ZSA9IHRoaXMuX19wZW5kaW5nVmFsdWU7XG4gICAgICAgICAgICB0aGlzLl9fcGVuZGluZ1ZhbHVlID0gbm9DaGFuZ2U7XG4gICAgICAgICAgICBkaXJlY3RpdmUodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX19wZW5kaW5nVmFsdWUgPT09IG5vQ2hhbmdlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdmFsdWUgPSAhIXRoaXMuX19wZW5kaW5nVmFsdWU7XG4gICAgICAgIGlmICh0aGlzLnZhbHVlICE9PSB2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LnNldEF0dHJpYnV0ZSh0aGlzLm5hbWUsICcnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUodGhpcy5uYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9fcGVuZGluZ1ZhbHVlID0gbm9DaGFuZ2U7XG4gICAgfVxufVxuLyoqXG4gKiBTZXRzIGF0dHJpYnV0ZSB2YWx1ZXMgZm9yIFByb3BlcnR5UGFydHMsIHNvIHRoYXQgdGhlIHZhbHVlIGlzIG9ubHkgc2V0IG9uY2VcbiAqIGV2ZW4gaWYgdGhlcmUgYXJlIG11bHRpcGxlIHBhcnRzIGZvciBhIHByb3BlcnR5LlxuICpcbiAqIElmIGFuIGV4cHJlc3Npb24gY29udHJvbHMgdGhlIHdob2xlIHByb3BlcnR5IHZhbHVlLCB0aGVuIHRoZSB2YWx1ZSBpcyBzaW1wbHlcbiAqIGFzc2lnbmVkIHRvIHRoZSBwcm9wZXJ0eSB1bmRlciBjb250cm9sLiBJZiB0aGVyZSBhcmUgc3RyaW5nIGxpdGVyYWxzIG9yXG4gKiBtdWx0aXBsZSBleHByZXNzaW9ucywgdGhlbiB0aGUgc3RyaW5ncyBhcmUgZXhwcmVzc2lvbnMgYXJlIGludGVycG9sYXRlZCBpbnRvXG4gKiBhIHN0cmluZyBmaXJzdC5cbiAqL1xuZXhwb3J0IGNsYXNzIFByb3BlcnR5Q29tbWl0dGVyIGV4dGVuZHMgQXR0cmlidXRlQ29tbWl0dGVyIHtcbiAgICBjb25zdHJ1Y3RvcihlbGVtZW50LCBuYW1lLCBzdHJpbmdzKSB7XG4gICAgICAgIHN1cGVyKGVsZW1lbnQsIG5hbWUsIHN0cmluZ3MpO1xuICAgICAgICB0aGlzLnNpbmdsZSA9XG4gICAgICAgICAgICAoc3RyaW5ncy5sZW5ndGggPT09IDIgJiYgc3RyaW5nc1swXSA9PT0gJycgJiYgc3RyaW5nc1sxXSA9PT0gJycpO1xuICAgIH1cbiAgICBfY3JlYXRlUGFydCgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9wZXJ0eVBhcnQodGhpcyk7XG4gICAgfVxuICAgIF9nZXRWYWx1ZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuc2luZ2xlKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5wYXJ0c1swXS52YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3VwZXIuX2dldFZhbHVlKCk7XG4gICAgfVxuICAgIGNvbW1pdCgpIHtcbiAgICAgICAgaWYgKHRoaXMuZGlydHkpIHtcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTtcbiAgICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1hbnlcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudFt0aGlzLm5hbWVdID0gdGhpcy5fZ2V0VmFsdWUoKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBQcm9wZXJ0eVBhcnQgZXh0ZW5kcyBBdHRyaWJ1dGVQYXJ0IHtcbn1cbi8vIERldGVjdCBldmVudCBsaXN0ZW5lciBvcHRpb25zIHN1cHBvcnQuIElmIHRoZSBgY2FwdHVyZWAgcHJvcGVydHkgaXMgcmVhZFxuLy8gZnJvbSB0aGUgb3B0aW9ucyBvYmplY3QsIHRoZW4gb3B0aW9ucyBhcmUgc3VwcG9ydGVkLiBJZiBub3QsIHRoZW4gdGhlIHRocmlkXG4vLyBhcmd1bWVudCB0byBhZGQvcmVtb3ZlRXZlbnRMaXN0ZW5lciBpcyBpbnRlcnByZXRlZCBhcyB0aGUgYm9vbGVhbiBjYXB0dXJlXG4vLyB2YWx1ZSBzbyB3ZSBzaG91bGQgb25seSBwYXNzIHRoZSBgY2FwdHVyZWAgcHJvcGVydHkuXG5sZXQgZXZlbnRPcHRpb25zU3VwcG9ydGVkID0gZmFsc2U7XG50cnkge1xuICAgIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgICAgIGdldCBjYXB0dXJlKCkge1xuICAgICAgICAgICAgZXZlbnRPcHRpb25zU3VwcG9ydGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWFueVxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd0ZXN0Jywgb3B0aW9ucywgb3B0aW9ucyk7XG4gICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWFueVxuICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCd0ZXN0Jywgb3B0aW9ucywgb3B0aW9ucyk7XG59XG5jYXRjaCAoX2UpIHtcbn1cbmV4cG9ydCBjbGFzcyBFdmVudFBhcnQge1xuICAgIGNvbnN0cnVjdG9yKGVsZW1lbnQsIGV2ZW50TmFtZSwgZXZlbnRDb250ZXh0KSB7XG4gICAgICAgIHRoaXMudmFsdWUgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuX19wZW5kaW5nVmFsdWUgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgICAgIHRoaXMuZXZlbnROYW1lID0gZXZlbnROYW1lO1xuICAgICAgICB0aGlzLmV2ZW50Q29udGV4dCA9IGV2ZW50Q29udGV4dDtcbiAgICAgICAgdGhpcy5fX2JvdW5kSGFuZGxlRXZlbnQgPSAoZSkgPT4gdGhpcy5oYW5kbGVFdmVudChlKTtcbiAgICB9XG4gICAgc2V0VmFsdWUodmFsdWUpIHtcbiAgICAgICAgdGhpcy5fX3BlbmRpbmdWYWx1ZSA9IHZhbHVlO1xuICAgIH1cbiAgICBjb21taXQoKSB7XG4gICAgICAgIHdoaWxlIChpc0RpcmVjdGl2ZSh0aGlzLl9fcGVuZGluZ1ZhbHVlKSkge1xuICAgICAgICAgICAgY29uc3QgZGlyZWN0aXZlID0gdGhpcy5fX3BlbmRpbmdWYWx1ZTtcbiAgICAgICAgICAgIHRoaXMuX19wZW5kaW5nVmFsdWUgPSBub0NoYW5nZTtcbiAgICAgICAgICAgIGRpcmVjdGl2ZSh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fX3BlbmRpbmdWYWx1ZSA9PT0gbm9DaGFuZ2UpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBuZXdMaXN0ZW5lciA9IHRoaXMuX19wZW5kaW5nVmFsdWU7XG4gICAgICAgIGNvbnN0IG9sZExpc3RlbmVyID0gdGhpcy52YWx1ZTtcbiAgICAgICAgY29uc3Qgc2hvdWxkUmVtb3ZlTGlzdGVuZXIgPSBuZXdMaXN0ZW5lciA9PSBudWxsIHx8XG4gICAgICAgICAgICBvbGRMaXN0ZW5lciAhPSBudWxsICYmXG4gICAgICAgICAgICAgICAgKG5ld0xpc3RlbmVyLmNhcHR1cmUgIT09IG9sZExpc3RlbmVyLmNhcHR1cmUgfHxcbiAgICAgICAgICAgICAgICAgICAgbmV3TGlzdGVuZXIub25jZSAhPT0gb2xkTGlzdGVuZXIub25jZSB8fFxuICAgICAgICAgICAgICAgICAgICBuZXdMaXN0ZW5lci5wYXNzaXZlICE9PSBvbGRMaXN0ZW5lci5wYXNzaXZlKTtcbiAgICAgICAgY29uc3Qgc2hvdWxkQWRkTGlzdGVuZXIgPSBuZXdMaXN0ZW5lciAhPSBudWxsICYmIChvbGRMaXN0ZW5lciA9PSBudWxsIHx8IHNob3VsZFJlbW92ZUxpc3RlbmVyKTtcbiAgICAgICAgaWYgKHNob3VsZFJlbW92ZUxpc3RlbmVyKSB7XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcih0aGlzLmV2ZW50TmFtZSwgdGhpcy5fX2JvdW5kSGFuZGxlRXZlbnQsIHRoaXMuX19vcHRpb25zKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2hvdWxkQWRkTGlzdGVuZXIpIHtcbiAgICAgICAgICAgIHRoaXMuX19vcHRpb25zID0gZ2V0T3B0aW9ucyhuZXdMaXN0ZW5lcik7XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcih0aGlzLmV2ZW50TmFtZSwgdGhpcy5fX2JvdW5kSGFuZGxlRXZlbnQsIHRoaXMuX19vcHRpb25zKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnZhbHVlID0gbmV3TGlzdGVuZXI7XG4gICAgICAgIHRoaXMuX19wZW5kaW5nVmFsdWUgPSBub0NoYW5nZTtcbiAgICB9XG4gICAgaGFuZGxlRXZlbnQoZXZlbnQpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLnZhbHVlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICB0aGlzLnZhbHVlLmNhbGwodGhpcy5ldmVudENvbnRleHQgfHwgdGhpcy5lbGVtZW50LCBldmVudCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnZhbHVlLmhhbmRsZUV2ZW50KGV2ZW50KTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8vIFdlIGNvcHkgb3B0aW9ucyBiZWNhdXNlIG9mIHRoZSBpbmNvbnNpc3RlbnQgYmVoYXZpb3Igb2YgYnJvd3NlcnMgd2hlbiByZWFkaW5nXG4vLyB0aGUgdGhpcmQgYXJndW1lbnQgb2YgYWRkL3JlbW92ZUV2ZW50TGlzdGVuZXIuIElFMTEgZG9lc24ndCBzdXBwb3J0IG9wdGlvbnNcbi8vIGF0IGFsbC4gQ2hyb21lIDQxIG9ubHkgcmVhZHMgYGNhcHR1cmVgIGlmIHRoZSBhcmd1bWVudCBpcyBhbiBvYmplY3QuXG5jb25zdCBnZXRPcHRpb25zID0gKG8pID0+IG8gJiZcbiAgICAoZXZlbnRPcHRpb25zU3VwcG9ydGVkID9cbiAgICAgICAgeyBjYXB0dXJlOiBvLmNhcHR1cmUsIHBhc3NpdmU6IG8ucGFzc2l2ZSwgb25jZTogby5vbmNlIH0gOlxuICAgICAgICBvLmNhcHR1cmUpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFydHMuanMubWFwIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIFRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbiAqIENvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG4gKiBzdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiAqL1xuaW1wb3J0IHsgQXR0cmlidXRlQ29tbWl0dGVyLCBCb29sZWFuQXR0cmlidXRlUGFydCwgRXZlbnRQYXJ0LCBOb2RlUGFydCwgUHJvcGVydHlDb21taXR0ZXIgfSBmcm9tICcuL3BhcnRzLmpzJztcbi8qKlxuICogQ3JlYXRlcyBQYXJ0cyB3aGVuIGEgdGVtcGxhdGUgaXMgaW5zdGFudGlhdGVkLlxuICovXG5leHBvcnQgY2xhc3MgRGVmYXVsdFRlbXBsYXRlUHJvY2Vzc29yIHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGUgcGFydHMgZm9yIGFuIGF0dHJpYnV0ZS1wb3NpdGlvbiBiaW5kaW5nLCBnaXZlbiB0aGUgZXZlbnQsIGF0dHJpYnV0ZVxuICAgICAqIG5hbWUsIGFuZCBzdHJpbmcgbGl0ZXJhbHMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZWxlbWVudCBUaGUgZWxlbWVudCBjb250YWluaW5nIHRoZSBiaW5kaW5nXG4gICAgICogQHBhcmFtIG5hbWUgIFRoZSBhdHRyaWJ1dGUgbmFtZVxuICAgICAqIEBwYXJhbSBzdHJpbmdzIFRoZSBzdHJpbmcgbGl0ZXJhbHMuIFRoZXJlIGFyZSBhbHdheXMgYXQgbGVhc3QgdHdvIHN0cmluZ3MsXG4gICAgICogICBldmVudCBmb3IgZnVsbHktY29udHJvbGxlZCBiaW5kaW5ncyB3aXRoIGEgc2luZ2xlIGV4cHJlc3Npb24uXG4gICAgICovXG4gICAgaGFuZGxlQXR0cmlidXRlRXhwcmVzc2lvbnMoZWxlbWVudCwgbmFtZSwgc3RyaW5ncywgb3B0aW9ucykge1xuICAgICAgICBjb25zdCBwcmVmaXggPSBuYW1lWzBdO1xuICAgICAgICBpZiAocHJlZml4ID09PSAnLicpIHtcbiAgICAgICAgICAgIGNvbnN0IGNvbW1pdHRlciA9IG5ldyBQcm9wZXJ0eUNvbW1pdHRlcihlbGVtZW50LCBuYW1lLnNsaWNlKDEpLCBzdHJpbmdzKTtcbiAgICAgICAgICAgIHJldHVybiBjb21taXR0ZXIucGFydHM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHByZWZpeCA9PT0gJ0AnKSB7XG4gICAgICAgICAgICByZXR1cm4gW25ldyBFdmVudFBhcnQoZWxlbWVudCwgbmFtZS5zbGljZSgxKSwgb3B0aW9ucy5ldmVudENvbnRleHQpXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocHJlZml4ID09PSAnPycpIHtcbiAgICAgICAgICAgIHJldHVybiBbbmV3IEJvb2xlYW5BdHRyaWJ1dGVQYXJ0KGVsZW1lbnQsIG5hbWUuc2xpY2UoMSksIHN0cmluZ3MpXTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjb21taXR0ZXIgPSBuZXcgQXR0cmlidXRlQ29tbWl0dGVyKGVsZW1lbnQsIG5hbWUsIHN0cmluZ3MpO1xuICAgICAgICByZXR1cm4gY29tbWl0dGVyLnBhcnRzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgcGFydHMgZm9yIGEgdGV4dC1wb3NpdGlvbiBiaW5kaW5nLlxuICAgICAqIEBwYXJhbSB0ZW1wbGF0ZUZhY3RvcnlcbiAgICAgKi9cbiAgICBoYW5kbGVUZXh0RXhwcmVzc2lvbihvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBuZXcgTm9kZVBhcnQob3B0aW9ucyk7XG4gICAgfVxufVxuZXhwb3J0IGNvbnN0IGRlZmF1bHRUZW1wbGF0ZVByb2Nlc3NvciA9IG5ldyBEZWZhdWx0VGVtcGxhdGVQcm9jZXNzb3IoKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRlZmF1bHQtdGVtcGxhdGUtcHJvY2Vzc29yLmpzLm1hcCIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBUaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG4gKiBDb2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuICogc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4gKi9cbmltcG9ydCB7IG1hcmtlciwgVGVtcGxhdGUgfSBmcm9tICcuL3RlbXBsYXRlLmpzJztcbi8qKlxuICogVGhlIGRlZmF1bHQgVGVtcGxhdGVGYWN0b3J5IHdoaWNoIGNhY2hlcyBUZW1wbGF0ZXMga2V5ZWQgb25cbiAqIHJlc3VsdC50eXBlIGFuZCByZXN1bHQuc3RyaW5ncy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRlbXBsYXRlRmFjdG9yeShyZXN1bHQpIHtcbiAgICBsZXQgdGVtcGxhdGVDYWNoZSA9IHRlbXBsYXRlQ2FjaGVzLmdldChyZXN1bHQudHlwZSk7XG4gICAgaWYgKHRlbXBsYXRlQ2FjaGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0ZW1wbGF0ZUNhY2hlID0ge1xuICAgICAgICAgICAgc3RyaW5nc0FycmF5OiBuZXcgV2Vha01hcCgpLFxuICAgICAgICAgICAga2V5U3RyaW5nOiBuZXcgTWFwKClcbiAgICAgICAgfTtcbiAgICAgICAgdGVtcGxhdGVDYWNoZXMuc2V0KHJlc3VsdC50eXBlLCB0ZW1wbGF0ZUNhY2hlKTtcbiAgICB9XG4gICAgbGV0IHRlbXBsYXRlID0gdGVtcGxhdGVDYWNoZS5zdHJpbmdzQXJyYXkuZ2V0KHJlc3VsdC5zdHJpbmdzKTtcbiAgICBpZiAodGVtcGxhdGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gdGVtcGxhdGU7XG4gICAgfVxuICAgIC8vIElmIHRoZSBUZW1wbGF0ZVN0cmluZ3NBcnJheSBpcyBuZXcsIGdlbmVyYXRlIGEga2V5IGZyb20gdGhlIHN0cmluZ3NcbiAgICAvLyBUaGlzIGtleSBpcyBzaGFyZWQgYmV0d2VlbiBhbGwgdGVtcGxhdGVzIHdpdGggaWRlbnRpY2FsIGNvbnRlbnRcbiAgICBjb25zdCBrZXkgPSByZXN1bHQuc3RyaW5ncy5qb2luKG1hcmtlcik7XG4gICAgLy8gQ2hlY2sgaWYgd2UgYWxyZWFkeSBoYXZlIGEgVGVtcGxhdGUgZm9yIHRoaXMga2V5XG4gICAgdGVtcGxhdGUgPSB0ZW1wbGF0ZUNhY2hlLmtleVN0cmluZy5nZXQoa2V5KTtcbiAgICBpZiAodGVtcGxhdGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAvLyBJZiB3ZSBoYXZlIG5vdCBzZWVuIHRoaXMga2V5IGJlZm9yZSwgY3JlYXRlIGEgbmV3IFRlbXBsYXRlXG4gICAgICAgIHRlbXBsYXRlID0gbmV3IFRlbXBsYXRlKHJlc3VsdCwgcmVzdWx0LmdldFRlbXBsYXRlRWxlbWVudCgpKTtcbiAgICAgICAgLy8gQ2FjaGUgdGhlIFRlbXBsYXRlIGZvciB0aGlzIGtleVxuICAgICAgICB0ZW1wbGF0ZUNhY2hlLmtleVN0cmluZy5zZXQoa2V5LCB0ZW1wbGF0ZSk7XG4gICAgfVxuICAgIC8vIENhY2hlIGFsbCBmdXR1cmUgcXVlcmllcyBmb3IgdGhpcyBUZW1wbGF0ZVN0cmluZ3NBcnJheVxuICAgIHRlbXBsYXRlQ2FjaGUuc3RyaW5nc0FycmF5LnNldChyZXN1bHQuc3RyaW5ncywgdGVtcGxhdGUpO1xuICAgIHJldHVybiB0ZW1wbGF0ZTtcbn1cbmV4cG9ydCBjb25zdCB0ZW1wbGF0ZUNhY2hlcyA9IG5ldyBNYXAoKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRlbXBsYXRlLWZhY3RvcnkuanMubWFwIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIFRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbiAqIENvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG4gKiBzdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiAqL1xuLyoqXG4gKiBAbW9kdWxlIGxpdC1odG1sXG4gKi9cbmltcG9ydCB7IHJlbW92ZU5vZGVzIH0gZnJvbSAnLi9kb20uanMnO1xuaW1wb3J0IHsgTm9kZVBhcnQgfSBmcm9tICcuL3BhcnRzLmpzJztcbmltcG9ydCB7IHRlbXBsYXRlRmFjdG9yeSB9IGZyb20gJy4vdGVtcGxhdGUtZmFjdG9yeS5qcyc7XG5leHBvcnQgY29uc3QgcGFydHMgPSBuZXcgV2Vha01hcCgpO1xuLyoqXG4gKiBSZW5kZXJzIGEgdGVtcGxhdGUgcmVzdWx0IG9yIG90aGVyIHZhbHVlIHRvIGEgY29udGFpbmVyLlxuICpcbiAqIFRvIHVwZGF0ZSBhIGNvbnRhaW5lciB3aXRoIG5ldyB2YWx1ZXMsIHJlZXZhbHVhdGUgdGhlIHRlbXBsYXRlIGxpdGVyYWwgYW5kXG4gKiBjYWxsIGByZW5kZXJgIHdpdGggdGhlIG5ldyByZXN1bHQuXG4gKlxuICogQHBhcmFtIHJlc3VsdCBBbnkgdmFsdWUgcmVuZGVyYWJsZSBieSBOb2RlUGFydCAtIHR5cGljYWxseSBhIFRlbXBsYXRlUmVzdWx0XG4gKiAgICAgY3JlYXRlZCBieSBldmFsdWF0aW5nIGEgdGVtcGxhdGUgdGFnIGxpa2UgYGh0bWxgIG9yIGBzdmdgLlxuICogQHBhcmFtIGNvbnRhaW5lciBBIERPTSBwYXJlbnQgdG8gcmVuZGVyIHRvLiBUaGUgZW50aXJlIGNvbnRlbnRzIGFyZSBlaXRoZXJcbiAqICAgICByZXBsYWNlZCwgb3IgZWZmaWNpZW50bHkgdXBkYXRlZCBpZiB0aGUgc2FtZSByZXN1bHQgdHlwZSB3YXMgcHJldmlvdXNcbiAqICAgICByZW5kZXJlZCB0aGVyZS5cbiAqIEBwYXJhbSBvcHRpb25zIFJlbmRlck9wdGlvbnMgZm9yIHRoZSBlbnRpcmUgcmVuZGVyIHRyZWUgcmVuZGVyZWQgdG8gdGhpc1xuICogICAgIGNvbnRhaW5lci4gUmVuZGVyIG9wdGlvbnMgbXVzdCAqbm90KiBjaGFuZ2UgYmV0d2VlbiByZW5kZXJzIHRvIHRoZSBzYW1lXG4gKiAgICAgY29udGFpbmVyLCBhcyB0aG9zZSBjaGFuZ2VzIHdpbGwgbm90IGVmZmVjdCBwcmV2aW91c2x5IHJlbmRlcmVkIERPTS5cbiAqL1xuZXhwb3J0IGNvbnN0IHJlbmRlciA9IChyZXN1bHQsIGNvbnRhaW5lciwgb3B0aW9ucykgPT4ge1xuICAgIGxldCBwYXJ0ID0gcGFydHMuZ2V0KGNvbnRhaW5lcik7XG4gICAgaWYgKHBhcnQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZW1vdmVOb2Rlcyhjb250YWluZXIsIGNvbnRhaW5lci5maXJzdENoaWxkKTtcbiAgICAgICAgcGFydHMuc2V0KGNvbnRhaW5lciwgcGFydCA9IG5ldyBOb2RlUGFydChPYmplY3QuYXNzaWduKHsgdGVtcGxhdGVGYWN0b3J5IH0sIG9wdGlvbnMpKSk7XG4gICAgICAgIHBhcnQuYXBwZW5kSW50byhjb250YWluZXIpO1xuICAgIH1cbiAgICBwYXJ0LnNldFZhbHVlKHJlc3VsdCk7XG4gICAgcGFydC5jb21taXQoKTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZW5kZXIuanMubWFwIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIFRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbiAqIENvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG4gKiBzdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiAqL1xuLyoqXG4gKlxuICogTWFpbiBsaXQtaHRtbCBtb2R1bGUuXG4gKlxuICogTWFpbiBleHBvcnRzOlxuICpcbiAqIC0gIFtbaHRtbF1dXG4gKiAtICBbW3N2Z11dXG4gKiAtICBbW3JlbmRlcl1dXG4gKlxuICogQG1vZHVsZSBsaXQtaHRtbFxuICogQHByZWZlcnJlZFxuICovXG4vKipcbiAqIERvIG5vdCByZW1vdmUgdGhpcyBjb21tZW50OyBpdCBrZWVwcyB0eXBlZG9jIGZyb20gbWlzcGxhY2luZyB0aGUgbW9kdWxlXG4gKiBkb2NzLlxuICovXG5pbXBvcnQgeyBkZWZhdWx0VGVtcGxhdGVQcm9jZXNzb3IgfSBmcm9tICcuL2xpYi9kZWZhdWx0LXRlbXBsYXRlLXByb2Nlc3Nvci5qcyc7XG5pbXBvcnQgeyBTVkdUZW1wbGF0ZVJlc3VsdCwgVGVtcGxhdGVSZXN1bHQgfSBmcm9tICcuL2xpYi90ZW1wbGF0ZS1yZXN1bHQuanMnO1xuZXhwb3J0IHsgRGVmYXVsdFRlbXBsYXRlUHJvY2Vzc29yLCBkZWZhdWx0VGVtcGxhdGVQcm9jZXNzb3IgfSBmcm9tICcuL2xpYi9kZWZhdWx0LXRlbXBsYXRlLXByb2Nlc3Nvci5qcyc7XG5leHBvcnQgeyBkaXJlY3RpdmUsIGlzRGlyZWN0aXZlIH0gZnJvbSAnLi9saWIvZGlyZWN0aXZlLmpzJztcbi8vIFRPRE8oanVzdGluZmFnbmFuaSk6IHJlbW92ZSBsaW5lIHdoZW4gd2UgZ2V0IE5vZGVQYXJ0IG1vdmluZyBtZXRob2RzXG5leHBvcnQgeyByZW1vdmVOb2RlcywgcmVwYXJlbnROb2RlcyB9IGZyb20gJy4vbGliL2RvbS5qcyc7XG5leHBvcnQgeyBub0NoYW5nZSwgbm90aGluZyB9IGZyb20gJy4vbGliL3BhcnQuanMnO1xuZXhwb3J0IHsgQXR0cmlidXRlQ29tbWl0dGVyLCBBdHRyaWJ1dGVQYXJ0LCBCb29sZWFuQXR0cmlidXRlUGFydCwgRXZlbnRQYXJ0LCBpc0l0ZXJhYmxlLCBpc1ByaW1pdGl2ZSwgTm9kZVBhcnQsIFByb3BlcnR5Q29tbWl0dGVyLCBQcm9wZXJ0eVBhcnQgfSBmcm9tICcuL2xpYi9wYXJ0cy5qcyc7XG5leHBvcnQgeyBwYXJ0cywgcmVuZGVyIH0gZnJvbSAnLi9saWIvcmVuZGVyLmpzJztcbmV4cG9ydCB7IHRlbXBsYXRlQ2FjaGVzLCB0ZW1wbGF0ZUZhY3RvcnkgfSBmcm9tICcuL2xpYi90ZW1wbGF0ZS1mYWN0b3J5LmpzJztcbmV4cG9ydCB7IFRlbXBsYXRlSW5zdGFuY2UgfSBmcm9tICcuL2xpYi90ZW1wbGF0ZS1pbnN0YW5jZS5qcyc7XG5leHBvcnQgeyBTVkdUZW1wbGF0ZVJlc3VsdCwgVGVtcGxhdGVSZXN1bHQgfSBmcm9tICcuL2xpYi90ZW1wbGF0ZS1yZXN1bHQuanMnO1xuZXhwb3J0IHsgY3JlYXRlTWFya2VyLCBpc1RlbXBsYXRlUGFydEFjdGl2ZSwgVGVtcGxhdGUgfSBmcm9tICcuL2xpYi90ZW1wbGF0ZS5qcyc7XG4vLyBJTVBPUlRBTlQ6IGRvIG5vdCBjaGFuZ2UgdGhlIHByb3BlcnR5IG5hbWUgb3IgdGhlIGFzc2lnbm1lbnQgZXhwcmVzc2lvbi5cbi8vIFRoaXMgbGluZSB3aWxsIGJlIHVzZWQgaW4gcmVnZXhlcyB0byBzZWFyY2ggZm9yIGxpdC1odG1sIHVzYWdlLlxuLy8gVE9ETyhqdXN0aW5mYWduYW5pKTogaW5qZWN0IHZlcnNpb24gbnVtYmVyIGF0IGJ1aWxkIHRpbWVcbih3aW5kb3dbJ2xpdEh0bWxWZXJzaW9ucyddIHx8ICh3aW5kb3dbJ2xpdEh0bWxWZXJzaW9ucyddID0gW10pKS5wdXNoKCcxLjEuMicpO1xuLyoqXG4gKiBJbnRlcnByZXRzIGEgdGVtcGxhdGUgbGl0ZXJhbCBhcyBhbiBIVE1MIHRlbXBsYXRlIHRoYXQgY2FuIGVmZmljaWVudGx5XG4gKiByZW5kZXIgdG8gYW5kIHVwZGF0ZSBhIGNvbnRhaW5lci5cbiAqL1xuZXhwb3J0IGNvbnN0IGh0bWwgPSAoc3RyaW5ncywgLi4udmFsdWVzKSA9PiBuZXcgVGVtcGxhdGVSZXN1bHQoc3RyaW5ncywgdmFsdWVzLCAnaHRtbCcsIGRlZmF1bHRUZW1wbGF0ZVByb2Nlc3Nvcik7XG4vKipcbiAqIEludGVycHJldHMgYSB0ZW1wbGF0ZSBsaXRlcmFsIGFzIGFuIFNWRyB0ZW1wbGF0ZSB0aGF0IGNhbiBlZmZpY2llbnRseVxuICogcmVuZGVyIHRvIGFuZCB1cGRhdGUgYSBjb250YWluZXIuXG4gKi9cbmV4cG9ydCBjb25zdCBzdmcgPSAoc3RyaW5ncywgLi4udmFsdWVzKSA9PiBuZXcgU1ZHVGVtcGxhdGVSZXN1bHQoc3RyaW5ncywgdmFsdWVzLCAnc3ZnJywgZGVmYXVsdFRlbXBsYXRlUHJvY2Vzc29yKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxpdC1odG1sLmpzLm1hcCIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBUaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG4gKiBDb2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuICogc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4gKi9cbi8qKlxuICogQG1vZHVsZSBzaGFkeS1yZW5kZXJcbiAqL1xuaW1wb3J0IHsgaXNUZW1wbGF0ZVBhcnRBY3RpdmUgfSBmcm9tICcuL3RlbXBsYXRlLmpzJztcbmNvbnN0IHdhbGtlck5vZGVGaWx0ZXIgPSAxMzMgLyogTm9kZUZpbHRlci5TSE9XX3tFTEVNRU5UfENPTU1FTlR8VEVYVH0gKi87XG4vKipcbiAqIFJlbW92ZXMgdGhlIGxpc3Qgb2Ygbm9kZXMgZnJvbSBhIFRlbXBsYXRlIHNhZmVseS4gSW4gYWRkaXRpb24gdG8gcmVtb3ZpbmdcbiAqIG5vZGVzIGZyb20gdGhlIFRlbXBsYXRlLCB0aGUgVGVtcGxhdGUgcGFydCBpbmRpY2VzIGFyZSB1cGRhdGVkIHRvIG1hdGNoXG4gKiB0aGUgbXV0YXRlZCBUZW1wbGF0ZSBET00uXG4gKlxuICogQXMgdGhlIHRlbXBsYXRlIGlzIHdhbGtlZCB0aGUgcmVtb3ZhbCBzdGF0ZSBpcyB0cmFja2VkIGFuZFxuICogcGFydCBpbmRpY2VzIGFyZSBhZGp1c3RlZCBhcyBuZWVkZWQuXG4gKlxuICogZGl2XG4gKiAgIGRpdiMxIChyZW1vdmUpIDwtLSBzdGFydCByZW1vdmluZyAocmVtb3Zpbmcgbm9kZSBpcyBkaXYjMSlcbiAqICAgICBkaXZcbiAqICAgICAgIGRpdiMyIChyZW1vdmUpICA8LS0gY29udGludWUgcmVtb3ZpbmcgKHJlbW92aW5nIG5vZGUgaXMgc3RpbGwgZGl2IzEpXG4gKiAgICAgICAgIGRpdlxuICogZGl2IDwtLSBzdG9wIHJlbW92aW5nIHNpbmNlIHByZXZpb3VzIHNpYmxpbmcgaXMgdGhlIHJlbW92aW5nIG5vZGUgKGRpdiMxLFxuICogcmVtb3ZlZCA0IG5vZGVzKVxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlTm9kZXNGcm9tVGVtcGxhdGUodGVtcGxhdGUsIG5vZGVzVG9SZW1vdmUpIHtcbiAgICBjb25zdCB7IGVsZW1lbnQ6IHsgY29udGVudCB9LCBwYXJ0cyB9ID0gdGVtcGxhdGU7XG4gICAgY29uc3Qgd2Fsa2VyID0gZG9jdW1lbnQuY3JlYXRlVHJlZVdhbGtlcihjb250ZW50LCB3YWxrZXJOb2RlRmlsdGVyLCBudWxsLCBmYWxzZSk7XG4gICAgbGV0IHBhcnRJbmRleCA9IG5leHRBY3RpdmVJbmRleEluVGVtcGxhdGVQYXJ0cyhwYXJ0cyk7XG4gICAgbGV0IHBhcnQgPSBwYXJ0c1twYXJ0SW5kZXhdO1xuICAgIGxldCBub2RlSW5kZXggPSAtMTtcbiAgICBsZXQgcmVtb3ZlQ291bnQgPSAwO1xuICAgIGNvbnN0IG5vZGVzVG9SZW1vdmVJblRlbXBsYXRlID0gW107XG4gICAgbGV0IGN1cnJlbnRSZW1vdmluZ05vZGUgPSBudWxsO1xuICAgIHdoaWxlICh3YWxrZXIubmV4dE5vZGUoKSkge1xuICAgICAgICBub2RlSW5kZXgrKztcbiAgICAgICAgY29uc3Qgbm9kZSA9IHdhbGtlci5jdXJyZW50Tm9kZTtcbiAgICAgICAgLy8gRW5kIHJlbW92YWwgaWYgc3RlcHBlZCBwYXN0IHRoZSByZW1vdmluZyBub2RlXG4gICAgICAgIGlmIChub2RlLnByZXZpb3VzU2libGluZyA9PT0gY3VycmVudFJlbW92aW5nTm9kZSkge1xuICAgICAgICAgICAgY3VycmVudFJlbW92aW5nTm9kZSA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQSBub2RlIHRvIHJlbW92ZSB3YXMgZm91bmQgaW4gdGhlIHRlbXBsYXRlXG4gICAgICAgIGlmIChub2Rlc1RvUmVtb3ZlLmhhcyhub2RlKSkge1xuICAgICAgICAgICAgbm9kZXNUb1JlbW92ZUluVGVtcGxhdGUucHVzaChub2RlKTtcbiAgICAgICAgICAgIC8vIFRyYWNrIG5vZGUgd2UncmUgcmVtb3ZpbmdcbiAgICAgICAgICAgIGlmIChjdXJyZW50UmVtb3ZpbmdOb2RlID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudFJlbW92aW5nTm9kZSA9IG5vZGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gV2hlbiByZW1vdmluZywgaW5jcmVtZW50IGNvdW50IGJ5IHdoaWNoIHRvIGFkanVzdCBzdWJzZXF1ZW50IHBhcnQgaW5kaWNlc1xuICAgICAgICBpZiAoY3VycmVudFJlbW92aW5nTm9kZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcmVtb3ZlQ291bnQrKztcbiAgICAgICAgfVxuICAgICAgICB3aGlsZSAocGFydCAhPT0gdW5kZWZpbmVkICYmIHBhcnQuaW5kZXggPT09IG5vZGVJbmRleCkge1xuICAgICAgICAgICAgLy8gSWYgcGFydCBpcyBpbiBhIHJlbW92ZWQgbm9kZSBkZWFjdGl2YXRlIGl0IGJ5IHNldHRpbmcgaW5kZXggdG8gLTEgb3JcbiAgICAgICAgICAgIC8vIGFkanVzdCB0aGUgaW5kZXggYXMgbmVlZGVkLlxuICAgICAgICAgICAgcGFydC5pbmRleCA9IGN1cnJlbnRSZW1vdmluZ05vZGUgIT09IG51bGwgPyAtMSA6IHBhcnQuaW5kZXggLSByZW1vdmVDb3VudDtcbiAgICAgICAgICAgIC8vIGdvIHRvIHRoZSBuZXh0IGFjdGl2ZSBwYXJ0LlxuICAgICAgICAgICAgcGFydEluZGV4ID0gbmV4dEFjdGl2ZUluZGV4SW5UZW1wbGF0ZVBhcnRzKHBhcnRzLCBwYXJ0SW5kZXgpO1xuICAgICAgICAgICAgcGFydCA9IHBhcnRzW3BhcnRJbmRleF07XG4gICAgICAgIH1cbiAgICB9XG4gICAgbm9kZXNUb1JlbW92ZUluVGVtcGxhdGUuZm9yRWFjaCgobikgPT4gbi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG4pKTtcbn1cbmNvbnN0IGNvdW50Tm9kZXMgPSAobm9kZSkgPT4ge1xuICAgIGxldCBjb3VudCA9IChub2RlLm5vZGVUeXBlID09PSAxMSAvKiBOb2RlLkRPQ1VNRU5UX0ZSQUdNRU5UX05PREUgKi8pID8gMCA6IDE7XG4gICAgY29uc3Qgd2Fsa2VyID0gZG9jdW1lbnQuY3JlYXRlVHJlZVdhbGtlcihub2RlLCB3YWxrZXJOb2RlRmlsdGVyLCBudWxsLCBmYWxzZSk7XG4gICAgd2hpbGUgKHdhbGtlci5uZXh0Tm9kZSgpKSB7XG4gICAgICAgIGNvdW50Kys7XG4gICAgfVxuICAgIHJldHVybiBjb3VudDtcbn07XG5jb25zdCBuZXh0QWN0aXZlSW5kZXhJblRlbXBsYXRlUGFydHMgPSAocGFydHMsIHN0YXJ0SW5kZXggPSAtMSkgPT4ge1xuICAgIGZvciAobGV0IGkgPSBzdGFydEluZGV4ICsgMTsgaSA8IHBhcnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IHBhcnQgPSBwYXJ0c1tpXTtcbiAgICAgICAgaWYgKGlzVGVtcGxhdGVQYXJ0QWN0aXZlKHBhcnQpKSB7XG4gICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gLTE7XG59O1xuLyoqXG4gKiBJbnNlcnRzIHRoZSBnaXZlbiBub2RlIGludG8gdGhlIFRlbXBsYXRlLCBvcHRpb25hbGx5IGJlZm9yZSB0aGUgZ2l2ZW5cbiAqIHJlZk5vZGUuIEluIGFkZGl0aW9uIHRvIGluc2VydGluZyB0aGUgbm9kZSBpbnRvIHRoZSBUZW1wbGF0ZSwgdGhlIFRlbXBsYXRlXG4gKiBwYXJ0IGluZGljZXMgYXJlIHVwZGF0ZWQgdG8gbWF0Y2ggdGhlIG11dGF0ZWQgVGVtcGxhdGUgRE9NLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5zZXJ0Tm9kZUludG9UZW1wbGF0ZSh0ZW1wbGF0ZSwgbm9kZSwgcmVmTm9kZSA9IG51bGwpIHtcbiAgICBjb25zdCB7IGVsZW1lbnQ6IHsgY29udGVudCB9LCBwYXJ0cyB9ID0gdGVtcGxhdGU7XG4gICAgLy8gSWYgdGhlcmUncyBubyByZWZOb2RlLCB0aGVuIHB1dCBub2RlIGF0IGVuZCBvZiB0ZW1wbGF0ZS5cbiAgICAvLyBObyBwYXJ0IGluZGljZXMgbmVlZCB0byBiZSBzaGlmdGVkIGluIHRoaXMgY2FzZS5cbiAgICBpZiAocmVmTm9kZSA9PT0gbnVsbCB8fCByZWZOb2RlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudC5hcHBlbmRDaGlsZChub2RlKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCB3YWxrZXIgPSBkb2N1bWVudC5jcmVhdGVUcmVlV2Fsa2VyKGNvbnRlbnQsIHdhbGtlck5vZGVGaWx0ZXIsIG51bGwsIGZhbHNlKTtcbiAgICBsZXQgcGFydEluZGV4ID0gbmV4dEFjdGl2ZUluZGV4SW5UZW1wbGF0ZVBhcnRzKHBhcnRzKTtcbiAgICBsZXQgaW5zZXJ0Q291bnQgPSAwO1xuICAgIGxldCB3YWxrZXJJbmRleCA9IC0xO1xuICAgIHdoaWxlICh3YWxrZXIubmV4dE5vZGUoKSkge1xuICAgICAgICB3YWxrZXJJbmRleCsrO1xuICAgICAgICBjb25zdCB3YWxrZXJOb2RlID0gd2Fsa2VyLmN1cnJlbnROb2RlO1xuICAgICAgICBpZiAod2Fsa2VyTm9kZSA9PT0gcmVmTm9kZSkge1xuICAgICAgICAgICAgaW5zZXJ0Q291bnQgPSBjb3VudE5vZGVzKG5vZGUpO1xuICAgICAgICAgICAgcmVmTm9kZS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShub2RlLCByZWZOb2RlKTtcbiAgICAgICAgfVxuICAgICAgICB3aGlsZSAocGFydEluZGV4ICE9PSAtMSAmJiBwYXJ0c1twYXJ0SW5kZXhdLmluZGV4ID09PSB3YWxrZXJJbmRleCkge1xuICAgICAgICAgICAgLy8gSWYgd2UndmUgaW5zZXJ0ZWQgdGhlIG5vZGUsIHNpbXBseSBhZGp1c3QgYWxsIHN1YnNlcXVlbnQgcGFydHNcbiAgICAgICAgICAgIGlmIChpbnNlcnRDb3VudCA+IDApIHtcbiAgICAgICAgICAgICAgICB3aGlsZSAocGFydEluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICBwYXJ0c1twYXJ0SW5kZXhdLmluZGV4ICs9IGluc2VydENvdW50O1xuICAgICAgICAgICAgICAgICAgICBwYXJ0SW5kZXggPSBuZXh0QWN0aXZlSW5kZXhJblRlbXBsYXRlUGFydHMocGFydHMsIHBhcnRJbmRleCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBhcnRJbmRleCA9IG5leHRBY3RpdmVJbmRleEluVGVtcGxhdGVQYXJ0cyhwYXJ0cywgcGFydEluZGV4KTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1vZGlmeS10ZW1wbGF0ZS5qcy5tYXAiLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuICogQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbiAqIHN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuICovXG4vKipcbiAqIE1vZHVsZSB0byBhZGQgc2hhZHkgRE9NL3NoYWR5IENTUyBwb2x5ZmlsbCBzdXBwb3J0IHRvIGxpdC1odG1sIHRlbXBsYXRlXG4gKiByZW5kZXJpbmcuIFNlZSB0aGUgW1tyZW5kZXJdXSBtZXRob2QgZm9yIGRldGFpbHMuXG4gKlxuICogQG1vZHVsZSBzaGFkeS1yZW5kZXJcbiAqIEBwcmVmZXJyZWRcbiAqL1xuLyoqXG4gKiBEbyBub3QgcmVtb3ZlIHRoaXMgY29tbWVudDsgaXQga2VlcHMgdHlwZWRvYyBmcm9tIG1pc3BsYWNpbmcgdGhlIG1vZHVsZVxuICogZG9jcy5cbiAqL1xuaW1wb3J0IHsgcmVtb3ZlTm9kZXMgfSBmcm9tICcuL2RvbS5qcyc7XG5pbXBvcnQgeyBpbnNlcnROb2RlSW50b1RlbXBsYXRlLCByZW1vdmVOb2Rlc0Zyb21UZW1wbGF0ZSB9IGZyb20gJy4vbW9kaWZ5LXRlbXBsYXRlLmpzJztcbmltcG9ydCB7IHBhcnRzLCByZW5kZXIgYXMgbGl0UmVuZGVyIH0gZnJvbSAnLi9yZW5kZXIuanMnO1xuaW1wb3J0IHsgdGVtcGxhdGVDYWNoZXMgfSBmcm9tICcuL3RlbXBsYXRlLWZhY3RvcnkuanMnO1xuaW1wb3J0IHsgVGVtcGxhdGVJbnN0YW5jZSB9IGZyb20gJy4vdGVtcGxhdGUtaW5zdGFuY2UuanMnO1xuaW1wb3J0IHsgbWFya2VyLCBUZW1wbGF0ZSB9IGZyb20gJy4vdGVtcGxhdGUuanMnO1xuZXhwb3J0IHsgaHRtbCwgc3ZnLCBUZW1wbGF0ZVJlc3VsdCB9IGZyb20gJy4uL2xpdC1odG1sLmpzJztcbi8vIEdldCBhIGtleSB0byBsb29rdXAgaW4gYHRlbXBsYXRlQ2FjaGVzYC5cbmNvbnN0IGdldFRlbXBsYXRlQ2FjaGVLZXkgPSAodHlwZSwgc2NvcGVOYW1lKSA9PiBgJHt0eXBlfS0tJHtzY29wZU5hbWV9YDtcbmxldCBjb21wYXRpYmxlU2hhZHlDU1NWZXJzaW9uID0gdHJ1ZTtcbmlmICh0eXBlb2Ygd2luZG93LlNoYWR5Q1NTID09PSAndW5kZWZpbmVkJykge1xuICAgIGNvbXBhdGlibGVTaGFkeUNTU1ZlcnNpb24gPSBmYWxzZTtcbn1cbmVsc2UgaWYgKHR5cGVvZiB3aW5kb3cuU2hhZHlDU1MucHJlcGFyZVRlbXBsYXRlRG9tID09PSAndW5kZWZpbmVkJykge1xuICAgIGNvbnNvbGUud2FybihgSW5jb21wYXRpYmxlIFNoYWR5Q1NTIHZlcnNpb24gZGV0ZWN0ZWQuIGAgK1xuICAgICAgICBgUGxlYXNlIHVwZGF0ZSB0byBhdCBsZWFzdCBAd2ViY29tcG9uZW50cy93ZWJjb21wb25lbnRzanNAMi4wLjIgYW5kIGAgK1xuICAgICAgICBgQHdlYmNvbXBvbmVudHMvc2hhZHljc3NAMS4zLjEuYCk7XG4gICAgY29tcGF0aWJsZVNoYWR5Q1NTVmVyc2lvbiA9IGZhbHNlO1xufVxuLyoqXG4gKiBUZW1wbGF0ZSBmYWN0b3J5IHdoaWNoIHNjb3BlcyB0ZW1wbGF0ZSBET00gdXNpbmcgU2hhZHlDU1MuXG4gKiBAcGFyYW0gc2NvcGVOYW1lIHtzdHJpbmd9XG4gKi9cbmNvbnN0IHNoYWR5VGVtcGxhdGVGYWN0b3J5ID0gKHNjb3BlTmFtZSkgPT4gKHJlc3VsdCkgPT4ge1xuICAgIGNvbnN0IGNhY2hlS2V5ID0gZ2V0VGVtcGxhdGVDYWNoZUtleShyZXN1bHQudHlwZSwgc2NvcGVOYW1lKTtcbiAgICBsZXQgdGVtcGxhdGVDYWNoZSA9IHRlbXBsYXRlQ2FjaGVzLmdldChjYWNoZUtleSk7XG4gICAgaWYgKHRlbXBsYXRlQ2FjaGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0ZW1wbGF0ZUNhY2hlID0ge1xuICAgICAgICAgICAgc3RyaW5nc0FycmF5OiBuZXcgV2Vha01hcCgpLFxuICAgICAgICAgICAga2V5U3RyaW5nOiBuZXcgTWFwKClcbiAgICAgICAgfTtcbiAgICAgICAgdGVtcGxhdGVDYWNoZXMuc2V0KGNhY2hlS2V5LCB0ZW1wbGF0ZUNhY2hlKTtcbiAgICB9XG4gICAgbGV0IHRlbXBsYXRlID0gdGVtcGxhdGVDYWNoZS5zdHJpbmdzQXJyYXkuZ2V0KHJlc3VsdC5zdHJpbmdzKTtcbiAgICBpZiAodGVtcGxhdGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gdGVtcGxhdGU7XG4gICAgfVxuICAgIGNvbnN0IGtleSA9IHJlc3VsdC5zdHJpbmdzLmpvaW4obWFya2VyKTtcbiAgICB0ZW1wbGF0ZSA9IHRlbXBsYXRlQ2FjaGUua2V5U3RyaW5nLmdldChrZXkpO1xuICAgIGlmICh0ZW1wbGF0ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSByZXN1bHQuZ2V0VGVtcGxhdGVFbGVtZW50KCk7XG4gICAgICAgIGlmIChjb21wYXRpYmxlU2hhZHlDU1NWZXJzaW9uKSB7XG4gICAgICAgICAgICB3aW5kb3cuU2hhZHlDU1MucHJlcGFyZVRlbXBsYXRlRG9tKGVsZW1lbnQsIHNjb3BlTmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGVtcGxhdGUgPSBuZXcgVGVtcGxhdGUocmVzdWx0LCBlbGVtZW50KTtcbiAgICAgICAgdGVtcGxhdGVDYWNoZS5rZXlTdHJpbmcuc2V0KGtleSwgdGVtcGxhdGUpO1xuICAgIH1cbiAgICB0ZW1wbGF0ZUNhY2hlLnN0cmluZ3NBcnJheS5zZXQocmVzdWx0LnN0cmluZ3MsIHRlbXBsYXRlKTtcbiAgICByZXR1cm4gdGVtcGxhdGU7XG59O1xuY29uc3QgVEVNUExBVEVfVFlQRVMgPSBbJ2h0bWwnLCAnc3ZnJ107XG4vKipcbiAqIFJlbW92ZXMgYWxsIHN0eWxlIGVsZW1lbnRzIGZyb20gVGVtcGxhdGVzIGZvciB0aGUgZ2l2ZW4gc2NvcGVOYW1lLlxuICovXG5jb25zdCByZW1vdmVTdHlsZXNGcm9tTGl0VGVtcGxhdGVzID0gKHNjb3BlTmFtZSkgPT4ge1xuICAgIFRFTVBMQVRFX1RZUEVTLmZvckVhY2goKHR5cGUpID0+IHtcbiAgICAgICAgY29uc3QgdGVtcGxhdGVzID0gdGVtcGxhdGVDYWNoZXMuZ2V0KGdldFRlbXBsYXRlQ2FjaGVLZXkodHlwZSwgc2NvcGVOYW1lKSk7XG4gICAgICAgIGlmICh0ZW1wbGF0ZXMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGVtcGxhdGVzLmtleVN0cmluZy5mb3JFYWNoKCh0ZW1wbGF0ZSkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgZWxlbWVudDogeyBjb250ZW50IH0gfSA9IHRlbXBsYXRlO1xuICAgICAgICAgICAgICAgIC8vIElFIDExIGRvZXNuJ3Qgc3VwcG9ydCB0aGUgaXRlcmFibGUgcGFyYW0gU2V0IGNvbnN0cnVjdG9yXG4gICAgICAgICAgICAgICAgY29uc3Qgc3R5bGVzID0gbmV3IFNldCgpO1xuICAgICAgICAgICAgICAgIEFycmF5LmZyb20oY29udGVudC5xdWVyeVNlbGVjdG9yQWxsKCdzdHlsZScpKS5mb3JFYWNoKChzKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlcy5hZGQocyk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmVtb3ZlTm9kZXNGcm9tVGVtcGxhdGUodGVtcGxhdGUsIHN0eWxlcyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0pO1xufTtcbmNvbnN0IHNoYWR5UmVuZGVyU2V0ID0gbmV3IFNldCgpO1xuLyoqXG4gKiBGb3IgdGhlIGdpdmVuIHNjb3BlIG5hbWUsIGVuc3VyZXMgdGhhdCBTaGFkeUNTUyBzdHlsZSBzY29waW5nIGlzIHBlcmZvcm1lZC5cbiAqIFRoaXMgaXMgZG9uZSBqdXN0IG9uY2UgcGVyIHNjb3BlIG5hbWUgc28gdGhlIGZyYWdtZW50IGFuZCB0ZW1wbGF0ZSBjYW5ub3RcbiAqIGJlIG1vZGlmaWVkLlxuICogKDEpIGV4dHJhY3RzIHN0eWxlcyBmcm9tIHRoZSByZW5kZXJlZCBmcmFnbWVudCBhbmQgaGFuZHMgdGhlbSB0byBTaGFkeUNTU1xuICogdG8gYmUgc2NvcGVkIGFuZCBhcHBlbmRlZCB0byB0aGUgZG9jdW1lbnRcbiAqICgyKSByZW1vdmVzIHN0eWxlIGVsZW1lbnRzIGZyb20gYWxsIGxpdC1odG1sIFRlbXBsYXRlcyBmb3IgdGhpcyBzY29wZSBuYW1lLlxuICpcbiAqIE5vdGUsIDxzdHlsZT4gZWxlbWVudHMgY2FuIG9ubHkgYmUgcGxhY2VkIGludG8gdGVtcGxhdGVzIGZvciB0aGVcbiAqIGluaXRpYWwgcmVuZGVyaW5nIG9mIHRoZSBzY29wZS4gSWYgPHN0eWxlPiBlbGVtZW50cyBhcmUgaW5jbHVkZWQgaW4gdGVtcGxhdGVzXG4gKiBkeW5hbWljYWxseSByZW5kZXJlZCB0byB0aGUgc2NvcGUgKGFmdGVyIHRoZSBmaXJzdCBzY29wZSByZW5kZXIpLCB0aGV5IHdpbGxcbiAqIG5vdCBiZSBzY29wZWQgYW5kIHRoZSA8c3R5bGU+IHdpbGwgYmUgbGVmdCBpbiB0aGUgdGVtcGxhdGUgYW5kIHJlbmRlcmVkXG4gKiBvdXRwdXQuXG4gKi9cbmNvbnN0IHByZXBhcmVUZW1wbGF0ZVN0eWxlcyA9IChzY29wZU5hbWUsIHJlbmRlcmVkRE9NLCB0ZW1wbGF0ZSkgPT4ge1xuICAgIHNoYWR5UmVuZGVyU2V0LmFkZChzY29wZU5hbWUpO1xuICAgIC8vIElmIGByZW5kZXJlZERPTWAgaXMgc3RhbXBlZCBmcm9tIGEgVGVtcGxhdGUsIHRoZW4gd2UgbmVlZCB0byBlZGl0IHRoYXRcbiAgICAvLyBUZW1wbGF0ZSdzIHVuZGVybHlpbmcgdGVtcGxhdGUgZWxlbWVudC4gT3RoZXJ3aXNlLCB3ZSBjcmVhdGUgb25lIGhlcmVcbiAgICAvLyB0byBnaXZlIHRvIFNoYWR5Q1NTLCB3aGljaCBzdGlsbCByZXF1aXJlcyBvbmUgd2hpbGUgc2NvcGluZy5cbiAgICBjb25zdCB0ZW1wbGF0ZUVsZW1lbnQgPSAhIXRlbXBsYXRlID8gdGVtcGxhdGUuZWxlbWVudCA6IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RlbXBsYXRlJyk7XG4gICAgLy8gTW92ZSBzdHlsZXMgb3V0IG9mIHJlbmRlcmVkIERPTSBhbmQgc3RvcmUuXG4gICAgY29uc3Qgc3R5bGVzID0gcmVuZGVyZWRET00ucXVlcnlTZWxlY3RvckFsbCgnc3R5bGUnKTtcbiAgICBjb25zdCB7IGxlbmd0aCB9ID0gc3R5bGVzO1xuICAgIC8vIElmIHRoZXJlIGFyZSBubyBzdHlsZXMsIHNraXAgdW5uZWNlc3Nhcnkgd29ya1xuICAgIGlmIChsZW5ndGggPT09IDApIHtcbiAgICAgICAgLy8gRW5zdXJlIHByZXBhcmVUZW1wbGF0ZVN0eWxlcyBpcyBjYWxsZWQgdG8gc3VwcG9ydCBhZGRpbmdcbiAgICAgICAgLy8gc3R5bGVzIHZpYSBgcHJlcGFyZUFkb3B0ZWRDc3NUZXh0YCBzaW5jZSB0aGF0IHJlcXVpcmVzIHRoYXRcbiAgICAgICAgLy8gYHByZXBhcmVUZW1wbGF0ZVN0eWxlc2AgaXMgY2FsbGVkLlxuICAgICAgICAvL1xuICAgICAgICAvLyBTaGFkeUNTUyB3aWxsIG9ubHkgdXBkYXRlIHN0eWxlcyBjb250YWluaW5nIEBhcHBseSBpbiB0aGUgdGVtcGxhdGVcbiAgICAgICAgLy8gZ2l2ZW4gdG8gYHByZXBhcmVUZW1wbGF0ZVN0eWxlc2AuIElmIG5vIGxpdCBUZW1wbGF0ZSB3YXMgZ2l2ZW4sXG4gICAgICAgIC8vIFNoYWR5Q1NTIHdpbGwgbm90IGJlIGFibGUgdG8gdXBkYXRlIHVzZXMgb2YgQGFwcGx5IGluIGFueSByZWxldmFudFxuICAgICAgICAvLyB0ZW1wbGF0ZS4gSG93ZXZlciwgdGhpcyBpcyBub3QgYSBwcm9ibGVtIGJlY2F1c2Ugd2Ugb25seSBjcmVhdGUgdGhlXG4gICAgICAgIC8vIHRlbXBsYXRlIGZvciB0aGUgcHVycG9zZSBvZiBzdXBwb3J0aW5nIGBwcmVwYXJlQWRvcHRlZENzc1RleHRgLFxuICAgICAgICAvLyB3aGljaCBkb2Vzbid0IHN1cHBvcnQgQGFwcGx5IGF0IGFsbC5cbiAgICAgICAgd2luZG93LlNoYWR5Q1NTLnByZXBhcmVUZW1wbGF0ZVN0eWxlcyh0ZW1wbGF0ZUVsZW1lbnQsIHNjb3BlTmFtZSk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgY29uZGVuc2VkU3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICAgIC8vIENvbGxlY3Qgc3R5bGVzIGludG8gYSBzaW5nbGUgc3R5bGUuIFRoaXMgaGVscHMgdXMgbWFrZSBzdXJlIFNoYWR5Q1NTXG4gICAgLy8gbWFuaXB1bGF0aW9ucyB3aWxsIG5vdCBwcmV2ZW50IHVzIGZyb20gYmVpbmcgYWJsZSB0byBmaXggdXAgdGVtcGxhdGVcbiAgICAvLyBwYXJ0IGluZGljZXMuXG4gICAgLy8gTk9URTogY29sbGVjdGluZyBzdHlsZXMgaXMgaW5lZmZpY2llbnQgZm9yIGJyb3dzZXJzIGJ1dCBTaGFkeUNTU1xuICAgIC8vIGN1cnJlbnRseSBkb2VzIHRoaXMgYW55d2F5LiBXaGVuIGl0IGRvZXMgbm90LCB0aGlzIHNob3VsZCBiZSBjaGFuZ2VkLlxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3Qgc3R5bGUgPSBzdHlsZXNbaV07XG4gICAgICAgIHN0eWxlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc3R5bGUpO1xuICAgICAgICBjb25kZW5zZWRTdHlsZS50ZXh0Q29udGVudCArPSBzdHlsZS50ZXh0Q29udGVudDtcbiAgICB9XG4gICAgLy8gUmVtb3ZlIHN0eWxlcyBmcm9tIG5lc3RlZCB0ZW1wbGF0ZXMgaW4gdGhpcyBzY29wZS5cbiAgICByZW1vdmVTdHlsZXNGcm9tTGl0VGVtcGxhdGVzKHNjb3BlTmFtZSk7XG4gICAgLy8gQW5kIHRoZW4gcHV0IHRoZSBjb25kZW5zZWQgc3R5bGUgaW50byB0aGUgXCJyb290XCIgdGVtcGxhdGUgcGFzc2VkIGluIGFzXG4gICAgLy8gYHRlbXBsYXRlYC5cbiAgICBjb25zdCBjb250ZW50ID0gdGVtcGxhdGVFbGVtZW50LmNvbnRlbnQ7XG4gICAgaWYgKCEhdGVtcGxhdGUpIHtcbiAgICAgICAgaW5zZXJ0Tm9kZUludG9UZW1wbGF0ZSh0ZW1wbGF0ZSwgY29uZGVuc2VkU3R5bGUsIGNvbnRlbnQuZmlyc3RDaGlsZCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjb250ZW50Lmluc2VydEJlZm9yZShjb25kZW5zZWRTdHlsZSwgY29udGVudC5maXJzdENoaWxkKTtcbiAgICB9XG4gICAgLy8gTm90ZSwgaXQncyBpbXBvcnRhbnQgdGhhdCBTaGFkeUNTUyBnZXRzIHRoZSB0ZW1wbGF0ZSB0aGF0IGBsaXQtaHRtbGBcbiAgICAvLyB3aWxsIGFjdHVhbGx5IHJlbmRlciBzbyB0aGF0IGl0IGNhbiB1cGRhdGUgdGhlIHN0eWxlIGluc2lkZSB3aGVuXG4gICAgLy8gbmVlZGVkIChlLmcuIEBhcHBseSBuYXRpdmUgU2hhZG93IERPTSBjYXNlKS5cbiAgICB3aW5kb3cuU2hhZHlDU1MucHJlcGFyZVRlbXBsYXRlU3R5bGVzKHRlbXBsYXRlRWxlbWVudCwgc2NvcGVOYW1lKTtcbiAgICBjb25zdCBzdHlsZSA9IGNvbnRlbnQucXVlcnlTZWxlY3Rvcignc3R5bGUnKTtcbiAgICBpZiAod2luZG93LlNoYWR5Q1NTLm5hdGl2ZVNoYWRvdyAmJiBzdHlsZSAhPT0gbnVsbCkge1xuICAgICAgICAvLyBXaGVuIGluIG5hdGl2ZSBTaGFkb3cgRE9NLCBlbnN1cmUgdGhlIHN0eWxlIGNyZWF0ZWQgYnkgU2hhZHlDU1MgaXNcbiAgICAgICAgLy8gaW5jbHVkZWQgaW4gaW5pdGlhbGx5IHJlbmRlcmVkIG91dHB1dCAoYHJlbmRlcmVkRE9NYCkuXG4gICAgICAgIHJlbmRlcmVkRE9NLmluc2VydEJlZm9yZShzdHlsZS5jbG9uZU5vZGUodHJ1ZSksIHJlbmRlcmVkRE9NLmZpcnN0Q2hpbGQpO1xuICAgIH1cbiAgICBlbHNlIGlmICghIXRlbXBsYXRlKSB7XG4gICAgICAgIC8vIFdoZW4gbm8gc3R5bGUgaXMgbGVmdCBpbiB0aGUgdGVtcGxhdGUsIHBhcnRzIHdpbGwgYmUgYnJva2VuIGFzIGFcbiAgICAgICAgLy8gcmVzdWx0LiBUbyBmaXggdGhpcywgd2UgcHV0IGJhY2sgdGhlIHN0eWxlIG5vZGUgU2hhZHlDU1MgcmVtb3ZlZFxuICAgICAgICAvLyBhbmQgdGhlbiB0ZWxsIGxpdCB0byByZW1vdmUgdGhhdCBub2RlIGZyb20gdGhlIHRlbXBsYXRlLlxuICAgICAgICAvLyBUaGVyZSBjYW4gYmUgbm8gc3R5bGUgaW4gdGhlIHRlbXBsYXRlIGluIDIgY2FzZXMgKDEpIHdoZW4gU2hhZHkgRE9NXG4gICAgICAgIC8vIGlzIGluIHVzZSwgU2hhZHlDU1MgcmVtb3ZlcyBhbGwgc3R5bGVzLCAoMikgd2hlbiBuYXRpdmUgU2hhZG93IERPTVxuICAgICAgICAvLyBpcyBpbiB1c2UgU2hhZHlDU1MgcmVtb3ZlcyB0aGUgc3R5bGUgaWYgaXQgY29udGFpbnMgbm8gY29udGVudC5cbiAgICAgICAgLy8gTk9URSwgU2hhZHlDU1MgY3JlYXRlcyBpdHMgb3duIHN0eWxlIHNvIHdlIGNhbiBzYWZlbHkgYWRkL3JlbW92ZVxuICAgICAgICAvLyBgY29uZGVuc2VkU3R5bGVgIGhlcmUuXG4gICAgICAgIGNvbnRlbnQuaW5zZXJ0QmVmb3JlKGNvbmRlbnNlZFN0eWxlLCBjb250ZW50LmZpcnN0Q2hpbGQpO1xuICAgICAgICBjb25zdCByZW1vdmVzID0gbmV3IFNldCgpO1xuICAgICAgICByZW1vdmVzLmFkZChjb25kZW5zZWRTdHlsZSk7XG4gICAgICAgIHJlbW92ZU5vZGVzRnJvbVRlbXBsYXRlKHRlbXBsYXRlLCByZW1vdmVzKTtcbiAgICB9XG59O1xuLyoqXG4gKiBFeHRlbnNpb24gdG8gdGhlIHN0YW5kYXJkIGByZW5kZXJgIG1ldGhvZCB3aGljaCBzdXBwb3J0cyByZW5kZXJpbmdcbiAqIHRvIFNoYWRvd1Jvb3RzIHdoZW4gdGhlIFNoYWR5RE9NIChodHRwczovL2dpdGh1Yi5jb20vd2ViY29tcG9uZW50cy9zaGFkeWRvbSlcbiAqIGFuZCBTaGFkeUNTUyAoaHR0cHM6Ly9naXRodWIuY29tL3dlYmNvbXBvbmVudHMvc2hhZHljc3MpIHBvbHlmaWxscyBhcmUgdXNlZFxuICogb3Igd2hlbiB0aGUgd2ViY29tcG9uZW50c2pzXG4gKiAoaHR0cHM6Ly9naXRodWIuY29tL3dlYmNvbXBvbmVudHMvd2ViY29tcG9uZW50c2pzKSBwb2x5ZmlsbCBpcyB1c2VkLlxuICpcbiAqIEFkZHMgYSBgc2NvcGVOYW1lYCBvcHRpb24gd2hpY2ggaXMgdXNlZCB0byBzY29wZSBlbGVtZW50IERPTSBhbmQgc3R5bGVzaGVldHNcbiAqIHdoZW4gbmF0aXZlIFNoYWRvd0RPTSBpcyB1bmF2YWlsYWJsZS4gVGhlIGBzY29wZU5hbWVgIHdpbGwgYmUgYWRkZWQgdG9cbiAqIHRoZSBjbGFzcyBhdHRyaWJ1dGUgb2YgYWxsIHJlbmRlcmVkIERPTS4gSW4gYWRkaXRpb24sIGFueSBzdHlsZSBlbGVtZW50cyB3aWxsXG4gKiBiZSBhdXRvbWF0aWNhbGx5IHJlLXdyaXR0ZW4gd2l0aCB0aGlzIGBzY29wZU5hbWVgIHNlbGVjdG9yIGFuZCBtb3ZlZCBvdXRcbiAqIG9mIHRoZSByZW5kZXJlZCBET00gYW5kIGludG8gdGhlIGRvY3VtZW50IGA8aGVhZD5gLlxuICpcbiAqIEl0IGlzIGNvbW1vbiB0byB1c2UgdGhpcyByZW5kZXIgbWV0aG9kIGluIGNvbmp1bmN0aW9uIHdpdGggYSBjdXN0b20gZWxlbWVudFxuICogd2hpY2ggcmVuZGVycyBhIHNoYWRvd1Jvb3QuIFdoZW4gdGhpcyBpcyBkb25lLCB0eXBpY2FsbHkgdGhlIGVsZW1lbnQnc1xuICogYGxvY2FsTmFtZWAgc2hvdWxkIGJlIHVzZWQgYXMgdGhlIGBzY29wZU5hbWVgLlxuICpcbiAqIEluIGFkZGl0aW9uIHRvIERPTSBzY29waW5nLCBTaGFkeUNTUyBhbHNvIHN1cHBvcnRzIGEgYmFzaWMgc2hpbSBmb3IgY3NzXG4gKiBjdXN0b20gcHJvcGVydGllcyAobmVlZGVkIG9ubHkgb24gb2xkZXIgYnJvd3NlcnMgbGlrZSBJRTExKSBhbmQgYSBzaGltIGZvclxuICogYSBkZXByZWNhdGVkIGZlYXR1cmUgY2FsbGVkIGBAYXBwbHlgIHRoYXQgc3VwcG9ydHMgYXBwbHlpbmcgYSBzZXQgb2YgY3NzXG4gKiBjdXN0b20gcHJvcGVydGllcyB0byBhIGdpdmVuIGxvY2F0aW9uLlxuICpcbiAqIFVzYWdlIGNvbnNpZGVyYXRpb25zOlxuICpcbiAqICogUGFydCB2YWx1ZXMgaW4gYDxzdHlsZT5gIGVsZW1lbnRzIGFyZSBvbmx5IGFwcGxpZWQgdGhlIGZpcnN0IHRpbWUgYSBnaXZlblxuICogYHNjb3BlTmFtZWAgcmVuZGVycy4gU3Vic2VxdWVudCBjaGFuZ2VzIHRvIHBhcnRzIGluIHN0eWxlIGVsZW1lbnRzIHdpbGwgaGF2ZVxuICogbm8gZWZmZWN0LiBCZWNhdXNlIG9mIHRoaXMsIHBhcnRzIGluIHN0eWxlIGVsZW1lbnRzIHNob3VsZCBvbmx5IGJlIHVzZWQgZm9yXG4gKiB2YWx1ZXMgdGhhdCB3aWxsIG5ldmVyIGNoYW5nZSwgZm9yIGV4YW1wbGUgcGFydHMgdGhhdCBzZXQgc2NvcGUtd2lkZSB0aGVtZVxuICogdmFsdWVzIG9yIHBhcnRzIHdoaWNoIHJlbmRlciBzaGFyZWQgc3R5bGUgZWxlbWVudHMuXG4gKlxuICogKiBOb3RlLCBkdWUgdG8gYSBsaW1pdGF0aW9uIG9mIHRoZSBTaGFkeURPTSBwb2x5ZmlsbCwgcmVuZGVyaW5nIGluIGFcbiAqIGN1c3RvbSBlbGVtZW50J3MgYGNvbnN0cnVjdG9yYCBpcyBub3Qgc3VwcG9ydGVkLiBJbnN0ZWFkIHJlbmRlcmluZyBzaG91bGRcbiAqIGVpdGhlciBkb25lIGFzeW5jaHJvbm91c2x5LCBmb3IgZXhhbXBsZSBhdCBtaWNyb3Rhc2sgdGltaW5nIChmb3IgZXhhbXBsZVxuICogYFByb21pc2UucmVzb2x2ZSgpYCksIG9yIGJlIGRlZmVycmVkIHVudGlsIHRoZSBmaXJzdCB0aW1lIHRoZSBlbGVtZW50J3NcbiAqIGBjb25uZWN0ZWRDYWxsYmFja2AgcnVucy5cbiAqXG4gKiBVc2FnZSBjb25zaWRlcmF0aW9ucyB3aGVuIHVzaW5nIHNoaW1tZWQgY3VzdG9tIHByb3BlcnRpZXMgb3IgYEBhcHBseWA6XG4gKlxuICogKiBXaGVuZXZlciBhbnkgZHluYW1pYyBjaGFuZ2VzIGFyZSBtYWRlIHdoaWNoIGFmZmVjdFxuICogY3NzIGN1c3RvbSBwcm9wZXJ0aWVzLCBgU2hhZHlDU1Muc3R5bGVFbGVtZW50KGVsZW1lbnQpYCBtdXN0IGJlIGNhbGxlZFxuICogdG8gdXBkYXRlIHRoZSBlbGVtZW50LiBUaGVyZSBhcmUgdHdvIGNhc2VzIHdoZW4gdGhpcyBpcyBuZWVkZWQ6XG4gKiAoMSkgdGhlIGVsZW1lbnQgaXMgY29ubmVjdGVkIHRvIGEgbmV3IHBhcmVudCwgKDIpIGEgY2xhc3MgaXMgYWRkZWQgdG8gdGhlXG4gKiBlbGVtZW50IHRoYXQgY2F1c2VzIGl0IHRvIG1hdGNoIGRpZmZlcmVudCBjdXN0b20gcHJvcGVydGllcy5cbiAqIFRvIGFkZHJlc3MgdGhlIGZpcnN0IGNhc2Ugd2hlbiByZW5kZXJpbmcgYSBjdXN0b20gZWxlbWVudCwgYHN0eWxlRWxlbWVudGBcbiAqIHNob3VsZCBiZSBjYWxsZWQgaW4gdGhlIGVsZW1lbnQncyBgY29ubmVjdGVkQ2FsbGJhY2tgLlxuICpcbiAqICogU2hpbW1lZCBjdXN0b20gcHJvcGVydGllcyBtYXkgb25seSBiZSBkZWZpbmVkIGVpdGhlciBmb3IgYW4gZW50aXJlXG4gKiBzaGFkb3dSb290IChmb3IgZXhhbXBsZSwgaW4gYSBgOmhvc3RgIHJ1bGUpIG9yIHZpYSBhIHJ1bGUgdGhhdCBkaXJlY3RseVxuICogbWF0Y2hlcyBhbiBlbGVtZW50IHdpdGggYSBzaGFkb3dSb290LiBJbiBvdGhlciB3b3JkcywgaW5zdGVhZCBvZiBmbG93aW5nIGZyb21cbiAqIHBhcmVudCB0byBjaGlsZCBhcyBkbyBuYXRpdmUgY3NzIGN1c3RvbSBwcm9wZXJ0aWVzLCBzaGltbWVkIGN1c3RvbSBwcm9wZXJ0aWVzXG4gKiBmbG93IG9ubHkgZnJvbSBzaGFkb3dSb290cyB0byBuZXN0ZWQgc2hhZG93Um9vdHMuXG4gKlxuICogKiBXaGVuIHVzaW5nIGBAYXBwbHlgIG1peGluZyBjc3Mgc2hvcnRoYW5kIHByb3BlcnR5IG5hbWVzIHdpdGhcbiAqIG5vbi1zaG9ydGhhbmQgbmFtZXMgKGZvciBleGFtcGxlIGBib3JkZXJgIGFuZCBgYm9yZGVyLXdpZHRoYCkgaXMgbm90XG4gKiBzdXBwb3J0ZWQuXG4gKi9cbmV4cG9ydCBjb25zdCByZW5kZXIgPSAocmVzdWx0LCBjb250YWluZXIsIG9wdGlvbnMpID0+IHtcbiAgICBpZiAoIW9wdGlvbnMgfHwgdHlwZW9mIG9wdGlvbnMgIT09ICdvYmplY3QnIHx8ICFvcHRpb25zLnNjb3BlTmFtZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZSBgc2NvcGVOYW1lYCBvcHRpb24gaXMgcmVxdWlyZWQuJyk7XG4gICAgfVxuICAgIGNvbnN0IHNjb3BlTmFtZSA9IG9wdGlvbnMuc2NvcGVOYW1lO1xuICAgIGNvbnN0IGhhc1JlbmRlcmVkID0gcGFydHMuaGFzKGNvbnRhaW5lcik7XG4gICAgY29uc3QgbmVlZHNTY29waW5nID0gY29tcGF0aWJsZVNoYWR5Q1NTVmVyc2lvbiAmJlxuICAgICAgICBjb250YWluZXIubm9kZVR5cGUgPT09IDExIC8qIE5vZGUuRE9DVU1FTlRfRlJBR01FTlRfTk9ERSAqLyAmJlxuICAgICAgICAhIWNvbnRhaW5lci5ob3N0O1xuICAgIC8vIEhhbmRsZSBmaXJzdCByZW5kZXIgdG8gYSBzY29wZSBzcGVjaWFsbHkuLi5cbiAgICBjb25zdCBmaXJzdFNjb3BlUmVuZGVyID0gbmVlZHNTY29waW5nICYmICFzaGFkeVJlbmRlclNldC5oYXMoc2NvcGVOYW1lKTtcbiAgICAvLyBPbiBmaXJzdCBzY29wZSByZW5kZXIsIHJlbmRlciBpbnRvIGEgZnJhZ21lbnQ7IHRoaXMgY2Fubm90IGJlIGEgc2luZ2xlXG4gICAgLy8gZnJhZ21lbnQgdGhhdCBpcyByZXVzZWQgc2luY2UgbmVzdGVkIHJlbmRlcnMgY2FuIG9jY3VyIHN5bmNocm9ub3VzbHkuXG4gICAgY29uc3QgcmVuZGVyQ29udGFpbmVyID0gZmlyc3RTY29wZVJlbmRlciA/IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSA6IGNvbnRhaW5lcjtcbiAgICBsaXRSZW5kZXIocmVzdWx0LCByZW5kZXJDb250YWluZXIsIE9iamVjdC5hc3NpZ24oeyB0ZW1wbGF0ZUZhY3Rvcnk6IHNoYWR5VGVtcGxhdGVGYWN0b3J5KHNjb3BlTmFtZSkgfSwgb3B0aW9ucykpO1xuICAgIC8vIFdoZW4gcGVyZm9ybWluZyBmaXJzdCBzY29wZSByZW5kZXIsXG4gICAgLy8gKDEpIFdlJ3ZlIHJlbmRlcmVkIGludG8gYSBmcmFnbWVudCBzbyB0aGF0IHRoZXJlJ3MgYSBjaGFuY2UgdG9cbiAgICAvLyBgcHJlcGFyZVRlbXBsYXRlU3R5bGVzYCBiZWZvcmUgc3ViLWVsZW1lbnRzIGhpdCB0aGUgRE9NXG4gICAgLy8gKHdoaWNoIG1pZ2h0IGNhdXNlIHRoZW0gdG8gcmVuZGVyIGJhc2VkIG9uIGEgY29tbW9uIHBhdHRlcm4gb2ZcbiAgICAvLyByZW5kZXJpbmcgaW4gYSBjdXN0b20gZWxlbWVudCdzIGBjb25uZWN0ZWRDYWxsYmFja2ApO1xuICAgIC8vICgyKSBTY29wZSB0aGUgdGVtcGxhdGUgd2l0aCBTaGFkeUNTUyBvbmUgdGltZSBvbmx5IGZvciB0aGlzIHNjb3BlLlxuICAgIC8vICgzKSBSZW5kZXIgdGhlIGZyYWdtZW50IGludG8gdGhlIGNvbnRhaW5lciBhbmQgbWFrZSBzdXJlIHRoZVxuICAgIC8vIGNvbnRhaW5lciBrbm93cyBpdHMgYHBhcnRgIGlzIHRoZSBvbmUgd2UganVzdCByZW5kZXJlZC4gVGhpcyBlbnN1cmVzXG4gICAgLy8gRE9NIHdpbGwgYmUgcmUtdXNlZCBvbiBzdWJzZXF1ZW50IHJlbmRlcnMuXG4gICAgaWYgKGZpcnN0U2NvcGVSZW5kZXIpIHtcbiAgICAgICAgY29uc3QgcGFydCA9IHBhcnRzLmdldChyZW5kZXJDb250YWluZXIpO1xuICAgICAgICBwYXJ0cy5kZWxldGUocmVuZGVyQ29udGFpbmVyKTtcbiAgICAgICAgLy8gU2hhZHlDU1MgbWlnaHQgaGF2ZSBzdHlsZSBzaGVldHMgKGUuZy4gZnJvbSBgcHJlcGFyZUFkb3B0ZWRDc3NUZXh0YClcbiAgICAgICAgLy8gdGhhdCBzaG91bGQgYXBwbHkgdG8gYHJlbmRlckNvbnRhaW5lcmAgZXZlbiBpZiB0aGUgcmVuZGVyZWQgdmFsdWUgaXNcbiAgICAgICAgLy8gbm90IGEgVGVtcGxhdGVJbnN0YW5jZS4gSG93ZXZlciwgaXQgd2lsbCBvbmx5IGluc2VydCBzY29wZWQgc3R5bGVzXG4gICAgICAgIC8vIGludG8gdGhlIGRvY3VtZW50IGlmIGBwcmVwYXJlVGVtcGxhdGVTdHlsZXNgIGhhcyBhbHJlYWR5IGJlZW4gY2FsbGVkXG4gICAgICAgIC8vIGZvciB0aGUgZ2l2ZW4gc2NvcGUgbmFtZS5cbiAgICAgICAgY29uc3QgdGVtcGxhdGUgPSBwYXJ0LnZhbHVlIGluc3RhbmNlb2YgVGVtcGxhdGVJbnN0YW5jZSA/XG4gICAgICAgICAgICBwYXJ0LnZhbHVlLnRlbXBsYXRlIDpcbiAgICAgICAgICAgIHVuZGVmaW5lZDtcbiAgICAgICAgcHJlcGFyZVRlbXBsYXRlU3R5bGVzKHNjb3BlTmFtZSwgcmVuZGVyQ29udGFpbmVyLCB0ZW1wbGF0ZSk7XG4gICAgICAgIHJlbW92ZU5vZGVzKGNvbnRhaW5lciwgY29udGFpbmVyLmZpcnN0Q2hpbGQpO1xuICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQocmVuZGVyQ29udGFpbmVyKTtcbiAgICAgICAgcGFydHMuc2V0KGNvbnRhaW5lciwgcGFydCk7XG4gICAgfVxuICAgIC8vIEFmdGVyIGVsZW1lbnRzIGhhdmUgaGl0IHRoZSBET00sIHVwZGF0ZSBzdHlsaW5nIGlmIHRoaXMgaXMgdGhlXG4gICAgLy8gaW5pdGlhbCByZW5kZXIgdG8gdGhpcyBjb250YWluZXIuXG4gICAgLy8gVGhpcyBpcyBuZWVkZWQgd2hlbmV2ZXIgZHluYW1pYyBjaGFuZ2VzIGFyZSBtYWRlIHNvIGl0IHdvdWxkIGJlXG4gICAgLy8gc2FmZXN0IHRvIGRvIGV2ZXJ5IHJlbmRlcjsgaG93ZXZlciwgdGhpcyB3b3VsZCByZWdyZXNzIHBlcmZvcm1hbmNlXG4gICAgLy8gc28gd2UgbGVhdmUgaXQgdXAgdG8gdGhlIHVzZXIgdG8gY2FsbCBgU2hhZHlDU1Muc3R5bGVFbGVtZW50YFxuICAgIC8vIGZvciBkeW5hbWljIGNoYW5nZXMuXG4gICAgaWYgKCFoYXNSZW5kZXJlZCAmJiBuZWVkc1Njb3BpbmcpIHtcbiAgICAgICAgd2luZG93LlNoYWR5Q1NTLnN0eWxlRWxlbWVudChjb250YWluZXIuaG9zdCk7XG4gICAgfVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNoYWR5LXJlbmRlci5qcy5tYXAiLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuICogQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbiAqIHN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuICovXG52YXIgX2E7XG4vKipcbiAqIFdoZW4gdXNpbmcgQ2xvc3VyZSBDb21waWxlciwgSlNDb21waWxlcl9yZW5hbWVQcm9wZXJ0eShwcm9wZXJ0eSwgb2JqZWN0KSBpc1xuICogcmVwbGFjZWQgYXQgY29tcGlsZSB0aW1lIGJ5IHRoZSBtdW5nZWQgbmFtZSBmb3Igb2JqZWN0W3Byb3BlcnR5XS4gV2UgY2Fubm90XG4gKiBhbGlhcyB0aGlzIGZ1bmN0aW9uLCBzbyB3ZSBoYXZlIHRvIHVzZSBhIHNtYWxsIHNoaW0gdGhhdCBoYXMgdGhlIHNhbWVcbiAqIGJlaGF2aW9yIHdoZW4gbm90IGNvbXBpbGluZy5cbiAqL1xud2luZG93LkpTQ29tcGlsZXJfcmVuYW1lUHJvcGVydHkgPVxuICAgIChwcm9wLCBfb2JqKSA9PiBwcm9wO1xuZXhwb3J0IGNvbnN0IGRlZmF1bHRDb252ZXJ0ZXIgPSB7XG4gICAgdG9BdHRyaWJ1dGUodmFsdWUsIHR5cGUpIHtcbiAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgICBjYXNlIEJvb2xlYW46XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlID8gJycgOiBudWxsO1xuICAgICAgICAgICAgY2FzZSBPYmplY3Q6XG4gICAgICAgICAgICBjYXNlIEFycmF5OlxuICAgICAgICAgICAgICAgIC8vIGlmIHRoZSB2YWx1ZSBpcyBgbnVsbGAgb3IgYHVuZGVmaW5lZGAgcGFzcyB0aGlzIHRocm91Z2hcbiAgICAgICAgICAgICAgICAvLyB0byBhbGxvdyByZW1vdmluZy9ubyBjaGFuZ2UgYmVoYXZpb3IuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlID09IG51bGwgPyB2YWx1ZSA6IEpTT04uc3RyaW5naWZ5KHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfSxcbiAgICBmcm9tQXR0cmlidXRlKHZhbHVlLCB0eXBlKSB7XG4gICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgICAgY2FzZSBCb29sZWFuOlxuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZSAhPT0gbnVsbDtcbiAgICAgICAgICAgIGNhc2UgTnVtYmVyOlxuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZSA9PT0gbnVsbCA/IG51bGwgOiBOdW1iZXIodmFsdWUpO1xuICAgICAgICAgICAgY2FzZSBPYmplY3Q6XG4gICAgICAgICAgICBjYXNlIEFycmF5OlxuICAgICAgICAgICAgICAgIHJldHVybiBKU09OLnBhcnNlKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxufTtcbi8qKlxuICogQ2hhbmdlIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyB0cnVlIGlmIGB2YWx1ZWAgaXMgZGlmZmVyZW50IGZyb20gYG9sZFZhbHVlYC5cbiAqIFRoaXMgbWV0aG9kIGlzIHVzZWQgYXMgdGhlIGRlZmF1bHQgZm9yIGEgcHJvcGVydHkncyBgaGFzQ2hhbmdlZGAgZnVuY3Rpb24uXG4gKi9cbmV4cG9ydCBjb25zdCBub3RFcXVhbCA9ICh2YWx1ZSwgb2xkKSA9PiB7XG4gICAgLy8gVGhpcyBlbnN1cmVzIChvbGQ9PU5hTiwgdmFsdWU9PU5hTikgYWx3YXlzIHJldHVybnMgZmFsc2VcbiAgICByZXR1cm4gb2xkICE9PSB2YWx1ZSAmJiAob2xkID09PSBvbGQgfHwgdmFsdWUgPT09IHZhbHVlKTtcbn07XG5jb25zdCBkZWZhdWx0UHJvcGVydHlEZWNsYXJhdGlvbiA9IHtcbiAgICBhdHRyaWJ1dGU6IHRydWUsXG4gICAgdHlwZTogU3RyaW5nLFxuICAgIGNvbnZlcnRlcjogZGVmYXVsdENvbnZlcnRlcixcbiAgICByZWZsZWN0OiBmYWxzZSxcbiAgICBoYXNDaGFuZ2VkOiBub3RFcXVhbFxufTtcbmNvbnN0IG1pY3JvdGFza1Byb21pc2UgPSBQcm9taXNlLnJlc29sdmUodHJ1ZSk7XG5jb25zdCBTVEFURV9IQVNfVVBEQVRFRCA9IDE7XG5jb25zdCBTVEFURV9VUERBVEVfUkVRVUVTVEVEID0gMSA8PCAyO1xuY29uc3QgU1RBVEVfSVNfUkVGTEVDVElOR19UT19BVFRSSUJVVEUgPSAxIDw8IDM7XG5jb25zdCBTVEFURV9JU19SRUZMRUNUSU5HX1RPX1BST1BFUlRZID0gMSA8PCA0O1xuY29uc3QgU1RBVEVfSEFTX0NPTk5FQ1RFRCA9IDEgPDwgNTtcbi8qKlxuICogVGhlIENsb3N1cmUgSlMgQ29tcGlsZXIgZG9lc24ndCBjdXJyZW50bHkgaGF2ZSBnb29kIHN1cHBvcnQgZm9yIHN0YXRpY1xuICogcHJvcGVydHkgc2VtYW50aWNzIHdoZXJlIFwidGhpc1wiIGlzIGR5bmFtaWMgKGUuZy5cbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9nb29nbGUvY2xvc3VyZS1jb21waWxlci9pc3N1ZXMvMzE3NyBhbmQgb3RoZXJzKSBzbyB3ZSB1c2VcbiAqIHRoaXMgaGFjayB0byBieXBhc3MgYW55IHJld3JpdGluZyBieSB0aGUgY29tcGlsZXIuXG4gKi9cbmNvbnN0IGZpbmFsaXplZCA9ICdmaW5hbGl6ZWQnO1xuLyoqXG4gKiBCYXNlIGVsZW1lbnQgY2xhc3Mgd2hpY2ggbWFuYWdlcyBlbGVtZW50IHByb3BlcnRpZXMgYW5kIGF0dHJpYnV0ZXMuIFdoZW5cbiAqIHByb3BlcnRpZXMgY2hhbmdlLCB0aGUgYHVwZGF0ZWAgbWV0aG9kIGlzIGFzeW5jaHJvbm91c2x5IGNhbGxlZC4gVGhpcyBtZXRob2RcbiAqIHNob3VsZCBiZSBzdXBwbGllZCBieSBzdWJjbGFzc2VycyB0byByZW5kZXIgdXBkYXRlcyBhcyBkZXNpcmVkLlxuICovXG5leHBvcnQgY2xhc3MgVXBkYXRpbmdFbGVtZW50IGV4dGVuZHMgSFRNTEVsZW1lbnQge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLl91cGRhdGVTdGF0ZSA9IDA7XG4gICAgICAgIHRoaXMuX2luc3RhbmNlUHJvcGVydGllcyA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5fdXBkYXRlUHJvbWlzZSA9IG1pY3JvdGFza1Byb21pc2U7XG4gICAgICAgIHRoaXMuX2hhc0Nvbm5lY3RlZFJlc29sdmVyID0gdW5kZWZpbmVkO1xuICAgICAgICAvKipcbiAgICAgICAgICogTWFwIHdpdGgga2V5cyBmb3IgYW55IHByb3BlcnRpZXMgdGhhdCBoYXZlIGNoYW5nZWQgc2luY2UgdGhlIGxhc3RcbiAgICAgICAgICogdXBkYXRlIGN5Y2xlIHdpdGggcHJldmlvdXMgdmFsdWVzLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fY2hhbmdlZFByb3BlcnRpZXMgPSBuZXcgTWFwKCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNYXAgd2l0aCBrZXlzIG9mIHByb3BlcnRpZXMgdGhhdCBzaG91bGQgYmUgcmVmbGVjdGVkIHdoZW4gdXBkYXRlZC5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3JlZmxlY3RpbmdQcm9wZXJ0aWVzID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmluaXRpYWxpemUoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIGxpc3Qgb2YgYXR0cmlidXRlcyBjb3JyZXNwb25kaW5nIHRvIHRoZSByZWdpc3RlcmVkIHByb3BlcnRpZXMuXG4gICAgICogQG5vY29sbGFwc2VcbiAgICAgKi9cbiAgICBzdGF0aWMgZ2V0IG9ic2VydmVkQXR0cmlidXRlcygpIHtcbiAgICAgICAgLy8gbm90ZTogcGlnZ3kgYmFja2luZyBvbiB0aGlzIHRvIGVuc3VyZSB3ZSdyZSBmaW5hbGl6ZWQuXG4gICAgICAgIHRoaXMuZmluYWxpemUoKTtcbiAgICAgICAgY29uc3QgYXR0cmlidXRlcyA9IFtdO1xuICAgICAgICAvLyBVc2UgZm9yRWFjaCBzbyB0aGlzIHdvcmtzIGV2ZW4gaWYgZm9yL29mIGxvb3BzIGFyZSBjb21waWxlZCB0byBmb3IgbG9vcHNcbiAgICAgICAgLy8gZXhwZWN0aW5nIGFycmF5c1xuICAgICAgICB0aGlzLl9jbGFzc1Byb3BlcnRpZXMuZm9yRWFjaCgodiwgcCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgYXR0ciA9IHRoaXMuX2F0dHJpYnV0ZU5hbWVGb3JQcm9wZXJ0eShwLCB2KTtcbiAgICAgICAgICAgIGlmIChhdHRyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9hdHRyaWJ1dGVUb1Byb3BlcnR5TWFwLnNldChhdHRyLCBwKTtcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzLnB1c2goYXR0cik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gYXR0cmlidXRlcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogRW5zdXJlcyB0aGUgcHJpdmF0ZSBgX2NsYXNzUHJvcGVydGllc2AgcHJvcGVydHkgbWV0YWRhdGEgaXMgY3JlYXRlZC5cbiAgICAgKiBJbiBhZGRpdGlvbiB0byBgZmluYWxpemVgIHRoaXMgaXMgYWxzbyBjYWxsZWQgaW4gYGNyZWF0ZVByb3BlcnR5YCB0b1xuICAgICAqIGVuc3VyZSB0aGUgYEBwcm9wZXJ0eWAgZGVjb3JhdG9yIGNhbiBhZGQgcHJvcGVydHkgbWV0YWRhdGEuXG4gICAgICovXG4gICAgLyoqIEBub2NvbGxhcHNlICovXG4gICAgc3RhdGljIF9lbnN1cmVDbGFzc1Byb3BlcnRpZXMoKSB7XG4gICAgICAgIC8vIGVuc3VyZSBwcml2YXRlIHN0b3JhZ2UgZm9yIHByb3BlcnR5IGRlY2xhcmF0aW9ucy5cbiAgICAgICAgaWYgKCF0aGlzLmhhc093blByb3BlcnR5KEpTQ29tcGlsZXJfcmVuYW1lUHJvcGVydHkoJ19jbGFzc1Byb3BlcnRpZXMnLCB0aGlzKSkpIHtcbiAgICAgICAgICAgIHRoaXMuX2NsYXNzUHJvcGVydGllcyA9IG5ldyBNYXAoKTtcbiAgICAgICAgICAgIC8vIE5PVEU6IFdvcmthcm91bmQgSUUxMSBub3Qgc3VwcG9ydGluZyBNYXAgY29uc3RydWN0b3IgYXJndW1lbnQuXG4gICAgICAgICAgICBjb25zdCBzdXBlclByb3BlcnRpZXMgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YodGhpcykuX2NsYXNzUHJvcGVydGllcztcbiAgICAgICAgICAgIGlmIChzdXBlclByb3BlcnRpZXMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHN1cGVyUHJvcGVydGllcy5mb3JFYWNoKCh2LCBrKSA9PiB0aGlzLl9jbGFzc1Byb3BlcnRpZXMuc2V0KGssIHYpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgcHJvcGVydHkgYWNjZXNzb3Igb24gdGhlIGVsZW1lbnQgcHJvdG90eXBlIGlmIG9uZSBkb2VzIG5vdCBleGlzdC5cbiAgICAgKiBUaGUgcHJvcGVydHkgc2V0dGVyIGNhbGxzIHRoZSBwcm9wZXJ0eSdzIGBoYXNDaGFuZ2VkYCBwcm9wZXJ0eSBvcHRpb25cbiAgICAgKiBvciB1c2VzIGEgc3RyaWN0IGlkZW50aXR5IGNoZWNrIHRvIGRldGVybWluZSB3aGV0aGVyIG9yIG5vdCB0byByZXF1ZXN0XG4gICAgICogYW4gdXBkYXRlLlxuICAgICAqIEBub2NvbGxhcHNlXG4gICAgICovXG4gICAgc3RhdGljIGNyZWF0ZVByb3BlcnR5KG5hbWUsIG9wdGlvbnMgPSBkZWZhdWx0UHJvcGVydHlEZWNsYXJhdGlvbikge1xuICAgICAgICAvLyBOb3RlLCBzaW5jZSB0aGlzIGNhbiBiZSBjYWxsZWQgYnkgdGhlIGBAcHJvcGVydHlgIGRlY29yYXRvciB3aGljaFxuICAgICAgICAvLyBpcyBjYWxsZWQgYmVmb3JlIGBmaW5hbGl6ZWAsIHdlIGVuc3VyZSBzdG9yYWdlIGV4aXN0cyBmb3IgcHJvcGVydHlcbiAgICAgICAgLy8gbWV0YWRhdGEuXG4gICAgICAgIHRoaXMuX2Vuc3VyZUNsYXNzUHJvcGVydGllcygpO1xuICAgICAgICB0aGlzLl9jbGFzc1Byb3BlcnRpZXMuc2V0KG5hbWUsIG9wdGlvbnMpO1xuICAgICAgICAvLyBEbyBub3QgZ2VuZXJhdGUgYW4gYWNjZXNzb3IgaWYgdGhlIHByb3RvdHlwZSBhbHJlYWR5IGhhcyBvbmUsIHNpbmNlXG4gICAgICAgIC8vIGl0IHdvdWxkIGJlIGxvc3Qgb3RoZXJ3aXNlIGFuZCB0aGF0IHdvdWxkIG5ldmVyIGJlIHRoZSB1c2VyJ3MgaW50ZW50aW9uO1xuICAgICAgICAvLyBJbnN0ZWFkLCB3ZSBleHBlY3QgdXNlcnMgdG8gY2FsbCBgcmVxdWVzdFVwZGF0ZWAgdGhlbXNlbHZlcyBmcm9tXG4gICAgICAgIC8vIHVzZXItZGVmaW5lZCBhY2Nlc3NvcnMuIE5vdGUgdGhhdCBpZiB0aGUgc3VwZXIgaGFzIGFuIGFjY2Vzc29yIHdlIHdpbGxcbiAgICAgICAgLy8gc3RpbGwgb3ZlcndyaXRlIGl0XG4gICAgICAgIGlmIChvcHRpb25zLm5vQWNjZXNzb3IgfHwgdGhpcy5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkobmFtZSkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBrZXkgPSB0eXBlb2YgbmFtZSA9PT0gJ3N5bWJvbCcgPyBTeW1ib2woKSA6IGBfXyR7bmFtZX1gO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcy5wcm90b3R5cGUsIG5hbWUsIHtcbiAgICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1hbnkgbm8gc3ltYm9sIGluIGluZGV4XG4gICAgICAgICAgICBnZXQoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXNba2V5XTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXQodmFsdWUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBvbGRWYWx1ZSA9IHRoaXNbbmFtZV07XG4gICAgICAgICAgICAgICAgdGhpc1trZXldID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgdGhpcy5fcmVxdWVzdFVwZGF0ZShuYW1lLCBvbGRWYWx1ZSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBwcm9wZXJ0eSBhY2Nlc3NvcnMgZm9yIHJlZ2lzdGVyZWQgcHJvcGVydGllcyBhbmQgZW5zdXJlc1xuICAgICAqIGFueSBzdXBlcmNsYXNzZXMgYXJlIGFsc28gZmluYWxpemVkLlxuICAgICAqIEBub2NvbGxhcHNlXG4gICAgICovXG4gICAgc3RhdGljIGZpbmFsaXplKCkge1xuICAgICAgICAvLyBmaW5hbGl6ZSBhbnkgc3VwZXJjbGFzc2VzXG4gICAgICAgIGNvbnN0IHN1cGVyQ3RvciA9IE9iamVjdC5nZXRQcm90b3R5cGVPZih0aGlzKTtcbiAgICAgICAgaWYgKCFzdXBlckN0b3IuaGFzT3duUHJvcGVydHkoZmluYWxpemVkKSkge1xuICAgICAgICAgICAgc3VwZXJDdG9yLmZpbmFsaXplKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpc1tmaW5hbGl6ZWRdID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fZW5zdXJlQ2xhc3NQcm9wZXJ0aWVzKCk7XG4gICAgICAgIC8vIGluaXRpYWxpemUgTWFwIHBvcHVsYXRlZCBpbiBvYnNlcnZlZEF0dHJpYnV0ZXNcbiAgICAgICAgdGhpcy5fYXR0cmlidXRlVG9Qcm9wZXJ0eU1hcCA9IG5ldyBNYXAoKTtcbiAgICAgICAgLy8gbWFrZSBhbnkgcHJvcGVydGllc1xuICAgICAgICAvLyBOb3RlLCBvbmx5IHByb2Nlc3MgXCJvd25cIiBwcm9wZXJ0aWVzIHNpbmNlIHRoaXMgZWxlbWVudCB3aWxsIGluaGVyaXRcbiAgICAgICAgLy8gYW55IHByb3BlcnRpZXMgZGVmaW5lZCBvbiB0aGUgc3VwZXJDbGFzcywgYW5kIGZpbmFsaXphdGlvbiBlbnN1cmVzXG4gICAgICAgIC8vIHRoZSBlbnRpcmUgcHJvdG90eXBlIGNoYWluIGlzIGZpbmFsaXplZC5cbiAgICAgICAgaWYgKHRoaXMuaGFzT3duUHJvcGVydHkoSlNDb21waWxlcl9yZW5hbWVQcm9wZXJ0eSgncHJvcGVydGllcycsIHRoaXMpKSkge1xuICAgICAgICAgICAgY29uc3QgcHJvcHMgPSB0aGlzLnByb3BlcnRpZXM7XG4gICAgICAgICAgICAvLyBzdXBwb3J0IHN5bWJvbHMgaW4gcHJvcGVydGllcyAoSUUxMSBkb2VzIG5vdCBzdXBwb3J0IHRoaXMpXG4gICAgICAgICAgICBjb25zdCBwcm9wS2V5cyA9IFtcbiAgICAgICAgICAgICAgICAuLi5PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhwcm9wcyksXG4gICAgICAgICAgICAgICAgLi4uKHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSAnZnVuY3Rpb24nKSA/XG4gICAgICAgICAgICAgICAgICAgIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocHJvcHMpIDpcbiAgICAgICAgICAgICAgICAgICAgW11cbiAgICAgICAgICAgIF07XG4gICAgICAgICAgICAvLyBUaGlzIGZvci9vZiBpcyBvayBiZWNhdXNlIHByb3BLZXlzIGlzIGFuIGFycmF5XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHAgb2YgcHJvcEtleXMpIHtcbiAgICAgICAgICAgICAgICAvLyBub3RlLCB1c2Ugb2YgYGFueWAgaXMgZHVlIHRvIFR5cGVTcmlwdCBsYWNrIG9mIHN1cHBvcnQgZm9yIHN5bWJvbCBpblxuICAgICAgICAgICAgICAgIC8vIGluZGV4IHR5cGVzXG4gICAgICAgICAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWFueSBubyBzeW1ib2wgaW4gaW5kZXhcbiAgICAgICAgICAgICAgICB0aGlzLmNyZWF0ZVByb3BlcnR5KHAsIHByb3BzW3BdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBwcm9wZXJ0eSBuYW1lIGZvciB0aGUgZ2l2ZW4gYXR0cmlidXRlIGBuYW1lYC5cbiAgICAgKiBAbm9jb2xsYXBzZVxuICAgICAqL1xuICAgIHN0YXRpYyBfYXR0cmlidXRlTmFtZUZvclByb3BlcnR5KG5hbWUsIG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgYXR0cmlidXRlID0gb3B0aW9ucy5hdHRyaWJ1dGU7XG4gICAgICAgIHJldHVybiBhdHRyaWJ1dGUgPT09IGZhbHNlID9cbiAgICAgICAgICAgIHVuZGVmaW5lZCA6XG4gICAgICAgICAgICAodHlwZW9mIGF0dHJpYnV0ZSA9PT0gJ3N0cmluZycgP1xuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZSA6XG4gICAgICAgICAgICAgICAgKHR5cGVvZiBuYW1lID09PSAnc3RyaW5nJyA/IG5hbWUudG9Mb3dlckNhc2UoKSA6IHVuZGVmaW5lZCkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgYSBwcm9wZXJ0eSBzaG91bGQgcmVxdWVzdCBhbiB1cGRhdGUuXG4gICAgICogQ2FsbGVkIHdoZW4gYSBwcm9wZXJ0eSB2YWx1ZSBpcyBzZXQgYW5kIHVzZXMgdGhlIGBoYXNDaGFuZ2VkYFxuICAgICAqIG9wdGlvbiBmb3IgdGhlIHByb3BlcnR5IGlmIHByZXNlbnQgb3IgYSBzdHJpY3QgaWRlbnRpdHkgY2hlY2suXG4gICAgICogQG5vY29sbGFwc2VcbiAgICAgKi9cbiAgICBzdGF0aWMgX3ZhbHVlSGFzQ2hhbmdlZCh2YWx1ZSwgb2xkLCBoYXNDaGFuZ2VkID0gbm90RXF1YWwpIHtcbiAgICAgICAgcmV0dXJuIGhhc0NoYW5nZWQodmFsdWUsIG9sZCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHByb3BlcnR5IHZhbHVlIGZvciB0aGUgZ2l2ZW4gYXR0cmlidXRlIHZhbHVlLlxuICAgICAqIENhbGxlZCB2aWEgdGhlIGBhdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2tgIGFuZCB1c2VzIHRoZSBwcm9wZXJ0eSdzXG4gICAgICogYGNvbnZlcnRlcmAgb3IgYGNvbnZlcnRlci5mcm9tQXR0cmlidXRlYCBwcm9wZXJ0eSBvcHRpb24uXG4gICAgICogQG5vY29sbGFwc2VcbiAgICAgKi9cbiAgICBzdGF0aWMgX3Byb3BlcnR5VmFsdWVGcm9tQXR0cmlidXRlKHZhbHVlLCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHR5cGUgPSBvcHRpb25zLnR5cGU7XG4gICAgICAgIGNvbnN0IGNvbnZlcnRlciA9IG9wdGlvbnMuY29udmVydGVyIHx8IGRlZmF1bHRDb252ZXJ0ZXI7XG4gICAgICAgIGNvbnN0IGZyb21BdHRyaWJ1dGUgPSAodHlwZW9mIGNvbnZlcnRlciA9PT0gJ2Z1bmN0aW9uJyA/IGNvbnZlcnRlciA6IGNvbnZlcnRlci5mcm9tQXR0cmlidXRlKTtcbiAgICAgICAgcmV0dXJuIGZyb21BdHRyaWJ1dGUgPyBmcm9tQXR0cmlidXRlKHZhbHVlLCB0eXBlKSA6IHZhbHVlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBhdHRyaWJ1dGUgdmFsdWUgZm9yIHRoZSBnaXZlbiBwcm9wZXJ0eSB2YWx1ZS4gSWYgdGhpc1xuICAgICAqIHJldHVybnMgdW5kZWZpbmVkLCB0aGUgcHJvcGVydHkgd2lsbCAqbm90KiBiZSByZWZsZWN0ZWQgdG8gYW4gYXR0cmlidXRlLlxuICAgICAqIElmIHRoaXMgcmV0dXJucyBudWxsLCB0aGUgYXR0cmlidXRlIHdpbGwgYmUgcmVtb3ZlZCwgb3RoZXJ3aXNlIHRoZVxuICAgICAqIGF0dHJpYnV0ZSB3aWxsIGJlIHNldCB0byB0aGUgdmFsdWUuXG4gICAgICogVGhpcyB1c2VzIHRoZSBwcm9wZXJ0eSdzIGByZWZsZWN0YCBhbmQgYHR5cGUudG9BdHRyaWJ1dGVgIHByb3BlcnR5IG9wdGlvbnMuXG4gICAgICogQG5vY29sbGFwc2VcbiAgICAgKi9cbiAgICBzdGF0aWMgX3Byb3BlcnR5VmFsdWVUb0F0dHJpYnV0ZSh2YWx1ZSwgb3B0aW9ucykge1xuICAgICAgICBpZiAob3B0aW9ucy5yZWZsZWN0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB0eXBlID0gb3B0aW9ucy50eXBlO1xuICAgICAgICBjb25zdCBjb252ZXJ0ZXIgPSBvcHRpb25zLmNvbnZlcnRlcjtcbiAgICAgICAgY29uc3QgdG9BdHRyaWJ1dGUgPSBjb252ZXJ0ZXIgJiYgY29udmVydGVyLnRvQXR0cmlidXRlIHx8XG4gICAgICAgICAgICBkZWZhdWx0Q29udmVydGVyLnRvQXR0cmlidXRlO1xuICAgICAgICByZXR1cm4gdG9BdHRyaWJ1dGUodmFsdWUsIHR5cGUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBQZXJmb3JtcyBlbGVtZW50IGluaXRpYWxpemF0aW9uLiBCeSBkZWZhdWx0IGNhcHR1cmVzIGFueSBwcmUtc2V0IHZhbHVlcyBmb3JcbiAgICAgKiByZWdpc3RlcmVkIHByb3BlcnRpZXMuXG4gICAgICovXG4gICAgaW5pdGlhbGl6ZSgpIHtcbiAgICAgICAgdGhpcy5fc2F2ZUluc3RhbmNlUHJvcGVydGllcygpO1xuICAgICAgICAvLyBlbnN1cmVzIGZpcnN0IHVwZGF0ZSB3aWxsIGJlIGNhdWdodCBieSBhbiBlYXJseSBhY2Nlc3Mgb2ZcbiAgICAgICAgLy8gYHVwZGF0ZUNvbXBsZXRlYFxuICAgICAgICB0aGlzLl9yZXF1ZXN0VXBkYXRlKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEZpeGVzIGFueSBwcm9wZXJ0aWVzIHNldCBvbiB0aGUgaW5zdGFuY2UgYmVmb3JlIHVwZ3JhZGUgdGltZS5cbiAgICAgKiBPdGhlcndpc2UgdGhlc2Ugd291bGQgc2hhZG93IHRoZSBhY2Nlc3NvciBhbmQgYnJlYWsgdGhlc2UgcHJvcGVydGllcy5cbiAgICAgKiBUaGUgcHJvcGVydGllcyBhcmUgc3RvcmVkIGluIGEgTWFwIHdoaWNoIGlzIHBsYXllZCBiYWNrIGFmdGVyIHRoZVxuICAgICAqIGNvbnN0cnVjdG9yIHJ1bnMuIE5vdGUsIG9uIHZlcnkgb2xkIHZlcnNpb25zIG9mIFNhZmFyaSAoPD05KSBvciBDaHJvbWVcbiAgICAgKiAoPD00MSksIHByb3BlcnRpZXMgY3JlYXRlZCBmb3IgbmF0aXZlIHBsYXRmb3JtIHByb3BlcnRpZXMgbGlrZSAoYGlkYCBvclxuICAgICAqIGBuYW1lYCkgbWF5IG5vdCBoYXZlIGRlZmF1bHQgdmFsdWVzIHNldCBpbiB0aGUgZWxlbWVudCBjb25zdHJ1Y3Rvci4gT25cbiAgICAgKiB0aGVzZSBicm93c2VycyBuYXRpdmUgcHJvcGVydGllcyBhcHBlYXIgb24gaW5zdGFuY2VzIGFuZCB0aGVyZWZvcmUgdGhlaXJcbiAgICAgKiBkZWZhdWx0IHZhbHVlIHdpbGwgb3ZlcndyaXRlIGFueSBlbGVtZW50IGRlZmF1bHQgKGUuZy4gaWYgdGhlIGVsZW1lbnQgc2V0c1xuICAgICAqIHRoaXMuaWQgPSAnaWQnIGluIHRoZSBjb25zdHJ1Y3RvciwgdGhlICdpZCcgd2lsbCBiZWNvbWUgJycgc2luY2UgdGhpcyBpc1xuICAgICAqIHRoZSBuYXRpdmUgcGxhdGZvcm0gZGVmYXVsdCkuXG4gICAgICovXG4gICAgX3NhdmVJbnN0YW5jZVByb3BlcnRpZXMoKSB7XG4gICAgICAgIC8vIFVzZSBmb3JFYWNoIHNvIHRoaXMgd29ya3MgZXZlbiBpZiBmb3Ivb2YgbG9vcHMgYXJlIGNvbXBpbGVkIHRvIGZvciBsb29wc1xuICAgICAgICAvLyBleHBlY3RpbmcgYXJyYXlzXG4gICAgICAgIHRoaXMuY29uc3RydWN0b3JcbiAgICAgICAgICAgIC5fY2xhc3NQcm9wZXJ0aWVzLmZvckVhY2goKF92LCBwKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5oYXNPd25Qcm9wZXJ0eShwKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gdGhpc1twXTtcbiAgICAgICAgICAgICAgICBkZWxldGUgdGhpc1twXTtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX2luc3RhbmNlUHJvcGVydGllcykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9pbnN0YW5jZVByb3BlcnRpZXMgPSBuZXcgTWFwKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuX2luc3RhbmNlUHJvcGVydGllcy5zZXQocCwgdmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQXBwbGllcyBwcmV2aW91c2x5IHNhdmVkIGluc3RhbmNlIHByb3BlcnRpZXMuXG4gICAgICovXG4gICAgX2FwcGx5SW5zdGFuY2VQcm9wZXJ0aWVzKCkge1xuICAgICAgICAvLyBVc2UgZm9yRWFjaCBzbyB0aGlzIHdvcmtzIGV2ZW4gaWYgZm9yL29mIGxvb3BzIGFyZSBjb21waWxlZCB0byBmb3IgbG9vcHNcbiAgICAgICAgLy8gZXhwZWN0aW5nIGFycmF5c1xuICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tYW55XG4gICAgICAgIHRoaXMuX2luc3RhbmNlUHJvcGVydGllcy5mb3JFYWNoKCh2LCBwKSA9PiB0aGlzW3BdID0gdik7XG4gICAgICAgIHRoaXMuX2luc3RhbmNlUHJvcGVydGllcyA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgICAgIHRoaXMuX3VwZGF0ZVN0YXRlID0gdGhpcy5fdXBkYXRlU3RhdGUgfCBTVEFURV9IQVNfQ09OTkVDVEVEO1xuICAgICAgICAvLyBFbnN1cmUgZmlyc3QgY29ubmVjdGlvbiBjb21wbGV0ZXMgYW4gdXBkYXRlLiBVcGRhdGVzIGNhbm5vdCBjb21wbGV0ZVxuICAgICAgICAvLyBiZWZvcmUgY29ubmVjdGlvbiBhbmQgaWYgb25lIGlzIHBlbmRpbmcgY29ubmVjdGlvbiB0aGVcbiAgICAgICAgLy8gYF9oYXNDb25uZWN0aW9uUmVzb2x2ZXJgIHdpbGwgZXhpc3QuIElmIHNvLCByZXNvbHZlIGl0IHRvIGNvbXBsZXRlIHRoZVxuICAgICAgICAvLyB1cGRhdGUsIG90aGVyd2lzZSByZXF1ZXN0VXBkYXRlLlxuICAgICAgICBpZiAodGhpcy5faGFzQ29ubmVjdGVkUmVzb2x2ZXIpIHtcbiAgICAgICAgICAgIHRoaXMuX2hhc0Nvbm5lY3RlZFJlc29sdmVyKCk7XG4gICAgICAgICAgICB0aGlzLl9oYXNDb25uZWN0ZWRSZXNvbHZlciA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBBbGxvd3MgZm9yIGBzdXBlci5kaXNjb25uZWN0ZWRDYWxsYmFjaygpYCBpbiBleHRlbnNpb25zIHdoaWxlXG4gICAgICogcmVzZXJ2aW5nIHRoZSBwb3NzaWJpbGl0eSBvZiBtYWtpbmcgbm9uLWJyZWFraW5nIGZlYXR1cmUgYWRkaXRpb25zXG4gICAgICogd2hlbiBkaXNjb25uZWN0aW5nIGF0IHNvbWUgcG9pbnQgaW4gdGhlIGZ1dHVyZS5cbiAgICAgKi9cbiAgICBkaXNjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU3luY2hyb25pemVzIHByb3BlcnR5IHZhbHVlcyB3aGVuIGF0dHJpYnV0ZXMgY2hhbmdlLlxuICAgICAqL1xuICAgIGF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayhuYW1lLCBvbGQsIHZhbHVlKSB7XG4gICAgICAgIGlmIChvbGQgIT09IHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLl9hdHRyaWJ1dGVUb1Byb3BlcnR5KG5hbWUsIHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfcHJvcGVydHlUb0F0dHJpYnV0ZShuYW1lLCB2YWx1ZSwgb3B0aW9ucyA9IGRlZmF1bHRQcm9wZXJ0eURlY2xhcmF0aW9uKSB7XG4gICAgICAgIGNvbnN0IGN0b3IgPSB0aGlzLmNvbnN0cnVjdG9yO1xuICAgICAgICBjb25zdCBhdHRyID0gY3Rvci5fYXR0cmlidXRlTmFtZUZvclByb3BlcnR5KG5hbWUsIG9wdGlvbnMpO1xuICAgICAgICBpZiAoYXR0ciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjb25zdCBhdHRyVmFsdWUgPSBjdG9yLl9wcm9wZXJ0eVZhbHVlVG9BdHRyaWJ1dGUodmFsdWUsIG9wdGlvbnMpO1xuICAgICAgICAgICAgLy8gYW4gdW5kZWZpbmVkIHZhbHVlIGRvZXMgbm90IGNoYW5nZSB0aGUgYXR0cmlidXRlLlxuICAgICAgICAgICAgaWYgKGF0dHJWYWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gVHJhY2sgaWYgdGhlIHByb3BlcnR5IGlzIGJlaW5nIHJlZmxlY3RlZCB0byBhdm9pZFxuICAgICAgICAgICAgLy8gc2V0dGluZyB0aGUgcHJvcGVydHkgYWdhaW4gdmlhIGBhdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2tgLiBOb3RlOlxuICAgICAgICAgICAgLy8gMS4gdGhpcyB0YWtlcyBhZHZhbnRhZ2Ugb2YgdGhlIGZhY3QgdGhhdCB0aGUgY2FsbGJhY2sgaXMgc3luY2hyb25vdXMuXG4gICAgICAgICAgICAvLyAyLiB3aWxsIGJlaGF2ZSBpbmNvcnJlY3RseSBpZiBtdWx0aXBsZSBhdHRyaWJ1dGVzIGFyZSBpbiB0aGUgcmVhY3Rpb25cbiAgICAgICAgICAgIC8vIHN0YWNrIGF0IHRpbWUgb2YgY2FsbGluZy4gSG93ZXZlciwgc2luY2Ugd2UgcHJvY2VzcyBhdHRyaWJ1dGVzXG4gICAgICAgICAgICAvLyBpbiBgdXBkYXRlYCB0aGlzIHNob3VsZCBub3QgYmUgcG9zc2libGUgKG9yIGFuIGV4dHJlbWUgY29ybmVyIGNhc2VcbiAgICAgICAgICAgIC8vIHRoYXQgd2UnZCBsaWtlIHRvIGRpc2NvdmVyKS5cbiAgICAgICAgICAgIC8vIG1hcmsgc3RhdGUgcmVmbGVjdGluZ1xuICAgICAgICAgICAgdGhpcy5fdXBkYXRlU3RhdGUgPSB0aGlzLl91cGRhdGVTdGF0ZSB8IFNUQVRFX0lTX1JFRkxFQ1RJTkdfVE9fQVRUUklCVVRFO1xuICAgICAgICAgICAgaWYgKGF0dHJWYWx1ZSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVBdHRyaWJ1dGUoYXR0cik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldEF0dHJpYnV0ZShhdHRyLCBhdHRyVmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gbWFyayBzdGF0ZSBub3QgcmVmbGVjdGluZ1xuICAgICAgICAgICAgdGhpcy5fdXBkYXRlU3RhdGUgPSB0aGlzLl91cGRhdGVTdGF0ZSAmIH5TVEFURV9JU19SRUZMRUNUSU5HX1RPX0FUVFJJQlVURTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfYXR0cmlidXRlVG9Qcm9wZXJ0eShuYW1lLCB2YWx1ZSkge1xuICAgICAgICAvLyBVc2UgdHJhY2tpbmcgaW5mbyB0byBhdm9pZCBkZXNlcmlhbGl6aW5nIGF0dHJpYnV0ZSB2YWx1ZSBpZiBpdCB3YXNcbiAgICAgICAgLy8ganVzdCBzZXQgZnJvbSBhIHByb3BlcnR5IHNldHRlci5cbiAgICAgICAgaWYgKHRoaXMuX3VwZGF0ZVN0YXRlICYgU1RBVEVfSVNfUkVGTEVDVElOR19UT19BVFRSSUJVVEUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjdG9yID0gdGhpcy5jb25zdHJ1Y3RvcjtcbiAgICAgICAgY29uc3QgcHJvcE5hbWUgPSBjdG9yLl9hdHRyaWJ1dGVUb1Byb3BlcnR5TWFwLmdldChuYW1lKTtcbiAgICAgICAgaWYgKHByb3BOYW1lICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IG9wdGlvbnMgPSBjdG9yLl9jbGFzc1Byb3BlcnRpZXMuZ2V0KHByb3BOYW1lKSB8fCBkZWZhdWx0UHJvcGVydHlEZWNsYXJhdGlvbjtcbiAgICAgICAgICAgIC8vIG1hcmsgc3RhdGUgcmVmbGVjdGluZ1xuICAgICAgICAgICAgdGhpcy5fdXBkYXRlU3RhdGUgPSB0aGlzLl91cGRhdGVTdGF0ZSB8IFNUQVRFX0lTX1JFRkxFQ1RJTkdfVE9fUFJPUEVSVFk7XG4gICAgICAgICAgICB0aGlzW3Byb3BOYW1lXSA9XG4gICAgICAgICAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWFueVxuICAgICAgICAgICAgICAgIGN0b3IuX3Byb3BlcnR5VmFsdWVGcm9tQXR0cmlidXRlKHZhbHVlLCBvcHRpb25zKTtcbiAgICAgICAgICAgIC8vIG1hcmsgc3RhdGUgbm90IHJlZmxlY3RpbmdcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZVN0YXRlID0gdGhpcy5fdXBkYXRlU3RhdGUgJiB+U1RBVEVfSVNfUkVGTEVDVElOR19UT19QUk9QRVJUWTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGlzIHByaXZhdGUgdmVyc2lvbiBvZiBgcmVxdWVzdFVwZGF0ZWAgZG9lcyBub3QgYWNjZXNzIG9yIHJldHVybiB0aGVcbiAgICAgKiBgdXBkYXRlQ29tcGxldGVgIHByb21pc2UuIFRoaXMgcHJvbWlzZSBjYW4gYmUgb3ZlcnJpZGRlbiBhbmQgaXMgdGhlcmVmb3JlXG4gICAgICogbm90IGZyZWUgdG8gYWNjZXNzLlxuICAgICAqL1xuICAgIF9yZXF1ZXN0VXBkYXRlKG5hbWUsIG9sZFZhbHVlKSB7XG4gICAgICAgIGxldCBzaG91bGRSZXF1ZXN0VXBkYXRlID0gdHJ1ZTtcbiAgICAgICAgLy8gSWYgd2UgaGF2ZSBhIHByb3BlcnR5IGtleSwgcGVyZm9ybSBwcm9wZXJ0eSB1cGRhdGUgc3RlcHMuXG4gICAgICAgIGlmIChuYW1lICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IGN0b3IgPSB0aGlzLmNvbnN0cnVjdG9yO1xuICAgICAgICAgICAgY29uc3Qgb3B0aW9ucyA9IGN0b3IuX2NsYXNzUHJvcGVydGllcy5nZXQobmFtZSkgfHwgZGVmYXVsdFByb3BlcnR5RGVjbGFyYXRpb247XG4gICAgICAgICAgICBpZiAoY3Rvci5fdmFsdWVIYXNDaGFuZ2VkKHRoaXNbbmFtZV0sIG9sZFZhbHVlLCBvcHRpb25zLmhhc0NoYW5nZWQpKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLl9jaGFuZ2VkUHJvcGVydGllcy5oYXMobmFtZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2hhbmdlZFByb3BlcnRpZXMuc2V0KG5hbWUsIG9sZFZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gQWRkIHRvIHJlZmxlY3RpbmcgcHJvcGVydGllcyBzZXQuXG4gICAgICAgICAgICAgICAgLy8gTm90ZSwgaXQncyBpbXBvcnRhbnQgdGhhdCBldmVyeSBjaGFuZ2UgaGFzIGEgY2hhbmNlIHRvIGFkZCB0aGVcbiAgICAgICAgICAgICAgICAvLyBwcm9wZXJ0eSB0byBgX3JlZmxlY3RpbmdQcm9wZXJ0aWVzYC4gVGhpcyBlbnN1cmVzIHNldHRpbmdcbiAgICAgICAgICAgICAgICAvLyBhdHRyaWJ1dGUgKyBwcm9wZXJ0eSByZWZsZWN0cyBjb3JyZWN0bHkuXG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMucmVmbGVjdCA9PT0gdHJ1ZSAmJlxuICAgICAgICAgICAgICAgICAgICAhKHRoaXMuX3VwZGF0ZVN0YXRlICYgU1RBVEVfSVNfUkVGTEVDVElOR19UT19QUk9QRVJUWSkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX3JlZmxlY3RpbmdQcm9wZXJ0aWVzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3JlZmxlY3RpbmdQcm9wZXJ0aWVzID0gbmV3IE1hcCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3JlZmxlY3RpbmdQcm9wZXJ0aWVzLnNldChuYW1lLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBBYm9ydCB0aGUgcmVxdWVzdCBpZiB0aGUgcHJvcGVydHkgc2hvdWxkIG5vdCBiZSBjb25zaWRlcmVkIGNoYW5nZWQuXG4gICAgICAgICAgICAgICAgc2hvdWxkUmVxdWVzdFVwZGF0ZSA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5faGFzUmVxdWVzdGVkVXBkYXRlICYmIHNob3VsZFJlcXVlc3RVcGRhdGUpIHtcbiAgICAgICAgICAgIHRoaXMuX2VucXVldWVVcGRhdGUoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXF1ZXN0cyBhbiB1cGRhdGUgd2hpY2ggaXMgcHJvY2Vzc2VkIGFzeW5jaHJvbm91c2x5LiBUaGlzIHNob3VsZFxuICAgICAqIGJlIGNhbGxlZCB3aGVuIGFuIGVsZW1lbnQgc2hvdWxkIHVwZGF0ZSBiYXNlZCBvbiBzb21lIHN0YXRlIG5vdCB0cmlnZ2VyZWRcbiAgICAgKiBieSBzZXR0aW5nIGEgcHJvcGVydHkuIEluIHRoaXMgY2FzZSwgcGFzcyBubyBhcmd1bWVudHMuIEl0IHNob3VsZCBhbHNvIGJlXG4gICAgICogY2FsbGVkIHdoZW4gbWFudWFsbHkgaW1wbGVtZW50aW5nIGEgcHJvcGVydHkgc2V0dGVyLiBJbiB0aGlzIGNhc2UsIHBhc3MgdGhlXG4gICAgICogcHJvcGVydHkgYG5hbWVgIGFuZCBgb2xkVmFsdWVgIHRvIGVuc3VyZSB0aGF0IGFueSBjb25maWd1cmVkIHByb3BlcnR5XG4gICAgICogb3B0aW9ucyBhcmUgaG9ub3JlZC4gUmV0dXJucyB0aGUgYHVwZGF0ZUNvbXBsZXRlYCBQcm9taXNlIHdoaWNoIGlzIHJlc29sdmVkXG4gICAgICogd2hlbiB0aGUgdXBkYXRlIGNvbXBsZXRlcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBuYW1lIHtQcm9wZXJ0eUtleX0gKG9wdGlvbmFsKSBuYW1lIG9mIHJlcXVlc3RpbmcgcHJvcGVydHlcbiAgICAgKiBAcGFyYW0gb2xkVmFsdWUge2FueX0gKG9wdGlvbmFsKSBvbGQgdmFsdWUgb2YgcmVxdWVzdGluZyBwcm9wZXJ0eVxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlfSBBIFByb21pc2UgdGhhdCBpcyByZXNvbHZlZCB3aGVuIHRoZSB1cGRhdGUgY29tcGxldGVzLlxuICAgICAqL1xuICAgIHJlcXVlc3RVcGRhdGUobmFtZSwgb2xkVmFsdWUpIHtcbiAgICAgICAgdGhpcy5fcmVxdWVzdFVwZGF0ZShuYW1lLCBvbGRWYWx1ZSk7XG4gICAgICAgIHJldHVybiB0aGlzLnVwZGF0ZUNvbXBsZXRlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXRzIHVwIHRoZSBlbGVtZW50IHRvIGFzeW5jaHJvbm91c2x5IHVwZGF0ZS5cbiAgICAgKi9cbiAgICBhc3luYyBfZW5xdWV1ZVVwZGF0ZSgpIHtcbiAgICAgICAgLy8gTWFyayBzdGF0ZSB1cGRhdGluZy4uLlxuICAgICAgICB0aGlzLl91cGRhdGVTdGF0ZSA9IHRoaXMuX3VwZGF0ZVN0YXRlIHwgU1RBVEVfVVBEQVRFX1JFUVVFU1RFRDtcbiAgICAgICAgbGV0IHJlc29sdmU7XG4gICAgICAgIGxldCByZWplY3Q7XG4gICAgICAgIGNvbnN0IHByZXZpb3VzVXBkYXRlUHJvbWlzZSA9IHRoaXMuX3VwZGF0ZVByb21pc2U7XG4gICAgICAgIHRoaXMuX3VwZGF0ZVByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzLCByZWopID0+IHtcbiAgICAgICAgICAgIHJlc29sdmUgPSByZXM7XG4gICAgICAgICAgICByZWplY3QgPSByZWo7XG4gICAgICAgIH0pO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gRW5zdXJlIGFueSBwcmV2aW91cyB1cGRhdGUgaGFzIHJlc29sdmVkIGJlZm9yZSB1cGRhdGluZy5cbiAgICAgICAgICAgIC8vIFRoaXMgYGF3YWl0YCBhbHNvIGVuc3VyZXMgdGhhdCBwcm9wZXJ0eSBjaGFuZ2VzIGFyZSBiYXRjaGVkLlxuICAgICAgICAgICAgYXdhaXQgcHJldmlvdXNVcGRhdGVQcm9taXNlO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAvLyBJZ25vcmUgYW55IHByZXZpb3VzIGVycm9ycy4gV2Ugb25seSBjYXJlIHRoYXQgdGhlIHByZXZpb3VzIGN5Y2xlIGlzXG4gICAgICAgICAgICAvLyBkb25lLiBBbnkgZXJyb3Igc2hvdWxkIGhhdmUgYmVlbiBoYW5kbGVkIGluIHRoZSBwcmV2aW91cyB1cGRhdGUuXG4gICAgICAgIH1cbiAgICAgICAgLy8gTWFrZSBzdXJlIHRoZSBlbGVtZW50IGhhcyBjb25uZWN0ZWQgYmVmb3JlIHVwZGF0aW5nLlxuICAgICAgICBpZiAoIXRoaXMuX2hhc0Nvbm5lY3RlZCkge1xuICAgICAgICAgICAgYXdhaXQgbmV3IFByb21pc2UoKHJlcykgPT4gdGhpcy5faGFzQ29ubmVjdGVkUmVzb2x2ZXIgPSByZXMpO1xuICAgICAgICB9XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSB0aGlzLnBlcmZvcm1VcGRhdGUoKTtcbiAgICAgICAgICAgIC8vIElmIGBwZXJmb3JtVXBkYXRlYCByZXR1cm5zIGEgUHJvbWlzZSwgd2UgYXdhaXQgaXQuIFRoaXMgaXMgZG9uZSB0b1xuICAgICAgICAgICAgLy8gZW5hYmxlIGNvb3JkaW5hdGluZyB1cGRhdGVzIHdpdGggYSBzY2hlZHVsZXIuIE5vdGUsIHRoZSByZXN1bHQgaXNcbiAgICAgICAgICAgIC8vIGNoZWNrZWQgdG8gYXZvaWQgZGVsYXlpbmcgYW4gYWRkaXRpb25hbCBtaWNyb3Rhc2sgdW5sZXNzIHdlIG5lZWQgdG8uXG4gICAgICAgICAgICBpZiAocmVzdWx0ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBhd2FpdCByZXN1bHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgfVxuICAgICAgICByZXNvbHZlKCF0aGlzLl9oYXNSZXF1ZXN0ZWRVcGRhdGUpO1xuICAgIH1cbiAgICBnZXQgX2hhc0Nvbm5lY3RlZCgpIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLl91cGRhdGVTdGF0ZSAmIFNUQVRFX0hBU19DT05ORUNURUQpO1xuICAgIH1cbiAgICBnZXQgX2hhc1JlcXVlc3RlZFVwZGF0ZSgpIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLl91cGRhdGVTdGF0ZSAmIFNUQVRFX1VQREFURV9SRVFVRVNURUQpO1xuICAgIH1cbiAgICBnZXQgaGFzVXBkYXRlZCgpIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLl91cGRhdGVTdGF0ZSAmIFNUQVRFX0hBU19VUERBVEVEKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUGVyZm9ybXMgYW4gZWxlbWVudCB1cGRhdGUuIE5vdGUsIGlmIGFuIGV4Y2VwdGlvbiBpcyB0aHJvd24gZHVyaW5nIHRoZVxuICAgICAqIHVwZGF0ZSwgYGZpcnN0VXBkYXRlZGAgYW5kIGB1cGRhdGVkYCB3aWxsIG5vdCBiZSBjYWxsZWQuXG4gICAgICpcbiAgICAgKiBZb3UgY2FuIG92ZXJyaWRlIHRoaXMgbWV0aG9kIHRvIGNoYW5nZSB0aGUgdGltaW5nIG9mIHVwZGF0ZXMuIElmIHRoaXNcbiAgICAgKiBtZXRob2QgaXMgb3ZlcnJpZGRlbiwgYHN1cGVyLnBlcmZvcm1VcGRhdGUoKWAgbXVzdCBiZSBjYWxsZWQuXG4gICAgICpcbiAgICAgKiBGb3IgaW5zdGFuY2UsIHRvIHNjaGVkdWxlIHVwZGF0ZXMgdG8gb2NjdXIganVzdCBiZWZvcmUgdGhlIG5leHQgZnJhbWU6XG4gICAgICpcbiAgICAgKiBgYGBcbiAgICAgKiBwcm90ZWN0ZWQgYXN5bmMgcGVyZm9ybVVwZGF0ZSgpOiBQcm9taXNlPHVua25vd24+IHtcbiAgICAgKiAgIGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4gcmVzb2x2ZSgpKSk7XG4gICAgICogICBzdXBlci5wZXJmb3JtVXBkYXRlKCk7XG4gICAgICogfVxuICAgICAqIGBgYFxuICAgICAqL1xuICAgIHBlcmZvcm1VcGRhdGUoKSB7XG4gICAgICAgIC8vIE1peGluIGluc3RhbmNlIHByb3BlcnRpZXMgb25jZSwgaWYgdGhleSBleGlzdC5cbiAgICAgICAgaWYgKHRoaXMuX2luc3RhbmNlUHJvcGVydGllcykge1xuICAgICAgICAgICAgdGhpcy5fYXBwbHlJbnN0YW5jZVByb3BlcnRpZXMoKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgc2hvdWxkVXBkYXRlID0gZmFsc2U7XG4gICAgICAgIGNvbnN0IGNoYW5nZWRQcm9wZXJ0aWVzID0gdGhpcy5fY2hhbmdlZFByb3BlcnRpZXM7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBzaG91bGRVcGRhdGUgPSB0aGlzLnNob3VsZFVwZGF0ZShjaGFuZ2VkUHJvcGVydGllcyk7XG4gICAgICAgICAgICBpZiAoc2hvdWxkVXBkYXRlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGUoY2hhbmdlZFByb3BlcnRpZXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAvLyBQcmV2ZW50IGBmaXJzdFVwZGF0ZWRgIGFuZCBgdXBkYXRlZGAgZnJvbSBydW5uaW5nIHdoZW4gdGhlcmUncyBhblxuICAgICAgICAgICAgLy8gdXBkYXRlIGV4Y2VwdGlvbi5cbiAgICAgICAgICAgIHNob3VsZFVwZGF0ZSA9IGZhbHNlO1xuICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIC8vIEVuc3VyZSBlbGVtZW50IGNhbiBhY2NlcHQgYWRkaXRpb25hbCB1cGRhdGVzIGFmdGVyIGFuIGV4Y2VwdGlvbi5cbiAgICAgICAgICAgIHRoaXMuX21hcmtVcGRhdGVkKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNob3VsZFVwZGF0ZSkge1xuICAgICAgICAgICAgaWYgKCEodGhpcy5fdXBkYXRlU3RhdGUgJiBTVEFURV9IQVNfVVBEQVRFRCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl91cGRhdGVTdGF0ZSA9IHRoaXMuX3VwZGF0ZVN0YXRlIHwgU1RBVEVfSEFTX1VQREFURUQ7XG4gICAgICAgICAgICAgICAgdGhpcy5maXJzdFVwZGF0ZWQoY2hhbmdlZFByb3BlcnRpZXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy51cGRhdGVkKGNoYW5nZWRQcm9wZXJ0aWVzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfbWFya1VwZGF0ZWQoKSB7XG4gICAgICAgIHRoaXMuX2NoYW5nZWRQcm9wZXJ0aWVzID0gbmV3IE1hcCgpO1xuICAgICAgICB0aGlzLl91cGRhdGVTdGF0ZSA9IHRoaXMuX3VwZGF0ZVN0YXRlICYgflNUQVRFX1VQREFURV9SRVFVRVNURUQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2hlbiB0aGUgZWxlbWVudCBoYXMgY29tcGxldGVkIHVwZGF0aW5nLlxuICAgICAqIFRoZSBQcm9taXNlIHZhbHVlIGlzIGEgYm9vbGVhbiB0aGF0IGlzIGB0cnVlYCBpZiB0aGUgZWxlbWVudCBjb21wbGV0ZWQgdGhlXG4gICAgICogdXBkYXRlIHdpdGhvdXQgdHJpZ2dlcmluZyBhbm90aGVyIHVwZGF0ZS4gVGhlIFByb21pc2UgcmVzdWx0IGlzIGBmYWxzZWAgaWZcbiAgICAgKiBhIHByb3BlcnR5IHdhcyBzZXQgaW5zaWRlIGB1cGRhdGVkKClgLiBJZiB0aGUgUHJvbWlzZSBpcyByZWplY3RlZCwgYW5cbiAgICAgKiBleGNlcHRpb24gd2FzIHRocm93biBkdXJpbmcgdGhlIHVwZGF0ZS5cbiAgICAgKlxuICAgICAqIFRvIGF3YWl0IGFkZGl0aW9uYWwgYXN5bmNocm9ub3VzIHdvcmssIG92ZXJyaWRlIHRoZSBgX2dldFVwZGF0ZUNvbXBsZXRlYFxuICAgICAqIG1ldGhvZC4gRm9yIGV4YW1wbGUsIGl0IGlzIHNvbWV0aW1lcyB1c2VmdWwgdG8gYXdhaXQgYSByZW5kZXJlZCBlbGVtZW50XG4gICAgICogYmVmb3JlIGZ1bGZpbGxpbmcgdGhpcyBQcm9taXNlLiBUbyBkbyB0aGlzLCBmaXJzdCBhd2FpdFxuICAgICAqIGBzdXBlci5fZ2V0VXBkYXRlQ29tcGxldGUoKWAsIHRoZW4gYW55IHN1YnNlcXVlbnQgc3RhdGUuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZX0gVGhlIFByb21pc2UgcmV0dXJucyBhIGJvb2xlYW4gdGhhdCBpbmRpY2F0ZXMgaWYgdGhlXG4gICAgICogdXBkYXRlIHJlc29sdmVkIHdpdGhvdXQgdHJpZ2dlcmluZyBhbm90aGVyIHVwZGF0ZS5cbiAgICAgKi9cbiAgICBnZXQgdXBkYXRlQ29tcGxldGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9nZXRVcGRhdGVDb21wbGV0ZSgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBPdmVycmlkZSBwb2ludCBmb3IgdGhlIGB1cGRhdGVDb21wbGV0ZWAgcHJvbWlzZS5cbiAgICAgKlxuICAgICAqIEl0IGlzIG5vdCBzYWZlIHRvIG92ZXJyaWRlIHRoZSBgdXBkYXRlQ29tcGxldGVgIGdldHRlciBkaXJlY3RseSBkdWUgdG8gYVxuICAgICAqIGxpbWl0YXRpb24gaW4gVHlwZVNjcmlwdCB3aGljaCBtZWFucyBpdCBpcyBub3QgcG9zc2libGUgdG8gY2FsbCBhXG4gICAgICogc3VwZXJjbGFzcyBnZXR0ZXIgKGUuZy4gYHN1cGVyLnVwZGF0ZUNvbXBsZXRlLnRoZW4oLi4uKWApIHdoZW4gdGhlIHRhcmdldFxuICAgICAqIGxhbmd1YWdlIGlzIEVTNSAoaHR0cHM6Ly9naXRodWIuY29tL21pY3Jvc29mdC9UeXBlU2NyaXB0L2lzc3Vlcy8zMzgpLlxuICAgICAqIFRoaXMgbWV0aG9kIHNob3VsZCBiZSBvdmVycmlkZGVuIGluc3RlYWQuIEZvciBleGFtcGxlOlxuICAgICAqXG4gICAgICogICBjbGFzcyBNeUVsZW1lbnQgZXh0ZW5kcyBMaXRFbGVtZW50IHtcbiAgICAgKiAgICAgYXN5bmMgX2dldFVwZGF0ZUNvbXBsZXRlKCkge1xuICAgICAqICAgICAgIGF3YWl0IHN1cGVyLl9nZXRVcGRhdGVDb21wbGV0ZSgpO1xuICAgICAqICAgICAgIGF3YWl0IHRoaXMuX215Q2hpbGQudXBkYXRlQ29tcGxldGU7XG4gICAgICogICAgIH1cbiAgICAgKiAgIH1cbiAgICAgKi9cbiAgICBfZ2V0VXBkYXRlQ29tcGxldGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl91cGRhdGVQcm9taXNlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDb250cm9scyB3aGV0aGVyIG9yIG5vdCBgdXBkYXRlYCBzaG91bGQgYmUgY2FsbGVkIHdoZW4gdGhlIGVsZW1lbnQgcmVxdWVzdHNcbiAgICAgKiBhbiB1cGRhdGUuIEJ5IGRlZmF1bHQsIHRoaXMgbWV0aG9kIGFsd2F5cyByZXR1cm5zIGB0cnVlYCwgYnV0IHRoaXMgY2FuIGJlXG4gICAgICogY3VzdG9taXplZCB0byBjb250cm9sIHdoZW4gdG8gdXBkYXRlLlxuICAgICAqXG4gICAgICogKiBAcGFyYW0gX2NoYW5nZWRQcm9wZXJ0aWVzIE1hcCBvZiBjaGFuZ2VkIHByb3BlcnRpZXMgd2l0aCBvbGQgdmFsdWVzXG4gICAgICovXG4gICAgc2hvdWxkVXBkYXRlKF9jaGFuZ2VkUHJvcGVydGllcykge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgZWxlbWVudC4gVGhpcyBtZXRob2QgcmVmbGVjdHMgcHJvcGVydHkgdmFsdWVzIHRvIGF0dHJpYnV0ZXMuXG4gICAgICogSXQgY2FuIGJlIG92ZXJyaWRkZW4gdG8gcmVuZGVyIGFuZCBrZWVwIHVwZGF0ZWQgZWxlbWVudCBET00uXG4gICAgICogU2V0dGluZyBwcm9wZXJ0aWVzIGluc2lkZSB0aGlzIG1ldGhvZCB3aWxsICpub3QqIHRyaWdnZXJcbiAgICAgKiBhbm90aGVyIHVwZGF0ZS5cbiAgICAgKlxuICAgICAqICogQHBhcmFtIF9jaGFuZ2VkUHJvcGVydGllcyBNYXAgb2YgY2hhbmdlZCBwcm9wZXJ0aWVzIHdpdGggb2xkIHZhbHVlc1xuICAgICAqL1xuICAgIHVwZGF0ZShfY2hhbmdlZFByb3BlcnRpZXMpIHtcbiAgICAgICAgaWYgKHRoaXMuX3JlZmxlY3RpbmdQcm9wZXJ0aWVzICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgIHRoaXMuX3JlZmxlY3RpbmdQcm9wZXJ0aWVzLnNpemUgPiAwKSB7XG4gICAgICAgICAgICAvLyBVc2UgZm9yRWFjaCBzbyB0aGlzIHdvcmtzIGV2ZW4gaWYgZm9yL29mIGxvb3BzIGFyZSBjb21waWxlZCB0byBmb3JcbiAgICAgICAgICAgIC8vIGxvb3BzIGV4cGVjdGluZyBhcnJheXNcbiAgICAgICAgICAgIHRoaXMuX3JlZmxlY3RpbmdQcm9wZXJ0aWVzLmZvckVhY2goKHYsIGspID0+IHRoaXMuX3Byb3BlcnR5VG9BdHRyaWJ1dGUoaywgdGhpc1trXSwgdikpO1xuICAgICAgICAgICAgdGhpcy5fcmVmbGVjdGluZ1Byb3BlcnRpZXMgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogSW52b2tlZCB3aGVuZXZlciB0aGUgZWxlbWVudCBpcyB1cGRhdGVkLiBJbXBsZW1lbnQgdG8gcGVyZm9ybVxuICAgICAqIHBvc3QtdXBkYXRpbmcgdGFza3MgdmlhIERPTSBBUElzLCBmb3IgZXhhbXBsZSwgZm9jdXNpbmcgYW4gZWxlbWVudC5cbiAgICAgKlxuICAgICAqIFNldHRpbmcgcHJvcGVydGllcyBpbnNpZGUgdGhpcyBtZXRob2Qgd2lsbCB0cmlnZ2VyIHRoZSBlbGVtZW50IHRvIHVwZGF0ZVxuICAgICAqIGFnYWluIGFmdGVyIHRoaXMgdXBkYXRlIGN5Y2xlIGNvbXBsZXRlcy5cbiAgICAgKlxuICAgICAqICogQHBhcmFtIF9jaGFuZ2VkUHJvcGVydGllcyBNYXAgb2YgY2hhbmdlZCBwcm9wZXJ0aWVzIHdpdGggb2xkIHZhbHVlc1xuICAgICAqL1xuICAgIHVwZGF0ZWQoX2NoYW5nZWRQcm9wZXJ0aWVzKSB7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEludm9rZWQgd2hlbiB0aGUgZWxlbWVudCBpcyBmaXJzdCB1cGRhdGVkLiBJbXBsZW1lbnQgdG8gcGVyZm9ybSBvbmUgdGltZVxuICAgICAqIHdvcmsgb24gdGhlIGVsZW1lbnQgYWZ0ZXIgdXBkYXRlLlxuICAgICAqXG4gICAgICogU2V0dGluZyBwcm9wZXJ0aWVzIGluc2lkZSB0aGlzIG1ldGhvZCB3aWxsIHRyaWdnZXIgdGhlIGVsZW1lbnQgdG8gdXBkYXRlXG4gICAgICogYWdhaW4gYWZ0ZXIgdGhpcyB1cGRhdGUgY3ljbGUgY29tcGxldGVzLlxuICAgICAqXG4gICAgICogKiBAcGFyYW0gX2NoYW5nZWRQcm9wZXJ0aWVzIE1hcCBvZiBjaGFuZ2VkIHByb3BlcnRpZXMgd2l0aCBvbGQgdmFsdWVzXG4gICAgICovXG4gICAgZmlyc3RVcGRhdGVkKF9jaGFuZ2VkUHJvcGVydGllcykge1xuICAgIH1cbn1cbl9hID0gZmluYWxpemVkO1xuLyoqXG4gKiBNYXJrcyBjbGFzcyBhcyBoYXZpbmcgZmluaXNoZWQgY3JlYXRpbmcgcHJvcGVydGllcy5cbiAqL1xuVXBkYXRpbmdFbGVtZW50W19hXSA9IHRydWU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD11cGRhdGluZy1lbGVtZW50LmpzLm1hcCIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBUaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG4gKiBDb2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuICogc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4gKi9cbmNvbnN0IGxlZ2FjeUN1c3RvbUVsZW1lbnQgPSAodGFnTmFtZSwgY2xhenopID0+IHtcbiAgICB3aW5kb3cuY3VzdG9tRWxlbWVudHMuZGVmaW5lKHRhZ05hbWUsIGNsYXp6KTtcbiAgICAvLyBDYXN0IGFzIGFueSBiZWNhdXNlIFRTIGRvZXNuJ3QgcmVjb2duaXplIHRoZSByZXR1cm4gdHlwZSBhcyBiZWluZyBhXG4gICAgLy8gc3VidHlwZSBvZiB0aGUgZGVjb3JhdGVkIGNsYXNzIHdoZW4gY2xhenogaXMgdHlwZWQgYXNcbiAgICAvLyBgQ29uc3RydWN0b3I8SFRNTEVsZW1lbnQ+YCBmb3Igc29tZSByZWFzb24uXG4gICAgLy8gYENvbnN0cnVjdG9yPEhUTUxFbGVtZW50PmAgaXMgaGVscGZ1bCB0byBtYWtlIHN1cmUgdGhlIGRlY29yYXRvciBpc1xuICAgIC8vIGFwcGxpZWQgdG8gZWxlbWVudHMgaG93ZXZlci5cbiAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tYW55XG4gICAgcmV0dXJuIGNsYXp6O1xufTtcbmNvbnN0IHN0YW5kYXJkQ3VzdG9tRWxlbWVudCA9ICh0YWdOYW1lLCBkZXNjcmlwdG9yKSA9PiB7XG4gICAgY29uc3QgeyBraW5kLCBlbGVtZW50cyB9ID0gZGVzY3JpcHRvcjtcbiAgICByZXR1cm4ge1xuICAgICAgICBraW5kLFxuICAgICAgICBlbGVtZW50cyxcbiAgICAgICAgLy8gVGhpcyBjYWxsYmFjayBpcyBjYWxsZWQgb25jZSB0aGUgY2xhc3MgaXMgb3RoZXJ3aXNlIGZ1bGx5IGRlZmluZWRcbiAgICAgICAgZmluaXNoZXIoY2xhenopIHtcbiAgICAgICAgICAgIHdpbmRvdy5jdXN0b21FbGVtZW50cy5kZWZpbmUodGFnTmFtZSwgY2xhenopO1xuICAgICAgICB9XG4gICAgfTtcbn07XG4vKipcbiAqIENsYXNzIGRlY29yYXRvciBmYWN0b3J5IHRoYXQgZGVmaW5lcyB0aGUgZGVjb3JhdGVkIGNsYXNzIGFzIGEgY3VzdG9tIGVsZW1lbnQuXG4gKlxuICogQHBhcmFtIHRhZ05hbWUgdGhlIG5hbWUgb2YgdGhlIGN1c3RvbSBlbGVtZW50IHRvIGRlZmluZVxuICovXG5leHBvcnQgY29uc3QgY3VzdG9tRWxlbWVudCA9ICh0YWdOYW1lKSA9PiAoY2xhc3NPckRlc2NyaXB0b3IpID0+ICh0eXBlb2YgY2xhc3NPckRlc2NyaXB0b3IgPT09ICdmdW5jdGlvbicpID9cbiAgICBsZWdhY3lDdXN0b21FbGVtZW50KHRhZ05hbWUsIGNsYXNzT3JEZXNjcmlwdG9yKSA6XG4gICAgc3RhbmRhcmRDdXN0b21FbGVtZW50KHRhZ05hbWUsIGNsYXNzT3JEZXNjcmlwdG9yKTtcbmNvbnN0IHN0YW5kYXJkUHJvcGVydHkgPSAob3B0aW9ucywgZWxlbWVudCkgPT4ge1xuICAgIC8vIFdoZW4gZGVjb3JhdGluZyBhbiBhY2Nlc3NvciwgcGFzcyBpdCB0aHJvdWdoIGFuZCBhZGQgcHJvcGVydHkgbWV0YWRhdGEuXG4gICAgLy8gTm90ZSwgdGhlIGBoYXNPd25Qcm9wZXJ0eWAgY2hlY2sgaW4gYGNyZWF0ZVByb3BlcnR5YCBlbnN1cmVzIHdlIGRvbid0XG4gICAgLy8gc3RvbXAgb3ZlciB0aGUgdXNlcidzIGFjY2Vzc29yLlxuICAgIGlmIChlbGVtZW50LmtpbmQgPT09ICdtZXRob2QnICYmIGVsZW1lbnQuZGVzY3JpcHRvciAmJlxuICAgICAgICAhKCd2YWx1ZScgaW4gZWxlbWVudC5kZXNjcmlwdG9yKSkge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgZWxlbWVudCwgeyBmaW5pc2hlcihjbGF6eikge1xuICAgICAgICAgICAgICAgIGNsYXp6LmNyZWF0ZVByb3BlcnR5KGVsZW1lbnQua2V5LCBvcHRpb25zKTtcbiAgICAgICAgICAgIH0gfSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICAvLyBjcmVhdGVQcm9wZXJ0eSgpIHRha2VzIGNhcmUgb2YgZGVmaW5pbmcgdGhlIHByb3BlcnR5LCBidXQgd2Ugc3RpbGxcbiAgICAgICAgLy8gbXVzdCByZXR1cm4gc29tZSBraW5kIG9mIGRlc2NyaXB0b3IsIHNvIHJldHVybiBhIGRlc2NyaXB0b3IgZm9yIGFuXG4gICAgICAgIC8vIHVudXNlZCBwcm90b3R5cGUgZmllbGQuIFRoZSBmaW5pc2hlciBjYWxscyBjcmVhdGVQcm9wZXJ0eSgpLlxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAga2luZDogJ2ZpZWxkJyxcbiAgICAgICAgICAgIGtleTogU3ltYm9sKCksXG4gICAgICAgICAgICBwbGFjZW1lbnQ6ICdvd24nLFxuICAgICAgICAgICAgZGVzY3JpcHRvcjoge30sXG4gICAgICAgICAgICAvLyBXaGVuIEBiYWJlbC9wbHVnaW4tcHJvcG9zYWwtZGVjb3JhdG9ycyBpbXBsZW1lbnRzIGluaXRpYWxpemVycyxcbiAgICAgICAgICAgIC8vIGRvIHRoaXMgaW5zdGVhZCBvZiB0aGUgaW5pdGlhbGl6ZXIgYmVsb3cuIFNlZTpcbiAgICAgICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9iYWJlbC9iYWJlbC9pc3N1ZXMvOTI2MCBleHRyYXM6IFtcbiAgICAgICAgICAgIC8vICAge1xuICAgICAgICAgICAgLy8gICAgIGtpbmQ6ICdpbml0aWFsaXplcicsXG4gICAgICAgICAgICAvLyAgICAgcGxhY2VtZW50OiAnb3duJyxcbiAgICAgICAgICAgIC8vICAgICBpbml0aWFsaXplcjogZGVzY3JpcHRvci5pbml0aWFsaXplcixcbiAgICAgICAgICAgIC8vICAgfVxuICAgICAgICAgICAgLy8gXSxcbiAgICAgICAgICAgIGluaXRpYWxpemVyKCkge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZWxlbWVudC5pbml0aWFsaXplciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzW2VsZW1lbnQua2V5XSA9IGVsZW1lbnQuaW5pdGlhbGl6ZXIuY2FsbCh0aGlzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZmluaXNoZXIoY2xhenopIHtcbiAgICAgICAgICAgICAgICBjbGF6ei5jcmVhdGVQcm9wZXJ0eShlbGVtZW50LmtleSwgb3B0aW9ucyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxufTtcbmNvbnN0IGxlZ2FjeVByb3BlcnR5ID0gKG9wdGlvbnMsIHByb3RvLCBuYW1lKSA9PiB7XG4gICAgcHJvdG8uY29uc3RydWN0b3JcbiAgICAgICAgLmNyZWF0ZVByb3BlcnR5KG5hbWUsIG9wdGlvbnMpO1xufTtcbi8qKlxuICogQSBwcm9wZXJ0eSBkZWNvcmF0b3Igd2hpY2ggY3JlYXRlcyBhIExpdEVsZW1lbnQgcHJvcGVydHkgd2hpY2ggcmVmbGVjdHMgYVxuICogY29ycmVzcG9uZGluZyBhdHRyaWJ1dGUgdmFsdWUuIEEgYFByb3BlcnR5RGVjbGFyYXRpb25gIG1heSBvcHRpb25hbGx5IGJlXG4gKiBzdXBwbGllZCB0byBjb25maWd1cmUgcHJvcGVydHkgZmVhdHVyZXMuXG4gKlxuICogQEV4cG9ydERlY29yYXRlZEl0ZW1zXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwcm9wZXJ0eShvcHRpb25zKSB7XG4gICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWFueSBkZWNvcmF0b3JcbiAgICByZXR1cm4gKHByb3RvT3JEZXNjcmlwdG9yLCBuYW1lKSA9PiAobmFtZSAhPT0gdW5kZWZpbmVkKSA/XG4gICAgICAgIGxlZ2FjeVByb3BlcnR5KG9wdGlvbnMsIHByb3RvT3JEZXNjcmlwdG9yLCBuYW1lKSA6XG4gICAgICAgIHN0YW5kYXJkUHJvcGVydHkob3B0aW9ucywgcHJvdG9PckRlc2NyaXB0b3IpO1xufVxuLyoqXG4gKiBBIHByb3BlcnR5IGRlY29yYXRvciB0aGF0IGNvbnZlcnRzIGEgY2xhc3MgcHJvcGVydHkgaW50byBhIGdldHRlciB0aGF0XG4gKiBleGVjdXRlcyBhIHF1ZXJ5U2VsZWN0b3Igb24gdGhlIGVsZW1lbnQncyByZW5kZXJSb290LlxuICpcbiAqIEBFeHBvcnREZWNvcmF0ZWRJdGVtc1xuICovXG5leHBvcnQgZnVuY3Rpb24gcXVlcnkoc2VsZWN0b3IpIHtcbiAgICByZXR1cm4gKHByb3RvT3JEZXNjcmlwdG9yLCBcbiAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tYW55IGRlY29yYXRvclxuICAgIG5hbWUpID0+IHtcbiAgICAgICAgY29uc3QgZGVzY3JpcHRvciA9IHtcbiAgICAgICAgICAgIGdldCgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5yZW5kZXJSb290LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiAobmFtZSAhPT0gdW5kZWZpbmVkKSA/XG4gICAgICAgICAgICBsZWdhY3lRdWVyeShkZXNjcmlwdG9yLCBwcm90b09yRGVzY3JpcHRvciwgbmFtZSkgOlxuICAgICAgICAgICAgc3RhbmRhcmRRdWVyeShkZXNjcmlwdG9yLCBwcm90b09yRGVzY3JpcHRvcik7XG4gICAgfTtcbn1cbi8qKlxuICogQSBwcm9wZXJ0eSBkZWNvcmF0b3IgdGhhdCBjb252ZXJ0cyBhIGNsYXNzIHByb3BlcnR5IGludG8gYSBnZXR0ZXJcbiAqIHRoYXQgZXhlY3V0ZXMgYSBxdWVyeVNlbGVjdG9yQWxsIG9uIHRoZSBlbGVtZW50J3MgcmVuZGVyUm9vdC5cbiAqXG4gKiBARXhwb3J0RGVjb3JhdGVkSXRlbXNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHF1ZXJ5QWxsKHNlbGVjdG9yKSB7XG4gICAgcmV0dXJuIChwcm90b09yRGVzY3JpcHRvciwgXG4gICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWFueSBkZWNvcmF0b3JcbiAgICBuYW1lKSA9PiB7XG4gICAgICAgIGNvbnN0IGRlc2NyaXB0b3IgPSB7XG4gICAgICAgICAgICBnZXQoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVuZGVyUm9vdC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gKG5hbWUgIT09IHVuZGVmaW5lZCkgP1xuICAgICAgICAgICAgbGVnYWN5UXVlcnkoZGVzY3JpcHRvciwgcHJvdG9PckRlc2NyaXB0b3IsIG5hbWUpIDpcbiAgICAgICAgICAgIHN0YW5kYXJkUXVlcnkoZGVzY3JpcHRvciwgcHJvdG9PckRlc2NyaXB0b3IpO1xuICAgIH07XG59XG5jb25zdCBsZWdhY3lRdWVyeSA9IChkZXNjcmlwdG9yLCBwcm90bywgbmFtZSkgPT4ge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwcm90bywgbmFtZSwgZGVzY3JpcHRvcik7XG59O1xuY29uc3Qgc3RhbmRhcmRRdWVyeSA9IChkZXNjcmlwdG9yLCBlbGVtZW50KSA9PiAoe1xuICAgIGtpbmQ6ICdtZXRob2QnLFxuICAgIHBsYWNlbWVudDogJ3Byb3RvdHlwZScsXG4gICAga2V5OiBlbGVtZW50LmtleSxcbiAgICBkZXNjcmlwdG9yLFxufSk7XG5jb25zdCBzdGFuZGFyZEV2ZW50T3B0aW9ucyA9IChvcHRpb25zLCBlbGVtZW50KSA9PiB7XG4gICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIGVsZW1lbnQsIHsgZmluaXNoZXIoY2xhenopIHtcbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oY2xhenoucHJvdG90eXBlW2VsZW1lbnQua2V5XSwgb3B0aW9ucyk7XG4gICAgICAgIH0gfSk7XG59O1xuY29uc3QgbGVnYWN5RXZlbnRPcHRpb25zID0gXG4vLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tYW55IGxlZ2FjeSBkZWNvcmF0b3JcbihvcHRpb25zLCBwcm90bywgbmFtZSkgPT4ge1xuICAgIE9iamVjdC5hc3NpZ24ocHJvdG9bbmFtZV0sIG9wdGlvbnMpO1xufTtcbi8qKlxuICogQWRkcyBldmVudCBsaXN0ZW5lciBvcHRpb25zIHRvIGEgbWV0aG9kIHVzZWQgYXMgYW4gZXZlbnQgbGlzdGVuZXIgaW4gYVxuICogbGl0LWh0bWwgdGVtcGxhdGUuXG4gKlxuICogQHBhcmFtIG9wdGlvbnMgQW4gb2JqZWN0IHRoYXQgc3BlY2lmaXMgZXZlbnQgbGlzdGVuZXIgb3B0aW9ucyBhcyBhY2NlcHRlZCBieVxuICogYEV2ZW50VGFyZ2V0I2FkZEV2ZW50TGlzdGVuZXJgIGFuZCBgRXZlbnRUYXJnZXQjcmVtb3ZlRXZlbnRMaXN0ZW5lcmAuXG4gKlxuICogQ3VycmVudCBicm93c2VycyBzdXBwb3J0IHRoZSBgY2FwdHVyZWAsIGBwYXNzaXZlYCwgYW5kIGBvbmNlYCBvcHRpb25zLiBTZWU6XG4gKiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvRXZlbnRUYXJnZXQvYWRkRXZlbnRMaXN0ZW5lciNQYXJhbWV0ZXJzXG4gKlxuICogQGV4YW1wbGVcbiAqXG4gKiAgICAgY2xhc3MgTXlFbGVtZW50IHtcbiAqXG4gKiAgICAgICBjbGlja2VkID0gZmFsc2U7XG4gKlxuICogICAgICAgcmVuZGVyKCkge1xuICogICAgICAgICByZXR1cm4gaHRtbGA8ZGl2IEBjbGljaz0ke3RoaXMuX29uQ2xpY2t9YD48YnV0dG9uPjwvYnV0dG9uPjwvZGl2PmA7XG4gKiAgICAgICB9XG4gKlxuICogICAgICAgQGV2ZW50T3B0aW9ucyh7Y2FwdHVyZTogdHJ1ZX0pXG4gKiAgICAgICBfb25DbGljayhlKSB7XG4gKiAgICAgICAgIHRoaXMuY2xpY2tlZCA9IHRydWU7XG4gKiAgICAgICB9XG4gKiAgICAgfVxuICovXG5leHBvcnQgY29uc3QgZXZlbnRPcHRpb25zID0gKG9wdGlvbnMpID0+IFxuLy8gUmV0dXJuIHZhbHVlIHR5cGVkIGFzIGFueSB0byBwcmV2ZW50IFR5cGVTY3JpcHQgZnJvbSBjb21wbGFpbmluZyB0aGF0XG4vLyBzdGFuZGFyZCBkZWNvcmF0b3IgZnVuY3Rpb24gc2lnbmF0dXJlIGRvZXMgbm90IG1hdGNoIFR5cGVTY3JpcHQgZGVjb3JhdG9yXG4vLyBzaWduYXR1cmVcbi8vIFRPRE8oa3NjaGFhZik6IHVuY2xlYXIgd2h5IGl0IHdhcyBvbmx5IGZhaWxpbmcgb24gdGhpcyBkZWNvcmF0b3IgYW5kIG5vdFxuLy8gdGhlIG90aGVyc1xuKChwcm90b09yRGVzY3JpcHRvciwgbmFtZSkgPT4gKG5hbWUgIT09IHVuZGVmaW5lZCkgP1xuICAgIGxlZ2FjeUV2ZW50T3B0aW9ucyhvcHRpb25zLCBwcm90b09yRGVzY3JpcHRvciwgbmFtZSkgOlxuICAgIHN0YW5kYXJkRXZlbnRPcHRpb25zKG9wdGlvbnMsIHByb3RvT3JEZXNjcmlwdG9yKSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kZWNvcmF0b3JzLmpzLm1hcCIsIi8qKlxuQGxpY2Vuc2VcbkNvcHlyaWdodCAoYykgMjAxOSBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG5UaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXRcbmh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dCBUaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0XG5odHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHQgVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlXG5mb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dCBDb2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhc1xucGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc28gc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudFxuZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4qL1xuZXhwb3J0IGNvbnN0IHN1cHBvcnRzQWRvcHRpbmdTdHlsZVNoZWV0cyA9ICgnYWRvcHRlZFN0eWxlU2hlZXRzJyBpbiBEb2N1bWVudC5wcm90b3R5cGUpICYmXG4gICAgKCdyZXBsYWNlJyBpbiBDU1NTdHlsZVNoZWV0LnByb3RvdHlwZSk7XG5jb25zdCBjb25zdHJ1Y3Rpb25Ub2tlbiA9IFN5bWJvbCgpO1xuZXhwb3J0IGNsYXNzIENTU1Jlc3VsdCB7XG4gICAgY29uc3RydWN0b3IoY3NzVGV4dCwgc2FmZVRva2VuKSB7XG4gICAgICAgIGlmIChzYWZlVG9rZW4gIT09IGNvbnN0cnVjdGlvblRva2VuKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NTU1Jlc3VsdCBpcyBub3QgY29uc3RydWN0YWJsZS4gVXNlIGB1bnNhZmVDU1NgIG9yIGBjc3NgIGluc3RlYWQuJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jc3NUZXh0ID0gY3NzVGV4dDtcbiAgICB9XG4gICAgLy8gTm90ZSwgdGhpcyBpcyBhIGdldHRlciBzbyB0aGF0IGl0J3MgbGF6eS4gSW4gcHJhY3RpY2UsIHRoaXMgbWVhbnNcbiAgICAvLyBzdHlsZXNoZWV0cyBhcmUgbm90IGNyZWF0ZWQgdW50aWwgdGhlIGZpcnN0IGVsZW1lbnQgaW5zdGFuY2UgaXMgbWFkZS5cbiAgICBnZXQgc3R5bGVTaGVldCgpIHtcbiAgICAgICAgaWYgKHRoaXMuX3N0eWxlU2hlZXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgLy8gTm90ZSwgaWYgYGFkb3B0ZWRTdHlsZVNoZWV0c2AgaXMgc3VwcG9ydGVkIHRoZW4gd2UgYXNzdW1lIENTU1N0eWxlU2hlZXRcbiAgICAgICAgICAgIC8vIGlzIGNvbnN0cnVjdGFibGUuXG4gICAgICAgICAgICBpZiAoc3VwcG9ydHNBZG9wdGluZ1N0eWxlU2hlZXRzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fc3R5bGVTaGVldCA9IG5ldyBDU1NTdHlsZVNoZWV0KCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fc3R5bGVTaGVldC5yZXBsYWNlU3luYyh0aGlzLmNzc1RleHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fc3R5bGVTaGVldCA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX3N0eWxlU2hlZXQ7XG4gICAgfVxuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jc3NUZXh0O1xuICAgIH1cbn1cbi8qKlxuICogV3JhcCBhIHZhbHVlIGZvciBpbnRlcnBvbGF0aW9uIGluIGEgY3NzIHRhZ2dlZCB0ZW1wbGF0ZSBsaXRlcmFsLlxuICpcbiAqIFRoaXMgaXMgdW5zYWZlIGJlY2F1c2UgdW50cnVzdGVkIENTUyB0ZXh0IGNhbiBiZSB1c2VkIHRvIHBob25lIGhvbWVcbiAqIG9yIGV4ZmlsdHJhdGUgZGF0YSB0byBhbiBhdHRhY2tlciBjb250cm9sbGVkIHNpdGUuIFRha2UgY2FyZSB0byBvbmx5IHVzZVxuICogdGhpcyB3aXRoIHRydXN0ZWQgaW5wdXQuXG4gKi9cbmV4cG9ydCBjb25zdCB1bnNhZmVDU1MgPSAodmFsdWUpID0+IHtcbiAgICByZXR1cm4gbmV3IENTU1Jlc3VsdChTdHJpbmcodmFsdWUpLCBjb25zdHJ1Y3Rpb25Ub2tlbik7XG59O1xuY29uc3QgdGV4dEZyb21DU1NSZXN1bHQgPSAodmFsdWUpID0+IHtcbiAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBDU1NSZXN1bHQpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlLmNzc1RleHQ7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBWYWx1ZSBwYXNzZWQgdG8gJ2NzcycgZnVuY3Rpb24gbXVzdCBiZSBhICdjc3MnIGZ1bmN0aW9uIHJlc3VsdDogJHt2YWx1ZX0uIFVzZSAndW5zYWZlQ1NTJyB0byBwYXNzIG5vbi1saXRlcmFsIHZhbHVlcywgYnV0XG4gICAgICAgICAgICB0YWtlIGNhcmUgdG8gZW5zdXJlIHBhZ2Ugc2VjdXJpdHkuYCk7XG4gICAgfVxufTtcbi8qKlxuICogVGVtcGxhdGUgdGFnIHdoaWNoIHdoaWNoIGNhbiBiZSB1c2VkIHdpdGggTGl0RWxlbWVudCdzIGBzdHlsZWAgcHJvcGVydHkgdG9cbiAqIHNldCBlbGVtZW50IHN0eWxlcy4gRm9yIHNlY3VyaXR5IHJlYXNvbnMsIG9ubHkgbGl0ZXJhbCBzdHJpbmcgdmFsdWVzIG1heSBiZVxuICogdXNlZC4gVG8gaW5jb3Jwb3JhdGUgbm9uLWxpdGVyYWwgdmFsdWVzIGB1bnNhZmVDU1NgIG1heSBiZSB1c2VkIGluc2lkZSBhXG4gKiB0ZW1wbGF0ZSBzdHJpbmcgcGFydC5cbiAqL1xuZXhwb3J0IGNvbnN0IGNzcyA9IChzdHJpbmdzLCAuLi52YWx1ZXMpID0+IHtcbiAgICBjb25zdCBjc3NUZXh0ID0gdmFsdWVzLnJlZHVjZSgoYWNjLCB2LCBpZHgpID0+IGFjYyArIHRleHRGcm9tQ1NTUmVzdWx0KHYpICsgc3RyaW5nc1tpZHggKyAxXSwgc3RyaW5nc1swXSk7XG4gICAgcmV0dXJuIG5ldyBDU1NSZXN1bHQoY3NzVGV4dCwgY29uc3RydWN0aW9uVG9rZW4pO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNzcy10YWcuanMubWFwIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIFRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbiAqIENvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG4gKiBzdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiAqL1xuaW1wb3J0IHsgVGVtcGxhdGVSZXN1bHQgfSBmcm9tICdsaXQtaHRtbCc7XG5pbXBvcnQgeyByZW5kZXIgfSBmcm9tICdsaXQtaHRtbC9saWIvc2hhZHktcmVuZGVyLmpzJztcbmltcG9ydCB7IFVwZGF0aW5nRWxlbWVudCB9IGZyb20gJy4vbGliL3VwZGF0aW5nLWVsZW1lbnQuanMnO1xuZXhwb3J0ICogZnJvbSAnLi9saWIvdXBkYXRpbmctZWxlbWVudC5qcyc7XG5leHBvcnQgKiBmcm9tICcuL2xpYi9kZWNvcmF0b3JzLmpzJztcbmV4cG9ydCB7IGh0bWwsIHN2ZywgVGVtcGxhdGVSZXN1bHQsIFNWR1RlbXBsYXRlUmVzdWx0IH0gZnJvbSAnbGl0LWh0bWwvbGl0LWh0bWwuanMnO1xuaW1wb3J0IHsgc3VwcG9ydHNBZG9wdGluZ1N0eWxlU2hlZXRzIH0gZnJvbSAnLi9saWIvY3NzLXRhZy5qcyc7XG5leHBvcnQgKiBmcm9tICcuL2xpYi9jc3MtdGFnLmpzJztcbi8vIElNUE9SVEFOVDogZG8gbm90IGNoYW5nZSB0aGUgcHJvcGVydHkgbmFtZSBvciB0aGUgYXNzaWdubWVudCBleHByZXNzaW9uLlxuLy8gVGhpcyBsaW5lIHdpbGwgYmUgdXNlZCBpbiByZWdleGVzIHRvIHNlYXJjaCBmb3IgTGl0RWxlbWVudCB1c2FnZS5cbi8vIFRPRE8oanVzdGluZmFnbmFuaSk6IGluamVjdCB2ZXJzaW9uIG51bWJlciBhdCBidWlsZCB0aW1lXG4od2luZG93WydsaXRFbGVtZW50VmVyc2lvbnMnXSB8fCAod2luZG93WydsaXRFbGVtZW50VmVyc2lvbnMnXSA9IFtdKSlcbiAgICAucHVzaCgnMi4yLjEnKTtcbi8qKlxuICogTWluaW1hbCBpbXBsZW1lbnRhdGlvbiBvZiBBcnJheS5wcm90b3R5cGUuZmxhdFxuICogQHBhcmFtIGFyciB0aGUgYXJyYXkgdG8gZmxhdHRlblxuICogQHBhcmFtIHJlc3VsdCB0aGUgYWNjdW1sYXRlZCByZXN1bHRcbiAqL1xuZnVuY3Rpb24gYXJyYXlGbGF0KHN0eWxlcywgcmVzdWx0ID0gW10pIHtcbiAgICBmb3IgKGxldCBpID0gMCwgbGVuZ3RoID0gc3R5bGVzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gc3R5bGVzW2ldO1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgICAgIGFycmF5RmxhdCh2YWx1ZSwgcmVzdWx0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuLyoqIERlZXBseSBmbGF0dGVucyBzdHlsZXMgYXJyYXkuIFVzZXMgbmF0aXZlIGZsYXQgaWYgYXZhaWxhYmxlLiAqL1xuY29uc3QgZmxhdHRlblN0eWxlcyA9IChzdHlsZXMpID0+IHN0eWxlcy5mbGF0ID8gc3R5bGVzLmZsYXQoSW5maW5pdHkpIDogYXJyYXlGbGF0KHN0eWxlcyk7XG5leHBvcnQgY2xhc3MgTGl0RWxlbWVudCBleHRlbmRzIFVwZGF0aW5nRWxlbWVudCB7XG4gICAgLyoqIEBub2NvbGxhcHNlICovXG4gICAgc3RhdGljIGZpbmFsaXplKCkge1xuICAgICAgICAvLyBUaGUgQ2xvc3VyZSBKUyBDb21waWxlciBkb2VzIG5vdCBhbHdheXMgcHJlc2VydmUgdGhlIGNvcnJlY3QgXCJ0aGlzXCJcbiAgICAgICAgLy8gd2hlbiBjYWxsaW5nIHN0YXRpYyBzdXBlciBtZXRob2RzIChiLzEzNzQ2MDI0MyksIHNvIGV4cGxpY2l0bHkgYmluZC5cbiAgICAgICAgc3VwZXIuZmluYWxpemUuY2FsbCh0aGlzKTtcbiAgICAgICAgLy8gUHJlcGFyZSBzdHlsaW5nIHRoYXQgaXMgc3RhbXBlZCBhdCBmaXJzdCByZW5kZXIgdGltZS4gU3R5bGluZ1xuICAgICAgICAvLyBpcyBidWlsdCBmcm9tIHVzZXIgcHJvdmlkZWQgYHN0eWxlc2Agb3IgaXMgaW5oZXJpdGVkIGZyb20gdGhlIHN1cGVyY2xhc3MuXG4gICAgICAgIHRoaXMuX3N0eWxlcyA9XG4gICAgICAgICAgICB0aGlzLmhhc093blByb3BlcnR5KEpTQ29tcGlsZXJfcmVuYW1lUHJvcGVydHkoJ3N0eWxlcycsIHRoaXMpKSA/XG4gICAgICAgICAgICAgICAgdGhpcy5fZ2V0VW5pcXVlU3R5bGVzKCkgOlxuICAgICAgICAgICAgICAgIHRoaXMuX3N0eWxlcyB8fCBbXTtcbiAgICB9XG4gICAgLyoqIEBub2NvbGxhcHNlICovXG4gICAgc3RhdGljIF9nZXRVbmlxdWVTdHlsZXMoKSB7XG4gICAgICAgIC8vIFRha2UgY2FyZSBub3QgdG8gY2FsbCBgdGhpcy5zdHlsZXNgIG11bHRpcGxlIHRpbWVzIHNpbmNlIHRoaXMgZ2VuZXJhdGVzXG4gICAgICAgIC8vIG5ldyBDU1NSZXN1bHRzIGVhY2ggdGltZS5cbiAgICAgICAgLy8gVE9ETyhzb3J2ZWxsKTogU2luY2Ugd2UgZG8gbm90IGNhY2hlIENTU1Jlc3VsdHMgYnkgaW5wdXQsIGFueVxuICAgICAgICAvLyBzaGFyZWQgc3R5bGVzIHdpbGwgZ2VuZXJhdGUgbmV3IHN0eWxlc2hlZXQgb2JqZWN0cywgd2hpY2ggaXMgd2FzdGVmdWwuXG4gICAgICAgIC8vIFRoaXMgc2hvdWxkIGJlIGFkZHJlc3NlZCB3aGVuIGEgYnJvd3NlciBzaGlwcyBjb25zdHJ1Y3RhYmxlXG4gICAgICAgIC8vIHN0eWxlc2hlZXRzLlxuICAgICAgICBjb25zdCB1c2VyU3R5bGVzID0gdGhpcy5zdHlsZXM7XG4gICAgICAgIGNvbnN0IHN0eWxlcyA9IFtdO1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh1c2VyU3R5bGVzKSkge1xuICAgICAgICAgICAgY29uc3QgZmxhdFN0eWxlcyA9IGZsYXR0ZW5TdHlsZXModXNlclN0eWxlcyk7XG4gICAgICAgICAgICAvLyBBcyBhIHBlcmZvcm1hbmNlIG9wdGltaXphdGlvbiB0byBhdm9pZCBkdXBsaWNhdGVkIHN0eWxpbmcgdGhhdCBjYW5cbiAgICAgICAgICAgIC8vIG9jY3VyIGVzcGVjaWFsbHkgd2hlbiBjb21wb3NpbmcgdmlhIHN1YmNsYXNzaW5nLCBkZS1kdXBsaWNhdGUgc3R5bGVzXG4gICAgICAgICAgICAvLyBwcmVzZXJ2aW5nIHRoZSBsYXN0IGl0ZW0gaW4gdGhlIGxpc3QuIFRoZSBsYXN0IGl0ZW0gaXMga2VwdCB0b1xuICAgICAgICAgICAgLy8gdHJ5IHRvIHByZXNlcnZlIGNhc2NhZGUgb3JkZXIgd2l0aCB0aGUgYXNzdW1wdGlvbiB0aGF0IGl0J3MgbW9zdFxuICAgICAgICAgICAgLy8gaW1wb3J0YW50IHRoYXQgbGFzdCBhZGRlZCBzdHlsZXMgb3ZlcnJpZGUgcHJldmlvdXMgc3R5bGVzLlxuICAgICAgICAgICAgY29uc3Qgc3R5bGVTZXQgPSBmbGF0U3R5bGVzLnJlZHVjZVJpZ2h0KChzZXQsIHMpID0+IHtcbiAgICAgICAgICAgICAgICBzZXQuYWRkKHMpO1xuICAgICAgICAgICAgICAgIC8vIG9uIElFIHNldC5hZGQgZG9lcyBub3QgcmV0dXJuIHRoZSBzZXQuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHNldDtcbiAgICAgICAgICAgIH0sIG5ldyBTZXQoKSk7XG4gICAgICAgICAgICAvLyBBcnJheS5mcm9tIGRvZXMgbm90IHdvcmsgb24gU2V0IGluIElFXG4gICAgICAgICAgICBzdHlsZVNldC5mb3JFYWNoKCh2KSA9PiBzdHlsZXMudW5zaGlmdCh2KSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodXNlclN0eWxlcykge1xuICAgICAgICAgICAgc3R5bGVzLnB1c2godXNlclN0eWxlcyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN0eWxlcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogUGVyZm9ybXMgZWxlbWVudCBpbml0aWFsaXphdGlvbi4gQnkgZGVmYXVsdCB0aGlzIGNhbGxzIGBjcmVhdGVSZW5kZXJSb290YFxuICAgICAqIHRvIGNyZWF0ZSB0aGUgZWxlbWVudCBgcmVuZGVyUm9vdGAgbm9kZSBhbmQgY2FwdHVyZXMgYW55IHByZS1zZXQgdmFsdWVzIGZvclxuICAgICAqIHJlZ2lzdGVyZWQgcHJvcGVydGllcy5cbiAgICAgKi9cbiAgICBpbml0aWFsaXplKCkge1xuICAgICAgICBzdXBlci5pbml0aWFsaXplKCk7XG4gICAgICAgIHRoaXMucmVuZGVyUm9vdCA9XG4gICAgICAgICAgICB0aGlzLmNyZWF0ZVJlbmRlclJvb3QoKTtcbiAgICAgICAgLy8gTm90ZSwgaWYgcmVuZGVyUm9vdCBpcyBub3QgYSBzaGFkb3dSb290LCBzdHlsZXMgd291bGQvY291bGQgYXBwbHkgdG8gdGhlXG4gICAgICAgIC8vIGVsZW1lbnQncyBnZXRSb290Tm9kZSgpLiBXaGlsZSB0aGlzIGNvdWxkIGJlIGRvbmUsIHdlJ3JlIGNob29zaW5nIG5vdCB0b1xuICAgICAgICAvLyBzdXBwb3J0IHRoaXMgbm93IHNpbmNlIGl0IHdvdWxkIHJlcXVpcmUgZGlmZmVyZW50IGxvZ2ljIGFyb3VuZCBkZS1kdXBpbmcuXG4gICAgICAgIGlmICh3aW5kb3cuU2hhZG93Um9vdCAmJiB0aGlzLnJlbmRlclJvb3QgaW5zdGFuY2VvZiB3aW5kb3cuU2hhZG93Um9vdCkge1xuICAgICAgICAgICAgdGhpcy5hZG9wdFN0eWxlcygpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIG5vZGUgaW50byB3aGljaCB0aGUgZWxlbWVudCBzaG91bGQgcmVuZGVyIGFuZCBieSBkZWZhdWx0XG4gICAgICogY3JlYXRlcyBhbmQgcmV0dXJucyBhbiBvcGVuIHNoYWRvd1Jvb3QuIEltcGxlbWVudCB0byBjdXN0b21pemUgd2hlcmUgdGhlXG4gICAgICogZWxlbWVudCdzIERPTSBpcyByZW5kZXJlZC4gRm9yIGV4YW1wbGUsIHRvIHJlbmRlciBpbnRvIHRoZSBlbGVtZW50J3NcbiAgICAgKiBjaGlsZE5vZGVzLCByZXR1cm4gYHRoaXNgLlxuICAgICAqIEByZXR1cm5zIHtFbGVtZW50fERvY3VtZW50RnJhZ21lbnR9IFJldHVybnMgYSBub2RlIGludG8gd2hpY2ggdG8gcmVuZGVyLlxuICAgICAqL1xuICAgIGNyZWF0ZVJlbmRlclJvb3QoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmF0dGFjaFNoYWRvdyh7IG1vZGU6ICdvcGVuJyB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQXBwbGllcyBzdHlsaW5nIHRvIHRoZSBlbGVtZW50IHNoYWRvd1Jvb3QgdXNpbmcgdGhlIGBzdGF0aWMgZ2V0IHN0eWxlc2BcbiAgICAgKiBwcm9wZXJ0eS4gU3R5bGluZyB3aWxsIGFwcGx5IHVzaW5nIGBzaGFkb3dSb290LmFkb3B0ZWRTdHlsZVNoZWV0c2Agd2hlcmVcbiAgICAgKiBhdmFpbGFibGUgYW5kIHdpbGwgZmFsbGJhY2sgb3RoZXJ3aXNlLiBXaGVuIFNoYWRvdyBET00gaXMgcG9seWZpbGxlZCxcbiAgICAgKiBTaGFkeUNTUyBzY29wZXMgc3R5bGVzIGFuZCBhZGRzIHRoZW0gdG8gdGhlIGRvY3VtZW50LiBXaGVuIFNoYWRvdyBET01cbiAgICAgKiBpcyBhdmFpbGFibGUgYnV0IGBhZG9wdGVkU3R5bGVTaGVldHNgIGlzIG5vdCwgc3R5bGVzIGFyZSBhcHBlbmRlZCB0byB0aGVcbiAgICAgKiBlbmQgb2YgdGhlIGBzaGFkb3dSb290YCB0byBbbWltaWMgc3BlY1xuICAgICAqIGJlaGF2aW9yXShodHRwczovL3dpY2cuZ2l0aHViLmlvL2NvbnN0cnVjdC1zdHlsZXNoZWV0cy8jdXNpbmctY29uc3RydWN0ZWQtc3R5bGVzaGVldHMpLlxuICAgICAqL1xuICAgIGFkb3B0U3R5bGVzKCkge1xuICAgICAgICBjb25zdCBzdHlsZXMgPSB0aGlzLmNvbnN0cnVjdG9yLl9zdHlsZXM7XG4gICAgICAgIGlmIChzdHlsZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gVGhlcmUgYXJlIHRocmVlIHNlcGFyYXRlIGNhc2VzIGhlcmUgYmFzZWQgb24gU2hhZG93IERPTSBzdXBwb3J0LlxuICAgICAgICAvLyAoMSkgc2hhZG93Um9vdCBwb2x5ZmlsbGVkOiB1c2UgU2hhZHlDU1NcbiAgICAgICAgLy8gKDIpIHNoYWRvd1Jvb3QuYWRvcHRlZFN0eWxlU2hlZXRzIGF2YWlsYWJsZTogdXNlIGl0LlxuICAgICAgICAvLyAoMykgc2hhZG93Um9vdC5hZG9wdGVkU3R5bGVTaGVldHMgcG9seWZpbGxlZDogYXBwZW5kIHN0eWxlcyBhZnRlclxuICAgICAgICAvLyByZW5kZXJpbmdcbiAgICAgICAgaWYgKHdpbmRvdy5TaGFkeUNTUyAhPT0gdW5kZWZpbmVkICYmICF3aW5kb3cuU2hhZHlDU1MubmF0aXZlU2hhZG93KSB7XG4gICAgICAgICAgICB3aW5kb3cuU2hhZHlDU1MuU2NvcGluZ1NoaW0ucHJlcGFyZUFkb3B0ZWRDc3NUZXh0KHN0eWxlcy5tYXAoKHMpID0+IHMuY3NzVGV4dCksIHRoaXMubG9jYWxOYW1lKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChzdXBwb3J0c0Fkb3B0aW5nU3R5bGVTaGVldHMpIHtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyUm9vdC5hZG9wdGVkU3R5bGVTaGVldHMgPVxuICAgICAgICAgICAgICAgIHN0eWxlcy5tYXAoKHMpID0+IHMuc3R5bGVTaGVldCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBUaGlzIG11c3QgYmUgZG9uZSBhZnRlciByZW5kZXJpbmcgc28gdGhlIGFjdHVhbCBzdHlsZSBpbnNlcnRpb24gaXMgZG9uZVxuICAgICAgICAgICAgLy8gaW4gYHVwZGF0ZWAuXG4gICAgICAgICAgICB0aGlzLl9uZWVkc1NoaW1BZG9wdGVkU3R5bGVTaGVldHMgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgICAgICBzdXBlci5jb25uZWN0ZWRDYWxsYmFjaygpO1xuICAgICAgICAvLyBOb3RlLCBmaXJzdCB1cGRhdGUvcmVuZGVyIGhhbmRsZXMgc3R5bGVFbGVtZW50IHNvIHdlIG9ubHkgY2FsbCB0aGlzIGlmXG4gICAgICAgIC8vIGNvbm5lY3RlZCBhZnRlciBmaXJzdCB1cGRhdGUuXG4gICAgICAgIGlmICh0aGlzLmhhc1VwZGF0ZWQgJiYgd2luZG93LlNoYWR5Q1NTICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdpbmRvdy5TaGFkeUNTUy5zdHlsZUVsZW1lbnQodGhpcyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgZWxlbWVudC4gVGhpcyBtZXRob2QgcmVmbGVjdHMgcHJvcGVydHkgdmFsdWVzIHRvIGF0dHJpYnV0ZXNcbiAgICAgKiBhbmQgY2FsbHMgYHJlbmRlcmAgdG8gcmVuZGVyIERPTSB2aWEgbGl0LWh0bWwuIFNldHRpbmcgcHJvcGVydGllcyBpbnNpZGVcbiAgICAgKiB0aGlzIG1ldGhvZCB3aWxsICpub3QqIHRyaWdnZXIgYW5vdGhlciB1cGRhdGUuXG4gICAgICogKiBAcGFyYW0gX2NoYW5nZWRQcm9wZXJ0aWVzIE1hcCBvZiBjaGFuZ2VkIHByb3BlcnRpZXMgd2l0aCBvbGQgdmFsdWVzXG4gICAgICovXG4gICAgdXBkYXRlKGNoYW5nZWRQcm9wZXJ0aWVzKSB7XG4gICAgICAgIHN1cGVyLnVwZGF0ZShjaGFuZ2VkUHJvcGVydGllcyk7XG4gICAgICAgIGNvbnN0IHRlbXBsYXRlUmVzdWx0ID0gdGhpcy5yZW5kZXIoKTtcbiAgICAgICAgaWYgKHRlbXBsYXRlUmVzdWx0IGluc3RhbmNlb2YgVGVtcGxhdGVSZXN1bHQpIHtcbiAgICAgICAgICAgIHRoaXMuY29uc3RydWN0b3JcbiAgICAgICAgICAgICAgICAucmVuZGVyKHRlbXBsYXRlUmVzdWx0LCB0aGlzLnJlbmRlclJvb3QsIHsgc2NvcGVOYW1lOiB0aGlzLmxvY2FsTmFtZSwgZXZlbnRDb250ZXh0OiB0aGlzIH0pO1xuICAgICAgICB9XG4gICAgICAgIC8vIFdoZW4gbmF0aXZlIFNoYWRvdyBET00gaXMgdXNlZCBidXQgYWRvcHRlZFN0eWxlcyBhcmUgbm90IHN1cHBvcnRlZCxcbiAgICAgICAgLy8gaW5zZXJ0IHN0eWxpbmcgYWZ0ZXIgcmVuZGVyaW5nIHRvIGVuc3VyZSBhZG9wdGVkU3R5bGVzIGhhdmUgaGlnaGVzdFxuICAgICAgICAvLyBwcmlvcml0eS5cbiAgICAgICAgaWYgKHRoaXMuX25lZWRzU2hpbUFkb3B0ZWRTdHlsZVNoZWV0cykge1xuICAgICAgICAgICAgdGhpcy5fbmVlZHNTaGltQWRvcHRlZFN0eWxlU2hlZXRzID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmNvbnN0cnVjdG9yLl9zdHlsZXMuZm9yRWFjaCgocykgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgICAgICAgICAgICAgICBzdHlsZS50ZXh0Q29udGVudCA9IHMuY3NzVGV4dDtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlclJvb3QuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogSW52b2tlZCBvbiBlYWNoIHVwZGF0ZSB0byBwZXJmb3JtIHJlbmRlcmluZyB0YXNrcy4gVGhpcyBtZXRob2QgbXVzdCByZXR1cm5cbiAgICAgKiBhIGxpdC1odG1sIFRlbXBsYXRlUmVzdWx0LiBTZXR0aW5nIHByb3BlcnRpZXMgaW5zaWRlIHRoaXMgbWV0aG9kIHdpbGwgKm5vdCpcbiAgICAgKiB0cmlnZ2VyIHRoZSBlbGVtZW50IHRvIHVwZGF0ZS5cbiAgICAgKi9cbiAgICByZW5kZXIoKSB7XG4gICAgfVxufVxuLyoqXG4gKiBFbnN1cmUgdGhpcyBjbGFzcyBpcyBtYXJrZWQgYXMgYGZpbmFsaXplZGAgYXMgYW4gb3B0aW1pemF0aW9uIGVuc3VyaW5nXG4gKiBpdCB3aWxsIG5vdCBuZWVkbGVzc2x5IHRyeSB0byBgZmluYWxpemVgLlxuICpcbiAqIE5vdGUgdGhpcyBwcm9wZXJ0eSBuYW1lIGlzIGEgc3RyaW5nIHRvIHByZXZlbnQgYnJlYWtpbmcgQ2xvc3VyZSBKUyBDb21waWxlclxuICogb3B0aW1pemF0aW9ucy4gU2VlIHVwZGF0aW5nLWVsZW1lbnQudHMgZm9yIG1vcmUgaW5mb3JtYXRpb24uXG4gKi9cbkxpdEVsZW1lbnRbJ2ZpbmFsaXplZCddID0gdHJ1ZTtcbi8qKlxuICogUmVuZGVyIG1ldGhvZCB1c2VkIHRvIHJlbmRlciB0aGUgbGl0LWh0bWwgVGVtcGxhdGVSZXN1bHQgdG8gdGhlIGVsZW1lbnQnc1xuICogRE9NLlxuICogQHBhcmFtIHtUZW1wbGF0ZVJlc3VsdH0gVGVtcGxhdGUgdG8gcmVuZGVyLlxuICogQHBhcmFtIHtFbGVtZW50fERvY3VtZW50RnJhZ21lbnR9IE5vZGUgaW50byB3aGljaCB0byByZW5kZXIuXG4gKiBAcGFyYW0ge1N0cmluZ30gRWxlbWVudCBuYW1lLlxuICogQG5vY29sbGFwc2VcbiAqL1xuTGl0RWxlbWVudC5yZW5kZXIgPSByZW5kZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1saXQtZWxlbWVudC5qcy5tYXAiLCJpbXBvcnQge1xyXG4gIExpdEVsZW1lbnQsXHJcbiAgaHRtbCxcclxuICBjc3MsXHJcbiAgY3VzdG9tRWxlbWVudFxyXG59IGZyb20gXCJsaXQtZWxlbWVudFwiO1xyXG5pbXBvcnQgQ29uZmV0dGlHZW5lcmF0b3IgZnJvbSBcImNvbmZldHRpLWpzXCI7XHJcbmltcG9ydCB7IHdyaXRlVXNlckRhdGF9IGZyb20gXCIuL3V0aWxcIjtcclxuaW1wb3J0IHsgUHJvZmlsZUNhcmQgfSBmcm9tIFwiLi9wcm9maWxlLWNhcmRcIjtcclxuaW1wb3J0IHtcclxuICBsZXZlbHMsIExldmVscywgTGV2ZWwsIEZvcm1zLCBXb3JkXHJcbn0gZnJvbSBcIi4vZGF0YVwiO1xyXG5pbXBvcnQgeyBzaG93TG9nIH0gZnJvbSBcIi4vbG9nLXNjcmVlblwiO1xyXG5kZWNsYXJlIGdsb2JhbCB7XHJcbiAgaW50ZXJmYWNlIFdpbmRvdyB7XHJcbiAgICBmaXJlYmFzZTogYW55O1xyXG4gIH1cclxufVxyXG5cclxuaW50ZXJmYWNlIElVc2VyIHtcclxuICBlbWFpbDogc3RyaW5nO1xyXG4gIHVpZDogbnVtYmVyO1xyXG4gIG5hbWU6IHN0cmluZztcclxufVxyXG5cclxuXHJcbnR5cGUgUG9pbnRDb2xsZWN0aW9uID0geyBba2V5OiBzdHJpbmddOiBudW1iZXIgfTtcclxuXHJcbmV4cG9ydCBjbGFzcyBFbmdsaXNoVmVyYnNHYW1lIGV4dGVuZHMgTGl0RWxlbWVudCB7XHJcbiAgc3RhdGljIGdldCBwcm9wZXJ0aWVzKCkge1xyXG4gICAgcmV0dXJuIHt9O1xyXG4gIH1cclxuICBzdGF0aWMgZ2V0IHN0eWxlcygpIHtcclxuICAgIHJldHVybiBbXHJcbiAgICAgIGNzc2BcclxuICAgICAgICA6aG9zdCB7XHJcbiAgICAgICAgICBiYWNrZ3JvdW5kOiB3aGl0ZTs7XHJcbiAgICAgICAgICB3aWR0aDogMTAwdnc7XHJcbiAgICAgICAgICBoZWlnaHQ6IDEwMHZoO1xyXG4gICAgICAgICBcclxuICAgICAgICAgIC0tZ2xvYmFsLWZvbnQ6IFwiQ2FiaW5cIiwgc2Fucy1zZXJpZjtcclxuICAgICAgICAgIC0tZ2xvYmFsLWNvbG9yOiAjN2ZiMmZmO1xyXG4gICAgICAgICAgLS1tb2JpbGUtYmFja2dyb3VuZC1jb2xvcjogI2NjZDRlMDtcclxuICAgICAgICAgIC0tbW9iaWxlLXRvcDogbGluZWFyLWdyYWRpZW50KHRvIGJvdHRvbSwgI2E1N2ZmZiwgIzYzYmRhMik7XHJcbiAgICAgICAgICAtLW1vYmlsZS1ib3R0b206IGxpbmVhci1ncmFkaWVudCh0byB0b3AsICNhNTdmZmYsICM2M2JkYTIpO1xyXG4gICAgICAgICAgLS1tb2JpbGUtZ2xvYmFsOiAjODdjMGMwO1xyXG4gICAgICAgICAgLS1kZXNrdG9wLWNvbG9yOiAjYTU3ZmZmO1xyXG4gICAgICAgICAgLS13YXJuLWNvbG9yOiAjZmZmMjdmO1xyXG4gICAgICAgICAgLS1iYWQtY29sb3I6ICNmZmIyN2Y7XHJcbiAgICAgICAgICAtLWdvb2QtY29sb3I6ICM3ZGZmYWY7XHJcbiAgICAgICAgICBvdmVyZmxvdzogaGlkZGVuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAjdGl0bGUge1xyXG4gICAgICAgICAgZm9udC1mYW1pbHk6IHZhcigtLWdsb2JhbC1mb250KTtcclxuICAgICAgICAgIGZvbnQtc2l6ZTogMnJlbTtcclxuICAgICAgICB9XHJcbiAgICAgICAgI21lbnVidXR0b246aG92ZXJ7XHJcbiAgICAgICAgICB0cmFuc2Zvcm06IHNjYWxlKDEuMik7XHJcbiAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgICNjb250YWluZXIge1xyXG4gICAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICAgICAgICBoZWlnaHQ6IDEwMCU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlucHV0IHtcclxuICAgICAgICAgIG91dGxpbmU6IDFweCBzb2xpZCB3aGl0ZTtcclxuICAgICAgICAgIGJvcmRlcjogbm9uZTtcclxuICAgICAgICAgIGFuaW1hdGlvbjogYm9yZGVyRmxpY2tlciAwLjRzIGluZmluaXRlIGFsdGVybmF0ZS1yZXZlcnNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgQGtleWZyYW1lcyBib3JkZXJGbGlja2VyIHtcclxuICAgICAgICAgIDEwMCUge1xyXG4gICAgICAgICAgICBvdXRsaW5lOiAxcHggdmFyKC0tZ2xvYmFsLWNvbG9yKSBzb2xpZDtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgQGtleWZyYW1lcyB3cm9uZyB7XHJcbiAgICAgICAgICB0byB7XHJcbiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWJhZC1jb2xvcik7XHJcbiAgICAgICAgICAgIGNvbG9yOiB3aGl0ZTtcclxuICAgICAgICAgICAgb3V0bGluZTogMXB4IHNvbGlkIHZhcigtLWJhZC1jb2xvcik7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpbnB1dCxcclxuICAgICAgICAudGhld29yZCB7XHJcbiAgICAgICAgICB3aWR0aDogMjB2dztcclxuICAgICAgICAgIGhlaWdodDogMzB2aDtcclxuICAgICAgICAgIGZvbnQtc2l6ZTogMjAwJTtcclxuICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gICAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICAgICAgICBmb250LWZhbWlseTogdmFyKC0tZ2xvYmFsLWZvbnQpO1xyXG4gICAgICAgICBcclxuICAgICAgICB9XHJcbiAgICAgICAgaW5wdXR7XHJcbiAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAgdHJhbnNwYXJlbnQ7XHJcbiAgICAgICAgICBjb2xvcjogdmFyKC0tZ2xvYmFsLWNvbG9yKTtcclxuICAgICAgICAgIG91dGxpbmU6IDFweCBzb2xpZCB0cmFuc3BhcmVudDtcclxuICAgICAgICB9XHJcbiBcclxuICAgICAgICBAa2V5ZnJhbWVzIHN0b3Age1xyXG4gICAgICAgICAgdG8ge1xyXG4gICAgICAgICAgICBvdXRsaW5lOiAxcHggc29saWQgdmFyKC0tZ2xvYmFsLWNvbG9yKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLnRoZXdvcmQge1xyXG4gICAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tZ2xvYmFsLWNvbG9yKTtcclxuICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICB2YXIoLS1nbG9iYWwtY29sb3IpO1xyXG4gICAgICAgICAgY29sb3I6IHdoaXRlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBzZWxlY3Qge1xyXG4gICAgICAgICAganVzdGlmeS1zZWxmOiBmbGV4LXN0YXJ0O1xyXG4gICAgICAgICAgcGFkZGluZzogMC42cmVtO1xyXG4gICAgICAgICAgd2lkdGg6IG1heC1jb250ZW50O1xyXG4gICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XHJcbiAgICAgICAgICBmb250LWZhbWlseTogdmFyKC0tZ2xvYmFsLWZvbnQpO1xyXG4gICAgICAgICAgY29sb3I6IGJsYWNrO1xyXG4gICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgYmxhY2s7XHJcbiAgICAgICAgICBtYXJnaW4tdG9wOiAuNnJlbTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIG9wdGlvbiB7XHJcbiAgICAgICAgICBwYWRkaW5nOiAwLjRyZW07XHJcbiAgICAgICAgICBmb250LWZhbWlseTogdmFyKC0tZ2xvYmFsLWZvbnQpO1xyXG4gICAgICAgICAgZm9udC1zaXplOiAxMjAlO1xyXG4gICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XHJcbiAgICAgICAgICBjb2xvcjogYmxhY2s7XHJcbiAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCBibGFjaztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICNiZWxvdyB7XHJcbiAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICAgICAgbWFyZ2luLXRvcDogNnZoO1xyXG4gICAgICAgICAgd2lkdGg6IDEwMCU7XHJcbiAgICAgICAgICBoZWlnaHQ6IDIuNHJlbTtcclxuICAgICAgICAgIGZvbnQtc2l6ZTogMTQwJTtcclxuICAgICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gICAgICAgICAgY29sb3I6IGJsYWNrO1xyXG4gICAgICAgICAgZm9udC1mYW1pbHk6IHZhcigtLWdsb2JhbC1mb250KTtcclxuICAgICAgICB9XHJcbiAgICAgICBcclxuXHJcbiAgICAgICAgLmljb24ge1xyXG4gICAgICAgICAgb2JqZWN0LWZpdDogY29udGFpbjtcclxuICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xyXG4gICAgICAgICAgd2lkdGg6IDQuMnJlbTtcclxuICAgICAgICAgIGhlaWdodDogMS44cmVtO1xyXG4gICAgICAgICAgbWFyZ2luLWxlZnQ6IDFyZW07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAuZmxpcC1jYXJkIHtcclxuICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xyXG4gICAgICAgICAgd2lkdGg6IDIwdnc7XHJcbiAgICAgICAgICBoZWlnaHQ6IDMwdmg7XHJcbiAgICAgICAgICBwZXJzcGVjdGl2ZTogMTAwMHB4O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLmZsaXAtY2FyZC1pbm5lciB7XHJcbiAgICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgICAgICAgICB3aWR0aDogMTAwJTtcclxuICAgICAgICAgIGhlaWdodDogMTAwJTtcclxuICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgICAgICAgIHRyYW5zaXRpb246IHRyYW5zZm9ybSAwLjhzO1xyXG4gICAgICAgICAgdHJhbnNmb3JtLXN0eWxlOiBwcmVzZXJ2ZS0zZDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC5mbGlwLWNhcmQtZnJvbnQsXHJcbiAgICAgICAgLmZsaXAtY2FyZC1iYWNrIHtcclxuICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgICAgICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgICAgICAgaGVpZ2h0OiAxMDAlO1xyXG4gICAgICAgICAgYmFja2ZhY2UtdmlzaWJpbGl0eTogaGlkZGVuO1xyXG4gICAgICAgIH1cclxuICAgICAgICAjcG9pbnRzIHtcclxuICAgICAgICAgICAgYm9yZGVyOiBub25lO1xyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcclxuICAgICAgICAgICAgY29sb3I6IHdoaXRlO1xyXG4gICAgICAgICAgd2lkdGg6IG1heC1jb250ZW50O1xyXG4gICAgICAgICAgaGVpZ2h0OiBtYXgtY29udGVudDtcclxuICAgICAgICAgIGZvbnQtc2l6ZTogMXJlbTtcclxuICAgICAgICBcclxuICAgICAgICAgIGZvbnQtZmFtaWx5OiB2YXIoLS1nbG9iYWwtZm9udCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAuZmxpcC1jYXJkLWJhY2sge1xyXG4gICAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tZ2xvYmFsLWNvbG9yKTtcclxuICAgICAgICAgIGNvbG9yOiB3aGl0ZTtcclxuICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICAgICAgICBmb250LWZhbWlseTogdmFyKC0tZ2xvYmFsLWZvbnQpO1xyXG4gICAgICAgICAgZm9udC1zaXplOiAyMDAlO1xyXG4gICAgICAgICAgdHJhbnNmb3JtOiByb3RhdGVZKDE4MGRlZyk7XHJcbiAgICAgICAgICBvdXRsaW5lOiAxcHggc29saWQgdmFyKC0tZ2xvYmFsLWNvbG9yKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgI3RyYW5zbGF0aW9uYm94IHtcclxuICAgICAgICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgICAgICAgaGVpZ2h0OiBtYXgtY29udGVudDtcclxuICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xyXG4gICAgICAgICAgY29sb3I6IGJsYWNrO1xyXG4gICAgICAgICAgcGFkZGluZzogMC4ycmVtO1xyXG4gICAgICAgICAgZm9udC1zaXplOiAxMzAlO1xyXG4gICAgICAgICAgbWFyZ2luLXRvcDogMjB2aDtcclxuICAgICAgICAgIG1hcmdpbi1ib3R0b206IDR2aDtcclxuICAgICAgICAgIHotaW5kZXg6IDk5NztcclxuICAgICAgICAgIGZvbnQtZmFtaWx5OiB2YXIoLS1nbG9iYWwtZm9udCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAjc3BlYWtlciB7XHJcbiAgICAgICAgICBmb250LWZhbWlseTogQXJpYWwsIEhlbHZldGljYSwgc2Fucy1zZXJpZjtcclxuICAgICAgICAgIGZvbnQtc2l6ZTogODAlO1xyXG4gICAgICAgICAgbWFyZ2luLWxlZnQ6IDAuN3JlbTtcclxuICAgICAgICAgIHdpZHRoOiAxLjZyZW07XHJcbiAgICAgICAgICBoZWlnaHQ6IDEuNnJlbTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC5ob3ZlcmFibGUge1xyXG4gICAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gICAgICAgICAgdHJhbnNmb3JtOiBzY2FsZSgxLjEpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgI2J1dHRvbnMge1xyXG4gICAgICAgICAgZGlzcGxheTpmbGV4O1xyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1kZXNrdG9wLWNvbG9yKTtcclxuICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xyXG4gICAgICAgICAgICBoZWlnaHQ6IDEwdmg7XHJcbiAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICAgICAgICAgIHBhZGRpbmctbGVmdDogMiU7XHJcbiAgICAgICAgICAgIHBhZGRpbmctcmlnaHQ6IDIlO1xyXG4gICAgICAgICAgICB3aWR0aDogOTYlO1xyXG4gICAgICAgICAgICBjb2xvcjogd2hpdGU7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgLm1vZGFsIHtcclxuICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICAgICAgICBwb3NpdGlvbjogZml4ZWQ7XHJcbiAgICAgICAgICB0b3A6IDA7XHJcbiAgICAgICAgICBsZWZ0OiAwO1xyXG4gICAgICAgICAgd2lkdGg6IDEwMCU7XHJcbiAgICAgICAgICBoZWlnaHQ6IDEwMHZoO1xyXG4gICAgICAgICAgei1pbmRleDogOTk5O1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBcclxuICAgICAgICBAa2V5ZnJhbWVzIGFjY2VwdGVkIHtcclxuICAgICAgICAgIHRvIHtcclxuICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tZ2xvYmFsLWNvbG9yKTtcclxuICAgICAgICAgICAgY29sb3I6IHdoaXRlO1xyXG4gICAgICAgICAgICBvdXRsaW5lOiAxcHggc29saWQgdmFyKC0tZ2xvYmFsLWNvbG9yKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC5ib3gge1xyXG4gICAgICAgICAgZm9udC1zaXplOiAycmVtO1xyXG4gICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XHJcbiAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICAgICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gICAgICAgICAgY29sb3I6IGJsYWNrO1xyXG4gICAgICAgICAgd2lkdGg6IDYwJTtcclxuICAgICAgICAgIHBhZGRpbmc6IDFyZW07XHJcbiAgICAgICAgICBib3gtc2hhZG93OiAzcHggM3B4IDZweCBncmF5O1xyXG4gICAgICAgICAgZm9udC1mYW1pbHk6IHZhcigtLWdsb2JhbC1mb250KTtcclxuICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIEBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1heC13aWR0aDogNjAwcHgpIHtcclxuICAgICAgICAgIDpob3N0IHtcclxuICAgICAgICAgICAgYmFja2dyb3VuZC1pbWFnZTogbm9uZTtcclxuICAgICAgICAgICBcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIC5mbGlwLWNhcmQsXHJcbiAgICAgICAgICBpbnB1dCxcclxuICAgICAgICAgIC50aGV3b3JkIHtcclxuICAgICAgICAgICAgd2lkdGg6IDMwdnc7XHJcbiAgICAgICAgICAgIGhlaWdodDogMjB2aDtcclxuICAgICAgICAgICAgZm9udC1zaXplOiA4MCU7XHJcbiAgICAgICAgICAgIHBhZGRpbmctbGVmdDogMC4xcmVtO1xyXG4gICAgICAgICAgICBwYWRkaW5nLXJpZ2h0OiAwLjFyZW07XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICAuZmxpcC1jYXJkLWJhY2sge1xyXG4gICAgICAgICAgICBmb250LXNpemU6IDkwJTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgICNiZWxvdyB7XHJcbiAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgICAgICAgICAgYm90dG9tOiAwO1xyXG4gICAgICAgICAgICBsZWZ0OiAwO1xyXG4gICAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAwO1xyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1kZXNrdG9wLWNvbG9yKTtcclxuICAgICAgICAgICAgaGVpZ2h0OiA4dmg7XHJcbiAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICAgICAgICAgIGNvbG9yOiBibGFjaztcclxuICAgICAgICAgICAgd2lkdGg6IDEwMCU7XHJcbiAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gICAgICAgICAgICBjb2xvcjogd2hpdGU7XHJcblxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgI3BvaW50cyB7XHJcbiAgICAgICAgICAgIGJvcmRlcjogbm9uZTtcclxuICAgICAgICAgICAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XHJcbiAgICAgICAgICAgIGNvbG9yOiB3aGl0ZTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgICNidXR0b25zIHtcclxuXHJcbiAgICAgICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWRlc2t0b3AtY29sb3IpO1xyXG4gICAgICAgICBcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIFxyXG4gICAgICAgICN0aXRsZXtcclxuICAgICAgICAgIGZvbnQtc2l6ZTogMXJlbTtcclxuICAgICAgICB9XHJcbiAgICAgICAgI3dyYXBwZXIge1xyXG4gICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gICAgICAgICAgYWxpZ24tY29udGVudDogY2VudGVyO1xyXG4gICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gICAgICAgICAganVzdGlmeS1pdGVtczogY2VudGVyO1xyXG4gICAgICAgICAgd2lkdGg6IDEwMCU7XHJcbiAgICAgICAgICBoZWlnaHQ6IDEwMCU7XHJcbiAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICAgICAgICB0b3A6IDA7XHJcbiAgICAgICAgICBsZWZ0OiAwO1xyXG4gICAgICAgICAgbWFyZ2luOiAwO1xyXG4gICAgICAgICAgcGFkZGluZzogMDtcclxuICAgICAgICB9XHJcbiAgICAgICAgICAjdHJhbnNsYXRpb25ib3ggIHtcclxuICAgICAgICAgICAgbWFyZ2luLXRvcDogMjJ2aDtcclxuICAgICAgICAgICAgaGVpZ2h0OiBtYXgtY29udGVudDtcclxuICAgICAgICAgICAgd2lkdGg6IDgwdnc7XHJcbiAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgXHJcbiAgICAgICAgICAjYnV0dG9ucyA+IHN2ZyB7XHJcbiAgICAgICAgICAgIGZpbGw6IHdoaXRlO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgI3NwZWFrZXIge1xyXG4gICAgICAgICAgICBtYXJnaW4tbGVmdDogMC4zcmVtO1xyXG4gICAgICAgICAgICBmb250LXNpemU6IDEwMCU7XHJcbiAgICAgICAgICAgIHdpZHRoOiAxcmVtO1xyXG4gICAgICAgICAgICBoZWlnaHQ6IDFyZW07XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBcclxuICAgICAgICAgICNib3gge1xyXG4gICAgICAgICAgICBmb250LXNpemU6IDEuNHJlbTtcclxuICAgICAgICAgICAgd2lkdGg6IDkwJTtcclxuICAgICAgICAgICAgYm94LXNoYWRvdzogM3B4IDNweCAzcHggZ3JheTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIGBcclxuICAgIF07XHJcbiAgfVxyXG4gIHBvaW50czogbnVtYmVyID0gMDtcclxuICBncmVldGluZ01lc3NhZ2U6IHN0cmluZztcclxuICBjb250YWluZXI6IEhUTUxEaXZFbGVtZW50O1xyXG4gIGRhdGE6IExldmVsO1xyXG4gIGxldmVsczogTGV2ZWxzID0gbGV2ZWxzO1xyXG4gIHBvaW50Q29sbGVjdGlvbjogUG9pbnRDb2xsZWN0aW9uO1xyXG4gIGk6IG51bWJlciA9IDA7XHJcbiAgbjogbnVtYmVyID0gMDtcclxuICBsOiBudW1iZXIgPSAwO1xyXG4gIGNvcnJlY3RXb3JkOiBGb3JtcztcclxuICByZWY6IGJvb2xlYW4gPSBmYWxzZTtcclxuICBzcGVlY2ggPSB3aW5kb3cuc3BlZWNoU3ludGhlc2lzO1xyXG4gIHRyYW5zbGF0aW9uQm94OiBIVE1MRGl2RWxlbWVudDtcclxuICBjb25ncmF0dWxhdGlvbnM6IEhUTUxEaXZFbGVtZW50O1xyXG4gIHVzZXIhOiBJVXNlcjtcclxuICBtZW51YnV0dG9uOiBIVE1MSW1hZ2VFbGVtZW50O1xyXG4gIHRyYW5zbGF0aW9uOiBzdHJpbmc7XHJcbiAgcHJvZmlsZUNhcmQ6IFByb2ZpbGVDYXJkO1xyXG4gIG9sZFZhbHVlOiBzdHJpbmcgPSBcIkEyXCI7XHJcbiAgZmlyc3RVcGRhdGVkKGE6IGFueSkge1xyXG4gICAgc3VwZXIuZmlyc3RVcGRhdGVkKGEpO1xyXG4gICAgdGhpcy5wcm9maWxlQ2FyZCA9IHRoaXMuc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yKFwiI3NldHRpbmdzXCIpO1xyXG4gICAgdGhpcy5wb2ludHMgPSB0aGlzLnBvaW50Q29sbGVjdGlvbi5BMjtcclxuICAgIHRoaXMuY29udGFpbmVyID0gdGhpcy5zaGFkb3dSb290IS5xdWVyeVNlbGVjdG9yKFwiI2NvbnRhaW5lclwiKTtcclxuICAgIHRoaXMuY29uZ3JhdHVsYXRpb25zID0gdGhpcy5zaGFkb3dSb290IS5xdWVyeVNlbGVjdG9yKFwiI2NvbmdyYXR1bGF0aW9uc1wiKTtcclxuICAgIHRoaXMuY29uZ3JhdHVsYXRpb25zLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICAgIHRoaXMuZGF0YSA9IHRoaXMubGV2ZWxzLkEyO1xyXG4gICAgdGhpcy5sID0gT2JqZWN0LmVudHJpZXModGhpcy5kYXRhKS5sZW5ndGg7XHJcbiAgICB0aGlzLmkgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiB0aGlzLmwpO1xyXG4gICAgdGhpcy5uID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMyk7XHJcbiAgICBsZXQgd29yZDogV29yZCA9IE9iamVjdC5lbnRyaWVzKHRoaXMuZGF0YSlbdGhpcy5pXTtcclxuICAgIGlmICh3b3JkWzBdLmluY2x1ZGVzKFwiIFwiKSkge1xyXG4gICAgICB0aGlzLnRyYW5zbGF0aW9uID0gT2JqZWN0LnZhbHVlcyh3b3JkKVswXS50b1N0cmluZygpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy50cmFuc2xhdGlvbiA9IHdvcmRbMF07XHJcbiAgICB9XHJcbiAgICBsZXQgdGhlcmVzdCA9IHdvcmQuc2xpY2UoMCkgYXMgV29yZDtcclxuICAgIHRoaXMuY29ycmVjdFdvcmQgPSBBcnJheS5mcm9tKHRoZXJlc3RbMV0pO1xyXG4gICAgdGhpcy5ncmVldCgpO1xyXG4gICAgdGhpcy5yZXF1ZXN0VXBkYXRlKCk7XHJcbiAgfVxyXG5cclxuICBncmVldCgpIHtcclxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICB0aGlzLnNoYWRvd1Jvb3QucXVlcnlTZWxlY3RvcjxIVE1MRWxlbWVudD4oXCIjZ3JlZXRpbmdcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgICB0aGlzLndvcmRzQW5pbWF0aW9uKCk7XHJcbiAgICB9LCAyNDAwKTtcclxuICB9XHJcbiAgXHJcbiAgd29yZHNBbmltYXRpb24oKXtcclxuICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpPT57IFxyXG4gICAgIGxldCBib3hlcyA9IEFycmF5LmZyb20odGhpcy5zaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3JBbGwoXCIudGhld29yZCwgaW5wdXRcIikpO1xyXG4gICAgYm94ZXMuZm9yRWFjaCgoYm94LCBpKT0+e1xyXG4gICAgICAgIGJveC5hbmltYXRlKFt7dHJhbnNmb3JtOiBcInRyYW5zbGF0ZVkoLTIwcHgpXCJ9LHt0cmFuc2Zvcm06IFwidHJhbnNsYXRlWSgwcHgpXCJ9XSxcclxuICAgICAgICB7ZHVyYXRpb246IDYwMCxcclxuICAgICAgICBkZWxheTogaSoxMDB9KVxyXG4gICAgICB9KX0pO1xyXG4gICAgXHJcbiAgfVxyXG5cclxuICBzZWxlY3Rpb25DaG9pY2UobmV3VmFsdWU6IHN0cmluZyl7XHJcbiAgICAgIGlmKG5ld1ZhbHVlID09PSBcIkFsbFwiKXtcclxuICAgICAgICBPYmplY3QudmFsdWVzKHRoaXMubGV2ZWxzKS5tYXAobGV2ZWw9PntcclxuICAgICAgICAgIHJldHVybiB0aGlzLmRhdGEgPSB7Li4ubGV2ZWx9XHJcbiAgICAgICAgfSlcclxuICAgICAgICAgfVxyXG4gICAgICBlbHNle1xyXG4gICAgICAgICAgdGhpcy5kYXRhID0gdGhpcy5sZXZlbHNbYCR7bmV3VmFsdWV9YF07ICAgICAgICB9XHJcbiAgICAgIHRoaXMucG9pbnRzID0gdGhpcy5wb2ludENvbGxlY3Rpb25bYCR7bmV3VmFsdWV9YF07XHJcbiAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKT0+e1xyXG4gICAgICB0aGlzLndvcmRzQW5pbWF0aW9uKCk7XHJcbiAgICAgXHJcbiAgICAgIH0pXHJcbiAgICAgIHRoaXMucmVmcmVzaE51bWJlcigpO1xyXG5cclxuICB9XHJcblxyXG4gIG1lbnVGdW5jdGlvbmFsaXR5KCl7XHJcbiAgICAgIHRoaXMucHJvZmlsZUNhcmQuc3R5bGUudHJhbnNmb3JtID0gXCJ0cmFuc2xhdGVYKDB2dylcIjtcclxuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKT0+e1xyXG4gICAgICB0aGlzLnNoYWRvd1Jvb3QucXVlcnlTZWxlY3RvcjxIVE1MRGl2RWxlbWVudD4oXCIjd3JhcHBlclwiKS5vbmNsaWNrID0gKCk9PntcclxuICAgICAgICB0aGlzLnByb2ZpbGVDYXJkLnN0eWxlLnRyYW5zZm9ybSA9IFwidHJhbnNsYXRlWCgtODB2dylcIjtcclxuICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCk9PntcclxuICAgICAgICB0aGlzLnNoYWRvd1Jvb3QucXVlcnlTZWxlY3RvcjxIVE1MRGl2RWxlbWVudD4oXCIjd3JhcHBlclwiKS5vbmNsaWNrID0gbnVsbDt9XHJcbiAgICApfX0pO1xyXG59XHJcblxyXG5wb2ludHNBZGRpdGlvbigpIHtcclxuICB0aGlzLnBvaW50cyA9IHRoaXMucG9pbnRzICsgMTtcclxuICB0aGlzLnBvaW50Q29sbGVjdGlvbltgJHt0aGlzLm9sZFZhbHVlfWBdID0gdGhpcy5wb2ludHM7XHJcbiAgd3JpdGVVc2VyRGF0YSh0aGlzLnVzZXIudWlkLCB0aGlzLnBvaW50Q29sbGVjdGlvbiwgdGhpcy51c2VyLm5hbWUpO1xyXG4gIHRoaXMucmVxdWVzdFVwZGF0ZSgpO1xyXG4gIHRoaXMucHJvZmlsZUNhcmQucmVxdWVzdFVwZGF0ZSgpO1xyXG59XHJcblxyXG4gIHNob3dUaGVBbnN3ZXIoKSB7XHJcbiAgICB0aGlzLnNoYWRvd1Jvb3QucXVlcnlTZWxlY3RvcjxIVE1MRWxlbWVudD4oXCIuZmxpcC1jYXJkLWlubmVyXCIpLnN0eWxlLnRyYW5zZm9ybSA9XHJcbiAgICAgIFwicm90YXRlWSgxODBkZWcpXCI7XHJcbiAgICB0aGlzLnJlcXVlc3RVcGRhdGUoKTtcclxuICB9XHJcbiAgY29uZ3JhdHVsYXRlKCkge1xyXG4gICAgbGV0IHBvaW50Ym94OiBIVE1MRWxlbWVudCA9IHRoaXMuc2hhZG93Um9vdCEucXVlcnlTZWxlY3RvcihcIiNwb2ludHNcIik7XHJcbiAgICBpZiAodGhpcy5wb2ludHMgJSA1ID09PSAwKSB7XHJcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3I8SFRNTEVsZW1lbnQ+KFwiI2NhbnZhc1wiKS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xyXG4gICAgICBwb2ludGJveC5hbmltYXRlKFxyXG4gICAgICAgIFtcclxuICAgICAgICAgIHsgdHJhbnNmb3JtOiBcInNjYWxlKDEuMikgcm90YXRlKDVkZWcpIHRyYW5zbGF0ZVgoLTEwcHgpXCIgfSxcclxuICAgICAgICAgIHsgdHJhbnNmb3JtOiBcInNjYWxlKDEuMykgcm90YXRlKC01ZGVnKSB0cmFuc2xhdGVYKC0xMHB4KVwiIH0sXHJcbiAgICAgICAgICB7IHRyYW5zZm9ybTogXCJzY2FsZSgxKSByb3RhdGUoMGRlZykgdHJhbnNsYXRlWCgwcHgpXCIgfVxyXG4gICAgICAgIF0sXHJcbiAgICAgICAgeyBkdXJhdGlvbjogMTAwMCB9XHJcbiAgICAgICk7XHJcbiAgICAgIGlmICh0aGlzLnBvaW50cyAlIDEwID09PSAwKSB7XHJcbiAgICAgICAgbGV0IGNvbmZldHRpU2V0dGluZ3MgPSB7IHRhcmdldDogXCJjYW52YXNcIiB9O1xyXG4gICAgICAgIGxldCBjb25mZXR0aSA9IG5ldyBDb25mZXR0aUdlbmVyYXRvcihjb25mZXR0aVNldHRpbmdzKTtcclxuICAgICAgICBjb25mZXR0aS5yZW5kZXIoKTtcclxuICAgICAgICBpZiAodGhpcy5wb2ludHMgJSA2MCA9PT0gMCkge1xyXG4gICAgICAgICAgdGhpcy5jb25ncmF0dWxhdGlvbnMuc3R5bGUuZGlzcGxheSA9IFwiZmxleFwiO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxubG9naW5nT3V0KCl7XHJcbiAgICB3aW5kb3cuZmlyZWJhc2UuYXV0aCgpLnNpZ25PdXQoKS50aGVuKCgpPT4ge1xyXG4gICAgICB0aGlzLnVzZXIgPSBudWxsO1xyXG4gICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgndXNlci1pbmZvJyk7IFxyXG4gICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgncG9pbnRzJyk7IFxyXG4gICAgICBzaG93TG9nKFwiWm9zdGHFgmXFmyB3eWxvZ293YW55XCIsIFwiV3JhY2FqIHN6eWJjaXV0a28sIGp1xbwgdMSZc2tuaW15IVwiLCB0cnVlLCBmYWxzZSlcclxuICAgXHJcbiAgfSk7fVxyXG4gXHJcblxyXG4gIGhvdmVyYWJsZShlOiBFdmVudCkge1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgKDxIVE1MRWxlbWVudD5lLnRhcmdldCkuY2xhc3NMaXN0LmFkZChcImhvdmVyYWJsZVwiKTtcclxuICAgICg8SFRNTEVsZW1lbnQ+ZS50YXJnZXQpLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW91dFwiLCBlID0+IHtcclxuICAgICAgKDxIVE1MRWxlbWVudD5lLnRhcmdldCkuY2xhc3NMaXN0LnJlbW92ZShcImhvdmVyYWJsZVwiKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgZmxpY2tlcigpIHtcclxuICAgIGlmICh0aGlzLnBvaW50cyA9PT0gMSkge1xyXG4gICAgICBsZXQgY3VycmVudFdvcmRzOiBBcnJheTxIVE1MRWxlbWVudD4gPSBBcnJheS5mcm9tKFxyXG4gICAgICAgIHRoaXMuc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yQWxsPEhUTUxEaXZFbGVtZW50PihcIi50aGV3b3JkXCIpXHJcbiAgICAgICk7XHJcbiAgICAgIGN1cnJlbnRXb3Jkcy5mb3JFYWNoKHdvcmQgPT4ge1xyXG4gICAgICAgIHdvcmQuc3R5bGUub3BhY2l0eSA9IFwiMFwiO1xyXG4gICAgICAgIHdvcmQuc3R5bGUudHJhbnNpdGlvbiA9IFwiLjNzXCI7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmVmcmVzaE51bWJlcigpIHtcclxuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XHJcbiAgICAgIGlmICh0aGlzLmNvbmdyYXR1bGF0aW9ucy5zdHlsZS5kaXNwbGF5ID09PSBcIm5vbmVcIikge1xyXG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yPEhUTUxDYW52YXNFbGVtZW50PihcIiNjYW52YXNcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgICAgIH0sIDEwMDApO1xyXG4gICAgICB9XHJcbiAgICAgIGxldCBjdXJyZW50V29yZHM6IEFycmF5PEhUTUxEaXZFbGVtZW50PiA9IEFycmF5LmZyb20oXHJcbiAgICAgICAgdGhpcy5zaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3JBbGwoXCIudGhld29yZFwiKVxyXG4gICAgICApO1xyXG4gICAgICBjdXJyZW50V29yZHMuZm9yRWFjaCh3b3JkID0+IHtcclxuICAgICAgICB3b3JkLnN0eWxlLm9wYWNpdHkgPSBcIjFcIjtcclxuICAgICAgfSk7XHJcbiAgICAgIHRoaXMubiA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDMpO1xyXG4gICAgICB0aGlzLmwgPSBPYmplY3QuZW50cmllcyh0aGlzLmRhdGEpLmxlbmd0aDtcclxuICAgICAgdGhpcy5pID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogdGhpcy5sKTtcclxuICAgICAgbGV0IHdvcmQ6IFtzdHJpbmcsIChzdHJpbmcgfCBzdHJpbmdbXSlbXV0gPSBPYmplY3QuZW50cmllcyh0aGlzLmRhdGEpW3RoaXMuaV07XHJcbiAgICAgIGlmICh3b3JkWzBdLmluY2x1ZGVzKFwiIFwiKSkge1xyXG4gICAgICAgIHRoaXMudHJhbnNsYXRpb24gPSBPYmplY3QudmFsdWVzKHdvcmQpWzBdLnRvU3RyaW5nKCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy50cmFuc2xhdGlvbiA9IHdvcmRbMF07XHJcbiAgICAgIH1cclxuICAgICAgbGV0IHRoZXJlc3QgPSB3b3JkLnNsaWNlKDApIGFzIFtzdHJpbmcsIChzdHJpbmcgfCBzdHJpbmdbXSlbXV07XHJcbiAgICAgIHRoaXMuY29ycmVjdFdvcmQgPSBBcnJheS5mcm9tKHRoZXJlc3RbMV0pO1xyXG4gICAgICB0aGlzLnNoYWRvd1Jvb3QucXVlcnlTZWxlY3RvcjxIVE1MSW5wdXRFbGVtZW50PihcIiNpbnB1dFwiKS52YWx1ZSA9IFwiXCI7XHJcbiAgICAgIHRoaXMuc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yPEhUTUxJbnB1dEVsZW1lbnQ+KFwiI2lucHV0XCIpLnN0eWxlLmFuaW1hdGlvbiA9XHJcbiAgICAgICAgXCJib3JkZXJGbGlja2VyIC42cyBpbmZpbml0ZSBhbHRlcm5hdGUtcmV2ZXJzZVwiO1xyXG4gICAgICB0aGlzLnJlZiA9IGZhbHNlO1xyXG4gICAgICB0aGlzLnNoYWRvd1Jvb3QucXVlcnlTZWxlY3RvcjxIVE1MRGl2RWxlbWVudD4oXCIuZmxpcC1jYXJkLWlubmVyXCIpLnN0eWxlLnRyYW5zZm9ybSA9XHJcbiAgICAgICAgXCJyb3RhdGVZKDBkZWcpXCI7XHJcbiAgICAgIHRoaXMucmVxdWVzdFVwZGF0ZSgpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICByZWFkVGhlV29yZChmb3JtOiBhbnkpIHtcclxuICAgIGxldCBtc2cgPSBuZXcgU3BlZWNoU3ludGhlc2lzVXR0ZXJhbmNlKGZvcm0pO1xyXG4gICAgbXNnLnJhdGUgPSAwLjc7XHJcbiAgICBsZXQgdm9pY2VzID0gdGhpcy5zcGVlY2guZ2V0Vm9pY2VzKCk7XHJcbiAgICBtc2cudm9pY2UgPSB2b2ljZXNbMTBdO1xyXG4gICAgbXNnLmxhbmcgPSBcImVuLVVTXCI7XHJcbiAgICB0aGlzLnNwZWVjaC5zcGVhayhtc2cpO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlZChhOiBhbnkpIHtcclxuICAgIHN1cGVyLnVwZGF0ZWQoYSk7XHJcbiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xyXG4gICAgICB0aGlzLnNoYWRvd1Jvb3QucXVlcnlTZWxlY3RvcjxIVE1MSW5wdXRFbGVtZW50PihcIiNpbnB1dFwiKS5mb2N1cygpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICByZW5kZXIoKSB7XHJcbiAgICByZXR1cm4gaHRtbGBcclxuICAgPHByb2ZpbGUtY2FyZCBAbG9nb3V0PVwiJHt0aGlzLmxvZ2luZ091dH1cIiBAcHJldmlvdXNWYWx1ZT1cIiR7KGU6IEN1c3RvbUV2ZW50KT0+IHt0aGlzLm9sZFZhbHVlID0gZS5kZXRhaWwub2xkVmFsdWUoKX19XCIgQHZhbHVlU2VsZWN0ZWQ9XCIkeyhlOiBDdXN0b21FdmVudCk9PiB7dGhpcy5zZWxlY3Rpb25DaG9pY2UoZS5kZXRhaWwubmV3VmFsdWUoKSl9fVwiIGlkPVwic2V0dGluZ3NcIiAudXNlck5hbWU9XCIke3RoaXMudXNlci5uYW1lfVwiIC51c2VyRW1haWw9XCIke3RoaXMudXNlci5lbWFpbH1cIiAudXNlcmlkPVwiJHt0aGlzLnVzZXIudWlkfVwiIC5wb2ludENvbGxlY3Rpb249XCIke3RoaXMucG9pbnRDb2xsZWN0aW9ufVwiPjwvcHJvZmlsZS1jYXJkPlxyXG4gPGRpdiBjbGFzcz1cIm1vZGFsXCIgaWQ9XCJncmVldGluZ1wiPiBcclxuICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYm94XCI+IDxwPiAke3RoaXMuZ3JlZXRpbmdNZXNzYWdlfSwgJHt0aGlzLnVzZXIubmFtZX0hPC9wPjwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgPGRpdiBjbGFzcz1cIm1vZGFsXCIgaWQ9XCJjb25ncmF0dWxhdGlvbnNcIiBAY2xpY2s9XCIkeygpID0+IHtcclxuICAgICAgdGhpcy5jb25ncmF0dWxhdGlvbnMuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3I8SFRNTENhbnZhc0VsZW1lbnQ+KFwiI2NhbnZhc1wiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICAgIH0sIDEwMDApO1xyXG4gICAgfX1cIj4gXHJcbiAgICAgICAgPGRpdiBjbGFzcz1cImJveFwiPlxyXG4gICAgICAgICAgICA8cD7FmndpZXRuaWUgQ2kgaWR6aWUsICR7dGhpcy51c2VyLm5hbWUuc3BsaXQoXCIgXCIpfSE8L3A+XHJcbiAgICAgICAgICAgIDxwPk1vxbxlIHBvcmEgcHJ6ZW5pZcWbxIcgc2nEmSBuYSB3ecW8c3p5IHBvemlvbT88L3A+PC9kaXY+XHJcbiAgICAgICAgICBcclxuICAgICAgICA8L2Rpdj48L2Rpdj5cclxuIDxkaXYgaWQ9XCJ3cmFwcGVyXCI+XHJcbiAgICA8ZGl2IGlkPVwiYnV0dG9uc1wiPlxyXG4gICAgPGltZyBpZD1cIm1lbnVidXR0b25cIiBzcmM9XCIuL2ltZy9idXJnZXIuc3ZnXCIgQGNsaWNrPVwiJHt0aGlzLm1lbnVGdW5jdGlvbmFsaXR5fVwiPlxyXG4gICAgICA8cCBpZD1cInRpdGxlXCI+RW5nbGlzaCBWZXJicyBHYW1lPC9wPlxyXG48ZGl2IGlkPVwicG9pbnRzXCI+JHt0aGlzLm9sZFZhbHVlICE9PVwiQWxsXCIgPyBgUG96aW9tICR7dGhpcy5vbGRWYWx1ZX06YCA6IGBXeW1pZXN6YW5lIHBvemlvbXk6YH0gJHt0aGlzLnBvaW50c308L2Rpdj5cclxuPC9kaXY+XHJcbjxkaXYgaWQ9XCJ0cmFuc2xhdGlvbmJveFwiPlTFgnVtYWN6ZW5pZTogJHt0aGlzLnRyYW5zbGF0aW9ufTwvZGl2PlxyXG4gICAgPGRpdiBpZD1cImNvbnRhaW5lclwiPlxyXG4gICAgXHJcbiAgICAke3RoaXMuY29ycmVjdFdvcmQgPT09IHVuZGVmaW5lZCA/IHVuZGVmaW5lZCA6IHRoaXMuY29ycmVjdFdvcmQubWFwKChmb3JtLCBpbmRleCkgPT4ge1xyXG4gICAgICBpZiAoIShpbmRleCA9PT0gdGhpcy5uKSkge1xyXG4gICAgICAgIHJldHVybiBodG1sYFxyXG4gICAgICAgICAgPGRpdlxyXG4gICAgICAgICAgICBjbGFzcz1cInRoZXdvcmRcIlxyXG4gICAgICAgICAgICBAY2xpY2s9XCIkeygpID0+IHtcclxuICAgICAgICAgICAgICB0aGlzLnJlYWRUaGVXb3JkKGZvcm0pO1xyXG4gICAgICAgICAgICB9fVwiXHJcbiAgICAgICAgICAgIEBtb3VzZW92ZXI9XCIkeyhlOiBFdmVudCkgPT4ge1xyXG4gICAgICAgICAgICAgIHRoaXMuaG92ZXJhYmxlKGUpO1xyXG4gICAgICAgICAgICB9fVwiXHJcbiAgICAgICAgICA+XHJcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwid29yZFwiXHJcbiAgICAgICAgICAgICAgPiR7QXJyYXkuaXNBcnJheShmb3JtKSA/IGZvcm0uam9pbihcIiBcIikgOiBmb3JtfTwvc3BhblxyXG4gICAgICAgICAgICA+PHNwYW4gaWQ9XCJzcGVha2VyXCI+PGltZyBzcmM9XCIuL2ltZy9zb3VuZHdoaXRlLnN2Z1wiLz48L3NwYW4+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICBgO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJldHVybiBodG1sYFxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxpcC1jYXJkXCI+XHJcbiAgPGRpdiBjbGFzcz1cImZsaXAtY2FyZC1pbm5lclwiPlxyXG4gICAgPGRpdiBjbGFzcz1cImZsaXAtY2FyZC1mcm9udFwiPlxyXG4gICAgPGlucHV0IGlkPVwiaW5wdXRcIiBkYXRhLXZhbHVlPVwiJHtmb3JtfVwiIHR5cGU9XCJ0ZXh0XCIgQGtleWRvd249XCIkeyhlOiBLZXlib2FyZEV2ZW50KSA9PiB7XHJcbiAgICAgIHRoaXMucHJvZmlsZUNhcmQuc3R5bGUudHJhbnNmb3JtID0gXCJ0cmFuc2xhdGVYKC04MHZ3KVwiO1xyXG4gICAgICAgICAgaWYgKCEoKDxIVE1MSW5wdXRFbGVtZW50PmUudGFyZ2V0KS52YWx1ZS5sZW5ndGggPT09IDApKSB7XHJcbiAgICAgICAgICAgICg8SFRNTEVsZW1lbnQ+ZS50YXJnZXQpLnN0eWxlLmFuaW1hdGlvbiA9IFwic3RvcCAuM3MgZm9yd2FyZHNcIjtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGlmIChlLmtleUNvZGUgPT09IDEzKSB7XHJcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGZvcm0pKSB7XHJcbiAgICAgICAgICAgICAgbGV0IGZ1bGw6IHN0cmluZyA9IGZvcm0uam9pbigpO1xyXG4gICAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICAgIGZ1bGxcclxuICAgICAgICAgICAgICAgICAgLnRvTG93ZXJDYXNlKClcclxuICAgICAgICAgICAgICAgICAgLmluY2x1ZGVzKCg8SFRNTElucHV0RWxlbWVudD5lLnRhcmdldCkudmFsdWUudG9TdHJpbmcoKS50b0xvd2VyQ2FzZSgpKVxyXG4gICAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wb2ludHNBZGRpdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5mbGlja2VyKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbmdyYXR1bGF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucG9pbnRzID09PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICg8SFRNTElucHV0RWxlbWVudD5lLnRhcmdldCkuc3R5bGUuYW5pbWF0aW9uID0gXCJhY2NlcHRlZCAuM3MgZm9yd2FyZHMgLjFzXCI7XHJcbiAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVmcmVzaE51bWJlcigpO1xyXG4gICAgICAgICAgICAgICAgICB9LCAxMjAwKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICg8SFRNTElucHV0RWxlbWVudD5lLnRhcmdldCkuc3R5bGUuYW5pbWF0aW9uID0gXCJhY2NlcHRlZCAuM3MgZm9yd2FyZHNcIjtcclxuICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWZyZXNoTnVtYmVyKCk7XHJcbiAgICAgICAgICAgICAgICAgIH0sIDQwMCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICg8SFRNTElucHV0RWxlbWVudD5lLnRhcmdldCkuc3R5bGUuYW5pbWF0aW9uID0gXCJ3cm9uZyAuM3MgZm9yd2FyZHNcIjtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVmID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVxdWVzdFVwZGF0ZSgpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICBpZiAoKDxIVE1MSW5wdXRFbGVtZW50PmUudGFyZ2V0KS52YWx1ZS50b0xvd2VyQ2FzZSgpID09PSBmb3JtKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBvaW50c0FkZGl0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmZsaWNrZXIoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29uZ3JhdHVsYXRlKCk7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5wb2ludHMgPT09IDEpIHtcclxuICAgICAgICAgICAgICAgICAgKDxIVE1MSW5wdXRFbGVtZW50PmUudGFyZ2V0KS5zdHlsZS5hbmltYXRpb24gPSBcImFjY2VwdGVkIC4zcyBmb3J3YXJkcyAuMXNcIjtcclxuICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWZyZXNoTnVtYmVyKCk7XHJcbiAgICAgICAgICAgICAgICAgIH0sIDEyMDApO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgKDxIVE1MSW5wdXRFbGVtZW50PmUudGFyZ2V0KS5zdHlsZS5hbmltYXRpb24gPSBcImFjY2VwdGVkIC4zcyBmb3J3YXJkc1wiO1xyXG4gICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlZnJlc2hOdW1iZXIoKTtcclxuICAgICAgICAgICAgICAgICAgfSwgNDAwKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgKDxIVE1MSW5wdXRFbGVtZW50PmUudGFyZ2V0KS5zdHlsZS5hbmltYXRpb24gPSBcIndyb25nIC4zcyBmb3J3YXJkcyAuMXNcIjtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVmID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVxdWVzdFVwZGF0ZSgpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH19XCI+XHJcbiAgICA8L2Rpdj5cclxuICAgIDxkaXYgIEBjbGljaz1cIiR7KCkgPT4ge1xyXG4gICAgICB0aGlzLnJlYWRUaGVXb3JkKGZvcm0pO1xyXG4gICAgfX1cIiBjbGFzcz1cImZsaXAtY2FyZC1iYWNrXCI+XHJcbiAgICAgIDxzcGFuIGNsYXNzPVwid29yZFwiPiR7XHJcbiAgICAgICAgQXJyYXkuaXNBcnJheShmb3JtKSA/IGZvcm0uam9pbihcIiBcIikgOiBmb3JtXHJcbiAgICAgIH08L3NwYW4+PHNwYW4gaWQ9XCJzcGVha2VyXCI+PGltZyBzcmM9XCIuL2ltZy9zb3VuZHdoaXRlLnN2Z1wiPjwvc3Bhbj48L3NwYW4+XHJcbiAgICA8L2Rpdj5cclxuICA8L2Rpdj5cclxuPC9kaXY+XHJcbiAgICAgICAgICAgIGA7XHJcbiAgICAgIH1cclxuICAgIH0pfVxyXG4gICAgICAgICAgICAgICBcclxuICAgIDwvZGl2PlxyXG4gICAgXHJcbiAgICBcclxuICAgPGRpdiBpZD1cImJlbG93XCI+PGEgaWQ9XCJza2lwXCIgQG1vdXNlb3Zlcj1cIiR7KGU6IEV2ZW50KSA9PiB7XHJcbiAgICAgdGhpcy5ob3ZlcmFibGUoZSk7XHJcbiAgIH19XCIgQGNsaWNrPVwiJHt0aGlzLnJlZnJlc2hOdW1iZXJ9XCI+SW5uZSBzxYJvd288L2E+ICR7XHJcbiAgICAgIHRoaXMucmVmXHJcbiAgICAgICAgPyBodG1sYFxyXG4gICAgICAgICAgICA8YSBAY2xpY2s9XCIke3RoaXMuc2hvd1RoZUFuc3dlcn1cIlxyXG4gICAgICAgICAgICAgID48aW1nXHJcbiAgICAgICAgICAgICAgICBAbW91c2VvdmVyPVwiJHsoZTogRXZlbnQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgdGhpcy5ob3ZlcmFibGUoZSk7XHJcbiAgICAgICAgICAgICAgICB9fVwiXHJcbiAgICAgICAgICAgICAgICBjbGFzcz1cImljb25cIlxyXG4gICAgICAgICAgICAgICAgc3JjPVwiLi9pbWcvZXllLnN2Z1wiXHJcbiAgICAgICAgICAgIC8+PC9hPlxyXG4gICAgICAgICAgYFxyXG4gICAgICAgIDogdW5kZWZpbmVkXHJcbiAgICB9PC9kaXY+PC9kaXY+XHJcbiAgXHJcbiAgICBgO1xyXG4gIH1cclxufVxyXG5cclxuY3VzdG9tRWxlbWVudHMuZGVmaW5lKFwiZW5nbGlzaC12ZXJic1wiLCBFbmdsaXNoVmVyYnNHYW1lKTtcclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzaG93VGhlR2FtZShuYW1lOiBzdHJpbmcsIGVtYWlsOiBzdHJpbmcsIHVpZDogbnVtYmVyLCBwb2ludHM6IFBvaW50Q29sbGVjdGlvbiwgZ3JlZXRpbmc6IHN0cmluZyA9XCJXaXRhalwiKSB7XHJcbiAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKCdyZWFkeScpO1xyXG4gIFx0bG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ2lzUmVkaXJlY3RpbmcnKTtcclxuICBjb25zdCAkZ2FtZSA9IGF3YWl0IG5ldyBFbmdsaXNoVmVyYnNHYW1lKCk7XHJcbiAgXHJcbiAgJGdhbWUuZ3JlZXRpbmdNZXNzYWdlID0gZ3JlZXRpbmc7XHJcbiAgJGdhbWUudXNlciA9IHtcclxuICAgIGVtYWlsLFxyXG4gICAgdWlkLFxyXG4gICAgbmFtZVxyXG4gIH07XHJcbiAgJGdhbWUucG9pbnRDb2xsZWN0aW9uID0gcG9pbnRzO1xyXG4gIGlmKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIud2VsY29tZVwiKT09PW51bGwpe1xyXG4gICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2xvZ1wiKSk7XHJcbiAgfVxyXG4gIGVsc2V7XHJcbiAgICBpZighKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbG9nXCIpPT09bnVsbCkpe1xyXG4gICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2xvZ1wiKSk7XHJcbiAgfVxyXG4gICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLndlbGNvbWVcIikpO1xyXG4gIH1cclxuICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKCRnYW1lKTtcclxuICByZXR1cm4gJGdhbWU7XHJcbn1cclxuIiwiaW1wb3J0IHsgTGl0RWxlbWVudCwgaHRtbCwgY3NzLCBjdXN0b21FbGVtZW50IH0gZnJvbSAnbGl0LWVsZW1lbnQnO1xyXG5pbXBvcnQgeyByZWRpcmVjdGluZ1NpZ25VcCB9IGZyb20gJy4vdXRpbCc7XHJcblxyXG5kZWNsYXJlIGdsb2JhbCB7XHJcblx0aW50ZXJmYWNlIFdpbmRvdyB7XHJcblx0XHRmaXJlYmFzZTogYW55O1xyXG5cdH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIExvZ1NjcmVlbiBleHRlbmRzIExpdEVsZW1lbnQge1xyXG5cdHRpdGxlOiBzdHJpbmc7XHJcblx0bWVzc2FnZTogc3RyaW5nO1xyXG5cdGxvZ0J1dHRvbjogQm9vbGVhbjtcclxuXHRzYWRDYXQ6IEJvb2xlYW47XHJcblx0c3RhdGljIGdldCBzdHlsZXMoKSB7XHJcblx0XHRyZXR1cm4gW1xyXG5cdFx0XHRjc3NgXHJcblx0XHRcdFx0LndlbGNvbWUge1xyXG5cdFx0XHRcdFx0d2lkdGg6IDEwMCU7XHJcblx0XHRcdFx0XHRoZWlnaHQ6IDEwMHZoO1xyXG5cdFx0XHRcdFx0ZGlzcGxheTogZmxleDtcclxuXHRcdFx0XHRcdGZsZXgtZGlyZWN0aW9uOiByb3c7XHJcblx0XHRcdFx0XHRhbGlnbi1pdGVtczogY2VudGVyO1xyXG5cdFx0XHRcdFx0anVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcblx0XHRcdFx0XHRiYWNrZ3JvdW5kLWltYWdlOiB1cmwoXCIuL2ltZy93YXZlMS5zdmdcIik7XHJcblx0XHRcdFx0XHRiYWNrZ3JvdW5kLXNpemU6IGNvbnRhaW47XHJcblx0XHRcdFx0XHRiYWNrZ3JvdW5kLXJlcGVhdDogcmVwZWF0LXg7XHJcblx0XHRcdFx0XHRiYWNrZ3JvdW5kLXBvc2l0aW9uOiBib3R0b207XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdC53aWFkb21vc2Mge1xyXG5cdFx0XHRcdFx0bWFyZ2luLXJpZ2h0OiAxM3JlbTtcclxuXHRcdFx0XHRcdGRpc3BsYXk6IGZsZXg7XHJcblx0XHRcdFx0XHRmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG5cdFx0XHRcdFx0YWxpZ24taXRlbXM6IGNlbnRlcjtcclxuXHRcdFx0XHRcdGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG5cdFx0XHRcdFx0d2lkdGg6IDIwdnc7XHJcblx0XHRcdFx0XHRoZWlnaHQ6IG1heC1jb250ZW50O1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHQud2lhZG9tb3Njb2ZmIHtcclxuXHRcdFx0XHRcdGRpc3BsYXk6IGZsZXg7XHJcblx0XHRcdFx0XHRmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG5cdFx0XHRcdFx0YWxpZ24taXRlbXM6IGNlbnRlcjtcclxuXHRcdFx0XHRcdGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG5cdFx0XHRcdFx0d2lkdGg6IDMwdnc7XHJcblx0XHRcdFx0XHRoZWlnaHQ6IG1heC1jb250ZW50O1xyXG5cdFx0XHRcdFx0YmFja2dyb3VuZDogd2hpdGU7XHJcblx0XHRcdFx0XHRib3gtc2hhZG93OiAxcHggNHB4IDZweCBncmF5O1xyXG5cdFx0XHRcdFx0cGFkZGluZzogMnJlbTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0I3dpdGFqLFxyXG5cdFx0XHRcdC5pbmZvIHtcclxuXHRcdFx0XHRcdGZvbnQtZmFtaWx5OiAnTW9udHNlcnJhdCcsIHNhbnMtc2VyaWY7XHJcblx0XHRcdFx0XHRmb250LXNpemU6IDEuM3JlbTtcclxuXHRcdFx0XHRcdHRleHQtYWxpZ246IGNlbnRlcjtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0LmxvZ293YW5pZSB7XHJcblx0XHRcdFx0XHRjdXJzb3I6IHBvaW50ZXI7XHJcblx0XHRcdFx0XHRqdXN0aWZ5LXNlbGY6IGZsZXgtc3RhcnQ7XHJcblx0XHRcdFx0XHRwYWRkaW5nOiAuNnJlbTtcclxuXHRcdFx0XHRcdHdpZHRoOiBtYXgtY29udGVudDtcclxuXHRcdFx0XHRcdGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xyXG5cdFx0XHRcdFx0Zm9udC1zaXplOiAxLjJyZW07XHJcblx0XHRcdFx0XHRib3JkZXI6IDFweCBzb2xpZCBibGFjaztcclxuXHRcdFx0XHRcdGJveC1zaGFkb3c6IDFweCAxcHggM3B4IGdyYXk7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHQuc2FkY2F0IHtcclxuXHRcdFx0XHRcdHdpZHRoOiA2cmVtO1xyXG5cdFx0XHRcdFx0aGVpZ2h0OiA2cmVtO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHQjbm93ZWtvbnRvIHtcclxuXHRcdFx0XHRcdGN1cnNvcjogcG9pbnRlcjtcclxuXHRcdFx0XHRcdGJvcmRlcjogbm9uZTtcclxuXHRcdFx0XHRcdGJhY2tncm91bmQ6IG5vbmU7XHJcblx0XHRcdFx0XHRmb250LXNpemU6IDFyZW07XHJcblx0XHRcdFx0XHRtYXJnaW4tdG9wOiAuMnJlbTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdC5sb2dvd2FuaWU6aG92ZXIge1xyXG5cdFx0XHRcdFx0dHJhbnNpdGlvbjogMXM7XHJcblx0XHRcdFx0XHRjb2xvcjogd2hpdGU7XHJcblx0XHRcdFx0XHRib3JkZXI6IDFweCBzb2xpZCB3aGl0ZTtcclxuXHRcdFx0XHRcdGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCh0byB0b3AsICNhNTdmZmYsICM2M2JkYTIpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRAbWVkaWEgc2NyZWVuIGFuZCAobWF4LXdpZHRoOiA2MDBweCkge1xyXG5cdFx0XHRcdFx0LndpYWRvbW9zYyxcclxuXHRcdFx0XHRcdC53aWFkb21vc2NvZmYge1xyXG5cdFx0XHRcdFx0XHR3aWR0aDogNjh2dztcclxuXHRcdFx0XHRcdFx0YmFja2dyb3VuZDogd2hpdGU7XHJcblx0XHRcdFx0XHRcdGJveC1zaGFkb3c6IDFweCAzcHggNnB4IGdyYXk7XHJcblx0XHRcdFx0XHRcdG1hcmdpbjogMDtcclxuXHRcdFx0XHRcdFx0cGFkZGluZy1ib3R0b206IDJyZW07XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRgXHJcblx0XHRdO1xyXG5cdH1cclxuXHRsb2dPdXQoKSB7XHJcblx0XHR0aGlzLmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCdsb2dvdXQnLCB7IGJ1YmJsZXM6IHRydWUsIGNvbXBvc2VkOiB0cnVlIH0pKTtcclxuXHRcdHRoaXMucmVxdWVzdFVwZGF0ZSgpO1xyXG5cdH1cclxuXHJcblx0cmVuZGVyKCkge1xyXG5cdFx0cmV0dXJuIGh0bWxgICAgXHJcblx0XHQ8ZGl2IGNsYXNzPVwid2VsY29tZVwiPlxyXG5cdFx0PGRpdiBjbGFzcz1cIndpYWRvbW9zY29mZlwiPlxyXG5cdFx0PGltZyBjbGFzcz1cInNhZGNhdFwiIHNyYz1cIi4vaW1nL2dob3N0LnN2Z1wiPlxyXG5cdFx0XHJcblx0XHQ8cCBpZD1cIndpdGFqXCI+JHt0aGlzLnRpdGxlfTwvcD5cclxuXHRcdDxwIGNsYXNzPVwiaW5mb1wiPiR7dGhpcy5tZXNzYWdlfTwvcD5cclxuXHRcdCR7dGhpcy5sb2dCdXR0b25cclxuXHRcdFx0PyBodG1sYDxidXR0b24gY2xhc3M9XCJsb2dvd2FuaWVcIiBAY2xpY2s9XCIke3JlZGlyZWN0aW5nU2lnblVwfVwiPlphbG9ndWogc2nEmSBwb25vd25pZTwvYnV0dG9uPmBcclxuXHRcdFx0OiB1bmRlZmluZWR9XHJcblx0XHRcclxuXHQ8L2Rpdj48L2Rpdj5cclxuXHQgIGA7XHJcblx0fVxyXG59XHJcbmN1c3RvbUVsZW1lbnRzLmRlZmluZSgnbG9nLXNjcmVlbicsIExvZ1NjcmVlbik7XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2hvd0xvZyh0aXRsZTogc3RyaW5nLCBtZXNzYWdlOiBzdHJpbmcsIGxvZ0J1dHRvbjogQm9vbGVhbiA9IGZhbHNlLCBzYWRDYXQ6IGJvb2xlYW4gPSBmYWxzZSkge1xyXG5cdGNvbnN0ICRsb2dzY3JlZW4gPSBhd2FpdCBuZXcgTG9nU2NyZWVuKCk7XHJcblx0JGxvZ3NjcmVlbi50aXRsZSA9IHRpdGxlO1xyXG5cdCRsb2dzY3JlZW4ubWVzc2FnZSA9IG1lc3NhZ2U7XHJcblx0JGxvZ3NjcmVlbi5zYWRDYXQgPSBzYWRDYXQ7XHJcblx0JGxvZ3NjcmVlbi5sb2dCdXR0b24gPSBsb2dCdXR0b247XHJcblx0JGxvZ3NjcmVlbi5pZCA9ICdsb2cnO1xyXG5cdGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoZG9jdW1lbnQuYm9keS5sYXN0Q2hpbGQpO1xyXG5cdGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoJGxvZ3NjcmVlbik7XHJcblx0cmV0dXJuICRsb2dzY3JlZW47XHJcbn1cclxuIiwiZXhwb3J0IHR5cGUgRm9ybXMgPSAoc3RyaW5nIHwgc3RyaW5nW10pW107XHJcbmV4cG9ydCB0eXBlIFdvcmQgPSBbc3RyaW5nLCBGb3Jtc107XHJcbmV4cG9ydCB0eXBlIExldmVsID0geyBba2V5OiBzdHJpbmddOiBGb3Jtc307XHJcbmV4cG9ydCB0eXBlIExldmVscyA9IHsgW2tleTogc3RyaW5nXTogTGV2ZWwgfTtcclxuXHJcbmV4cG9ydCBjb25zdCBsZXZlbHM6IExldmVscyA9IHtcclxuXHRBMjoge1xyXG5cdFx0J8WbbmnEhywgbWFyennEhyc6IFsgJ2RyZWFtJywgWyAnZHJlYW1lZCcsICdkcmVhbXQnIF0sIFsgJ2RyZWFtZWQnLCAnZHJlYW10JyBdIF0sXHJcblx0XHRiecSHOiBbICdiZScsICd3YXMnLCAnYmVlbicgXSxcclxuXHRcdHJvYmnEhzogWyAnZG8nLCAnZGlkJywgJ2RvbmUnIF0sXHJcblx0XHQnc3Rhd2HEhyBzacSZJzogWyAnYmVjb21lJywgJ2JlY2FtZScsICdiZWNvbWUnIF0sXHJcblx0XHQnxYJhbWHEhywgcMSZa2HEhywgcm96YmnEhywgdMWCdWMnOiBbICdicmVhaycsICdicm9rZScsICdicm9rZW4nIF0sXHJcblx0XHQncHJ6eW5vc2nEhywgcHJ6eXByb3dhZHppxIcnOiBbICdicmluZycsICdicm91Z2h0JywgJ2Jyb3VnaHQnIF0sXHJcblx0XHRidWRvd2HEhzogWyAnYnVpbGQnLCAnYnVpbHQnLCAnYnVpbHQnIF0sXHJcblx0XHRrdXBvd2HEhzogWyAnYnV5JywgJ2JvdWdodCcsICdib3VnaHQnIF0sXHJcblx0XHTFgmFwYcSHOiBbICdjYXRjaCcsICdjYXVnaHQnLCAnY2F1Z2h0JyBdLFxyXG5cdFx0d3liaWVyYcSHOiBbICdjaG9vc2UnLCAnY2hvc2UnLCAnY2hvc2VuJyBdLFxyXG5cdFx0J3ByenlqxZvEhywgcHJ6eWplY2hhxIcnOiBbICdjb21lJywgJ2NhbWUnLCAnY29tZScgXSxcclxuXHRcdGtvc3p0b3dhxIc6IFsgJ2Nvc3QnLCAnY29zdCcsICdjb3N0JyBdLFxyXG5cdFx0J2NpxIXEhywga3JvacSHLCBza2FsZWN6ecSHJzogWyAnY3V0JywgJ2N1dCcsICdjdXQnIF0sXHJcblx0XHQncnlzb3dhxIcsIHBvY2nEhWduxIXEhywgcmVtaXNvd2HEhyc6IFsgJ2RyYXcnLCAnZHJldycsICdkcmF3bicgXSxcclxuXHRcdCdwcm93YWR6acSHLCBraWVyb3dhxIcgc2nEmSBjenltxZsnOiBbICdkcml2ZScsICdkcm92ZScsICdkcml2ZW4nIF0sXHJcblx0XHRwacSHOiBbICdkcmluaycsICdkcmFuaycsICdkcnVuaycgXSxcclxuXHRcdGplxZvEhzogWyAnZWF0JywgJ2F0ZScsICdlYXRlbicgXSxcclxuXHRcdCdwYWRhxIcsIHVwYWRhxIcsIHNwYWRhxIcnOiBbICdmYWxsJywgJ2ZlbGwnLCAnZmFsbGVuJyBdLFxyXG5cdFx0Y3p1xIc6IFsgJ2ZlZWwnLCAnZmVsdCcsICdmZWx0JyBdLFxyXG5cdFx0em5hbGXFusSHOiBbICdmaW5kJywgJ2ZvdW5kJywgJ2ZvdW5kJyBdLFxyXG5cdFx0bGF0YcSHOiBbICdmbHknLCAnZmxldycsICdmbG93bicgXSxcclxuXHRcdGRvc3Rhd2HEhzogWyAnZ2V0JywgJ2dvdCcsICdnb3QnIF0sXHJcblx0XHRkYXdhxIc6IFsgJ2dpdmUnLCAnZ2F2ZScsICdnaXZlbicgXSxcclxuXHRcdGnFm8SHOiBbICdnbycsICd3ZW50JywgJ2dvbmUnIF0sXHJcblx0XHRyb3NuxIXEhzogWyAnZ3JvdycsICdncmV3JywgJ2dyb3duJyBdLFxyXG5cdFx0bWllxIc6IFsgJ2hhdmUnLCAnaGFkJywgJ2hhZCcgXSxcclxuXHRcdHPFgnlzemXEhzogWyAnaGVhcicsICdoZWFyZCcsICdoZWFyZCcgXSxcclxuXHRcdHVkZXJ6YcSHOiBbICdoaXQnLCAnaGl0JywgJ2hpdCcgXSxcclxuXHRcdCd0cnp5bWHEhywgdXRyenlteXdhxIcsIHBvZHRyenlteXdhxIcnOiBbICdob2xkJywgJ2hlbGQnLCAnaGVsZCcgXSxcclxuXHRcdCdyYW5pxIcsIGJvbGXEhyc6IFsgJ2h1cnQnLCAnaHVydCcsICdodXJ0JyBdLFxyXG5cdFx0dHJ6eW1hxIc6IFsgJ2tlZXAnLCAna2VwdCcsICdrZXB0JyBdLFxyXG5cdFx0J3puYcSHLCB3aWVkemllxIcnOiBbICdrbm93JywgJ2tuZXcnLCAna25vd24nIF0sXHJcblx0XHQndWN6ecSHIHNpxJknOiBbICdsZWFybicsIFsgJ2xlYXJudCcsICdsZWFybmVkJyBdLCBbICdsZWFybnQnLCAnbGVhcm5lZCcgXSBdLFxyXG5cdFx0J29wdXN6Y3phxIcsIHd5amXFvGTFvGHEhywgem9zdGF3aWHEhyc6IFsgJ2xlYXZlJywgJ2xlZnQnLCAnbGVmdCcgXSxcclxuXHRcdCdwb8W8eWN6YcSHIChrb211xZspJzogWyAnbGVuZCcsICdsZW50JywgJ2xlbnQnIF0sXHJcblx0XHQndHJhY2nEhywgemd1YmnEhyc6IFsgJ2xvc2UnLCAnbG9zdCcsICdsb3N0JyBdLFxyXG5cdFx0J3JvYmnEhywgd3lrb255d2HEhyc6IFsgJ21ha2UnLCAnbWFkZScsICdtYWRlJyBdLFxyXG5cdFx0J3puYWN6ecSHLCBvem5hY3phxIcsIG1pZcSHIG5hIG15xZtsaSc6IFsgJ21lYW4nLCAnbWVhbnQnLCAnbWVhbnQnIF0sXHJcblx0XHQnc3BvdHlrYcSHLCBwb3puYcSHJzogWyAnbWVldCcsICdtZXQnLCAnbWV0JyBdLFxyXG5cdFx0cMWCYWNpxIc6IFsgJ3BheScsICdwYWlkJywgJ3BhaWQnIF0sXHJcblx0XHRrxYJhxZvEhzogWyAncHV0JywgJ3B1dCcsICdwdXQnIF0sXHJcblx0XHRjenl0YcSHOiBbICdyZWFkJywgJ3JlYWQnLCAncmVhZCcgXSxcclxuXHRcdGplxbpkemnEhzogWyAncmlkZScsICdyb2RlJywgJ3JpZGRlbicgXSxcclxuXHRcdGR6d29uacSHOiBbICdyaW5nJywgJ3JhbmcnLCAncnVuZycgXSxcclxuXHRcdGJpZWM6IFsgJ3J1bicsICdyYW4nLCAncnVuJyBdLFxyXG5cdFx0bW93acSHOiBbICdzYXknLCAnc2FpZCcsICdzYWlkJyBdLFxyXG5cdFx0d2lkemllxIc6IFsgJ3NlZScsICdzYXcnLCAnc2VlbicgXSxcclxuXHRcdHNwcnplZGF3YcSHOiBbICdzZWxsJywgJ3NvbGQnLCAnc29sZCcgXSxcclxuXHRcdCd3eXN5xYJhxIcsIHPFgmHEhyc6IFsgJ3NlbmQnLCAnc2VudCcsICdzZW50JyBdLFxyXG5cdFx0cG9rYXp5d2HEhzogWyAnc2hvdycsICdzaG93ZWQnLCAnc2hvd24nIF0sXHJcblx0XHR6YW15a2HEhzogWyAnc2h1dCcsICdzaHV0JywgJ3NodXQnIF0sXHJcblx0XHTFm3BpZXdhxIc6IFsgJ3NpbmcnLCAnc2FuZycsICdzdW5nJyBdLFxyXG5cdFx0J3NpZWR6aWXEhywgc2lhZGHEhyc6IFsgJ3NpdCcsICdzYXQnLCAnc2F0JyBdLFxyXG5cdFx0c3BhxIc6IFsgJ3NsZWVwJywgJ3NsZXB0JywgJ3NsZXB0JyBdLFxyXG5cdFx0J23Ds3dpxIcsIHJvem1hd2lhxIcnOiBbICdzcGVhaycsICdzcG9rZScsICdzcG9rZW4nIF0sXHJcblx0XHQnc3DEmWR6YcSHLCB3eWRhd2HEhyc6IFsgJ3NwZW5kJywgJ3NwZW50JywgJ3NwZW50JyBdLFxyXG5cdFx0c3RhxIc6IFsgJ3N0YW5kJywgJ3N0b29kJywgJ3N0b29kJyBdLFxyXG5cdFx0a3JhxZvEhzogWyAnc3RlYWwnLCAnc3RvbGUnLCAnc3RvbGVuJyBdLFxyXG5cdFx0cMWCeXdhxIc6IFsgJ3N3aW0nLCAnc3dhbScsICdzd3VtJyBdLFxyXG5cdFx0YnJhxIc6IFsgJ3Rha2UnLCAndG9vaycsICd0YWtlbicgXSxcclxuXHRcdCd1Y3p5xIcgKGtvZ2/FmyknOiBbICd0ZWFjaCcsICd0YXVnaHQnLCAndGF1Z2h0JyBdLFxyXG5cdFx0J3Bvd2llZHppZcSHLCBvcG93aWVkemllxIcnOiBbICd0ZWxsJywgJ3RvbGQnLCAndG9sZCcgXSxcclxuXHRcdCdtecWbbGXEhywgc8SFZHppxIcsIHV3YcW8YcSHJzogWyAndGhpbmsnLCAndGhvdWdodCcsICd0aG91Z2h0JyBdLFxyXG5cdFx0cnp1Y2HEhzogWyAndGhyb3cnLCAndGhyZXcnLCAndGhyb3duJyBdLFxyXG5cdFx0YnVkemnEhzogWyAnd2FrZScsICd3b2tlJywgJ3dva2VuJyBdLFxyXG5cdFx0J25vc2nEhywgemFrxYJhZGHEhyc6IFsgJ3dlYXInLCAnd29yZScsICd3b3JuJyBdLFxyXG5cdFx0cm96dW1pZcSHOiBbICd1bmRlcnN0YW5kJywgJ3VuZGVyc3Rvb2QnLCAndW5kZXJzdG9vZCcgXSxcclxuXHRcdHd5Z3J5d2HEhzogWyAnd2luJywgJ3dvbicsICd3b24nIF0sXHJcblx0XHRwaXNhxIc6IFsgJ3dyaXRlJywgJ3dyb3RlJywgJ3dyaXR0ZW4nIF1cclxuXHR9LFxyXG5cdEIxOiB7XHJcblx0XHRvYnVkemnEhzogWyAnYXdha2UnLCAnYXdva2UnLCAnYXdva2VuJyBdLFxyXG5cdFx0YmnEhzogWyAnYmVhdCcsICdiZWF0JywgJ2JlYXRlbicgXSxcclxuXHRcdHVncnnFumM6IFsgJ2JpdGUnLCAnYml0JywgJ2JpdHRlbicgXSxcclxuXHRcdGtyd2F3acSHOiBbICdibGVlZCcsICdibGVkJywgJ2JsZWQnIF0sXHJcblx0XHQnd2lhxIcsIGRtdWNoYcSHJzogWyAnYmxvdycsICdibGV3JywgJ2Jsb3duJyBdLFxyXG5cdFx0J3BhbGnEhywgcGFyennEhywgcMWCb27EhcSHJzogWyAnYnVybicsIFsgJ2J1cm5lZCcsICdidXJudCcgXSwgWyAnYnVybmVkJywgJ2J1cm50JyBdIF0sXHJcblx0XHQna29wYcSHIChucCB6aWVtacSZKSc6IFsgJ2RpZycsICdkdWcnLCAnZHVnJyBdLFxyXG5cdFx0J2thcm1pxIcsIMW8eXdpxIcnOiBbICdmZWVkJywgJ2ZlZCcsICdmZWQnIF0sXHJcblx0XHQnd2FsY3p5xIcsIGJpxIcgc2nEmSc6IFsgJ2ZpZ2h0JywgJ2ZvdWdodCcsICdmb3VnaHQnIF0sXHJcblx0XHR6YXBvbWluYcSHOiBbICdmb3JnZXQnLCAnZm9yZ290JywgJ2ZvcmdvdHRlbicgXSxcclxuXHRcdHd5YmFjemHEhzogWyAnZm9yZ2l2ZScsICdmb3JnYXZlJywgJ2ZvcmdpdmVuJyBdLFxyXG5cdFx0emFtYXJ6YcSHOiBbICdmcmVlemUnLCAnZnJvemUnLCAnZnJvemVuJyBdLFxyXG5cdFx0J3phd2llc3phxIcgKGNvxZssIG5wIG9icmF6KSc6IFsgJ2hhbmcnLCAnaHVuZycsICdodW5nJyBdLFxyXG5cdFx0J2Nob3dhxIcsIHVrcnl3YcSHJzogWyAnaGlkZScsICdoaWQnLCAnaGlkZGVuJyBdLFxyXG5cdFx0cG96d2FsYcSHOiBbICdsZXQnLCAnbGV0JywgJ2xldCcgXSxcclxuXHRcdCdsZcW8ZcSHLCBrxYJhxZvEhyBzacSZJzogWyAnbGllJywgJ2xheScsICdsYWluJyBdLFxyXG5cdFx0J3phcGFsYcSHLCByb3pwYWxhxIcsIG/Fm3dpZXRsYcSHJzogWyAnbGlnaHQnLCBbICdsaWdodGVkJywgJ2xpdCcgXSwgWyAnbGlndGhlZCcsICdsaXQnIF0gXSxcclxuXHRcdCdyenVjYcSHLCBvcHVzemN6YcSHJzogWyAncXVpdCcsICdxdWl0JywgJ3F1aXQnIF0sXHJcblx0XHQncG9kbm9zacSHLCB3enJhc3RhxIcnOiBbICdyaXNlJywgJ3Jvc2UnLCAncmlzZW4nIF0sXHJcblx0XHQndHJ6xIXFm8SHLCBwb3RyesSFc2HEhyc6IFsgJ3NoYWtlJywgJ3Nob29rJywgJ3NoYWtlbicgXSxcclxuXHRcdCfFm3dpZWNpxIcsIGLFgnlzemN6ZcSHJzogWyAnc2hpbmUnLCAnc2hvbmUnLCAnc2hvbmUnIF0sXHJcblx0XHRzdHJ6ZWxhxIc6IFsgJ3Nob290JywgJ3Nob3QnLCAnc2hvdCcgXSxcclxuXHRcdCd0b27EhcSHIChvIHN0YXRrdSksIHphcGFkYcSHIHNpxJknOiBbICdzaW5rJywgJ3NhbmsnLCAnc3VuaycgXSxcclxuXHRcdCd3YmlqYcSHLCB3dHlrYcSHLCBwcnp5a2xlamHEhywgd3lzdGF3acSHJzogWyAnc3RpY2snLCAnc3R1Y2snLCAnc3R1Y2snIF0sXHJcblx0XHQndWRlcnp5xIcsIHd5YmlqYcSHJzogWyAnc3RyaWtlJywgJ3N0cnVjaycsICdzdHJ1Y2snIF0sXHJcblx0XHQnZHJ6ZcSHLCByb3pkemllcmHEhyc6IFsgJ3RlYXInLCAndG9yZScsICd0b3JuJyBdXHJcblx0fSxcclxuXHRCMjoge1xyXG5cdFx0J3pub3NpxIcsIHVkxbp3aWduxIXEhyBjb8WbLCDFvHl3acSHIHVyYXrEmSc6IFsgJ2JlYXInLCAnYm9yZScsICdib3JuZScgXSxcclxuXHRcdCd6Z2luYcSHLCBuYWNoeWxhxIcnOiBbICdiZW5kJywgJ2JlbnQnLCAnYmVudCcgXSxcclxuXHRcdCdob2Rvd2HEhywgd3ljaG93YcSHLCByb3ptYcW8YcSHIHNpxJknOiBbICdicmVlZCcsICdicmVkJywgJ2JyZWFkJyBdLFxyXG5cdFx0J3J6dWNpxIcsIHpyenVjacSHJzogWyAnY2FzdCcsICdjYXN0JywgJ2Nhc3QnIF0sXHJcblx0XHQncm96ZGF3YcSHLCBwb3N0xJlwb3dhxIcsIG1pZcSHIGRvIGN6eW5pZW5pYSwgcmFkemnEhyBzb2JpZSc6IFsgJ2RlYWwnLCAnZGVhbHQnLCAnZGVhbHQnIF0sXHJcblx0XHR6YWJyYW5pYcSHOiBbICdmb3JiaWQnLCAnZm9yYmFkZScsICdmb3JiaWRkZW4nIF0sXHJcblx0XHQna2zEmWN6ZcSHLCBrbMSZa2HEhyc6IFsgJ2tuZWVsJywgWyAna25lZWxlZCcsICdrbmVsdCcgXSwgWyAna25lZWxlZCcsICdrbmVsdCcgXSBdLFxyXG5cdFx0J3JvYmnEhyBuYSBkcnV0YWNoJzogWyAna25pdCcsIFsgJ2tuaXQnLCAna25pdHRlZCcgXSwgWyAna25pdCcsICdrbml0dGVkJyBdIF0sXHJcblx0XHRwcm93YWR6acSHOiBbICdsZWFkJywgJ2xlZCcsICdsZWQnIF0sXHJcblx0XHQnc3p1a2HEhywgcG9zenVraXdhxIcnOiBbICdzZWVrJywgJ3NvdWdodCcsICdzb3VnaHQnIF0sXHJcblx0XHQndW1pZXN6Y3phxIcsIHVzdGF3aWHEhywgemFjaG9kemnEhyAobyBzxYJvxYRjdSksIG9zYWR6acSHLCBuYXN0YXdpxIcsIHd5em5hY3p5xIcnOiBbICdzZXQnLCAnc2V0JywgJ3NldCcgXSxcclxuXHRcdCdrdXJjennEhyBzacSZLCB6YmllZ2HEhyc6IFsgJ3NocmluaycsICdzaHJhbmsnLCAnc2hydW5rJyBdLFxyXG5cdFx0J8WbbGl6Z2HEhyBzacSZLCB6amXFvGTFvGHEhyc6IFsgJ3NsaWRlJywgJ3NsaWQnLCAnc2xpZCcgXSxcclxuXHRcdCdkemllbGnEhywgcm96ZHppZWxhxIcnOiBbICdzcGxpdCcsICdzcGxpdCcsICdzcGxpdCcgXSxcclxuXHRcdCdyb3pjaG9kemnEhyBzacSZLCByb3pwcnplc3RyemVuaWHEhywgcm96a8WCYWRhxIcsIHJvenBvxZtjaWVyYcSHLCByb3pzbWFyb3dhxIcnOiBbICdzcHJlYWQnLCAnc3ByZWFkJywgJ3NwcmVhZCcgXSxcclxuXHRcdCdwcnp5c2nEmWdhxIcsIHByemVrbGluYcSHJzogWyAnc3dlYXInLCAnc3dvcmUnLCAnc3dvcm4nIF0sXHJcblx0XHQnemFtaWF0YcSHLCB6bWlhdGHEhyc6IFsgJ3N3ZWVwJywgJ3N3ZXB0JywgJ3N3ZXB0JyBdLFxyXG5cdFx0J21hY2huxIXEhywgemFrb8WCeXNhxIcnOiBbICdzd2luZycsICdzd3VuZycsICdzd3VuZycgXVxyXG5cdH0sXHJcblx0QzE6IHtcclxuXHRcdCdwb2phd2nEhyBzacSZJzogWyAnYXJpc2UnLCAnYXJvc2UnLCAnYXJpc2VuJyBdLFxyXG5cdFx0J3pha8WCYWRhxIcsIG9ic3Rhd2lhxIcnOiBbICdiZXQnLCAnYmV0JywgJ2JldCcgXSxcclxuXHRcdCd1bXlrYcSHLCB1Y2lla2HEhywgb3B1xZtjacSHJzogWyAnZmxlZScsICdmbGVkJywgJ2ZsZWQnIF0sXHJcblx0XHQncG/Fgm/FvHnEhywga8WCYcWbxIcnOiBbICdsYXknLCAnbGFpZCcsICdsYWlkJyBdLFxyXG5cdFx0J2tyxJljacSHLCB6YWtyxJljacSHIGN6eW3Fmy9zacSZLCBvYnLDs2NpxIcnOiBbICdzcGluJywgJ3NwdW4nLCAnc3B1bicgXSxcclxuXHRcdCfFm21pZXJkemllxIcsIGN1Y2huxIXEhyc6IFsgJ3N0aW5rJywgJ3N0YW5rJywgJ3N0dW5rJyBdXHJcblx0fSxcclxuXHRDMjoge1xyXG5cdFx0J3dpxIV6YcSHLCB6xYLEhWN6ecSHLCBvcHJhd2nEhyAoa3NpxIXFvGvEmSknOiBbICdiaW5kJywgJ2JvdW5kJywgJ2JvdW5kJyBdLFxyXG5cdFx0J3Byenl3cnplxIcsIHVjemVwacSHIHNpxJksIHRyenltYcSHIHNpxJkga3VyY3pvd28nOiBbICdjbGluZycsICdjbHVuZycsICdjbHVuZycgXSxcclxuXHRcdCdza3JhZGHEhyBzacSZLCB6YWtyYWRhxIcsIHBpxIXEhyBzacSZLCBwb2RjaG9kemnEhyc6IFsgJ2NyZWVwJywgJ2NyZXB0JywgJ2NyZXB0JyBdLFxyXG5cdFx0J3J6dWNpxIcsIGNpc27EhcSHJzogWyAnZmxpbmcnLCAnZmx1bmcnLCAnZmx1bmcnIF0sXHJcblx0XHQncG9yenVjYcSHLCB6YW5pZWNoYcSHLCBvcHXFm2NpxIcnOiBbICdmb3JzYWtlJywgJ2ZvcnNvb2snLCAnZm9yc2FrZW4nIF0sXHJcblx0XHQncHJ6ZXBvd2lhZGHEhywgcHJ6ZXdpZHl3YcSHJzogWyAnZm9yZXRlbGwnLCAnZm9yZXRvbGQnLCAnZm9yZXRvbGQnIF0sXHJcblx0XHQnemVtbGXEhywgcm96a3J1c3p5xIcsIHpncnp5dGHEhywgb3N0cnp5xIcsIHRyemXEhyc6IFsgJ2dyaW5kJywgJ2dyb3VuZCcsICdncm91bmQnIF0sXHJcblx0XHRza2FrYcSHOiBbICdsZWFwJywgWyAnbGVhcGVkJywgJ2xlcHQnIF0sIFsgJ2xlYXBlZCcsICdsZXB0JyBdIF0sXHJcblx0XHRwacWCb3dhxIc6IFsgJ3NhdycsICdzYXdlZCcsICdzYXduJyBdLFxyXG5cdFx0J3pyenVjYcSHLCBwb3pieXdhxIcgc2nEmSc6IFsgJ3NoZWQnLCAnc2hlZCcsICdzaGVkJyBdLFxyXG5cdFx0emFiaWphxIc6IFsgJ3NsYXknLCAnc2xldycsICdzbGFpbicgXSxcclxuXHRcdCdjaXNuxIXEhywgbWlvdGHEhyc6IFsgJ3NsaW5nJywgJ3NsdW5nJywgJ3NsdW5nJyBdLFxyXG5cdFx0J3ByemVza2FraXdhxIcsIHd5c2tha2l3YcSHJzogWyAnc3ByaW5nJywgJ3NwcmFuZycsICdzcHJ1bmcnIF0sXHJcblx0XHTFvMSFZGxpxIc6IFsgJ3N0aW5nJywgJ3N0dW5nJywgJ3N0dW5nJyBdLFxyXG5cdFx0J3ptYWdhxIcgc2nEmSB6IGN6eW3FmywgZMSFxbx5xIcsIHN0YXJhxIcgc2nEmSwgcG9kZWptb3dhxIcgd3lzacWCZWsnOiBbICdzdHJpdmUnLCAnc3Ryb3ZlJywgJ3N0cml2ZW4nIF0sXHJcblx0XHQna3JvY3p5xIcsIHN0xIVwYcSHLCBkZXB0YcSHJzogWyAndHJlYWQnLCAndHJvZCcsICd0cm9kZGVuJyBdLFxyXG5cdFx0J3DFgmFrYcSHLCBzemxvY2hhxIcnOiBbICd3ZWVwJywgJ3dlcHQnLCAnd2VwdCcgXSxcclxuXHRcdCduYXdpamHEhywgbmFrcsSZY2HEhywgd2nEhyBzacSZJzogWyAnd2luZCcsICd3b3VuZCcsICd3b3VuZCcgXSxcclxuXHRcdCd3eWtyxJljacSHLCB3ecW8xIXEhyBjb8WbLCB3eWNpc27EhcSHJzogWyAnd3JpbmcnLCAnd3J1bmcnLCAnd3J1bmcnIF1cclxuXHR9XHJcbn07XHJcbiIsImltcG9ydCB7IExpdEVsZW1lbnQsIGh0bWwsIGNzcywgY3VzdG9tRWxlbWVudCB9IGZyb20gJ2xpdC1lbGVtZW50JztcclxuaW1wb3J0IHsgcmVwb3J0QnVnVG9TZXJ2ZXIgfSBmcm9tICcuL3V0aWwnO1xyXG5cclxuZGVjbGFyZSBnbG9iYWwge1xyXG5cdGludGVyZmFjZSBXaW5kb3cge1xyXG5cdFx0ZmlyZWJhc2U6IGFueTtcclxuXHR9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBSZXBvcnRCdWcgZXh0ZW5kcyBMaXRFbGVtZW50IHtcclxuXHR1c2VyaWQ6IG51bWJlcjtcclxuXHRzdGF0aWMgZ2V0IHN0eWxlcygpIHtcclxuXHRcdHJldHVybiBbXHJcblx0XHRcdGNzc2BcclxuXHRcdFx0XHQ6aG9zdCB7XHJcblx0XHRcdFx0XHRwb3NpdGlvbjogYWJzb2x1dGU7XHJcblx0XHRcdFx0XHR0b3A6IDA7XHJcblx0XHRcdFx0XHRsZWZ0OiAwO1xyXG5cdFx0XHRcdFx0d2lkdGg6IDEwMCU7XHJcblx0XHRcdFx0XHRoZWlnaHQ6IDEwMHZoO1xyXG5cdFx0XHRcdFx0ZGlzcGxheTogZmxleDtcclxuXHRcdFx0XHRcdGZsZXgtZGlyZWN0aW9uOiByb3c7XHJcblx0XHRcdFx0XHRhbGlnbi1pdGVtczogY2VudGVyO1xyXG5cdFx0XHRcdFx0anVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcblx0XHRcdFx0XHR6LWluZGV4OiA5OTk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdC53aWFkb21vc2Mge1xyXG5cdFx0XHRcdFx0bWFyZ2luLXJpZ2h0OiAxM3JlbTtcclxuXHRcdFx0XHRcdGRpc3BsYXk6IGZsZXg7XHJcblx0XHRcdFx0XHRmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG5cdFx0XHRcdFx0YWxpZ24taXRlbXM6IGNlbnRlcjtcclxuXHRcdFx0XHRcdGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG5cdFx0XHRcdFx0d2lkdGg6IDIwdnc7XHJcblx0XHRcdFx0XHRoZWlnaHQ6IG1heC1jb250ZW50O1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHQud2lhZG9tb3Njb2ZmIHtcclxuXHRcdFx0XHRcdGRpc3BsYXk6IGZsZXg7XHJcblx0XHRcdFx0XHRmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG5cdFx0XHRcdFx0YWxpZ24taXRlbXM6IGNlbnRlcjtcclxuXHRcdFx0XHRcdGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG5cdFx0XHRcdFx0d2lkdGg6IDMwdnc7XHJcblx0XHRcdFx0XHRoZWlnaHQ6IG1heC1jb250ZW50O1xyXG5cdFx0XHRcdFx0YmFja2dyb3VuZDogd2hpdGU7XHJcblx0XHRcdFx0XHRib3gtc2hhZG93OiAxcHggNHB4IDZweCBncmF5O1xyXG5cdFx0XHRcdFx0cGFkZGluZzogMnJlbTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0I3dpdGFqLFxyXG5cdFx0XHRcdC5pbmZvIHtcclxuXHRcdFx0XHRcdGZvbnQtZmFtaWx5OiAnTW9udHNlcnJhdCcsIHNhbnMtc2VyaWY7XHJcblx0XHRcdFx0XHRmb250LXNpemU6IDEuM3JlbTtcclxuXHRcdFx0XHRcdHRleHQtYWxpZ246IGNlbnRlcjtcclxuXHRcdFx0XHRcdHdpZHRoOiAxMDAlO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHQuaW5mbyB7XHJcblx0XHRcdFx0XHRyZXNpemU6IG5vbmU7XHJcblx0XHRcdFx0XHRmb250LXNpemU6IDFyZW07XHJcblx0XHRcdFx0XHRoZWlnaHQ6IDIwdmg7XHJcblx0XHRcdFx0XHR0ZXh0LWFsaWduOiBsZWZ0O1xyXG5cdFx0XHRcdFx0bWFyZ2luLWJvdHRvbTogMXJlbTtcclxuXHRcdFx0XHRcdHRleHQtb3ZlcmZsb3c6IHNjcm9sbDtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdC5sb2dvd2FuaWUge1xyXG5cdFx0XHRcdFx0Y3Vyc29yOiBwb2ludGVyO1xyXG5cdFx0XHRcdFx0anVzdGlmeS1zZWxmOiBmbGV4LXN0YXJ0O1xyXG5cdFx0XHRcdFx0cGFkZGluZzogLjZyZW07XHJcblx0XHRcdFx0XHR3aWR0aDogbWF4LWNvbnRlbnQ7XHJcblx0XHRcdFx0XHRiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcclxuXHRcdFx0XHRcdGZvbnQtc2l6ZTogMS4ycmVtO1xyXG5cdFx0XHRcdFx0Ym9yZGVyOiAxcHggc29saWQgYmxhY2s7XHJcblx0XHRcdFx0XHRib3gtc2hhZG93OiAxcHggMXB4IDNweCBncmF5O1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHQjY2xvc2Uge1xyXG5cdFx0XHRcdFx0Y3Vyc29yOiBwb2ludGVyO1xyXG5cdFx0XHRcdFx0bWFyZ2luLXRvcDogLTFyZW07XHJcblx0XHRcdFx0XHRhbGlnbi1zZWxmOiBmbGV4LWVuZDtcclxuXHRcdFx0XHRcdGZvbnQtZmFtaWx5OiAnTW9udHNlcnJhdCcsIHNhbnMtc2VyaWY7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHQuc2FkY2F0IHtcclxuXHRcdFx0XHRcdHdpZHRoOiA2cmVtO1xyXG5cdFx0XHRcdFx0aGVpZ2h0OiA2cmVtO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHQjbm93ZWtvbnRvIHtcclxuXHRcdFx0XHRcdGN1cnNvcjogcG9pbnRlcjtcclxuXHRcdFx0XHRcdGJvcmRlcjogbm9uZTtcclxuXHRcdFx0XHRcdGJhY2tncm91bmQ6IG5vbmU7XHJcblx0XHRcdFx0XHRmb250LXNpemU6IDFyZW07XHJcblx0XHRcdFx0XHRtYXJnaW4tdG9wOiAuMnJlbTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdC5sb2dvd2FuaWU6aG92ZXIge1xyXG5cdFx0XHRcdFx0dHJhbnNpdGlvbjogMXM7XHJcblx0XHRcdFx0XHRjb2xvcjogd2hpdGU7XHJcblx0XHRcdFx0XHRib3JkZXI6IDFweCBzb2xpZCB3aGl0ZTtcclxuXHRcdFx0XHRcdGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCh0byB0b3AsICNhNTdmZmYsICM2M2JkYTIpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRAbWVkaWEgc2NyZWVuIGFuZCAobWF4LXdpZHRoOiA2MDBweCkge1xyXG5cdFx0XHRcdFx0LndpYWRvbW9zYyxcclxuXHRcdFx0XHRcdC53aWFkb21vc2NvZmYge1xyXG5cdFx0XHRcdFx0XHR3aWR0aDogODB2dztcclxuXHRcdFx0XHRcdFx0YmFja2dyb3VuZDogd2hpdGU7XHJcblx0XHRcdFx0XHRcdGJveC1zaGFkb3c6IDFweCAzcHggNnB4IGdyYXk7XHJcblx0XHRcdFx0XHRcdG1hcmdpbjogMDtcclxuXHRcdFx0XHRcdFx0cGFkZGluZy1ib3R0b206IDJyZW07XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRgXHJcblx0XHRdO1xyXG5cdH1cclxuXHRzZW5kSW5mbyhlOiBFdmVudCkge1xyXG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0bGV0IG1lc3NhZ2UgPSB0aGlzLnNoYWRvd1Jvb3QucXVlcnlTZWxlY3RvcjxIVE1MSW5wdXRFbGVtZW50PignLmluZm8nKS52YWx1ZTtcclxuXHRcdHJlcG9ydEJ1Z1RvU2VydmVyKHRoaXMudXNlcmlkLCBtZXNzYWdlKTtcclxuXHRcdHRoaXMuc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yKCcjd2l0YWonKS50ZXh0Q29udGVudCA9ICdEemnEmWt1amVteSB6YSB6Z8WCb3N6ZW5pZSc7XHJcblx0XHR0aGlzLnNoYWRvd1Jvb3QucXVlcnlTZWxlY3RvcjxIVE1MRWxlbWVudD4oJy5pbmZvJykuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuXHRcdHRoaXMuc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yPEhUTUxFbGVtZW50PignLmxvZ293YW5pZScpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcblx0XHR0aGlzLnNoYWRvd1Jvb3QucXVlcnlTZWxlY3RvcjxIVE1MRWxlbWVudD4oJyNjbG9zZScpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcblx0XHRzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNyZXBvcnRidWcnKSk7XHJcblx0XHR9LCAzMDAwKTtcclxuXHR9XHJcblxyXG5cdHJlbmRlcigpIHtcclxuXHRcdHJldHVybiBodG1sYCBcclxuXHRcdDxmb3JtIEBzdWJtaXQ9XCIkeyhlOiBFdmVudCkgPT4ge1xyXG5cdFx0XHR0aGlzLnNlbmRJbmZvKGUpO1xyXG5cdFx0fX1cIj5cclxuXHRcdDxkaXYgY2xhc3M9XCJ3aWFkb21vc2NvZmZcIj5cclxuXHRcdDxzcGFuIEBjbGljaz1cIiR7KGU6IEV2ZW50KSA9PiB7XHJcblx0XHRcdHRoaXMuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcblx0XHRcdFx0ZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcmVwb3J0YnVnJykpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH19XCIgaWQ9XCJjbG9zZVwiPlg8L3NwYW4+XHJcblx0XHQ8cCBpZD1cIndpdGFqXCI+T3Bpc3ogc3fDs2ogcHJvYmxlbSB3IG9raWVua3UgcG9uacW8ZWo6PC9wPlxyXG5cdFx0PHRleHRhcmVhIGNsYXNzPVwiaW5mb1wiPjwvdGV4dGFyZWE+XHJcblx0XHQ8YnV0dG9uIHR5cGU9XCJzdWJtaXRcIiBjbGFzcz1cImxvZ293YW5pZVwiPld5xZtsaWo8L2J1dHRvbj5cclxuXHRcdFxyXG5cdDwvZGl2PlxyXG5cdDwvZm9ybT5cclxuXHQgIGA7XHJcblx0fVxyXG59XHJcbmN1c3RvbUVsZW1lbnRzLmRlZmluZSgncmVwb3J0LWJ1ZycsIFJlcG9ydEJ1Zyk7XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcmVwb3J0QnVnKHVpZDogbnVtYmVyKSB7XHJcblx0Y29uc3QgJHJlcG9ydGJ1ZyA9IGF3YWl0IG5ldyBSZXBvcnRCdWcoKTtcclxuXHQkcmVwb3J0YnVnLnVzZXJpZCA9IHVpZDtcclxuXHQkcmVwb3J0YnVnLmlkID0gJ3JlcG9ydGJ1Zyc7XHJcblx0ZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCgkcmVwb3J0YnVnKTtcclxuXHRyZXR1cm4gJHJlcG9ydGJ1ZztcclxufVxyXG4iLCJleHBvcnQgKiBmcm9tICcuL2VuZ2xpc2gnO1xyXG5leHBvcnQgKiBmcm9tICcuL2RhdGEnO1xyXG5leHBvcnQgKiBmcm9tICcuL3V0aWwnO1xyXG5leHBvcnQgKiBmcm9tICcuL3Byb2ZpbGUtY2FyZCc7XHJcbmV4cG9ydCAqIGZyb20gJy4vbG9nLXNjcmVlbic7XHJcbmV4cG9ydCAqIGZyb20gJy4vcmVwb3J0LWJ1Zyc7XHJcbmltcG9ydCB7IHNob3dUaGVHYW1lIH0gZnJvbSAnLi9lbmdsaXNoJztcclxuaWYgKCEobG9jYXRpb24uaG9zdG5hbWUgPT09ICdsb2NhbGhvc3QnKSkge1xyXG5cdGlmICgnc2VydmljZVdvcmtlcicgaW4gbmF2aWdhdG9yKSB7XHJcblx0XHR3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsICgpID0+IHtcclxuXHRcdFx0bmF2aWdhdG9yLnNlcnZpY2VXb3JrZXIucmVnaXN0ZXIoJ3N3LmpzJyk7XHJcblx0XHR9KTtcclxuXHR9XHJcbn1cclxuZGVjbGFyZSBnbG9iYWwge1xyXG5cdGludGVyZmFjZSBXaW5kb3cge1xyXG5cdFx0ZmlyZWJhc2U6IGFueTtcclxuXHR9XHJcbn1cclxuXHJcbndpbmRvdy5vbmxvYWQgPSAoZXZlbnQ6IEV2ZW50KSA9PiB7XHJcblx0Y2hlY2tVcGRhdGVzKCk7XHJcbn07XHJcbmFzeW5jIGZ1bmN0aW9uIGNoZWNrVXBkYXRlcygpIHtcclxuXHRpZiAoIShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlci1pbmZvJykgPT09IG51bGwpKSB7XHJcblx0XHRsZXQgdXNlcklkID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlci1pbmZvJykpLnVzZXIudWlkO1xyXG5cdFx0YXdhaXQgd2luZG93LmZpcmViYXNlLmRhdGFiYXNlKCkucmVmKCcvdXNlcnMvJyArIHVzZXJJZCkub25jZSgndmFsdWUnKS50aGVuKGZ1bmN0aW9uKHNuYXBzaG90OiBhbnkpIHtcclxuXHRcdFx0bGV0IHBvaW50cyA9IChzbmFwc2hvdC52YWwoKSAmJiBzbmFwc2hvdC52YWwoKS5wb2ludHMpIHx8IHsgQTI6IDAsIEIxOiAwLCBCMjogMCwgQzE6IDAsIEMyOiAwLCBBbGw6IDAgfTtcclxuXHRcdFx0bG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3BvaW50cycsIEpTT04uc3RyaW5naWZ5KHsgcG9pbnRzIH0pKTtcclxuXHRcdH0pO1xyXG5cdFx0bGV0IGdhbWUgPSBzaG93VGhlR2FtZShcclxuXHRcdFx0SlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlci1pbmZvJykpLnVzZXIuZGlzcGxheU5hbWUsXHJcblx0XHRcdEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXItaW5mbycpKS51c2VyLmVtYWlsLFxyXG5cdFx0XHRKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VyLWluZm8nKSkudXNlci51aWQsXHJcblx0XHRcdEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3BvaW50cycpKS5wb2ludHNcclxuXHRcdCk7XHJcblx0fVxyXG59XHJcbiIsImZ1bmN0aW9uIENvbmZldHRpR2VuZXJhdG9yKHBhcmFtcykge1xuICAvLy8vLy8vLy8vLy8vL1xuICAvLyBEZWZhdWx0c1xuICB2YXIgYXBwc3RhdGUgPSB7XG4gICAgdGFyZ2V0OiAnY29uZmV0dGktaG9sZGVyJywgLy8gSWQgb2YgdGhlIGNhbnZhc1xuICAgIG1heDogODAsIC8vIE1heCBpdGVucyB0byByZW5kZXJcbiAgICBzaXplOiAxLCAvLyBwcm9wIHNpemVcbiAgICBhbmltYXRlOiB0cnVlLCAvLyBTaG91bGQgYW5pYW10ZT9cbiAgICBwcm9wczogWydjaXJjbGUnLCAnc3F1YXJlJywgJ3RyaWFuZ2xlJywgJ2xpbmUnXSwgLy8gVHlwZXMgb2YgY29uZmV0dGlcbiAgICBjb2xvcnM6IFtbMTY1LDEwNCwyNDZdLFsyMzAsNjEsMTM1XSxbMCwxOTksMjI4XSxbMjUzLDIxNCwxMjZdXSwgLy8gQ29sb3JzIHRvIHJlbmRlciBjb25mZXR0aVxuICAgIGNsb2NrOiAyNSwgLy8gU3BlZWQgb2YgY29uZmV0dGkgZmFsbFxuICAgIGludGVydmFsOiBudWxsLCAvLyBEcmF3IGludGVydmFsIGhvbGRlclxuICAgIHJvdGF0ZTogZmFsc2UsIC8vIFdoZW5ldmVyIHRvIHJvdGF0ZSBhIHByb3BcbiAgICB3aWR0aDogd2luZG93LmlubmVyV2lkdGgsIC8vIGNhbnZhcyB3aWR0aCAoYXMgaW50LCBpbiBweClcbiAgICBoZWlnaHQ6IHdpbmRvdy5pbm5lckhlaWdodCAvLyBjYW52YXMgaGVpZ2h0IChhcyBpbnQsIGluIHB4KVxuICB9O1xuXG4gIC8vLy8vLy8vLy8vLy8vXG4gIC8vIFNldHRpbmcgcGFyYW1ldGVycyBpZiByZWNlaXZlZFxuICBpZihwYXJhbXMpIHtcbiAgICBpZihwYXJhbXMudGFyZ2V0KVxuICAgICAgYXBwc3RhdGUudGFyZ2V0ID0gcGFyYW1zLnRhcmdldDtcbiAgICBpZihwYXJhbXMubWF4KVxuICAgICAgYXBwc3RhdGUubWF4ID0gcGFyYW1zLm1heDtcbiAgICBpZihwYXJhbXMuc2l6ZSlcbiAgICAgIGFwcHN0YXRlLnNpemUgPSBwYXJhbXMuc2l6ZTtcbiAgICBpZihwYXJhbXMuYW5pbWF0ZSAhPT0gdW5kZWZpbmVkICYmIHBhcmFtcy5hbmltYXRlICE9PSBudWxsKVxuICAgICAgYXBwc3RhdGUuYW5pbWF0ZSA9IHBhcmFtcy5hbmltYXRlO1xuICAgIGlmKHBhcmFtcy5wcm9wcylcbiAgICAgIGFwcHN0YXRlLnByb3BzID0gcGFyYW1zLnByb3BzO1xuICAgIGlmKHBhcmFtcy5jb2xvcnMpXG4gICAgICBhcHBzdGF0ZS5jb2xvcnMgPSBwYXJhbXMuY29sb3JzO1xuICAgIGlmKHBhcmFtcy5jbG9jaylcbiAgICAgIGFwcHN0YXRlLmNsb2NrID0gcGFyYW1zLmNsb2NrO1xuICAgIGlmKHBhcmFtcy53aWR0aClcbiAgICAgIGFwcHN0YXRlLndpZHRoID0gcGFyYW1zLndpZHRoO1xuICAgIGlmKHBhcmFtcy5oZWlnaHQpXG4gICAgICBhcHBzdGF0ZS5oZWlnaHQgPSBwYXJhbXMuaGVpZ2h0O1xuICAgIGlmKHBhcmFtcy5yb3RhdGUgIT09IHVuZGVmaW5lZCAmJiBwYXJhbXMucm90YXRlICE9PSBudWxsKVxuICAgICAgYXBwc3RhdGUucm90YXRlID0gcGFyYW1zLnJvdGF0ZTtcbiAgfVxuXG4gIC8vLy8vLy8vLy8vLy8vXG4gIC8vIFByb3BlcnRpZXNcbiAgdmFyIGN2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYXBwc3RhdGUudGFyZ2V0KTtcbiAgdmFyIGN0eCA9IGN2LmdldENvbnRleHQoXCIyZFwiKTtcbiAgdmFyIHBhcnRpY2xlcyA9IFtdO1xuXG4gIC8vLy8vLy8vLy8vLy8vXG4gIC8vIFJhbmRvbSBoZWxwZXIgKHRvIG1pbmltaXplIHR5cGluZylcbiAgZnVuY3Rpb24gcmFuZChsaW1pdCwgZmxvb3IpIHtcbiAgICBpZighbGltaXQpIGxpbWl0ID0gMTtcbiAgICB2YXIgcmFuZCA9IE1hdGgucmFuZG9tKCkgKiBsaW1pdDtcbiAgICByZXR1cm4gIWZsb29yID8gcmFuZCA6IE1hdGguZmxvb3IocmFuZCk7XG4gIH1cblxuICB2YXIgdG90YWxXZWlnaHQgPSBhcHBzdGF0ZS5wcm9wcy5yZWR1Y2UoZnVuY3Rpb24od2VpZ2h0LCBwcm9wKSB7XG4gICAgcmV0dXJuIHdlaWdodCArIChwcm9wLndlaWdodCB8fCAxKTtcbiAgfSwgMCk7XG4gIGZ1bmN0aW9uIHNlbGVjdFByb3AoKSB7XG4gICAgdmFyIHJhbmQgPSBNYXRoLnJhbmRvbSgpICogdG90YWxXZWlnaHQ7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcHBzdGF0ZS5wcm9wcy5sZW5ndGg7ICsraSkge1xuICAgICAgdmFyIHdlaWdodCA9IGFwcHN0YXRlLnByb3BzW2ldLndlaWdodCB8fCAxO1xuICAgICAgaWYgKHJhbmQgPCB3ZWlnaHQpIHJldHVybiBpO1xuICAgICAgcmFuZCAtPSB3ZWlnaHQ7XG4gICAgfVxuICB9XG5cbiAgLy8vLy8vLy8vLy8vLy9cbiAgLy8gQ29uZmV0dGkgcGFydGljbGUgZ2VuZXJhdG9yXG4gIGZ1bmN0aW9uIHBhcnRpY2xlRmFjdG9yeSgpIHtcbiAgICB2YXIgcHJvcCA9IGFwcHN0YXRlLnByb3BzW3NlbGVjdFByb3AoKV07XG4gICAgdmFyIHAgPSB7XG4gICAgICBwcm9wOiBwcm9wLnR5cGUgPyBwcm9wLnR5cGUgOiBwcm9wLCAvL3Byb3AgdHlwZVxuICAgICAgeDogcmFuZChhcHBzdGF0ZS53aWR0aCksIC8veC1jb29yZGluYXRlXG4gICAgICB5OiByYW5kKGFwcHN0YXRlLmhlaWdodCksIC8veS1jb29yZGluYXRlXG4gICAgICBzcmM6IHByb3Auc3JjLFxuICAgICAgcmFkaXVzOiByYW5kKDQpICsgMSwgLy9yYWRpdXNcbiAgICAgIHNpemU6IHByb3Auc2l6ZSxcbiAgICAgIHJvdGF0ZTogYXBwc3RhdGUucm90YXRlLFxuICAgICAgbGluZTogTWF0aC5mbG9vcihyYW5kKDY1KSAtIDMwKSwgLy8gbGluZSBhbmdsZVxuICAgICAgYW5nbGVzOiBbcmFuZCgxMCwgdHJ1ZSkgKyAyLCByYW5kKDEwLCB0cnVlKSArIDIsIHJhbmQoMTAsIHRydWUpICsgMiwgcmFuZCgxMCwgdHJ1ZSkgKyAyXSwgLy8gdHJpYW5nbGUgZHJhd2luZyBhbmdsZXNcbiAgICAgIGNvbG9yOiBhcHBzdGF0ZS5jb2xvcnNbcmFuZChhcHBzdGF0ZS5jb2xvcnMubGVuZ3RoLCB0cnVlKV0sIC8vIGNvbG9yXG4gICAgICByb3RhdGlvbjogcmFuZCgzNjAsIHRydWUpICogTWF0aC5QSS8xODAsXG4gICAgICBzcGVlZDogcmFuZChhcHBzdGF0ZS5jbG9jayAvIDcpICsgKGFwcHN0YXRlLmNsb2NrIC8gMzApXG4gICAgfTtcblxuICAgIHJldHVybiBwO1xuICB9XG5cbiAgLy8vLy8vLy8vLy8vLy9cbiAgLy8gQ29uZmV0dGkgZHJhd2luZyBvbiBjYW52YXNcbiAgZnVuY3Rpb24gcGFydGljbGVEcmF3KHApIHtcbiAgICB2YXIgb3AgPSAocC5yYWRpdXMgPD0gMykgPyAwLjQgOiAwLjg7XG5cbiAgICBjdHguZmlsbFN0eWxlID0gY3R4LnN0cm9rZVN0eWxlID0gXCJyZ2JhKFwiICsgcC5jb2xvciArIFwiLCBcIisgb3AgK1wiKVwiO1xuICAgIGN0eC5iZWdpblBhdGgoKTtcblxuICAgIHN3aXRjaChwLnByb3ApIHtcbiAgICAgIGNhc2UgJ2NpcmNsZSc6e1xuICAgICAgICBjdHgubW92ZVRvKHAueCwgcC55KTtcbiAgICAgICAgY3R4LmFyYyhwLngsIHAueSwgcC5yYWRpdXMgKiBhcHBzdGF0ZS5zaXplLCAwLCBNYXRoLlBJICogMiwgdHJ1ZSk7XG4gICAgICAgIGN0eC5maWxsKCk7XG4gICAgICAgIGJyZWFrOyAgXG4gICAgICB9XG4gICAgICBjYXNlICd0cmlhbmdsZSc6IHtcbiAgICAgICAgY3R4Lm1vdmVUbyhwLngsIHAueSk7XG4gICAgICAgIGN0eC5saW5lVG8ocC54ICsgKHAuYW5nbGVzWzBdICogYXBwc3RhdGUuc2l6ZSksIHAueSArIChwLmFuZ2xlc1sxXSAqIGFwcHN0YXRlLnNpemUpKTtcbiAgICAgICAgY3R4LmxpbmVUbyhwLnggKyAocC5hbmdsZXNbMl0gKiBhcHBzdGF0ZS5zaXplKSwgcC55ICsgKHAuYW5nbGVzWzNdICogYXBwc3RhdGUuc2l6ZSkpO1xuICAgICAgICBjdHguY2xvc2VQYXRoKCk7XG4gICAgICAgIGN0eC5maWxsKCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSAnbGluZSc6e1xuICAgICAgICBjdHgubW92ZVRvKHAueCwgcC55KTtcbiAgICAgICAgY3R4LmxpbmVUbyhwLnggKyAocC5saW5lICogYXBwc3RhdGUuc2l6ZSksIHAueSArIChwLnJhZGl1cyAqIDUpKTtcbiAgICAgICAgY3R4LmxpbmVXaWR0aCA9IDIgKiBhcHBzdGF0ZS5zaXplO1xuICAgICAgICBjdHguc3Ryb2tlKCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSAnc3F1YXJlJzoge1xuICAgICAgICBjdHguc2F2ZSgpO1xuICAgICAgICBjdHgudHJhbnNsYXRlKHAueCsxNSwgcC55KzUpO1xuICAgICAgICBjdHgucm90YXRlKHAucm90YXRpb24pO1xuICAgICAgICBjdHguZmlsbFJlY3QoLTE1ICogYXBwc3RhdGUuc2l6ZSwtNSAqIGFwcHN0YXRlLnNpemUsMTUgKiBhcHBzdGF0ZS5zaXplLDUgKiBhcHBzdGF0ZS5zaXplKTtcbiAgICAgICAgY3R4LnJlc3RvcmUoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlICdzdmcnOiB7XG4gICAgICAgIGN0eC5zYXZlKCk7XG4gICAgICAgIHZhciBpbWFnZSA9IG5ldyBJbWFnZSgpO1xuICAgICAgICBpbWFnZS5zcmMgPSBwLnNyYztcbiAgICAgICAgdmFyIHNpemUgPSBwLnNpemUgfHwgMTU7XG4gICAgICAgIGN0eC50cmFuc2xhdGUocC54ICsgc2l6ZSAvIDIsIHAueSArIHNpemUgLyAyKTtcbiAgICAgICAgaWYocC5yb3RhdGUpXG4gICAgICAgICAgY3R4LnJvdGF0ZShwLnJvdGF0aW9uKTtcbiAgICAgICAgY3R4LmRyYXdJbWFnZShpbWFnZSwgLShzaXplLzIpICogYXBwc3RhdGUuc2l6ZSwgLShzaXplLzIpICogYXBwc3RhdGUuc2l6ZSwgc2l6ZSAqIGFwcHN0YXRlLnNpemUsIHNpemUgKiBhcHBzdGF0ZS5zaXplKTtcbiAgICAgICAgY3R4LnJlc3RvcmUoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIFxuICAvLy8vLy8vLy8vLy8vL1xuICAvLyBQdWJsaWMgaXRlbnNcbiAgLy8vLy8vLy8vLy8vLy9cblxuICAvLy8vLy8vLy8vLy8vL1xuICAvLyBDbGVhbiBhY3R1YWwgc3RhdGVcbiAgdmFyIF9jbGVhciA9IGZ1bmN0aW9uKCkge1xuICAgIGFwcHN0YXRlLmFuaW1hdGUgPSBmYWxzZTtcbiAgICBjbGVhckludGVydmFsKGFwcHN0YXRlLmludGVydmFsKTtcbiAgICBcbiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuY3Rpb24oKSB7XG4gICAgXHRjdHguY2xlYXJSZWN0KDAsIDAsIGN2LndpZHRoLCBjdi5oZWlnaHQpO1xuICAgICAgdmFyIHcgPSBjdi53aWR0aDtcbiAgICAgIGN2LndpZHRoID0gMTtcbiAgICAgIGN2LndpZHRoID0gdztcbiAgICB9KTtcbiAgfTtcblxuICAvLy8vLy8vLy8vLy8vL1xuICAvLyBSZW5kZXIgY29uZmV0dGkgb24gY2FudmFzXG4gIHZhciBfcmVuZGVyID0gZnVuY3Rpb24oKSB7XG4gICAgICAvL2NhbnZhcyBkaW1lbnNpb25zXG4gICAgICBjdi53aWR0aCA9IGFwcHN0YXRlLndpZHRoO1xuICAgICAgY3YuaGVpZ2h0ID0gYXBwc3RhdGUuaGVpZ2h0O1xuICAgICAgcGFydGljbGVzID0gW107XG5cbiAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCBhcHBzdGF0ZS5tYXg7IGkgKyspXG4gICAgICAgIHBhcnRpY2xlcy5wdXNoKHBhcnRpY2xlRmFjdG9yeSgpKTtcbiAgICAgIFxuICAgICAgZnVuY3Rpb24gZHJhdygpe1xuICAgICAgICBjdHguY2xlYXJSZWN0KDAsIDAsIGFwcHN0YXRlLndpZHRoLCBhcHBzdGF0ZS5oZWlnaHQpO1xuXG4gICAgICAgIGZvcih2YXIgaSBpbiBwYXJ0aWNsZXMpXG4gICAgICAgICAgcGFydGljbGVEcmF3KHBhcnRpY2xlc1tpXSk7XG4gICAgICAgIFxuICAgICAgICB1cGRhdGUoKTtcblxuICAgICAgICAvL2FuaW1hdGlvbiBsb29wXG4gICAgICAgIGlmKGFwcHN0YXRlLmFuaW1hdGUpIHJlcXVlc3RBbmltYXRpb25GcmFtZShkcmF3KTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gdXBkYXRlKCkge1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXBwc3RhdGUubWF4OyBpKyspIHtcbiAgICAgICAgICB2YXIgcCA9IHBhcnRpY2xlc1tpXTtcbiAgICAgICAgICBpZihhcHBzdGF0ZS5hbmltYXRlKVxuICAgICAgICAgICAgcC55ICs9IHAuc3BlZWQ7XG5cbiAgICAgICAgICBpZiAocC5yb3RhdGUpXG4gICAgICAgICAgICBwLnJvdGF0aW9uICs9IHAuc3BlZWQgLyAzNTtcbiAgICAgICAgICBcbiAgICAgICAgICBpZiAoKHAuc3BlZWQgPj0gMCAmJiBwLnkgPiBhcHBzdGF0ZS5oZWlnaHQpIHx8IChwLnNwZWVkIDwgMCAmJiBwLnkgPCAwKSkge1xuICAgICAgICAgICAgcGFydGljbGVzW2ldID0gcDsgXG4gICAgICAgICAgICBwYXJ0aWNsZXNbaV0ueCA9IHJhbmQoYXBwc3RhdGUud2lkdGgsIHRydWUpO1xuICAgICAgICAgICAgcGFydGljbGVzW2ldLnkgPSBwLnNwZWVkID49IDAgPyAtMTAgOiBwYXJzZUZsb2F0KGFwcHN0YXRlLmhlaWdodCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZHJhdyk7XG4gIH07XG5cbiAgcmV0dXJuIHtcbiAgICByZW5kZXI6IF9yZW5kZXIsXG4gICAgY2xlYXI6IF9jbGVhclxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IENvbmZldHRpR2VuZXJhdG9yO1xuIiwiaW1wb3J0IHsgTGl0RWxlbWVudCwgaHRtbCwgY3NzLCBjdXN0b21FbGVtZW50IH0gZnJvbSAnbGl0LWVsZW1lbnQnO1xyXG5pbXBvcnQgeyByZXBvcnRCdWcgfSBmcm9tICcuL3JlcG9ydC1idWcnO1xyXG5cclxuZGVjbGFyZSBnbG9iYWwge1xyXG5cdGludGVyZmFjZSBXaW5kb3cge1xyXG5cdFx0ZmlyZWJhc2U6IGFueTtcclxuXHR9XHJcbn1cclxudHlwZSBQb2ludENvbGxlY3Rpb24gPSB7IFtrZXk6IHN0cmluZ106IG51bWJlciB9O1xyXG5leHBvcnQgY2xhc3MgUHJvZmlsZUNhcmQgZXh0ZW5kcyBMaXRFbGVtZW50IHtcclxuXHRzdGF0aWMgZ2V0IHByb3BlcnRpZXMoKSB7XHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHR1c2VyTmFtZToge1xyXG5cdFx0XHRcdHR5cGU6IFN0cmluZyxcclxuXHRcdFx0XHRyZWZsZWN0OiB0cnVlXHJcblx0XHRcdH0sXHJcblx0XHRcdHVzZXJFbWFpbDoge1xyXG5cdFx0XHRcdHR5cGU6IFN0cmluZyxcclxuXHRcdFx0XHRyZWZsZWN0OiB0cnVlXHJcblx0XHRcdH0sXHJcblx0XHRcdHBvaW50Q29sbGVjdGlvbjoge1xyXG5cdFx0XHRcdHR5cGU6IE9iamVjdCxcclxuXHRcdFx0XHRhdHRyaWJ1dGU6ICdwb2ludGNvbGxlY3Rpb24nLFxyXG5cdFx0XHRcdHJlZmxlY3Q6IHRydWVcclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHR9XHJcblx0dXNlck5hbWU6IHN0cmluZztcclxuXHR1c2VyaWQ6IG51bWJlcjtcclxuXHR1c2VyRW1haWw6IHN0cmluZztcclxuXHRwb2ludENvbGxlY3Rpb246IFBvaW50Q29sbGVjdGlvbjtcclxuXHRzdGF0aWMgZ2V0IHN0eWxlcygpIHtcclxuXHRcdHJldHVybiBbXHJcblx0XHRcdGNzc2BcclxuXHRcdFx0XHQ6aG9zdCB7XHJcblx0XHRcdFx0XHR0cmFuc2l0aW9uOiAxcztcclxuXHRcdFx0XHRcdGhlaWdodDogMTAwJTtcclxuXHRcdFx0XHRcdHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuXHRcdFx0XHRcdHRvcDogMDtcclxuXHRcdFx0XHRcdGxlZnQ6IDA7XHJcblx0XHRcdFx0XHR3aWR0aDogMjB2dztcclxuXHRcdFx0XHRcdGJhY2tncm91bmQtY29sb3I6IGdyYXk7XHJcblx0XHRcdFx0XHR6LWluZGV4OiA5OTg7XHJcblx0XHRcdFx0XHR0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTgwdncpO1xyXG5cdFx0XHRcdFx0ZGlzcGxheTogZmxleDtcclxuXHRcdFx0XHRcdGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcblx0XHRcdFx0XHRhbGlnbi1jb250ZW50OiBmbGV4LXN0YXJ0O1xyXG5cdFx0XHRcdFx0Zm9udC1mYW1pbHk6IHZhcigtLWdsb2JhbC1mb250KTtcclxuXHRcdFx0XHRcdHRleHQtYWxpZ246IGxlZnQ7XHJcblx0XHRcdFx0XHRwYWRkaW5nLWxlZnQ6IDF2dztcclxuXHRcdFx0XHRcdGNvbG9yOiB3aGl0ZTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0I3gge1xyXG5cdFx0XHRcdFx0bWFyZ2luOiAxcmVtIDFyZW0gMCAwO1xyXG5cdFx0XHRcdFx0YWxpZ24tc2VsZjogZmxleC1lbmQ7XHJcblx0XHRcdFx0XHRjb2xvcjogd2hpdGU7XHJcblx0XHRcdFx0XHRjdXJzb3I6IHBvaW50ZXI7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHQjc2lnbm91dCxcclxuXHRcdFx0XHQjYnVnIHtcclxuXHRcdFx0XHRcdGN1cnNvcjogcG9pbnRlcjtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0cCB7XHJcblx0XHRcdFx0XHRtYXJnaW4tdG9wOiAuOHJlbTtcclxuXHRcdFx0XHRcdG1hcmdpbi1ib3R0b206IC44cmVtO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRoMSB7XHJcblx0XHRcdFx0XHRmb250LXNpemU6IDEuNHJlbTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0c2VsZWN0IHtcclxuXHRcdFx0XHRcdG91dGxpbmU6IDFweCB3aGl0ZSBzb2xpZDtcclxuXHRcdFx0XHRcdG1hcmdpbi10b3A6IC4zcmVtO1xyXG5cdFx0XHRcdFx0bWFyZ2luLWxlZnQ6IG5vbmU7XHJcblx0XHRcdFx0XHRwYWRkaW5nOiAuM3JlbTtcclxuXHRcdFx0XHRcdGJvcmRlcjogbm9uZTtcclxuXHRcdFx0XHRcdGJhY2tncm91bmQ6IHdoaXRlO1xyXG5cdFx0XHRcdFx0Y29sb3I6IGJsYWNrO1xyXG5cdFx0XHRcdFx0d2lkdGg6IDgwJTtcclxuXHRcdFx0XHRcdC13ZWJraXQtYXBwZWFyYW5jZTogbWVudWxpc3Q7XHJcblx0XHRcdFx0XHRhbGlnbi1zZWxmOiBmbGV4LXN0YXJ0O1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRzZWxlY3QgPiBvcHRpb24ge1xyXG5cdFx0XHRcdFx0Y29sb3I6IGJsYWNrO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRsYWJlbCB7XHJcblx0XHRcdFx0XHRhbGlnbi1zZWxmOiBmbGV4LXN0YXJ0O1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHQjeDpob3ZlciB7XHJcblx0XHRcdFx0XHR0cmFuc2Zvcm06IHNjYWxlKDEuMik7XHJcblx0XHRcdFx0XHRjdXJzb3I6IHBvaW50ZXI7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRAbWVkaWEgb25seSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6IDYwMHB4KSB7XHJcblx0XHRcdFx0XHQ6aG9zdCB7XHJcblx0XHRcdFx0XHRcdHdpZHRoOiA2MHZ3O1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0cCB7XHJcblx0XHRcdFx0XHRcdG1hcmdpbi10b3A6IC44cmVtO1xyXG5cdFx0XHRcdFx0XHRtYXJnaW4tYm90dG9tOiAuOHJlbTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdGgxIHtcclxuXHRcdFx0XHRcdFx0Zm9udC1zaXplOiAxLjRyZW07XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRgXHJcblx0XHRdO1xyXG5cdH1cclxuXHRsb2dPdXQoKSB7XHJcblx0XHR0aGlzLmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCdsb2dvdXQnLCB7IGJ1YmJsZXM6IHRydWUsIGNvbXBvc2VkOiB0cnVlIH0pKTtcclxuXHRcdHRoaXMucmVxdWVzdFVwZGF0ZSgpO1xyXG5cdH1cclxuXHJcblx0cmVuZGVyKCkge1xyXG5cdFx0cmV0dXJuIGh0bWxgXHJcbiAgPGgxPiR7dGhpcy51c2VyTmFtZX08L2gxPlxyXG4gIDxwPiR7dGhpcy51c2VyRW1haWx9PC9wPlxyXG4gIDxsYWJlbCBmb3I9XCJzZWxlY3RcIj5abWllxYQgcG96aW9tOjwvbGFiZWw+XHJcbiAgICA8c2VsZWN0IEBjbGljaz1cIiR7KGU6IElucHV0RXZlbnQpID0+IHtcclxuXHRcdHRoaXMuZGlzcGF0Y2hFdmVudChcclxuXHRcdFx0bmV3IEN1c3RvbUV2ZW50KCdwcmV2aW91c1ZhbHVlJywge1xyXG5cdFx0XHRcdGJ1YmJsZXM6IHRydWUsXHJcblx0XHRcdFx0Y29tcG9zZWQ6IHRydWUsXHJcblx0XHRcdFx0ZGV0YWlsOiB7IG9sZFZhbHVlOiAoKSA9PiB0aGlzLnNoYWRvd1Jvb3QucXVlcnlTZWxlY3RvcjxIVE1MSW5wdXRFbGVtZW50PignI3NlbGVjdCcpLnZhbHVlIH1cclxuXHRcdFx0fSlcclxuXHRcdCk7XHJcblx0fX1cIiBAY2hhbmdlPVwiJHsoZTogSW5wdXRFdmVudCkgPT4ge1xyXG5cdFx0XHR0aGlzLmRpc3BhdGNoRXZlbnQoXHJcblx0XHRcdFx0bmV3IEN1c3RvbUV2ZW50KCd2YWx1ZVNlbGVjdGVkJywge1xyXG5cdFx0XHRcdFx0YnViYmxlczogdHJ1ZSxcclxuXHRcdFx0XHRcdGNvbXBvc2VkOiB0cnVlLFxyXG5cdFx0XHRcdFx0ZGV0YWlsOiB7IG5ld1ZhbHVlOiAoKSA9PiB0aGlzLnNoYWRvd1Jvb3QucXVlcnlTZWxlY3RvcjxIVE1MSW5wdXRFbGVtZW50PignI3NlbGVjdCcpLnZhbHVlIH1cclxuXHRcdFx0XHR9KVxyXG5cdFx0XHQpO1xyXG5cdFx0fX1cIiBpZD1cInNlbGVjdFwiPlxyXG4gICAgJHtPYmplY3QuZW50cmllcyh0aGlzLnBvaW50Q29sbGVjdGlvbikubWFwKChbIGxldmVsLCBwb2ludHMgXSkgPT4ge1xyXG5cdFx0cmV0dXJuIGh0bWxgXHJcbiAgPG9wdGlvbiB2YWx1ZT1cIiR7bGV2ZWx9XCI+JHtsZXZlbCAhPSAnQWxsJyA/IGBQb3ppb20gJHtsZXZlbH0sYCA6IGBXeW1pZXN6YW5lIHBvemlvbXksYH0gcHVua3R5OiAke3BvaW50c308L29wdGlvbj5gO1xyXG5cdH0pfVxyXG48L3NlbGVjdD5cclxuXHJcbjxwIEBjbGljaz1cIiR7KGU6IEV2ZW50KSA9PiB7XHJcblx0XHRcdGxldCBidWcgPSByZXBvcnRCdWcodGhpcy51c2VyaWQpO1xyXG5cdFx0fX1cIiBpZD1cImJ1Z1wiPlpnxYJvxZsgYsWCxIVkPC9wPlxyXG48cCBpZD1cInNpZ25vdXRcIiBAY2xpY2s9XCIke3RoaXMubG9nT3V0fVwiPld5bG9ndWo8L3A+XHJcblxyXG4gICAgYDtcclxuXHR9XHJcbn1cclxuY3VzdG9tRWxlbWVudHMuZGVmaW5lKCdwcm9maWxlLWNhcmQnLCBQcm9maWxlQ2FyZCk7XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=